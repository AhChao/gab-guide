(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const f of r)if(f.type==="childList")for(const p of f.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&a(p)}).observe(document,{childList:!0,subtree:!0});function l(r){const f={};return r.integrity&&(f.integrity=r.integrity),r.referrerPolicy&&(f.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?f.credentials="include":r.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function a(r){if(r.ep)return;r.ep=!0;const f=l(r);fetch(r.href,f)}})();function Qm(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}var pu={exports:{}},ul={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qp;function uv(){if(Qp)return ul;Qp=1;var o=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function l(a,r,f){var p=null;if(f!==void 0&&(p=""+f),r.key!==void 0&&(p=""+r.key),"key"in r){f={};for(var g in r)g!=="key"&&(f[g]=r[g])}else f=r;return r=f.ref,{$$typeof:o,type:a,key:p,ref:r!==void 0?r:null,props:f}}return ul.Fragment=t,ul.jsx=l,ul.jsxs=l,ul}var Zp;function cv(){return Zp||(Zp=1,pu.exports=uv()),pu.exports}var C=cv(),hu={exports:{}},fe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $p;function fv(){if($p)return fe;$p=1;var o=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),p=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),E=Symbol.iterator;function A(N){return N===null||typeof N!="object"?null:(N=E&&N[E]||N["@@iterator"],typeof N=="function"?N:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,U={};function B(N,V,K){this.props=N,this.context=V,this.refs=U,this.updater=K||D}B.prototype.isReactComponent={},B.prototype.setState=function(N,V){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,V,"setState")},B.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function X(){}X.prototype=B.prototype;function F(N,V,K){this.props=N,this.context=V,this.refs=U,this.updater=K||D}var $=F.prototype=new X;$.constructor=F,k($,B.prototype),$.isPureReactComponent=!0;var O=Array.isArray;function ne(){}var Y={H:null,A:null,T:null,S:null},de=Object.prototype.hasOwnProperty;function Z(N,V,K){var J=K.ref;return{$$typeof:o,type:N,key:V,ref:J!==void 0?J:null,props:K}}function ce(N,V){return Z(N.type,V,N.props)}function _e(N){return typeof N=="object"&&N!==null&&N.$$typeof===o}function Ie(N){var V={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(K){return V[K]})}var Ae=/\/+/g;function ze(N,V){return typeof N=="object"&&N!==null&&N.key!=null?Ie(""+N.key):V.toString(36)}function et(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(ne,ne):(N.status="pending",N.then(function(V){N.status==="pending"&&(N.status="fulfilled",N.value=V)},function(V){N.status==="pending"&&(N.status="rejected",N.reason=V)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function H(N,V,K,J,te){var ae=typeof N;(ae==="undefined"||ae==="boolean")&&(N=null);var ge=!1;if(N===null)ge=!0;else switch(ae){case"bigint":case"string":case"number":ge=!0;break;case"object":switch(N.$$typeof){case o:case t:ge=!0;break;case v:return ge=N._init,H(ge(N._payload),V,K,J,te)}}if(ge)return te=te(N),ge=J===""?"."+ze(N,0):J,O(te)?(K="",ge!=null&&(K=ge.replace(Ae,"$&/")+"/"),H(te,V,K,"",function(Qt){return Qt})):te!=null&&(_e(te)&&(te=ce(te,K+(te.key==null||N&&N.key===te.key?"":(""+te.key).replace(Ae,"$&/")+"/")+ge)),V.push(te)),1;ge=0;var lt=J===""?".":J+":";if(O(N))for(var Fe=0;Fe<N.length;Fe++)J=N[Fe],ae=lt+ze(J,Fe),ge+=H(J,V,K,ae,te);else if(Fe=A(N),typeof Fe=="function")for(N=Fe.call(N),Fe=0;!(J=N.next()).done;)J=J.value,ae=lt+ze(J,Fe++),ge+=H(J,V,K,ae,te);else if(ae==="object"){if(typeof N.then=="function")return H(et(N),V,K,J,te);throw V=String(N),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.")}return ge}function W(N,V,K){if(N==null)return N;var J=[],te=0;return H(N,J,"","",function(ae){return V.call(K,ae,te++)}),J}function le(N){if(N._status===-1){var V=N._result;V=V(),V.then(function(K){(N._status===0||N._status===-1)&&(N._status=1,N._result=K)},function(K){(N._status===0||N._status===-1)&&(N._status=2,N._result=K)}),N._status===-1&&(N._status=0,N._result=V)}if(N._status===1)return N._result.default;throw N._result}var xe=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var V=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(V))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)},De={map:W,forEach:function(N,V,K){W(N,function(){V.apply(this,arguments)},K)},count:function(N){var V=0;return W(N,function(){V++}),V},toArray:function(N){return W(N,function(V){return V})||[]},only:function(N){if(!_e(N))throw Error("React.Children.only expected to receive a single React element child.");return N}};return fe.Activity=T,fe.Children=De,fe.Component=B,fe.Fragment=l,fe.Profiler=r,fe.PureComponent=F,fe.StrictMode=a,fe.Suspense=y,fe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Y,fe.__COMPILER_RUNTIME={__proto__:null,c:function(N){return Y.H.useMemoCache(N)}},fe.cache=function(N){return function(){return N.apply(null,arguments)}},fe.cacheSignal=function(){return null},fe.cloneElement=function(N,V,K){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var J=k({},N.props),te=N.key;if(V!=null)for(ae in V.key!==void 0&&(te=""+V.key),V)!de.call(V,ae)||ae==="key"||ae==="__self"||ae==="__source"||ae==="ref"&&V.ref===void 0||(J[ae]=V[ae]);var ae=arguments.length-2;if(ae===1)J.children=K;else if(1<ae){for(var ge=Array(ae),lt=0;lt<ae;lt++)ge[lt]=arguments[lt+2];J.children=ge}return Z(N.type,te,J)},fe.createContext=function(N){return N={$$typeof:p,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:f,_context:N},N},fe.createElement=function(N,V,K){var J,te={},ae=null;if(V!=null)for(J in V.key!==void 0&&(ae=""+V.key),V)de.call(V,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(te[J]=V[J]);var ge=arguments.length-2;if(ge===1)te.children=K;else if(1<ge){for(var lt=Array(ge),Fe=0;Fe<ge;Fe++)lt[Fe]=arguments[Fe+2];te.children=lt}if(N&&N.defaultProps)for(J in ge=N.defaultProps,ge)te[J]===void 0&&(te[J]=ge[J]);return Z(N,ae,te)},fe.createRef=function(){return{current:null}},fe.forwardRef=function(N){return{$$typeof:g,render:N}},fe.isValidElement=_e,fe.lazy=function(N){return{$$typeof:v,_payload:{_status:-1,_result:N},_init:le}},fe.memo=function(N,V){return{$$typeof:m,type:N,compare:V===void 0?null:V}},fe.startTransition=function(N){var V=Y.T,K={};Y.T=K;try{var J=N(),te=Y.S;te!==null&&te(K,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(ne,xe)}catch(ae){xe(ae)}finally{V!==null&&K.types!==null&&(V.types=K.types),Y.T=V}},fe.unstable_useCacheRefresh=function(){return Y.H.useCacheRefresh()},fe.use=function(N){return Y.H.use(N)},fe.useActionState=function(N,V,K){return Y.H.useActionState(N,V,K)},fe.useCallback=function(N,V){return Y.H.useCallback(N,V)},fe.useContext=function(N){return Y.H.useContext(N)},fe.useDebugValue=function(){},fe.useDeferredValue=function(N,V){return Y.H.useDeferredValue(N,V)},fe.useEffect=function(N,V){return Y.H.useEffect(N,V)},fe.useEffectEvent=function(N){return Y.H.useEffectEvent(N)},fe.useId=function(){return Y.H.useId()},fe.useImperativeHandle=function(N,V,K){return Y.H.useImperativeHandle(N,V,K)},fe.useInsertionEffect=function(N,V){return Y.H.useInsertionEffect(N,V)},fe.useLayoutEffect=function(N,V){return Y.H.useLayoutEffect(N,V)},fe.useMemo=function(N,V){return Y.H.useMemo(N,V)},fe.useOptimistic=function(N,V){return Y.H.useOptimistic(N,V)},fe.useReducer=function(N,V,K){return Y.H.useReducer(N,V,K)},fe.useRef=function(N){return Y.H.useRef(N)},fe.useState=function(N){return Y.H.useState(N)},fe.useSyncExternalStore=function(N,V,K){return Y.H.useSyncExternalStore(N,V,K)},fe.useTransition=function(){return Y.H.useTransition()},fe.version="19.2.3",fe}var jp;function Vu(){return jp||(jp=1,hu.exports=fv()),hu.exports}var Ee=Vu();const dv=Qm(Ee);var mu={exports:{}},cl={},gu={exports:{}},yu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eh;function pv(){return eh||(eh=1,(function(o){function t(H,W){var le=H.length;H.push(W);e:for(;0<le;){var xe=le-1>>>1,De=H[xe];if(0<r(De,W))H[xe]=W,H[le]=De,le=xe;else break e}}function l(H){return H.length===0?null:H[0]}function a(H){if(H.length===0)return null;var W=H[0],le=H.pop();if(le!==W){H[0]=le;e:for(var xe=0,De=H.length,N=De>>>1;xe<N;){var V=2*(xe+1)-1,K=H[V],J=V+1,te=H[J];if(0>r(K,le))J<De&&0>r(te,K)?(H[xe]=te,H[J]=le,xe=J):(H[xe]=K,H[V]=le,xe=V);else if(J<De&&0>r(te,le))H[xe]=te,H[J]=le,xe=J;else break e}}return W}function r(H,W){var le=H.sortIndex-W.sortIndex;return le!==0?le:H.id-W.id}if(o.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;o.unstable_now=function(){return f.now()}}else{var p=Date,g=p.now();o.unstable_now=function(){return p.now()-g}}var y=[],m=[],v=1,T=null,E=3,A=!1,D=!1,k=!1,U=!1,B=typeof setTimeout=="function"?setTimeout:null,X=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function $(H){for(var W=l(m);W!==null;){if(W.callback===null)a(m);else if(W.startTime<=H)a(m),W.sortIndex=W.expirationTime,t(y,W);else break;W=l(m)}}function O(H){if(k=!1,$(H),!D)if(l(y)!==null)D=!0,ne||(ne=!0,Ie());else{var W=l(m);W!==null&&et(O,W.startTime-H)}}var ne=!1,Y=-1,de=5,Z=-1;function ce(){return U?!0:!(o.unstable_now()-Z<de)}function _e(){if(U=!1,ne){var H=o.unstable_now();Z=H;var W=!0;try{e:{D=!1,k&&(k=!1,X(Y),Y=-1),A=!0;var le=E;try{t:{for($(H),T=l(y);T!==null&&!(T.expirationTime>H&&ce());){var xe=T.callback;if(typeof xe=="function"){T.callback=null,E=T.priorityLevel;var De=xe(T.expirationTime<=H);if(H=o.unstable_now(),typeof De=="function"){T.callback=De,$(H),W=!0;break t}T===l(y)&&a(y),$(H)}else a(y);T=l(y)}if(T!==null)W=!0;else{var N=l(m);N!==null&&et(O,N.startTime-H),W=!1}}break e}finally{T=null,E=le,A=!1}W=void 0}}finally{W?Ie():ne=!1}}}var Ie;if(typeof F=="function")Ie=function(){F(_e)};else if(typeof MessageChannel<"u"){var Ae=new MessageChannel,ze=Ae.port2;Ae.port1.onmessage=_e,Ie=function(){ze.postMessage(null)}}else Ie=function(){B(_e,0)};function et(H,W){Y=B(function(){H(o.unstable_now())},W)}o.unstable_IdlePriority=5,o.unstable_ImmediatePriority=1,o.unstable_LowPriority=4,o.unstable_NormalPriority=3,o.unstable_Profiling=null,o.unstable_UserBlockingPriority=2,o.unstable_cancelCallback=function(H){H.callback=null},o.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):de=0<H?Math.floor(1e3/H):5},o.unstable_getCurrentPriorityLevel=function(){return E},o.unstable_next=function(H){switch(E){case 1:case 2:case 3:var W=3;break;default:W=E}var le=E;E=W;try{return H()}finally{E=le}},o.unstable_requestPaint=function(){U=!0},o.unstable_runWithPriority=function(H,W){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var le=E;E=H;try{return W()}finally{E=le}},o.unstable_scheduleCallback=function(H,W,le){var xe=o.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?xe+le:xe):le=xe,H){case 1:var De=-1;break;case 2:De=250;break;case 5:De=1073741823;break;case 4:De=1e4;break;default:De=5e3}return De=le+De,H={id:v++,callback:W,priorityLevel:H,startTime:le,expirationTime:De,sortIndex:-1},le>xe?(H.sortIndex=le,t(m,H),l(y)===null&&H===l(m)&&(k?(X(Y),Y=-1):k=!0,et(O,le-xe))):(H.sortIndex=De,t(y,H),D||A||(D=!0,ne||(ne=!0,Ie()))),H},o.unstable_shouldYield=ce,o.unstable_wrapCallback=function(H){var W=E;return function(){var le=E;E=W;try{return H.apply(this,arguments)}finally{E=le}}}})(yu)),yu}var th;function hv(){return th||(th=1,gu.exports=pv()),gu.exports}var vu={exports:{}},ft={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nh;function mv(){if(nh)return ft;nh=1;var o=Vu();function t(y){var m="https://react.dev/errors/"+y;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)m+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+y+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var a={d:{f:l,r:function(){throw Error(t(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},r=Symbol.for("react.portal");function f(y,m,v){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:T==null?null:""+T,children:y,containerInfo:m,implementation:v}}var p=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,m){if(y==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return ft.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,ft.createPortal=function(y,m){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return f(y,m,null,v)},ft.flushSync=function(y){var m=p.T,v=a.p;try{if(p.T=null,a.p=2,y)return y()}finally{p.T=m,a.p=v,a.d.f()}},ft.preconnect=function(y,m){typeof y=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,a.d.C(y,m))},ft.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},ft.preinit=function(y,m){if(typeof y=="string"&&m&&typeof m.as=="string"){var v=m.as,T=g(v,m.crossOrigin),E=typeof m.integrity=="string"?m.integrity:void 0,A=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;v==="style"?a.d.S(y,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:T,integrity:E,fetchPriority:A}):v==="script"&&a.d.X(y,{crossOrigin:T,integrity:E,fetchPriority:A,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},ft.preinitModule=function(y,m){if(typeof y=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var v=g(m.as,m.crossOrigin);a.d.M(y,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&a.d.M(y)},ft.preload=function(y,m){if(typeof y=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var v=m.as,T=g(v,m.crossOrigin);a.d.L(y,v,{crossOrigin:T,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},ft.preloadModule=function(y,m){if(typeof y=="string")if(m){var v=g(m.as,m.crossOrigin);a.d.m(y,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else a.d.m(y)},ft.requestFormReset=function(y){a.d.r(y)},ft.unstable_batchedUpdates=function(y,m){return y(m)},ft.useFormState=function(y,m,v){return p.H.useFormState(y,m,v)},ft.useFormStatus=function(){return p.H.useHostTransitionStatus()},ft.version="19.2.3",ft}var oh;function gv(){if(oh)return vu.exports;oh=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(t){console.error(t)}}return o(),vu.exports=mv(),vu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ih;function yv(){if(ih)return cl;ih=1;var o=hv(),t=Vu(),l=gv();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)n+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var n=e,i=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(i=n.return),e=n.return;while(e)}return n.tag===3?i:null}function p(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(f(e)!==e)throw Error(a(188))}function m(e){var n=e.alternate;if(!n){if(n=f(e),n===null)throw Error(a(188));return n!==e?null:e}for(var i=e,s=n;;){var d=i.return;if(d===null)break;var h=d.alternate;if(h===null){if(s=d.return,s!==null){i=s;continue}break}if(d.child===h.child){for(h=d.child;h;){if(h===i)return y(d),e;if(h===s)return y(d),n;h=h.sibling}throw Error(a(188))}if(i.return!==s.return)i=d,s=h;else{for(var S=!1,_=d.child;_;){if(_===i){S=!0,i=d,s=h;break}if(_===s){S=!0,s=d,i=h;break}_=_.sibling}if(!S){for(_=h.child;_;){if(_===i){S=!0,i=h,s=d;break}if(_===s){S=!0,s=h,i=d;break}_=_.sibling}if(!S)throw Error(a(189))}}if(i.alternate!==s)throw Error(a(190))}if(i.tag!==3)throw Error(a(188));return i.stateNode.current===i?e:n}function v(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=v(e),n!==null)return n;e=e.sibling}return null}var T=Object.assign,E=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),X=Symbol.for("react.consumer"),F=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),ne=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),de=Symbol.for("react.lazy"),Z=Symbol.for("react.activity"),ce=Symbol.for("react.memo_cache_sentinel"),_e=Symbol.iterator;function Ie(e){return e===null||typeof e!="object"?null:(e=_e&&e[_e]||e["@@iterator"],typeof e=="function"?e:null)}var Ae=Symbol.for("react.client.reference");function ze(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Ae?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case k:return"Fragment";case B:return"Profiler";case U:return"StrictMode";case O:return"Suspense";case ne:return"SuspenseList";case Z:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case D:return"Portal";case F:return e.displayName||"Context";case X:return(e._context.displayName||"Context")+".Consumer";case $:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Y:return n=e.displayName||null,n!==null?n:ze(e.type)||"Memo";case de:n=e._payload,e=e._init;try{return ze(e(n))}catch{}}return null}var et=Array.isArray,H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le={pending:!1,data:null,method:null,action:null},xe=[],De=-1;function N(e){return{current:e}}function V(e){0>De||(e.current=xe[De],xe[De]=null,De--)}function K(e,n){De++,xe[De]=e.current,e.current=n}var J=N(null),te=N(null),ae=N(null),ge=N(null);function lt(e,n){switch(K(ae,n),K(te,e),K(J,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Sp(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Sp(n),e=Tp(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}V(J),K(J,e)}function Fe(){V(J),V(te),V(ae)}function Qt(e){e.memoizedState!==null&&K(ge,e);var n=J.current,i=Tp(n,e.type);n!==i&&(K(te,e),K(J,i))}function So(e){te.current===e&&(V(J),V(te)),ge.current===e&&(V(ge),ll._currentValue=le)}var hi,hl;function tn(e){if(hi===void 0)try{throw Error()}catch(i){var n=i.stack.trim().match(/\n( *(at )?)/);hi=n&&n[1]||"",hl=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+hi+e+hl}var To=!1;function mi(e,n){if(!e||To)return"";To=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(n){var z=function(){throw Error()};if(Object.defineProperty(z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(z,[])}catch(L){var I=L}Reflect.construct(e,[],z)}else{try{z.call()}catch(L){I=L}e.call(z.prototype)}}else{try{throw Error()}catch(L){I=L}(z=e())&&typeof z.catch=="function"&&z.catch(function(){})}}catch(L){if(L&&I&&typeof L.stack=="string")return[L.stack,I.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=s.DetermineComponentFrameRoot(),S=h[0],_=h[1];if(S&&_){var x=S.split(`
`),M=_.split(`
`);for(d=s=0;s<x.length&&!x[s].includes("DetermineComponentFrameRoot");)s++;for(;d<M.length&&!M[d].includes("DetermineComponentFrameRoot");)d++;if(s===x.length||d===M.length)for(s=x.length-1,d=M.length-1;1<=s&&0<=d&&x[s]!==M[d];)d--;for(;1<=s&&0<=d;s--,d--)if(x[s]!==M[d]){if(s!==1||d!==1)do if(s--,d--,0>d||x[s]!==M[d]){var G=`
`+x[s].replace(" at new "," at ");return e.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",e.displayName)),G}while(1<=s&&0<=d);break}}}finally{To=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?tn(i):""}function es(e,n){switch(e.tag){case 26:case 27:case 5:return tn(e.type);case 16:return tn("Lazy");case 13:return e.child!==n&&n!==null?tn("Suspense Fallback"):tn("Suspense");case 19:return tn("SuspenseList");case 0:case 15:return mi(e.type,!1);case 11:return mi(e.type.render,!1);case 1:return mi(e.type,!0);case 31:return tn("Activity");default:return""}}function ml(e){try{var n="",i=null;do n+=es(e,i),i=e,e=e.return;while(e);return n}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var gi=Object.prototype.hasOwnProperty,P=o.unstable_scheduleCallback,re=o.unstable_cancelCallback,Ue=o.unstable_shouldYield,be=o.unstable_requestPaint,se=o.unstable_now,Eo=o.unstable_getCurrentPriorityLevel,Qu=o.unstable_ImmediatePriority,Zu=o.unstable_UserBlockingPriority,gl=o.unstable_NormalPriority,Fg=o.unstable_LowPriority,$u=o.unstable_IdlePriority,Jg=o.log,Yg=o.unstable_setDisableYieldValue,yi=null,Ct=null;function xn(e){if(typeof Jg=="function"&&Yg(e),Ct&&typeof Ct.setStrictMode=="function")try{Ct.setStrictMode(yi,e)}catch{}}var At=Math.clz32?Math.clz32:Xg,Wg=Math.log,Kg=Math.LN2;function Xg(e){return e>>>=0,e===0?32:31-(Wg(e)/Kg|0)|0}var yl=256,vl=262144,Sl=4194304;function $n(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Tl(e,n,i){var s=e.pendingLanes;if(s===0)return 0;var d=0,h=e.suspendedLanes,S=e.pingedLanes;e=e.warmLanes;var _=s&134217727;return _!==0?(s=_&~h,s!==0?d=$n(s):(S&=_,S!==0?d=$n(S):i||(i=_&~e,i!==0&&(d=$n(i))))):(_=s&~h,_!==0?d=$n(_):S!==0?d=$n(S):i||(i=s&~e,i!==0&&(d=$n(i)))),d===0?0:n!==0&&n!==d&&(n&h)===0&&(h=d&-d,i=n&-n,h>=i||h===32&&(i&4194048)!==0)?n:d}function vi(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Qg(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ju(){var e=Sl;return Sl<<=1,(Sl&62914560)===0&&(Sl=4194304),e}function ts(e){for(var n=[],i=0;31>i;i++)n.push(e);return n}function Si(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Zg(e,n,i,s,d,h){var S=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var _=e.entanglements,x=e.expirationTimes,M=e.hiddenUpdates;for(i=S&~i;0<i;){var G=31-At(i),z=1<<G;_[G]=0,x[G]=-1;var I=M[G];if(I!==null)for(M[G]=null,G=0;G<I.length;G++){var L=I[G];L!==null&&(L.lane&=-536870913)}i&=~z}s!==0&&ec(e,s,0),h!==0&&d===0&&e.tag!==0&&(e.suspendedLanes|=h&~(S&~n))}function ec(e,n,i){e.pendingLanes|=n,e.suspendedLanes&=~n;var s=31-At(n);e.entangledLanes|=n,e.entanglements[s]=e.entanglements[s]|1073741824|i&261930}function tc(e,n){var i=e.entangledLanes|=n;for(e=e.entanglements;i;){var s=31-At(i),d=1<<s;d&n|e[s]&n&&(e[s]|=n),i&=~d}}function nc(e,n){var i=n&-n;return i=(i&42)!==0?1:ns(i),(i&(e.suspendedLanes|n))!==0?0:i}function ns(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function os(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function oc(){var e=W.p;return e!==0?e:(e=window.event,e===void 0?32:Op(e.type))}function ic(e,n){var i=W.p;try{return W.p=e,n()}finally{W.p=i}}var bn=Math.random().toString(36).slice(2),at="__reactFiber$"+bn,gt="__reactProps$"+bn,_o="__reactContainer$"+bn,is="__reactEvents$"+bn,$g="__reactListeners$"+bn,jg="__reactHandles$"+bn,lc="__reactResources$"+bn,Ti="__reactMarker$"+bn;function ls(e){delete e[at],delete e[gt],delete e[is],delete e[$g],delete e[jg]}function Co(e){var n=e[at];if(n)return n;for(var i=e.parentNode;i;){if(n=i[_o]||i[at]){if(i=n.alternate,n.child!==null||i!==null&&i.child!==null)for(e=Np(e);e!==null;){if(i=e[at])return i;e=Np(e)}return n}e=i,i=e.parentNode}return null}function Ao(e){if(e=e[at]||e[_o]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function Ei(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function xo(e){var n=e[lc];return n||(n=e[lc]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function tt(e){e[Ti]=!0}var ac=new Set,sc={};function jn(e,n){bo(e,n),bo(e+"Capture",n)}function bo(e,n){for(sc[e]=n,e=0;e<n.length;e++)ac.add(n[e])}var ey=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),rc={},uc={};function ty(e){return gi.call(uc,e)?!0:gi.call(rc,e)?!1:ey.test(e)?uc[e]=!0:(rc[e]=!0,!1)}function El(e,n,i){if(ty(n))if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var s=n.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+i)}}function _l(e,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+i)}}function nn(e,n,i,s){if(s===null)e.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(n,i,""+s)}}function Dt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function cc(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function ny(e,n,i){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var d=s.get,h=s.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return d.call(this)},set:function(S){i=""+S,h.call(this,S)}}),Object.defineProperty(e,n,{enumerable:s.enumerable}),{getValue:function(){return i},setValue:function(S){i=""+S},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function as(e){if(!e._valueTracker){var n=cc(e)?"checked":"value";e._valueTracker=ny(e,n,""+e[n])}}function fc(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var i=n.getValue(),s="";return e&&(s=cc(e)?e.checked?"true":"false":e.value),e=s,e!==i?(n.setValue(e),!0):!1}function Cl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var oy=/[\n"\\]/g;function Ut(e){return e.replace(oy,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ss(e,n,i,s,d,h,S,_){e.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?e.type=S:e.removeAttribute("type"),n!=null?S==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Dt(n)):e.value!==""+Dt(n)&&(e.value=""+Dt(n)):S!=="submit"&&S!=="reset"||e.removeAttribute("value"),n!=null?rs(e,S,Dt(n)):i!=null?rs(e,S,Dt(i)):s!=null&&e.removeAttribute("value"),d==null&&h!=null&&(e.defaultChecked=!!h),d!=null&&(e.checked=d&&typeof d!="function"&&typeof d!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.name=""+Dt(_):e.removeAttribute("name")}function dc(e,n,i,s,d,h,S,_){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.type=h),n!=null||i!=null){if(!(h!=="submit"&&h!=="reset"||n!=null)){as(e);return}i=i!=null?""+Dt(i):"",n=n!=null?""+Dt(n):i,_||n===e.value||(e.value=n),e.defaultValue=n}s=s??d,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=_?e.checked:!!s,e.defaultChecked=!!s,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(e.name=S),as(e)}function rs(e,n,i){n==="number"&&Cl(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function No(e,n,i,s){if(e=e.options,n){n={};for(var d=0;d<i.length;d++)n["$"+i[d]]=!0;for(i=0;i<e.length;i++)d=n.hasOwnProperty("$"+e[i].value),e[i].selected!==d&&(e[i].selected=d),d&&s&&(e[i].defaultSelected=!0)}else{for(i=""+Dt(i),n=null,d=0;d<e.length;d++){if(e[d].value===i){e[d].selected=!0,s&&(e[d].defaultSelected=!0);return}n!==null||e[d].disabled||(n=e[d])}n!==null&&(n.selected=!0)}}function pc(e,n,i){if(n!=null&&(n=""+Dt(n),n!==e.value&&(e.value=n),i==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=i!=null?""+Dt(i):""}function hc(e,n,i,s){if(n==null){if(s!=null){if(i!=null)throw Error(a(92));if(et(s)){if(1<s.length)throw Error(a(93));s=s[0]}i=s}i==null&&(i=""),n=i}i=Dt(n),e.defaultValue=i,s=e.textContent,s===i&&s!==""&&s!==null&&(e.value=s),as(e)}function Ro(e,n){if(n){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=n;return}}e.textContent=n}var iy=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function mc(e,n,i){var s=n.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?s?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":s?e.setProperty(n,i):typeof i!="number"||i===0||iy.has(n)?n==="float"?e.cssFloat=i:e[n]=(""+i).trim():e[n]=i+"px"}function gc(e,n,i){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,i!=null){for(var s in i)!i.hasOwnProperty(s)||n!=null&&n.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var d in n)s=n[d],n.hasOwnProperty(d)&&i[d]!==s&&mc(e,d,s)}else for(var h in n)n.hasOwnProperty(h)&&mc(e,h,n[h])}function us(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ly=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ay=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Al(e){return ay.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function on(){}var cs=null;function fs(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var wo=null,Mo=null;function yc(e){var n=Ao(e);if(n&&(e=n.stateNode)){var i=e[gt]||null;e:switch(e=n.stateNode,n.type){case"input":if(ss(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),n=i.name,i.type==="radio"&&n!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+Ut(""+n)+'"][type="radio"]'),n=0;n<i.length;n++){var s=i[n];if(s!==e&&s.form===e.form){var d=s[gt]||null;if(!d)throw Error(a(90));ss(s,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(n=0;n<i.length;n++)s=i[n],s.form===e.form&&fc(s)}break e;case"textarea":pc(e,i.value,i.defaultValue);break e;case"select":n=i.value,n!=null&&No(e,!!i.multiple,n,!1)}}}var ds=!1;function vc(e,n,i){if(ds)return e(n,i);ds=!0;try{var s=e(n);return s}finally{if(ds=!1,(wo!==null||Mo!==null)&&(fa(),wo&&(n=wo,e=Mo,Mo=wo=null,yc(n),e)))for(n=0;n<e.length;n++)yc(e[n])}}function _i(e,n){var i=e.stateNode;if(i===null)return null;var s=i[gt]||null;if(s===null)return null;i=s[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(a(231,n,typeof i));return i}var ln=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ps=!1;if(ln)try{var Ci={};Object.defineProperty(Ci,"passive",{get:function(){ps=!0}}),window.addEventListener("test",Ci,Ci),window.removeEventListener("test",Ci,Ci)}catch{ps=!1}var Nn=null,hs=null,xl=null;function Sc(){if(xl)return xl;var e,n=hs,i=n.length,s,d="value"in Nn?Nn.value:Nn.textContent,h=d.length;for(e=0;e<i&&n[e]===d[e];e++);var S=i-e;for(s=1;s<=S&&n[i-s]===d[h-s];s++);return xl=d.slice(e,1<s?1-s:void 0)}function bl(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Nl(){return!0}function Tc(){return!1}function yt(e){function n(i,s,d,h,S){this._reactName=i,this._targetInst=d,this.type=s,this.nativeEvent=h,this.target=S,this.currentTarget=null;for(var _ in e)e.hasOwnProperty(_)&&(i=e[_],this[_]=i?i(h):h[_]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?Nl:Tc,this.isPropagationStopped=Tc,this}return T(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Nl)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Nl)},persist:function(){},isPersistent:Nl}),n}var eo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rl=yt(eo),Ai=T({},eo,{view:0,detail:0}),sy=yt(Ai),ms,gs,xi,wl=T({},Ai,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==xi&&(xi&&e.type==="mousemove"?(ms=e.screenX-xi.screenX,gs=e.screenY-xi.screenY):gs=ms=0,xi=e),ms)},movementY:function(e){return"movementY"in e?e.movementY:gs}}),Ec=yt(wl),ry=T({},wl,{dataTransfer:0}),uy=yt(ry),cy=T({},Ai,{relatedTarget:0}),ys=yt(cy),fy=T({},eo,{animationName:0,elapsedTime:0,pseudoElement:0}),dy=yt(fy),py=T({},eo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),hy=yt(py),my=T({},eo,{data:0}),_c=yt(my),gy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sy(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=vy[e])?!!n[e]:!1}function vs(){return Sy}var Ty=T({},Ai,{key:function(e){if(e.key){var n=gy[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=bl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?yy[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vs,charCode:function(e){return e.type==="keypress"?bl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?bl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ey=yt(Ty),_y=T({},wl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Cc=yt(_y),Cy=T({},Ai,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vs}),Ay=yt(Cy),xy=T({},eo,{propertyName:0,elapsedTime:0,pseudoElement:0}),by=yt(xy),Ny=T({},wl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ry=yt(Ny),wy=T({},eo,{newState:0,oldState:0}),My=yt(wy),Iy=[9,13,27,32],Ss=ln&&"CompositionEvent"in window,bi=null;ln&&"documentMode"in document&&(bi=document.documentMode);var Dy=ln&&"TextEvent"in window&&!bi,Ac=ln&&(!Ss||bi&&8<bi&&11>=bi),xc=" ",bc=!1;function Nc(e,n){switch(e){case"keyup":return Iy.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Io=!1;function Uy(e,n){switch(e){case"compositionend":return Rc(n);case"keypress":return n.which!==32?null:(bc=!0,xc);case"textInput":return e=n.data,e===xc&&bc?null:e;default:return null}}function Ly(e,n){if(Io)return e==="compositionend"||!Ss&&Nc(e,n)?(e=Sc(),xl=hs=Nn=null,Io=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ac&&n.locale!=="ko"?null:n.data;default:return null}}var Hy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wc(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Hy[e.type]:n==="textarea"}function Mc(e,n,i,s){wo?Mo?Mo.push(s):Mo=[s]:wo=s,n=va(n,"onChange"),0<n.length&&(i=new Rl("onChange","change",null,i,s),e.push({event:i,listeners:n}))}var Ni=null,Ri=null;function ky(e){pp(e,0)}function Ml(e){var n=Ei(e);if(fc(n))return e}function Ic(e,n){if(e==="change")return n}var Dc=!1;if(ln){var Ts;if(ln){var Es="oninput"in document;if(!Es){var Uc=document.createElement("div");Uc.setAttribute("oninput","return;"),Es=typeof Uc.oninput=="function"}Ts=Es}else Ts=!1;Dc=Ts&&(!document.documentMode||9<document.documentMode)}function Lc(){Ni&&(Ni.detachEvent("onpropertychange",Hc),Ri=Ni=null)}function Hc(e){if(e.propertyName==="value"&&Ml(Ri)){var n=[];Mc(n,Ri,e,fs(e)),vc(ky,n)}}function Gy(e,n,i){e==="focusin"?(Lc(),Ni=n,Ri=i,Ni.attachEvent("onpropertychange",Hc)):e==="focusout"&&Lc()}function Vy(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ml(Ri)}function qy(e,n){if(e==="click")return Ml(n)}function zy(e,n){if(e==="input"||e==="change")return Ml(n)}function By(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var xt=typeof Object.is=="function"?Object.is:By;function wi(e,n){if(xt(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var i=Object.keys(e),s=Object.keys(n);if(i.length!==s.length)return!1;for(s=0;s<i.length;s++){var d=i[s];if(!gi.call(n,d)||!xt(e[d],n[d]))return!1}return!0}function kc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Gc(e,n){var i=kc(e);e=0;for(var s;i;){if(i.nodeType===3){if(s=e+i.textContent.length,e<=n&&s>=n)return{node:i,offset:n-e};e=s}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=kc(i)}}function Vc(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Vc(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function qc(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Cl(e.document);n instanceof e.HTMLIFrameElement;){try{var i=typeof n.contentWindow.location.href=="string"}catch{i=!1}if(i)e=n.contentWindow;else break;n=Cl(e.document)}return n}function _s(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var Py=ln&&"documentMode"in document&&11>=document.documentMode,Do=null,Cs=null,Mi=null,As=!1;function zc(e,n,i){var s=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;As||Do==null||Do!==Cl(s)||(s=Do,"selectionStart"in s&&_s(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Mi&&wi(Mi,s)||(Mi=s,s=va(Cs,"onSelect"),0<s.length&&(n=new Rl("onSelect","select",null,n,i),e.push({event:n,listeners:s}),n.target=Do)))}function to(e,n){var i={};return i[e.toLowerCase()]=n.toLowerCase(),i["Webkit"+e]="webkit"+n,i["Moz"+e]="moz"+n,i}var Uo={animationend:to("Animation","AnimationEnd"),animationiteration:to("Animation","AnimationIteration"),animationstart:to("Animation","AnimationStart"),transitionrun:to("Transition","TransitionRun"),transitionstart:to("Transition","TransitionStart"),transitioncancel:to("Transition","TransitionCancel"),transitionend:to("Transition","TransitionEnd")},xs={},Bc={};ln&&(Bc=document.createElement("div").style,"AnimationEvent"in window||(delete Uo.animationend.animation,delete Uo.animationiteration.animation,delete Uo.animationstart.animation),"TransitionEvent"in window||delete Uo.transitionend.transition);function no(e){if(xs[e])return xs[e];if(!Uo[e])return e;var n=Uo[e],i;for(i in n)if(n.hasOwnProperty(i)&&i in Bc)return xs[e]=n[i];return e}var Pc=no("animationend"),Oc=no("animationiteration"),Fc=no("animationstart"),Oy=no("transitionrun"),Fy=no("transitionstart"),Jy=no("transitioncancel"),Jc=no("transitionend"),Yc=new Map,bs="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");bs.push("scrollEnd");function Ft(e,n){Yc.set(e,n),jn(n,[e])}var Il=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Lt=[],Lo=0,Ns=0;function Dl(){for(var e=Lo,n=Ns=Lo=0;n<e;){var i=Lt[n];Lt[n++]=null;var s=Lt[n];Lt[n++]=null;var d=Lt[n];Lt[n++]=null;var h=Lt[n];if(Lt[n++]=null,s!==null&&d!==null){var S=s.pending;S===null?d.next=d:(d.next=S.next,S.next=d),s.pending=d}h!==0&&Wc(i,d,h)}}function Ul(e,n,i,s){Lt[Lo++]=e,Lt[Lo++]=n,Lt[Lo++]=i,Lt[Lo++]=s,Ns|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function Rs(e,n,i,s){return Ul(e,n,i,s),Ll(e)}function oo(e,n){return Ul(e,null,null,n),Ll(e)}function Wc(e,n,i){e.lanes|=i;var s=e.alternate;s!==null&&(s.lanes|=i);for(var d=!1,h=e.return;h!==null;)h.childLanes|=i,s=h.alternate,s!==null&&(s.childLanes|=i),h.tag===22&&(e=h.stateNode,e===null||e._visibility&1||(d=!0)),e=h,h=h.return;return e.tag===3?(h=e.stateNode,d&&n!==null&&(d=31-At(i),e=h.hiddenUpdates,s=e[d],s===null?e[d]=[n]:s.push(n),n.lane=i|536870912),h):null}function Ll(e){if(50<$i)throw $i=0,Gr=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Ho={};function Yy(e,n,i,s){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bt(e,n,i,s){return new Yy(e,n,i,s)}function ws(e){return e=e.prototype,!(!e||!e.isReactComponent)}function an(e,n){var i=e.alternate;return i===null?(i=bt(e.tag,n,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=n,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&65011712,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,n=e.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function Kc(e,n){e.flags&=65011714;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,n=i.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Hl(e,n,i,s,d,h){var S=0;if(s=e,typeof e=="function")ws(e)&&(S=1);else if(typeof e=="string")S=Z0(e,i,J.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Z:return e=bt(31,i,n,d),e.elementType=Z,e.lanes=h,e;case k:return io(i.children,d,h,n);case U:S=8,d|=24;break;case B:return e=bt(12,i,n,d|2),e.elementType=B,e.lanes=h,e;case O:return e=bt(13,i,n,d),e.elementType=O,e.lanes=h,e;case ne:return e=bt(19,i,n,d),e.elementType=ne,e.lanes=h,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case F:S=10;break e;case X:S=9;break e;case $:S=11;break e;case Y:S=14;break e;case de:S=16,s=null;break e}S=29,i=Error(a(130,e===null?"null":typeof e,"")),s=null}return n=bt(S,i,n,d),n.elementType=e,n.type=s,n.lanes=h,n}function io(e,n,i,s){return e=bt(7,e,s,n),e.lanes=i,e}function Ms(e,n,i){return e=bt(6,e,null,n),e.lanes=i,e}function Xc(e){var n=bt(18,null,null,0);return n.stateNode=e,n}function Is(e,n,i){return n=bt(4,e.children!==null?e.children:[],e.key,n),n.lanes=i,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Qc=new WeakMap;function Ht(e,n){if(typeof e=="object"&&e!==null){var i=Qc.get(e);return i!==void 0?i:(n={value:e,source:n,stack:ml(n)},Qc.set(e,n),n)}return{value:e,source:n,stack:ml(n)}}var ko=[],Go=0,kl=null,Ii=0,kt=[],Gt=0,Rn=null,Zt=1,$t="";function sn(e,n){ko[Go++]=Ii,ko[Go++]=kl,kl=e,Ii=n}function Zc(e,n,i){kt[Gt++]=Zt,kt[Gt++]=$t,kt[Gt++]=Rn,Rn=e;var s=Zt;e=$t;var d=32-At(s)-1;s&=~(1<<d),i+=1;var h=32-At(n)+d;if(30<h){var S=d-d%5;h=(s&(1<<S)-1).toString(32),s>>=S,d-=S,Zt=1<<32-At(n)+d|i<<d|s,$t=h+e}else Zt=1<<h|i<<d|s,$t=e}function Ds(e){e.return!==null&&(sn(e,1),Zc(e,1,0))}function Us(e){for(;e===kl;)kl=ko[--Go],ko[Go]=null,Ii=ko[--Go],ko[Go]=null;for(;e===Rn;)Rn=kt[--Gt],kt[Gt]=null,$t=kt[--Gt],kt[Gt]=null,Zt=kt[--Gt],kt[Gt]=null}function $c(e,n){kt[Gt++]=Zt,kt[Gt++]=$t,kt[Gt++]=Rn,Zt=n.id,$t=n.overflow,Rn=e}var st=null,Be=null,Ce=!1,wn=null,Vt=!1,Ls=Error(a(519));function Mn(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Di(Ht(n,e)),Ls}function jc(e){var n=e.stateNode,i=e.type,s=e.memoizedProps;switch(n[at]=e,n[gt]=s,i){case"dialog":ve("cancel",n),ve("close",n);break;case"iframe":case"object":case"embed":ve("load",n);break;case"video":case"audio":for(i=0;i<el.length;i++)ve(el[i],n);break;case"source":ve("error",n);break;case"img":case"image":case"link":ve("error",n),ve("load",n);break;case"details":ve("toggle",n);break;case"input":ve("invalid",n),dc(n,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":ve("invalid",n);break;case"textarea":ve("invalid",n),hc(n,s.value,s.defaultValue,s.children)}i=s.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||n.textContent===""+i||s.suppressHydrationWarning===!0||yp(n.textContent,i)?(s.popover!=null&&(ve("beforetoggle",n),ve("toggle",n)),s.onScroll!=null&&ve("scroll",n),s.onScrollEnd!=null&&ve("scrollend",n),s.onClick!=null&&(n.onclick=on),n=!0):n=!1,n||Mn(e,!0)}function ef(e){for(st=e.return;st;)switch(st.tag){case 5:case 31:case 13:Vt=!1;return;case 27:case 3:Vt=!0;return;default:st=st.return}}function Vo(e){if(e!==st)return!1;if(!Ce)return ef(e),Ce=!0,!1;var n=e.tag,i;if((i=n!==3&&n!==27)&&((i=n===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||$r(e.type,e.memoizedProps)),i=!i),i&&Be&&Mn(e),ef(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));Be=bp(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));Be=bp(e)}else n===27?(n=Be,Fn(e.type)?(e=ou,ou=null,Be=e):Be=n):Be=st?zt(e.stateNode.nextSibling):null;return!0}function lo(){Be=st=null,Ce=!1}function Hs(){var e=wn;return e!==null&&(Et===null?Et=e:Et.push.apply(Et,e),wn=null),e}function Di(e){wn===null?wn=[e]:wn.push(e)}var ks=N(null),ao=null,rn=null;function In(e,n,i){K(ks,n._currentValue),n._currentValue=i}function un(e){e._currentValue=ks.current,V(ks)}function Gs(e,n,i){for(;e!==null;){var s=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,s!==null&&(s.childLanes|=n)):s!==null&&(s.childLanes&n)!==n&&(s.childLanes|=n),e===i)break;e=e.return}}function Vs(e,n,i,s){var d=e.child;for(d!==null&&(d.return=e);d!==null;){var h=d.dependencies;if(h!==null){var S=d.child;h=h.firstContext;e:for(;h!==null;){var _=h;h=d;for(var x=0;x<n.length;x++)if(_.context===n[x]){h.lanes|=i,_=h.alternate,_!==null&&(_.lanes|=i),Gs(h.return,i,e),s||(S=null);break e}h=_.next}}else if(d.tag===18){if(S=d.return,S===null)throw Error(a(341));S.lanes|=i,h=S.alternate,h!==null&&(h.lanes|=i),Gs(S,i,e),S=null}else S=d.child;if(S!==null)S.return=d;else for(S=d;S!==null;){if(S===e){S=null;break}if(d=S.sibling,d!==null){d.return=S.return,S=d;break}S=S.return}d=S}}function qo(e,n,i,s){e=null;for(var d=n,h=!1;d!==null;){if(!h){if((d.flags&524288)!==0)h=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var S=d.alternate;if(S===null)throw Error(a(387));if(S=S.memoizedProps,S!==null){var _=d.type;xt(d.pendingProps.value,S.value)||(e!==null?e.push(_):e=[_])}}else if(d===ge.current){if(S=d.alternate,S===null)throw Error(a(387));S.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(e!==null?e.push(ll):e=[ll])}d=d.return}e!==null&&Vs(n,e,i,s),n.flags|=262144}function Gl(e){for(e=e.firstContext;e!==null;){if(!xt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function so(e){ao=e,rn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function rt(e){return tf(ao,e)}function Vl(e,n){return ao===null&&so(e),tf(e,n)}function tf(e,n){var i=n._currentValue;if(n={context:n,memoizedValue:i,next:null},rn===null){if(e===null)throw Error(a(308));rn=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else rn=rn.next=n;return i}var Wy=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(i,s){e.push(s)}};this.abort=function(){n.aborted=!0,e.forEach(function(i){return i()})}},Ky=o.unstable_scheduleCallback,Xy=o.unstable_NormalPriority,Xe={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function qs(){return{controller:new Wy,data:new Map,refCount:0}}function Ui(e){e.refCount--,e.refCount===0&&Ky(Xy,function(){e.controller.abort()})}var Li=null,zs=0,zo=0,Bo=null;function Qy(e,n){if(Li===null){var i=Li=[];zs=0,zo=Or(),Bo={status:"pending",value:void 0,then:function(s){i.push(s)}}}return zs++,n.then(nf,nf),n}function nf(){if(--zs===0&&Li!==null){Bo!==null&&(Bo.status="fulfilled");var e=Li;Li=null,zo=0,Bo=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function Zy(e,n){var i=[],s={status:"pending",value:null,reason:null,then:function(d){i.push(d)}};return e.then(function(){s.status="fulfilled",s.value=n;for(var d=0;d<i.length;d++)(0,i[d])(n)},function(d){for(s.status="rejected",s.reason=d,d=0;d<i.length;d++)(0,i[d])(void 0)}),s}var of=H.S;H.S=function(e,n){Bd=se(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&Qy(e,n),of!==null&&of(e,n)};var ro=N(null);function Bs(){var e=ro.current;return e!==null?e:qe.pooledCache}function ql(e,n){n===null?K(ro,ro.current):K(ro,n.pool)}function lf(){var e=Bs();return e===null?null:{parent:Xe._currentValue,pool:e}}var Po=Error(a(460)),Ps=Error(a(474)),zl=Error(a(542)),Bl={then:function(){}};function af(e){return e=e.status,e==="fulfilled"||e==="rejected"}function sf(e,n,i){switch(i=e[i],i===void 0?e.push(n):i!==n&&(n.then(on,on),n=i),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,uf(e),e;default:if(typeof n.status=="string")n.then(on,on);else{if(e=qe,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(s){if(n.status==="pending"){var d=n;d.status="fulfilled",d.value=s}},function(s){if(n.status==="pending"){var d=n;d.status="rejected",d.reason=s}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,uf(e),e}throw co=n,Po}}function uo(e){try{var n=e._init;return n(e._payload)}catch(i){throw i!==null&&typeof i=="object"&&typeof i.then=="function"?(co=i,Po):i}}var co=null;function rf(){if(co===null)throw Error(a(459));var e=co;return co=null,e}function uf(e){if(e===Po||e===zl)throw Error(a(483))}var Oo=null,Hi=0;function Pl(e){var n=Hi;return Hi+=1,Oo===null&&(Oo=[]),sf(Oo,e,n)}function ki(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Ol(e,n){throw n.$$typeof===E?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function cf(e){function n(R,b){if(e){var w=R.deletions;w===null?(R.deletions=[b],R.flags|=16):w.push(b)}}function i(R,b){if(!e)return null;for(;b!==null;)n(R,b),b=b.sibling;return null}function s(R){for(var b=new Map;R!==null;)R.key!==null?b.set(R.key,R):b.set(R.index,R),R=R.sibling;return b}function d(R,b){return R=an(R,b),R.index=0,R.sibling=null,R}function h(R,b,w){return R.index=w,e?(w=R.alternate,w!==null?(w=w.index,w<b?(R.flags|=67108866,b):w):(R.flags|=67108866,b)):(R.flags|=1048576,b)}function S(R){return e&&R.alternate===null&&(R.flags|=67108866),R}function _(R,b,w,q){return b===null||b.tag!==6?(b=Ms(w,R.mode,q),b.return=R,b):(b=d(b,w),b.return=R,b)}function x(R,b,w,q){var oe=w.type;return oe===k?G(R,b,w.props.children,q,w.key):b!==null&&(b.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===de&&uo(oe)===b.type)?(b=d(b,w.props),ki(b,w),b.return=R,b):(b=Hl(w.type,w.key,w.props,null,R.mode,q),ki(b,w),b.return=R,b)}function M(R,b,w,q){return b===null||b.tag!==4||b.stateNode.containerInfo!==w.containerInfo||b.stateNode.implementation!==w.implementation?(b=Is(w,R.mode,q),b.return=R,b):(b=d(b,w.children||[]),b.return=R,b)}function G(R,b,w,q,oe){return b===null||b.tag!==7?(b=io(w,R.mode,q,oe),b.return=R,b):(b=d(b,w),b.return=R,b)}function z(R,b,w){if(typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint")return b=Ms(""+b,R.mode,w),b.return=R,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case A:return w=Hl(b.type,b.key,b.props,null,R.mode,w),ki(w,b),w.return=R,w;case D:return b=Is(b,R.mode,w),b.return=R,b;case de:return b=uo(b),z(R,b,w)}if(et(b)||Ie(b))return b=io(b,R.mode,w,null),b.return=R,b;if(typeof b.then=="function")return z(R,Pl(b),w);if(b.$$typeof===F)return z(R,Vl(R,b),w);Ol(R,b)}return null}function I(R,b,w,q){var oe=b!==null?b.key:null;if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return oe!==null?null:_(R,b,""+w,q);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case A:return w.key===oe?x(R,b,w,q):null;case D:return w.key===oe?M(R,b,w,q):null;case de:return w=uo(w),I(R,b,w,q)}if(et(w)||Ie(w))return oe!==null?null:G(R,b,w,q,null);if(typeof w.then=="function")return I(R,b,Pl(w),q);if(w.$$typeof===F)return I(R,b,Vl(R,w),q);Ol(R,w)}return null}function L(R,b,w,q,oe){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return R=R.get(w)||null,_(b,R,""+q,oe);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case A:return R=R.get(q.key===null?w:q.key)||null,x(b,R,q,oe);case D:return R=R.get(q.key===null?w:q.key)||null,M(b,R,q,oe);case de:return q=uo(q),L(R,b,w,q,oe)}if(et(q)||Ie(q))return R=R.get(w)||null,G(b,R,q,oe,null);if(typeof q.then=="function")return L(R,b,w,Pl(q),oe);if(q.$$typeof===F)return L(R,b,w,Vl(b,q),oe);Ol(b,q)}return null}function j(R,b,w,q){for(var oe=null,Ne=null,ee=b,he=b=0,Te=null;ee!==null&&he<w.length;he++){ee.index>he?(Te=ee,ee=null):Te=ee.sibling;var Re=I(R,ee,w[he],q);if(Re===null){ee===null&&(ee=Te);break}e&&ee&&Re.alternate===null&&n(R,ee),b=h(Re,b,he),Ne===null?oe=Re:Ne.sibling=Re,Ne=Re,ee=Te}if(he===w.length)return i(R,ee),Ce&&sn(R,he),oe;if(ee===null){for(;he<w.length;he++)ee=z(R,w[he],q),ee!==null&&(b=h(ee,b,he),Ne===null?oe=ee:Ne.sibling=ee,Ne=ee);return Ce&&sn(R,he),oe}for(ee=s(ee);he<w.length;he++)Te=L(ee,R,he,w[he],q),Te!==null&&(e&&Te.alternate!==null&&ee.delete(Te.key===null?he:Te.key),b=h(Te,b,he),Ne===null?oe=Te:Ne.sibling=Te,Ne=Te);return e&&ee.forEach(function(Xn){return n(R,Xn)}),Ce&&sn(R,he),oe}function ie(R,b,w,q){if(w==null)throw Error(a(151));for(var oe=null,Ne=null,ee=b,he=b=0,Te=null,Re=w.next();ee!==null&&!Re.done;he++,Re=w.next()){ee.index>he?(Te=ee,ee=null):Te=ee.sibling;var Xn=I(R,ee,Re.value,q);if(Xn===null){ee===null&&(ee=Te);break}e&&ee&&Xn.alternate===null&&n(R,ee),b=h(Xn,b,he),Ne===null?oe=Xn:Ne.sibling=Xn,Ne=Xn,ee=Te}if(Re.done)return i(R,ee),Ce&&sn(R,he),oe;if(ee===null){for(;!Re.done;he++,Re=w.next())Re=z(R,Re.value,q),Re!==null&&(b=h(Re,b,he),Ne===null?oe=Re:Ne.sibling=Re,Ne=Re);return Ce&&sn(R,he),oe}for(ee=s(ee);!Re.done;he++,Re=w.next())Re=L(ee,R,he,Re.value,q),Re!==null&&(e&&Re.alternate!==null&&ee.delete(Re.key===null?he:Re.key),b=h(Re,b,he),Ne===null?oe=Re:Ne.sibling=Re,Ne=Re);return e&&ee.forEach(function(rv){return n(R,rv)}),Ce&&sn(R,he),oe}function Ve(R,b,w,q){if(typeof w=="object"&&w!==null&&w.type===k&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case A:e:{for(var oe=w.key;b!==null;){if(b.key===oe){if(oe=w.type,oe===k){if(b.tag===7){i(R,b.sibling),q=d(b,w.props.children),q.return=R,R=q;break e}}else if(b.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===de&&uo(oe)===b.type){i(R,b.sibling),q=d(b,w.props),ki(q,w),q.return=R,R=q;break e}i(R,b);break}else n(R,b);b=b.sibling}w.type===k?(q=io(w.props.children,R.mode,q,w.key),q.return=R,R=q):(q=Hl(w.type,w.key,w.props,null,R.mode,q),ki(q,w),q.return=R,R=q)}return S(R);case D:e:{for(oe=w.key;b!==null;){if(b.key===oe)if(b.tag===4&&b.stateNode.containerInfo===w.containerInfo&&b.stateNode.implementation===w.implementation){i(R,b.sibling),q=d(b,w.children||[]),q.return=R,R=q;break e}else{i(R,b);break}else n(R,b);b=b.sibling}q=Is(w,R.mode,q),q.return=R,R=q}return S(R);case de:return w=uo(w),Ve(R,b,w,q)}if(et(w))return j(R,b,w,q);if(Ie(w)){if(oe=Ie(w),typeof oe!="function")throw Error(a(150));return w=oe.call(w),ie(R,b,w,q)}if(typeof w.then=="function")return Ve(R,b,Pl(w),q);if(w.$$typeof===F)return Ve(R,b,Vl(R,w),q);Ol(R,w)}return typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint"?(w=""+w,b!==null&&b.tag===6?(i(R,b.sibling),q=d(b,w),q.return=R,R=q):(i(R,b),q=Ms(w,R.mode,q),q.return=R,R=q),S(R)):i(R,b)}return function(R,b,w,q){try{Hi=0;var oe=Ve(R,b,w,q);return Oo=null,oe}catch(ee){if(ee===Po||ee===zl)throw ee;var Ne=bt(29,ee,null,R.mode);return Ne.lanes=q,Ne.return=R,Ne}finally{}}}var fo=cf(!0),ff=cf(!1),Dn=!1;function Os(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Fs(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Un(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ln(e,n,i){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(Me&2)!==0){var d=s.pending;return d===null?n.next=n:(n.next=d.next,d.next=n),s.pending=n,n=Ll(e),Wc(e,null,i),n}return Ul(e,s,n,i),Ll(e)}function Gi(e,n,i){if(n=n.updateQueue,n!==null&&(n=n.shared,(i&4194048)!==0)){var s=n.lanes;s&=e.pendingLanes,i|=s,n.lanes=i,tc(e,i)}}function Js(e,n){var i=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,i===s)){var d=null,h=null;if(i=i.firstBaseUpdate,i!==null){do{var S={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};h===null?d=h=S:h=h.next=S,i=i.next}while(i!==null);h===null?d=h=n:h=h.next=n}else d=h=n;i={baseState:s.baseState,firstBaseUpdate:d,lastBaseUpdate:h,shared:s.shared,callbacks:s.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=n:e.next=n,i.lastBaseUpdate=n}var Ys=!1;function Vi(){if(Ys){var e=Bo;if(e!==null)throw e}}function qi(e,n,i,s){Ys=!1;var d=e.updateQueue;Dn=!1;var h=d.firstBaseUpdate,S=d.lastBaseUpdate,_=d.shared.pending;if(_!==null){d.shared.pending=null;var x=_,M=x.next;x.next=null,S===null?h=M:S.next=M,S=x;var G=e.alternate;G!==null&&(G=G.updateQueue,_=G.lastBaseUpdate,_!==S&&(_===null?G.firstBaseUpdate=M:_.next=M,G.lastBaseUpdate=x))}if(h!==null){var z=d.baseState;S=0,G=M=x=null,_=h;do{var I=_.lane&-536870913,L=I!==_.lane;if(L?(Se&I)===I:(s&I)===I){I!==0&&I===zo&&(Ys=!0),G!==null&&(G=G.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var j=e,ie=_;I=n;var Ve=i;switch(ie.tag){case 1:if(j=ie.payload,typeof j=="function"){z=j.call(Ve,z,I);break e}z=j;break e;case 3:j.flags=j.flags&-65537|128;case 0:if(j=ie.payload,I=typeof j=="function"?j.call(Ve,z,I):j,I==null)break e;z=T({},z,I);break e;case 2:Dn=!0}}I=_.callback,I!==null&&(e.flags|=64,L&&(e.flags|=8192),L=d.callbacks,L===null?d.callbacks=[I]:L.push(I))}else L={lane:I,tag:_.tag,payload:_.payload,callback:_.callback,next:null},G===null?(M=G=L,x=z):G=G.next=L,S|=I;if(_=_.next,_===null){if(_=d.shared.pending,_===null)break;L=_,_=L.next,L.next=null,d.lastBaseUpdate=L,d.shared.pending=null}}while(!0);G===null&&(x=z),d.baseState=x,d.firstBaseUpdate=M,d.lastBaseUpdate=G,h===null&&(d.shared.lanes=0),qn|=S,e.lanes=S,e.memoizedState=z}}function df(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function pf(e,n){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)df(i[e],n)}var Fo=N(null),Fl=N(0);function hf(e,n){e=vn,K(Fl,e),K(Fo,n),vn=e|n.baseLanes}function Ws(){K(Fl,vn),K(Fo,Fo.current)}function Ks(){vn=Fl.current,V(Fo),V(Fl)}var Nt=N(null),qt=null;function Hn(e){var n=e.alternate;K(We,We.current&1),K(Nt,e),qt===null&&(n===null||Fo.current!==null||n.memoizedState!==null)&&(qt=e)}function Xs(e){K(We,We.current),K(Nt,e),qt===null&&(qt=e)}function mf(e){e.tag===22?(K(We,We.current),K(Nt,e),qt===null&&(qt=e)):kn()}function kn(){K(We,We.current),K(Nt,Nt.current)}function Rt(e){V(Nt),qt===e&&(qt=null),V(We)}var We=N(0);function Jl(e){for(var n=e;n!==null;){if(n.tag===13){var i=n.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||tu(i)||nu(i)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var cn=0,pe=null,ke=null,Qe=null,Yl=!1,Jo=!1,po=!1,Wl=0,zi=0,Yo=null,$y=0;function Je(){throw Error(a(321))}function Qs(e,n){if(n===null)return!1;for(var i=0;i<n.length&&i<e.length;i++)if(!xt(e[i],n[i]))return!1;return!0}function Zs(e,n,i,s,d,h){return cn=h,pe=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=e===null||e.memoizedState===null?$f:dr,po=!1,h=i(s,d),po=!1,Jo&&(h=yf(n,i,s,d)),gf(e),h}function gf(e){H.H=Oi;var n=ke!==null&&ke.next!==null;if(cn=0,Qe=ke=pe=null,Yl=!1,zi=0,Yo=null,n)throw Error(a(300));e===null||Ze||(e=e.dependencies,e!==null&&Gl(e)&&(Ze=!0))}function yf(e,n,i,s){pe=e;var d=0;do{if(Jo&&(Yo=null),zi=0,Jo=!1,25<=d)throw Error(a(301));if(d+=1,Qe=ke=null,e.updateQueue!=null){var h=e.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}H.H=jf,h=n(i,s)}while(Jo);return h}function jy(){var e=H.H,n=e.useState()[0];return n=typeof n.then=="function"?Bi(n):n,e=e.useState()[0],(ke!==null?ke.memoizedState:null)!==e&&(pe.flags|=1024),n}function $s(){var e=Wl!==0;return Wl=0,e}function js(e,n,i){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~i}function er(e){if(Yl){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Yl=!1}cn=0,Qe=ke=pe=null,Jo=!1,zi=Wl=0,Yo=null}function pt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qe===null?pe.memoizedState=Qe=e:Qe=Qe.next=e,Qe}function Ke(){if(ke===null){var e=pe.alternate;e=e!==null?e.memoizedState:null}else e=ke.next;var n=Qe===null?pe.memoizedState:Qe.next;if(n!==null)Qe=n,ke=e;else{if(e===null)throw pe.alternate===null?Error(a(467)):Error(a(310));ke=e,e={memoizedState:ke.memoizedState,baseState:ke.baseState,baseQueue:ke.baseQueue,queue:ke.queue,next:null},Qe===null?pe.memoizedState=Qe=e:Qe=Qe.next=e}return Qe}function Kl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Bi(e){var n=zi;return zi+=1,Yo===null&&(Yo=[]),e=sf(Yo,e,n),n=pe,(Qe===null?n.memoizedState:Qe.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?$f:dr),e}function Xl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Bi(e);if(e.$$typeof===F)return rt(e)}throw Error(a(438,String(e)))}function tr(e){var n=null,i=pe.updateQueue;if(i!==null&&(n=i.memoCache),n==null){var s=pe.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(n={data:s.data.map(function(d){return d.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),i===null&&(i=Kl(),pe.updateQueue=i),i.memoCache=n,i=n.data[n.index],i===void 0)for(i=n.data[n.index]=Array(e),s=0;s<e;s++)i[s]=ce;return n.index++,i}function fn(e,n){return typeof n=="function"?n(e):n}function Ql(e){var n=Ke();return nr(n,ke,e)}function nr(e,n,i){var s=e.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=i;var d=e.baseQueue,h=s.pending;if(h!==null){if(d!==null){var S=d.next;d.next=h.next,h.next=S}n.baseQueue=d=h,s.pending=null}if(h=e.baseState,d===null)e.memoizedState=h;else{n=d.next;var _=S=null,x=null,M=n,G=!1;do{var z=M.lane&-536870913;if(z!==M.lane?(Se&z)===z:(cn&z)===z){var I=M.revertLane;if(I===0)x!==null&&(x=x.next={lane:0,revertLane:0,gesture:null,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null}),z===zo&&(G=!0);else if((cn&I)===I){M=M.next,I===zo&&(G=!0);continue}else z={lane:0,revertLane:M.revertLane,gesture:null,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null},x===null?(_=x=z,S=h):x=x.next=z,pe.lanes|=I,qn|=I;z=M.action,po&&i(h,z),h=M.hasEagerState?M.eagerState:i(h,z)}else I={lane:z,revertLane:M.revertLane,gesture:M.gesture,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null},x===null?(_=x=I,S=h):x=x.next=I,pe.lanes|=z,qn|=z;M=M.next}while(M!==null&&M!==n);if(x===null?S=h:x.next=_,!xt(h,e.memoizedState)&&(Ze=!0,G&&(i=Bo,i!==null)))throw i;e.memoizedState=h,e.baseState=S,e.baseQueue=x,s.lastRenderedState=h}return d===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function or(e){var n=Ke(),i=n.queue;if(i===null)throw Error(a(311));i.lastRenderedReducer=e;var s=i.dispatch,d=i.pending,h=n.memoizedState;if(d!==null){i.pending=null;var S=d=d.next;do h=e(h,S.action),S=S.next;while(S!==d);xt(h,n.memoizedState)||(Ze=!0),n.memoizedState=h,n.baseQueue===null&&(n.baseState=h),i.lastRenderedState=h}return[h,s]}function vf(e,n,i){var s=pe,d=Ke(),h=Ce;if(h){if(i===void 0)throw Error(a(407));i=i()}else i=n();var S=!xt((ke||d).memoizedState,i);if(S&&(d.memoizedState=i,Ze=!0),d=d.queue,ar(Ef.bind(null,s,d,e),[e]),d.getSnapshot!==n||S||Qe!==null&&Qe.memoizedState.tag&1){if(s.flags|=2048,Wo(9,{destroy:void 0},Tf.bind(null,s,d,i,n),null),qe===null)throw Error(a(349));h||(cn&127)!==0||Sf(s,n,i)}return i}function Sf(e,n,i){e.flags|=16384,e={getSnapshot:n,value:i},n=pe.updateQueue,n===null?(n=Kl(),pe.updateQueue=n,n.stores=[e]):(i=n.stores,i===null?n.stores=[e]:i.push(e))}function Tf(e,n,i,s){n.value=i,n.getSnapshot=s,_f(n)&&Cf(e)}function Ef(e,n,i){return i(function(){_f(n)&&Cf(e)})}function _f(e){var n=e.getSnapshot;e=e.value;try{var i=n();return!xt(e,i)}catch{return!0}}function Cf(e){var n=oo(e,2);n!==null&&_t(n,e,2)}function ir(e){var n=pt();if(typeof e=="function"){var i=e;if(e=i(),po){xn(!0);try{i()}finally{xn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fn,lastRenderedState:e},n}function Af(e,n,i,s){return e.baseState=i,nr(e,ke,typeof s=="function"?s:fn)}function e0(e,n,i,s,d){if(jl(e))throw Error(a(485));if(e=n.action,e!==null){var h={payload:d,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){h.listeners.push(S)}};H.T!==null?i(!0):h.isTransition=!1,s(h),i=n.pending,i===null?(h.next=n.pending=h,xf(n,h)):(h.next=i.next,n.pending=i.next=h)}}function xf(e,n){var i=n.action,s=n.payload,d=e.state;if(n.isTransition){var h=H.T,S={};H.T=S;try{var _=i(d,s),x=H.S;x!==null&&x(S,_),bf(e,n,_)}catch(M){lr(e,n,M)}finally{h!==null&&S.types!==null&&(h.types=S.types),H.T=h}}else try{h=i(d,s),bf(e,n,h)}catch(M){lr(e,n,M)}}function bf(e,n,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(s){Nf(e,n,s)},function(s){return lr(e,n,s)}):Nf(e,n,i)}function Nf(e,n,i){n.status="fulfilled",n.value=i,Rf(n),e.state=i,n=e.pending,n!==null&&(i=n.next,i===n?e.pending=null:(i=i.next,n.next=i,xf(e,i)))}function lr(e,n,i){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do n.status="rejected",n.reason=i,Rf(n),n=n.next;while(n!==s)}e.action=null}function Rf(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function wf(e,n){return n}function Mf(e,n){if(Ce){var i=qe.formState;if(i!==null){e:{var s=pe;if(Ce){if(Be){t:{for(var d=Be,h=Vt;d.nodeType!==8;){if(!h){d=null;break t}if(d=zt(d.nextSibling),d===null){d=null;break t}}h=d.data,d=h==="F!"||h==="F"?d:null}if(d){Be=zt(d.nextSibling),s=d.data==="F!";break e}}Mn(s)}s=!1}s&&(n=i[0])}}return i=pt(),i.memoizedState=i.baseState=n,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wf,lastRenderedState:n},i.queue=s,i=Xf.bind(null,pe,s),s.dispatch=i,s=ir(!1),h=fr.bind(null,pe,!1,s.queue),s=pt(),d={state:n,dispatch:null,action:e,pending:null},s.queue=d,i=e0.bind(null,pe,d,h,i),d.dispatch=i,s.memoizedState=e,[n,i,!1]}function If(e){var n=Ke();return Df(n,ke,e)}function Df(e,n,i){if(n=nr(e,n,wf)[0],e=Ql(fn)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var s=Bi(n)}catch(S){throw S===Po?zl:S}else s=n;n=Ke();var d=n.queue,h=d.dispatch;return i!==n.memoizedState&&(pe.flags|=2048,Wo(9,{destroy:void 0},t0.bind(null,d,i),null)),[s,h,e]}function t0(e,n){e.action=n}function Uf(e){var n=Ke(),i=ke;if(i!==null)return Df(n,i,e);Ke(),n=n.memoizedState,i=Ke();var s=i.queue.dispatch;return i.memoizedState=e,[n,s,!1]}function Wo(e,n,i,s){return e={tag:e,create:i,deps:s,inst:n,next:null},n=pe.updateQueue,n===null&&(n=Kl(),pe.updateQueue=n),i=n.lastEffect,i===null?n.lastEffect=e.next=e:(s=i.next,i.next=e,e.next=s,n.lastEffect=e),e}function Lf(){return Ke().memoizedState}function Zl(e,n,i,s){var d=pt();pe.flags|=e,d.memoizedState=Wo(1|n,{destroy:void 0},i,s===void 0?null:s)}function $l(e,n,i,s){var d=Ke();s=s===void 0?null:s;var h=d.memoizedState.inst;ke!==null&&s!==null&&Qs(s,ke.memoizedState.deps)?d.memoizedState=Wo(n,h,i,s):(pe.flags|=e,d.memoizedState=Wo(1|n,h,i,s))}function Hf(e,n){Zl(8390656,8,e,n)}function ar(e,n){$l(2048,8,e,n)}function n0(e){pe.flags|=4;var n=pe.updateQueue;if(n===null)n=Kl(),pe.updateQueue=n,n.events=[e];else{var i=n.events;i===null?n.events=[e]:i.push(e)}}function kf(e){var n=Ke().memoizedState;return n0({ref:n,nextImpl:e}),function(){if((Me&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Gf(e,n){return $l(4,2,e,n)}function Vf(e,n){return $l(4,4,e,n)}function qf(e,n){if(typeof n=="function"){e=e();var i=n(e);return function(){typeof i=="function"?i():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function zf(e,n,i){i=i!=null?i.concat([e]):null,$l(4,4,qf.bind(null,n,e),i)}function sr(){}function Bf(e,n){var i=Ke();n=n===void 0?null:n;var s=i.memoizedState;return n!==null&&Qs(n,s[1])?s[0]:(i.memoizedState=[e,n],e)}function Pf(e,n){var i=Ke();n=n===void 0?null:n;var s=i.memoizedState;if(n!==null&&Qs(n,s[1]))return s[0];if(s=e(),po){xn(!0);try{e()}finally{xn(!1)}}return i.memoizedState=[s,n],s}function rr(e,n,i){return i===void 0||(cn&1073741824)!==0&&(Se&261930)===0?e.memoizedState=n:(e.memoizedState=i,e=Od(),pe.lanes|=e,qn|=e,i)}function Of(e,n,i,s){return xt(i,n)?i:Fo.current!==null?(e=rr(e,i,s),xt(e,n)||(Ze=!0),e):(cn&42)===0||(cn&1073741824)!==0&&(Se&261930)===0?(Ze=!0,e.memoizedState=i):(e=Od(),pe.lanes|=e,qn|=e,n)}function Ff(e,n,i,s,d){var h=W.p;W.p=h!==0&&8>h?h:8;var S=H.T,_={};H.T=_,fr(e,!1,n,i);try{var x=d(),M=H.S;if(M!==null&&M(_,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var G=Zy(x,s);Pi(e,n,G,It(e))}else Pi(e,n,s,It(e))}catch(z){Pi(e,n,{then:function(){},status:"rejected",reason:z},It())}finally{W.p=h,S!==null&&_.types!==null&&(S.types=_.types),H.T=S}}function o0(){}function ur(e,n,i,s){if(e.tag!==5)throw Error(a(476));var d=Jf(e).queue;Ff(e,d,n,le,i===null?o0:function(){return Yf(e),i(s)})}function Jf(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:le,baseState:le,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fn,lastRenderedState:le},next:null};var i={};return n.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fn,lastRenderedState:i},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Yf(e){var n=Jf(e);n.next===null&&(n=e.alternate.memoizedState),Pi(e,n.next.queue,{},It())}function cr(){return rt(ll)}function Wf(){return Ke().memoizedState}function Kf(){return Ke().memoizedState}function i0(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var i=It();e=Un(i);var s=Ln(n,e,i);s!==null&&(_t(s,n,i),Gi(s,n,i)),n={cache:qs()},e.payload=n;return}n=n.return}}function l0(e,n,i){var s=It();i={lane:s,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},jl(e)?Qf(n,i):(i=Rs(e,n,i,s),i!==null&&(_t(i,e,s),Zf(i,n,s)))}function Xf(e,n,i){var s=It();Pi(e,n,i,s)}function Pi(e,n,i,s){var d={lane:s,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null};if(jl(e))Qf(n,d);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=n.lastRenderedReducer,h!==null))try{var S=n.lastRenderedState,_=h(S,i);if(d.hasEagerState=!0,d.eagerState=_,xt(_,S))return Ul(e,n,d,0),qe===null&&Dl(),!1}catch{}finally{}if(i=Rs(e,n,d,s),i!==null)return _t(i,e,s),Zf(i,n,s),!0}return!1}function fr(e,n,i,s){if(s={lane:2,revertLane:Or(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},jl(e)){if(n)throw Error(a(479))}else n=Rs(e,i,s,2),n!==null&&_t(n,e,2)}function jl(e){var n=e.alternate;return e===pe||n!==null&&n===pe}function Qf(e,n){Jo=Yl=!0;var i=e.pending;i===null?n.next=n:(n.next=i.next,i.next=n),e.pending=n}function Zf(e,n,i){if((i&4194048)!==0){var s=n.lanes;s&=e.pendingLanes,i|=s,n.lanes=i,tc(e,i)}}var Oi={readContext:rt,use:Xl,useCallback:Je,useContext:Je,useEffect:Je,useImperativeHandle:Je,useLayoutEffect:Je,useInsertionEffect:Je,useMemo:Je,useReducer:Je,useRef:Je,useState:Je,useDebugValue:Je,useDeferredValue:Je,useTransition:Je,useSyncExternalStore:Je,useId:Je,useHostTransitionStatus:Je,useFormState:Je,useActionState:Je,useOptimistic:Je,useMemoCache:Je,useCacheRefresh:Je};Oi.useEffectEvent=Je;var $f={readContext:rt,use:Xl,useCallback:function(e,n){return pt().memoizedState=[e,n===void 0?null:n],e},useContext:rt,useEffect:Hf,useImperativeHandle:function(e,n,i){i=i!=null?i.concat([e]):null,Zl(4194308,4,qf.bind(null,n,e),i)},useLayoutEffect:function(e,n){return Zl(4194308,4,e,n)},useInsertionEffect:function(e,n){Zl(4,2,e,n)},useMemo:function(e,n){var i=pt();n=n===void 0?null:n;var s=e();if(po){xn(!0);try{e()}finally{xn(!1)}}return i.memoizedState=[s,n],s},useReducer:function(e,n,i){var s=pt();if(i!==void 0){var d=i(n);if(po){xn(!0);try{i(n)}finally{xn(!1)}}}else d=n;return s.memoizedState=s.baseState=d,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:d},s.queue=e,e=e.dispatch=l0.bind(null,pe,e),[s.memoizedState,e]},useRef:function(e){var n=pt();return e={current:e},n.memoizedState=e},useState:function(e){e=ir(e);var n=e.queue,i=Xf.bind(null,pe,n);return n.dispatch=i,[e.memoizedState,i]},useDebugValue:sr,useDeferredValue:function(e,n){var i=pt();return rr(i,e,n)},useTransition:function(){var e=ir(!1);return e=Ff.bind(null,pe,e.queue,!0,!1),pt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,i){var s=pe,d=pt();if(Ce){if(i===void 0)throw Error(a(407));i=i()}else{if(i=n(),qe===null)throw Error(a(349));(Se&127)!==0||Sf(s,n,i)}d.memoizedState=i;var h={value:i,getSnapshot:n};return d.queue=h,Hf(Ef.bind(null,s,h,e),[e]),s.flags|=2048,Wo(9,{destroy:void 0},Tf.bind(null,s,h,i,n),null),i},useId:function(){var e=pt(),n=qe.identifierPrefix;if(Ce){var i=$t,s=Zt;i=(s&~(1<<32-At(s)-1)).toString(32)+i,n="_"+n+"R_"+i,i=Wl++,0<i&&(n+="H"+i.toString(32)),n+="_"}else i=$y++,n="_"+n+"r_"+i.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:cr,useFormState:Mf,useActionState:Mf,useOptimistic:function(e){var n=pt();n.memoizedState=n.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=i,n=fr.bind(null,pe,!0,i),i.dispatch=n,[e,n]},useMemoCache:tr,useCacheRefresh:function(){return pt().memoizedState=i0.bind(null,pe)},useEffectEvent:function(e){var n=pt(),i={impl:e};return n.memoizedState=i,function(){if((Me&2)!==0)throw Error(a(440));return i.impl.apply(void 0,arguments)}}},dr={readContext:rt,use:Xl,useCallback:Bf,useContext:rt,useEffect:ar,useImperativeHandle:zf,useInsertionEffect:Gf,useLayoutEffect:Vf,useMemo:Pf,useReducer:Ql,useRef:Lf,useState:function(){return Ql(fn)},useDebugValue:sr,useDeferredValue:function(e,n){var i=Ke();return Of(i,ke.memoizedState,e,n)},useTransition:function(){var e=Ql(fn)[0],n=Ke().memoizedState;return[typeof e=="boolean"?e:Bi(e),n]},useSyncExternalStore:vf,useId:Wf,useHostTransitionStatus:cr,useFormState:If,useActionState:If,useOptimistic:function(e,n){var i=Ke();return Af(i,ke,e,n)},useMemoCache:tr,useCacheRefresh:Kf};dr.useEffectEvent=kf;var jf={readContext:rt,use:Xl,useCallback:Bf,useContext:rt,useEffect:ar,useImperativeHandle:zf,useInsertionEffect:Gf,useLayoutEffect:Vf,useMemo:Pf,useReducer:or,useRef:Lf,useState:function(){return or(fn)},useDebugValue:sr,useDeferredValue:function(e,n){var i=Ke();return ke===null?rr(i,e,n):Of(i,ke.memoizedState,e,n)},useTransition:function(){var e=or(fn)[0],n=Ke().memoizedState;return[typeof e=="boolean"?e:Bi(e),n]},useSyncExternalStore:vf,useId:Wf,useHostTransitionStatus:cr,useFormState:Uf,useActionState:Uf,useOptimistic:function(e,n){var i=Ke();return ke!==null?Af(i,ke,e,n):(i.baseState=e,[e,i.queue.dispatch])},useMemoCache:tr,useCacheRefresh:Kf};jf.useEffectEvent=kf;function pr(e,n,i,s){n=e.memoizedState,i=i(s,n),i=i==null?n:T({},n,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var hr={enqueueSetState:function(e,n,i){e=e._reactInternals;var s=It(),d=Un(s);d.payload=n,i!=null&&(d.callback=i),n=Ln(e,d,s),n!==null&&(_t(n,e,s),Gi(n,e,s))},enqueueReplaceState:function(e,n,i){e=e._reactInternals;var s=It(),d=Un(s);d.tag=1,d.payload=n,i!=null&&(d.callback=i),n=Ln(e,d,s),n!==null&&(_t(n,e,s),Gi(n,e,s))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var i=It(),s=Un(i);s.tag=2,n!=null&&(s.callback=n),n=Ln(e,s,i),n!==null&&(_t(n,e,i),Gi(n,e,i))}};function ed(e,n,i,s,d,h,S){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,h,S):n.prototype&&n.prototype.isPureReactComponent?!wi(i,s)||!wi(d,h):!0}function td(e,n,i,s){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(i,s),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(i,s),n.state!==e&&hr.enqueueReplaceState(n,n.state,null)}function ho(e,n){var i=n;if("ref"in n){i={};for(var s in n)s!=="ref"&&(i[s]=n[s])}if(e=e.defaultProps){i===n&&(i=T({},i));for(var d in e)i[d]===void 0&&(i[d]=e[d])}return i}function nd(e){Il(e)}function od(e){console.error(e)}function id(e){Il(e)}function ea(e,n){try{var i=e.onUncaughtError;i(n.value,{componentStack:n.stack})}catch(s){setTimeout(function(){throw s})}}function ld(e,n,i){try{var s=e.onCaughtError;s(i.value,{componentStack:i.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function mr(e,n,i){return i=Un(i),i.tag=3,i.payload={element:null},i.callback=function(){ea(e,n)},i}function ad(e){return e=Un(e),e.tag=3,e}function sd(e,n,i,s){var d=i.type.getDerivedStateFromError;if(typeof d=="function"){var h=s.value;e.payload=function(){return d(h)},e.callback=function(){ld(n,i,s)}}var S=i.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(e.callback=function(){ld(n,i,s),typeof d!="function"&&(zn===null?zn=new Set([this]):zn.add(this));var _=s.stack;this.componentDidCatch(s.value,{componentStack:_!==null?_:""})})}function a0(e,n,i,s,d){if(i.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(n=i.alternate,n!==null&&qo(n,i,d,!0),i=Nt.current,i!==null){switch(i.tag){case 31:case 13:return qt===null?da():i.alternate===null&&Ye===0&&(Ye=3),i.flags&=-257,i.flags|=65536,i.lanes=d,s===Bl?i.flags|=16384:(n=i.updateQueue,n===null?i.updateQueue=new Set([s]):n.add(s),zr(e,s,d)),!1;case 22:return i.flags|=65536,s===Bl?i.flags|=16384:(n=i.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([s])},i.updateQueue=n):(i=n.retryQueue,i===null?n.retryQueue=new Set([s]):i.add(s)),zr(e,s,d)),!1}throw Error(a(435,i.tag))}return zr(e,s,d),da(),!1}if(Ce)return n=Nt.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=d,s!==Ls&&(e=Error(a(422),{cause:s}),Di(Ht(e,i)))):(s!==Ls&&(n=Error(a(423),{cause:s}),Di(Ht(n,i))),e=e.current.alternate,e.flags|=65536,d&=-d,e.lanes|=d,s=Ht(s,i),d=mr(e.stateNode,s,d),Js(e,d),Ye!==4&&(Ye=2)),!1;var h=Error(a(520),{cause:s});if(h=Ht(h,i),Zi===null?Zi=[h]:Zi.push(h),Ye!==4&&(Ye=2),n===null)return!0;s=Ht(s,i),i=n;do{switch(i.tag){case 3:return i.flags|=65536,e=d&-d,i.lanes|=e,e=mr(i.stateNode,s,e),Js(i,e),!1;case 1:if(n=i.type,h=i.stateNode,(i.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(zn===null||!zn.has(h))))return i.flags|=65536,d&=-d,i.lanes|=d,d=ad(d),sd(d,e,i,s),Js(i,d),!1}i=i.return}while(i!==null);return!1}var gr=Error(a(461)),Ze=!1;function ut(e,n,i,s){n.child=e===null?ff(n,null,i,s):fo(n,e.child,i,s)}function rd(e,n,i,s,d){i=i.render;var h=n.ref;if("ref"in s){var S={};for(var _ in s)_!=="ref"&&(S[_]=s[_])}else S=s;return so(n),s=Zs(e,n,i,S,h,d),_=$s(),e!==null&&!Ze?(js(e,n,d),dn(e,n,d)):(Ce&&_&&Ds(n),n.flags|=1,ut(e,n,s,d),n.child)}function ud(e,n,i,s,d){if(e===null){var h=i.type;return typeof h=="function"&&!ws(h)&&h.defaultProps===void 0&&i.compare===null?(n.tag=15,n.type=h,cd(e,n,h,s,d)):(e=Hl(i.type,null,s,n,n.mode,d),e.ref=n.ref,e.return=n,n.child=e)}if(h=e.child,!Ar(e,d)){var S=h.memoizedProps;if(i=i.compare,i=i!==null?i:wi,i(S,s)&&e.ref===n.ref)return dn(e,n,d)}return n.flags|=1,e=an(h,s),e.ref=n.ref,e.return=n,n.child=e}function cd(e,n,i,s,d){if(e!==null){var h=e.memoizedProps;if(wi(h,s)&&e.ref===n.ref)if(Ze=!1,n.pendingProps=s=h,Ar(e,d))(e.flags&131072)!==0&&(Ze=!0);else return n.lanes=e.lanes,dn(e,n,d)}return yr(e,n,i,s,d)}function fd(e,n,i,s){var d=s.children,h=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((n.flags&128)!==0){if(h=h!==null?h.baseLanes|i:i,e!==null){for(s=n.child=e.child,d=0;s!==null;)d=d|s.lanes|s.childLanes,s=s.sibling;s=d&~h}else s=0,n.child=null;return dd(e,n,h,i,s)}if((i&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&ql(n,h!==null?h.cachePool:null),h!==null?hf(n,h):Ws(),mf(n);else return s=n.lanes=536870912,dd(e,n,h!==null?h.baseLanes|i:i,i,s)}else h!==null?(ql(n,h.cachePool),hf(n,h),kn(),n.memoizedState=null):(e!==null&&ql(n,null),Ws(),kn());return ut(e,n,d,i),n.child}function Fi(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function dd(e,n,i,s,d){var h=Bs();return h=h===null?null:{parent:Xe._currentValue,pool:h},n.memoizedState={baseLanes:i,cachePool:h},e!==null&&ql(n,null),Ws(),mf(n),e!==null&&qo(e,n,s,!0),n.childLanes=d,null}function ta(e,n){return n=oa({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function pd(e,n,i){return fo(n,e.child,null,i),e=ta(n,n.pendingProps),e.flags|=2,Rt(n),n.memoizedState=null,e}function s0(e,n,i){var s=n.pendingProps,d=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Ce){if(s.mode==="hidden")return e=ta(n,s),n.lanes=536870912,Fi(null,e);if(Xs(n),(e=Be)?(e=xp(e,Vt),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Rn!==null?{id:Zt,overflow:$t}:null,retryLane:536870912,hydrationErrors:null},i=Xc(e),i.return=n,n.child=i,st=n,Be=null)):e=null,e===null)throw Mn(n);return n.lanes=536870912,null}return ta(n,s)}var h=e.memoizedState;if(h!==null){var S=h.dehydrated;if(Xs(n),d)if(n.flags&256)n.flags&=-257,n=pd(e,n,i);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(Ze||qo(e,n,i,!1),d=(i&e.childLanes)!==0,Ze||d){if(s=qe,s!==null&&(S=nc(s,i),S!==0&&S!==h.retryLane))throw h.retryLane=S,oo(e,S),_t(s,e,S),gr;da(),n=pd(e,n,i)}else e=h.treeContext,Be=zt(S.nextSibling),st=n,Ce=!0,wn=null,Vt=!1,e!==null&&$c(n,e),n=ta(n,s),n.flags|=4096;return n}return e=an(e.child,{mode:s.mode,children:s.children}),e.ref=n.ref,n.child=e,e.return=n,e}function na(e,n){var i=n.ref;if(i===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(a(284));(e===null||e.ref!==i)&&(n.flags|=4194816)}}function yr(e,n,i,s,d){return so(n),i=Zs(e,n,i,s,void 0,d),s=$s(),e!==null&&!Ze?(js(e,n,d),dn(e,n,d)):(Ce&&s&&Ds(n),n.flags|=1,ut(e,n,i,d),n.child)}function hd(e,n,i,s,d,h){return so(n),n.updateQueue=null,i=yf(n,s,i,d),gf(e),s=$s(),e!==null&&!Ze?(js(e,n,h),dn(e,n,h)):(Ce&&s&&Ds(n),n.flags|=1,ut(e,n,i,h),n.child)}function md(e,n,i,s,d){if(so(n),n.stateNode===null){var h=Ho,S=i.contextType;typeof S=="object"&&S!==null&&(h=rt(S)),h=new i(s,h),n.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=hr,n.stateNode=h,h._reactInternals=n,h=n.stateNode,h.props=s,h.state=n.memoizedState,h.refs={},Os(n),S=i.contextType,h.context=typeof S=="object"&&S!==null?rt(S):Ho,h.state=n.memoizedState,S=i.getDerivedStateFromProps,typeof S=="function"&&(pr(n,i,S,s),h.state=n.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(S=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),S!==h.state&&hr.enqueueReplaceState(h,h.state,null),qi(n,s,h,d),Vi(),h.state=n.memoizedState),typeof h.componentDidMount=="function"&&(n.flags|=4194308),s=!0}else if(e===null){h=n.stateNode;var _=n.memoizedProps,x=ho(i,_);h.props=x;var M=h.context,G=i.contextType;S=Ho,typeof G=="object"&&G!==null&&(S=rt(G));var z=i.getDerivedStateFromProps;G=typeof z=="function"||typeof h.getSnapshotBeforeUpdate=="function",_=n.pendingProps!==_,G||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(_||M!==S)&&td(n,h,s,S),Dn=!1;var I=n.memoizedState;h.state=I,qi(n,s,h,d),Vi(),M=n.memoizedState,_||I!==M||Dn?(typeof z=="function"&&(pr(n,i,z,s),M=n.memoizedState),(x=Dn||ed(n,i,x,s,I,M,S))?(G||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(n.flags|=4194308)):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=s,n.memoizedState=M),h.props=s,h.state=M,h.context=S,s=x):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),s=!1)}else{h=n.stateNode,Fs(e,n),S=n.memoizedProps,G=ho(i,S),h.props=G,z=n.pendingProps,I=h.context,M=i.contextType,x=Ho,typeof M=="object"&&M!==null&&(x=rt(M)),_=i.getDerivedStateFromProps,(M=typeof _=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(S!==z||I!==x)&&td(n,h,s,x),Dn=!1,I=n.memoizedState,h.state=I,qi(n,s,h,d),Vi();var L=n.memoizedState;S!==z||I!==L||Dn||e!==null&&e.dependencies!==null&&Gl(e.dependencies)?(typeof _=="function"&&(pr(n,i,_,s),L=n.memoizedState),(G=Dn||ed(n,i,G,s,I,L,x)||e!==null&&e.dependencies!==null&&Gl(e.dependencies))?(M||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(s,L,x),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(s,L,x)),typeof h.componentDidUpdate=="function"&&(n.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof h.componentDidUpdate!="function"||S===e.memoizedProps&&I===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&I===e.memoizedState||(n.flags|=1024),n.memoizedProps=s,n.memoizedState=L),h.props=s,h.state=L,h.context=x,s=G):(typeof h.componentDidUpdate!="function"||S===e.memoizedProps&&I===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&I===e.memoizedState||(n.flags|=1024),s=!1)}return h=s,na(e,n),s=(n.flags&128)!==0,h||s?(h=n.stateNode,i=s&&typeof i.getDerivedStateFromError!="function"?null:h.render(),n.flags|=1,e!==null&&s?(n.child=fo(n,e.child,null,d),n.child=fo(n,null,i,d)):ut(e,n,i,d),n.memoizedState=h.state,e=n.child):e=dn(e,n,d),e}function gd(e,n,i,s){return lo(),n.flags|=256,ut(e,n,i,s),n.child}var vr={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Sr(e){return{baseLanes:e,cachePool:lf()}}function Tr(e,n,i){return e=e!==null?e.childLanes&~i:0,n&&(e|=Mt),e}function yd(e,n,i){var s=n.pendingProps,d=!1,h=(n.flags&128)!==0,S;if((S=h)||(S=e!==null&&e.memoizedState===null?!1:(We.current&2)!==0),S&&(d=!0,n.flags&=-129),S=(n.flags&32)!==0,n.flags&=-33,e===null){if(Ce){if(d?Hn(n):kn(),(e=Be)?(e=xp(e,Vt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Rn!==null?{id:Zt,overflow:$t}:null,retryLane:536870912,hydrationErrors:null},i=Xc(e),i.return=n,n.child=i,st=n,Be=null)):e=null,e===null)throw Mn(n);return nu(e)?n.lanes=32:n.lanes=536870912,null}var _=s.children;return s=s.fallback,d?(kn(),d=n.mode,_=oa({mode:"hidden",children:_},d),s=io(s,d,i,null),_.return=n,s.return=n,_.sibling=s,n.child=_,s=n.child,s.memoizedState=Sr(i),s.childLanes=Tr(e,S,i),n.memoizedState=vr,Fi(null,s)):(Hn(n),Er(n,_))}var x=e.memoizedState;if(x!==null&&(_=x.dehydrated,_!==null)){if(h)n.flags&256?(Hn(n),n.flags&=-257,n=_r(e,n,i)):n.memoizedState!==null?(kn(),n.child=e.child,n.flags|=128,n=null):(kn(),_=s.fallback,d=n.mode,s=oa({mode:"visible",children:s.children},d),_=io(_,d,i,null),_.flags|=2,s.return=n,_.return=n,s.sibling=_,n.child=s,fo(n,e.child,null,i),s=n.child,s.memoizedState=Sr(i),s.childLanes=Tr(e,S,i),n.memoizedState=vr,n=Fi(null,s));else if(Hn(n),nu(_)){if(S=_.nextSibling&&_.nextSibling.dataset,S)var M=S.dgst;S=M,s=Error(a(419)),s.stack="",s.digest=S,Di({value:s,source:null,stack:null}),n=_r(e,n,i)}else if(Ze||qo(e,n,i,!1),S=(i&e.childLanes)!==0,Ze||S){if(S=qe,S!==null&&(s=nc(S,i),s!==0&&s!==x.retryLane))throw x.retryLane=s,oo(e,s),_t(S,e,s),gr;tu(_)||da(),n=_r(e,n,i)}else tu(_)?(n.flags|=192,n.child=e.child,n=null):(e=x.treeContext,Be=zt(_.nextSibling),st=n,Ce=!0,wn=null,Vt=!1,e!==null&&$c(n,e),n=Er(n,s.children),n.flags|=4096);return n}return d?(kn(),_=s.fallback,d=n.mode,x=e.child,M=x.sibling,s=an(x,{mode:"hidden",children:s.children}),s.subtreeFlags=x.subtreeFlags&65011712,M!==null?_=an(M,_):(_=io(_,d,i,null),_.flags|=2),_.return=n,s.return=n,s.sibling=_,n.child=s,Fi(null,s),s=n.child,_=e.child.memoizedState,_===null?_=Sr(i):(d=_.cachePool,d!==null?(x=Xe._currentValue,d=d.parent!==x?{parent:x,pool:x}:d):d=lf(),_={baseLanes:_.baseLanes|i,cachePool:d}),s.memoizedState=_,s.childLanes=Tr(e,S,i),n.memoizedState=vr,Fi(e.child,s)):(Hn(n),i=e.child,e=i.sibling,i=an(i,{mode:"visible",children:s.children}),i.return=n,i.sibling=null,e!==null&&(S=n.deletions,S===null?(n.deletions=[e],n.flags|=16):S.push(e)),n.child=i,n.memoizedState=null,i)}function Er(e,n){return n=oa({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function oa(e,n){return e=bt(22,e,null,n),e.lanes=0,e}function _r(e,n,i){return fo(n,e.child,null,i),e=Er(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function vd(e,n,i){e.lanes|=n;var s=e.alternate;s!==null&&(s.lanes|=n),Gs(e.return,n,i)}function Cr(e,n,i,s,d,h){var S=e.memoizedState;S===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:s,tail:i,tailMode:d,treeForkCount:h}:(S.isBackwards=n,S.rendering=null,S.renderingStartTime=0,S.last=s,S.tail=i,S.tailMode=d,S.treeForkCount=h)}function Sd(e,n,i){var s=n.pendingProps,d=s.revealOrder,h=s.tail;s=s.children;var S=We.current,_=(S&2)!==0;if(_?(S=S&1|2,n.flags|=128):S&=1,K(We,S),ut(e,n,s,i),s=Ce?Ii:0,!_&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&vd(e,i,n);else if(e.tag===19)vd(e,i,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(d){case"forwards":for(i=n.child,d=null;i!==null;)e=i.alternate,e!==null&&Jl(e)===null&&(d=i),i=i.sibling;i=d,i===null?(d=n.child,n.child=null):(d=i.sibling,i.sibling=null),Cr(n,!1,d,i,h,s);break;case"backwards":case"unstable_legacy-backwards":for(i=null,d=n.child,n.child=null;d!==null;){if(e=d.alternate,e!==null&&Jl(e)===null){n.child=d;break}e=d.sibling,d.sibling=i,i=d,d=e}Cr(n,!0,i,null,h,s);break;case"together":Cr(n,!1,null,null,void 0,s);break;default:n.memoizedState=null}return n.child}function dn(e,n,i){if(e!==null&&(n.dependencies=e.dependencies),qn|=n.lanes,(i&n.childLanes)===0)if(e!==null){if(qo(e,n,i,!1),(i&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,i=an(e,e.pendingProps),n.child=i,i.return=n;e.sibling!==null;)e=e.sibling,i=i.sibling=an(e,e.pendingProps),i.return=n;i.sibling=null}return n.child}function Ar(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Gl(e)))}function r0(e,n,i){switch(n.tag){case 3:lt(n,n.stateNode.containerInfo),In(n,Xe,e.memoizedState.cache),lo();break;case 27:case 5:Qt(n);break;case 4:lt(n,n.stateNode.containerInfo);break;case 10:In(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Xs(n),null;break;case 13:var s=n.memoizedState;if(s!==null)return s.dehydrated!==null?(Hn(n),n.flags|=128,null):(i&n.child.childLanes)!==0?yd(e,n,i):(Hn(n),e=dn(e,n,i),e!==null?e.sibling:null);Hn(n);break;case 19:var d=(e.flags&128)!==0;if(s=(i&n.childLanes)!==0,s||(qo(e,n,i,!1),s=(i&n.childLanes)!==0),d){if(s)return Sd(e,n,i);n.flags|=128}if(d=n.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),K(We,We.current),s)break;return null;case 22:return n.lanes=0,fd(e,n,i,n.pendingProps);case 24:In(n,Xe,e.memoizedState.cache)}return dn(e,n,i)}function Td(e,n,i){if(e!==null)if(e.memoizedProps!==n.pendingProps)Ze=!0;else{if(!Ar(e,i)&&(n.flags&128)===0)return Ze=!1,r0(e,n,i);Ze=(e.flags&131072)!==0}else Ze=!1,Ce&&(n.flags&1048576)!==0&&Zc(n,Ii,n.index);switch(n.lanes=0,n.tag){case 16:e:{var s=n.pendingProps;if(e=uo(n.elementType),n.type=e,typeof e=="function")ws(e)?(s=ho(e,s),n.tag=1,n=md(null,n,e,s,i)):(n.tag=0,n=yr(null,n,e,s,i));else{if(e!=null){var d=e.$$typeof;if(d===$){n.tag=11,n=rd(null,n,e,s,i);break e}else if(d===Y){n.tag=14,n=ud(null,n,e,s,i);break e}}throw n=ze(e)||e,Error(a(306,n,""))}}return n;case 0:return yr(e,n,n.type,n.pendingProps,i);case 1:return s=n.type,d=ho(s,n.pendingProps),md(e,n,s,d,i);case 3:e:{if(lt(n,n.stateNode.containerInfo),e===null)throw Error(a(387));s=n.pendingProps;var h=n.memoizedState;d=h.element,Fs(e,n),qi(n,s,null,i);var S=n.memoizedState;if(s=S.cache,In(n,Xe,s),s!==h.cache&&Vs(n,[Xe],i,!0),Vi(),s=S.element,h.isDehydrated)if(h={element:s,isDehydrated:!1,cache:S.cache},n.updateQueue.baseState=h,n.memoizedState=h,n.flags&256){n=gd(e,n,s,i);break e}else if(s!==d){d=Ht(Error(a(424)),n),Di(d),n=gd(e,n,s,i);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Be=zt(e.firstChild),st=n,Ce=!0,wn=null,Vt=!0,i=ff(n,null,s,i),n.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(lo(),s===d){n=dn(e,n,i);break e}ut(e,n,s,i)}n=n.child}return n;case 26:return na(e,n),e===null?(i=Ip(n.type,null,n.pendingProps,null))?n.memoizedState=i:Ce||(i=n.type,e=n.pendingProps,s=Sa(ae.current).createElement(i),s[at]=n,s[gt]=e,ct(s,i,e),tt(s),n.stateNode=s):n.memoizedState=Ip(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Qt(n),e===null&&Ce&&(s=n.stateNode=Rp(n.type,n.pendingProps,ae.current),st=n,Vt=!0,d=Be,Fn(n.type)?(ou=d,Be=zt(s.firstChild)):Be=d),ut(e,n,n.pendingProps.children,i),na(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Ce&&((d=s=Be)&&(s=V0(s,n.type,n.pendingProps,Vt),s!==null?(n.stateNode=s,st=n,Be=zt(s.firstChild),Vt=!1,d=!0):d=!1),d||Mn(n)),Qt(n),d=n.type,h=n.pendingProps,S=e!==null?e.memoizedProps:null,s=h.children,$r(d,h)?s=null:S!==null&&$r(d,S)&&(n.flags|=32),n.memoizedState!==null&&(d=Zs(e,n,jy,null,null,i),ll._currentValue=d),na(e,n),ut(e,n,s,i),n.child;case 6:return e===null&&Ce&&((e=i=Be)&&(i=q0(i,n.pendingProps,Vt),i!==null?(n.stateNode=i,st=n,Be=null,e=!0):e=!1),e||Mn(n)),null;case 13:return yd(e,n,i);case 4:return lt(n,n.stateNode.containerInfo),s=n.pendingProps,e===null?n.child=fo(n,null,s,i):ut(e,n,s,i),n.child;case 11:return rd(e,n,n.type,n.pendingProps,i);case 7:return ut(e,n,n.pendingProps,i),n.child;case 8:return ut(e,n,n.pendingProps.children,i),n.child;case 12:return ut(e,n,n.pendingProps.children,i),n.child;case 10:return s=n.pendingProps,In(n,n.type,s.value),ut(e,n,s.children,i),n.child;case 9:return d=n.type._context,s=n.pendingProps.children,so(n),d=rt(d),s=s(d),n.flags|=1,ut(e,n,s,i),n.child;case 14:return ud(e,n,n.type,n.pendingProps,i);case 15:return cd(e,n,n.type,n.pendingProps,i);case 19:return Sd(e,n,i);case 31:return s0(e,n,i);case 22:return fd(e,n,i,n.pendingProps);case 24:return so(n),s=rt(Xe),e===null?(d=Bs(),d===null&&(d=qe,h=qs(),d.pooledCache=h,h.refCount++,h!==null&&(d.pooledCacheLanes|=i),d=h),n.memoizedState={parent:s,cache:d},Os(n),In(n,Xe,d)):((e.lanes&i)!==0&&(Fs(e,n),qi(n,null,null,i),Vi()),d=e.memoizedState,h=n.memoizedState,d.parent!==s?(d={parent:s,cache:s},n.memoizedState=d,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=d),In(n,Xe,s)):(s=h.cache,In(n,Xe,s),s!==d.cache&&Vs(n,[Xe],i,!0))),ut(e,n,n.pendingProps.children,i),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function pn(e){e.flags|=4}function xr(e,n,i,s,d){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(d&335544128)===d)if(e.stateNode.complete)e.flags|=8192;else if(Wd())e.flags|=8192;else throw co=Bl,Ps}else e.flags&=-16777217}function Ed(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!kp(n))if(Wd())e.flags|=8192;else throw co=Bl,Ps}function ia(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?ju():536870912,e.lanes|=n,Zo|=n)}function Ji(e,n){if(!Ce)switch(e.tailMode){case"hidden":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Pe(e){var n=e.alternate!==null&&e.alternate.child===e.child,i=0,s=0;if(n)for(var d=e.child;d!==null;)i|=d.lanes|d.childLanes,s|=d.subtreeFlags&65011712,s|=d.flags&65011712,d.return=e,d=d.sibling;else for(d=e.child;d!==null;)i|=d.lanes|d.childLanes,s|=d.subtreeFlags,s|=d.flags,d.return=e,d=d.sibling;return e.subtreeFlags|=s,e.childLanes=i,n}function u0(e,n,i){var s=n.pendingProps;switch(Us(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pe(n),null;case 1:return Pe(n),null;case 3:return i=n.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),un(Xe),Fe(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(Vo(n)?pn(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Hs())),Pe(n),null;case 26:var d=n.type,h=n.memoizedState;return e===null?(pn(n),h!==null?(Pe(n),Ed(n,h)):(Pe(n),xr(n,d,null,s,i))):h?h!==e.memoizedState?(pn(n),Pe(n),Ed(n,h)):(Pe(n),n.flags&=-16777217):(e=e.memoizedProps,e!==s&&pn(n),Pe(n),xr(n,d,e,s,i)),null;case 27:if(So(n),i=ae.current,d=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==s&&pn(n);else{if(!s){if(n.stateNode===null)throw Error(a(166));return Pe(n),null}e=J.current,Vo(n)?jc(n):(e=Rp(d,s,i),n.stateNode=e,pn(n))}return Pe(n),null;case 5:if(So(n),d=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==s&&pn(n);else{if(!s){if(n.stateNode===null)throw Error(a(166));return Pe(n),null}if(h=J.current,Vo(n))jc(n);else{var S=Sa(ae.current);switch(h){case 1:h=S.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:h=S.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":h=S.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":h=S.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":h=S.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof s.is=="string"?S.createElement("select",{is:s.is}):S.createElement("select"),s.multiple?h.multiple=!0:s.size&&(h.size=s.size);break;default:h=typeof s.is=="string"?S.createElement(d,{is:s.is}):S.createElement(d)}}h[at]=n,h[gt]=s;e:for(S=n.child;S!==null;){if(S.tag===5||S.tag===6)h.appendChild(S.stateNode);else if(S.tag!==4&&S.tag!==27&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===n)break e;for(;S.sibling===null;){if(S.return===null||S.return===n)break e;S=S.return}S.sibling.return=S.return,S=S.sibling}n.stateNode=h;e:switch(ct(h,d,s),d){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&pn(n)}}return Pe(n),xr(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,i),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==s&&pn(n);else{if(typeof s!="string"&&n.stateNode===null)throw Error(a(166));if(e=ae.current,Vo(n)){if(e=n.stateNode,i=n.memoizedProps,s=null,d=st,d!==null)switch(d.tag){case 27:case 5:s=d.memoizedProps}e[at]=n,e=!!(e.nodeValue===i||s!==null&&s.suppressHydrationWarning===!0||yp(e.nodeValue,i)),e||Mn(n,!0)}else e=Sa(e).createTextNode(s),e[at]=n,n.stateNode=e}return Pe(n),null;case 31:if(i=n.memoizedState,e===null||e.memoizedState!==null){if(s=Vo(n),i!==null){if(e===null){if(!s)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[at]=n}else lo(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Pe(n),e=!1}else i=Hs(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),e=!0;if(!e)return n.flags&256?(Rt(n),n):(Rt(n),null);if((n.flags&128)!==0)throw Error(a(558))}return Pe(n),null;case 13:if(s=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(d=Vo(n),s!==null&&s.dehydrated!==null){if(e===null){if(!d)throw Error(a(318));if(d=n.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(a(317));d[at]=n}else lo(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Pe(n),d=!1}else d=Hs(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=d),d=!0;if(!d)return n.flags&256?(Rt(n),n):(Rt(n),null)}return Rt(n),(n.flags&128)!==0?(n.lanes=i,n):(i=s!==null,e=e!==null&&e.memoizedState!==null,i&&(s=n.child,d=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(d=s.alternate.memoizedState.cachePool.pool),h=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(h=s.memoizedState.cachePool.pool),h!==d&&(s.flags|=2048)),i!==e&&i&&(n.child.flags|=8192),ia(n,n.updateQueue),Pe(n),null);case 4:return Fe(),e===null&&Wr(n.stateNode.containerInfo),Pe(n),null;case 10:return un(n.type),Pe(n),null;case 19:if(V(We),s=n.memoizedState,s===null)return Pe(n),null;if(d=(n.flags&128)!==0,h=s.rendering,h===null)if(d)Ji(s,!1);else{if(Ye!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(h=Jl(e),h!==null){for(n.flags|=128,Ji(s,!1),e=h.updateQueue,n.updateQueue=e,ia(n,e),n.subtreeFlags=0,e=i,i=n.child;i!==null;)Kc(i,e),i=i.sibling;return K(We,We.current&1|2),Ce&&sn(n,s.treeForkCount),n.child}e=e.sibling}s.tail!==null&&se()>ua&&(n.flags|=128,d=!0,Ji(s,!1),n.lanes=4194304)}else{if(!d)if(e=Jl(h),e!==null){if(n.flags|=128,d=!0,e=e.updateQueue,n.updateQueue=e,ia(n,e),Ji(s,!0),s.tail===null&&s.tailMode==="hidden"&&!h.alternate&&!Ce)return Pe(n),null}else 2*se()-s.renderingStartTime>ua&&i!==536870912&&(n.flags|=128,d=!0,Ji(s,!1),n.lanes=4194304);s.isBackwards?(h.sibling=n.child,n.child=h):(e=s.last,e!==null?e.sibling=h:n.child=h,s.last=h)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=se(),e.sibling=null,i=We.current,K(We,d?i&1|2:i&1),Ce&&sn(n,s.treeForkCount),e):(Pe(n),null);case 22:case 23:return Rt(n),Ks(),s=n.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(n.flags|=8192):s&&(n.flags|=8192),s?(i&536870912)!==0&&(n.flags&128)===0&&(Pe(n),n.subtreeFlags&6&&(n.flags|=8192)):Pe(n),i=n.updateQueue,i!==null&&ia(n,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),s=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),s!==i&&(n.flags|=2048),e!==null&&V(ro),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),n.memoizedState.cache!==i&&(n.flags|=2048),un(Xe),Pe(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function c0(e,n){switch(Us(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return un(Xe),Fe(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return So(n),null;case 31:if(n.memoizedState!==null){if(Rt(n),n.alternate===null)throw Error(a(340));lo()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(Rt(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));lo()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return V(We),null;case 4:return Fe(),null;case 10:return un(n.type),null;case 22:case 23:return Rt(n),Ks(),e!==null&&V(ro),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return un(Xe),null;case 25:return null;default:return null}}function _d(e,n){switch(Us(n),n.tag){case 3:un(Xe),Fe();break;case 26:case 27:case 5:So(n);break;case 4:Fe();break;case 31:n.memoizedState!==null&&Rt(n);break;case 13:Rt(n);break;case 19:V(We);break;case 10:un(n.type);break;case 22:case 23:Rt(n),Ks(),e!==null&&V(ro);break;case 24:un(Xe)}}function Yi(e,n){try{var i=n.updateQueue,s=i!==null?i.lastEffect:null;if(s!==null){var d=s.next;i=d;do{if((i.tag&e)===e){s=void 0;var h=i.create,S=i.inst;s=h(),S.destroy=s}i=i.next}while(i!==d)}}catch(_){He(n,n.return,_)}}function Gn(e,n,i){try{var s=n.updateQueue,d=s!==null?s.lastEffect:null;if(d!==null){var h=d.next;s=h;do{if((s.tag&e)===e){var S=s.inst,_=S.destroy;if(_!==void 0){S.destroy=void 0,d=n;var x=i,M=_;try{M()}catch(G){He(d,x,G)}}}s=s.next}while(s!==h)}}catch(G){He(n,n.return,G)}}function Cd(e){var n=e.updateQueue;if(n!==null){var i=e.stateNode;try{pf(n,i)}catch(s){He(e,e.return,s)}}}function Ad(e,n,i){i.props=ho(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(s){He(e,n,s)}}function Wi(e,n){try{var i=e.ref;if(i!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof i=="function"?e.refCleanup=i(s):i.current=s}}catch(d){He(e,n,d)}}function jt(e,n){var i=e.ref,s=e.refCleanup;if(i!==null)if(typeof s=="function")try{s()}catch(d){He(e,n,d)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(d){He(e,n,d)}else i.current=null}function xd(e){var n=e.type,i=e.memoizedProps,s=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":i.autoFocus&&s.focus();break e;case"img":i.src?s.src=i.src:i.srcSet&&(s.srcset=i.srcSet)}}catch(d){He(e,e.return,d)}}function br(e,n,i){try{var s=e.stateNode;D0(s,e.type,i,n),s[gt]=n}catch(d){He(e,e.return,d)}}function bd(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Fn(e.type)||e.tag===4}function Nr(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||bd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Fn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Rr(e,n,i){var s=e.tag;if(s===5||s===6)e=e.stateNode,n?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(e,n):(n=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,n.appendChild(e),i=i._reactRootContainer,i!=null||n.onclick!==null||(n.onclick=on));else if(s!==4&&(s===27&&Fn(e.type)&&(i=e.stateNode,n=null),e=e.child,e!==null))for(Rr(e,n,i),e=e.sibling;e!==null;)Rr(e,n,i),e=e.sibling}function la(e,n,i){var s=e.tag;if(s===5||s===6)e=e.stateNode,n?i.insertBefore(e,n):i.appendChild(e);else if(s!==4&&(s===27&&Fn(e.type)&&(i=e.stateNode),e=e.child,e!==null))for(la(e,n,i),e=e.sibling;e!==null;)la(e,n,i),e=e.sibling}function Nd(e){var n=e.stateNode,i=e.memoizedProps;try{for(var s=e.type,d=n.attributes;d.length;)n.removeAttributeNode(d[0]);ct(n,s,i),n[at]=e,n[gt]=i}catch(h){He(e,e.return,h)}}var hn=!1,$e=!1,wr=!1,Rd=typeof WeakSet=="function"?WeakSet:Set,nt=null;function f0(e,n){if(e=e.containerInfo,Qr=ba,e=qc(e),_s(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var s=i.getSelection&&i.getSelection();if(s&&s.rangeCount!==0){i=s.anchorNode;var d=s.anchorOffset,h=s.focusNode;s=s.focusOffset;try{i.nodeType,h.nodeType}catch{i=null;break e}var S=0,_=-1,x=-1,M=0,G=0,z=e,I=null;t:for(;;){for(var L;z!==i||d!==0&&z.nodeType!==3||(_=S+d),z!==h||s!==0&&z.nodeType!==3||(x=S+s),z.nodeType===3&&(S+=z.nodeValue.length),(L=z.firstChild)!==null;)I=z,z=L;for(;;){if(z===e)break t;if(I===i&&++M===d&&(_=S),I===h&&++G===s&&(x=S),(L=z.nextSibling)!==null)break;z=I,I=z.parentNode}z=L}i=_===-1||x===-1?null:{start:_,end:x}}else i=null}i=i||{start:0,end:0}}else i=null;for(Zr={focusedElem:e,selectionRange:i},ba=!1,nt=n;nt!==null;)if(n=nt,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,nt=e;else for(;nt!==null;){switch(n=nt,h=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(i=0;i<e.length;i++)d=e[i],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&h!==null){e=void 0,i=n,d=h.memoizedProps,h=h.memoizedState,s=i.stateNode;try{var j=ho(i.type,d);e=s.getSnapshotBeforeUpdate(j,h),s.__reactInternalSnapshotBeforeUpdate=e}catch(ie){He(i,i.return,ie)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,i=e.nodeType,i===9)eu(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":eu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,nt=e;break}nt=n.return}}function wd(e,n,i){var s=i.flags;switch(i.tag){case 0:case 11:case 15:gn(e,i),s&4&&Yi(5,i);break;case 1:if(gn(e,i),s&4)if(e=i.stateNode,n===null)try{e.componentDidMount()}catch(S){He(i,i.return,S)}else{var d=ho(i.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(d,n,e.__reactInternalSnapshotBeforeUpdate)}catch(S){He(i,i.return,S)}}s&64&&Cd(i),s&512&&Wi(i,i.return);break;case 3:if(gn(e,i),s&64&&(e=i.updateQueue,e!==null)){if(n=null,i.child!==null)switch(i.child.tag){case 27:case 5:n=i.child.stateNode;break;case 1:n=i.child.stateNode}try{pf(e,n)}catch(S){He(i,i.return,S)}}break;case 27:n===null&&s&4&&Nd(i);case 26:case 5:gn(e,i),n===null&&s&4&&xd(i),s&512&&Wi(i,i.return);break;case 12:gn(e,i);break;case 31:gn(e,i),s&4&&Dd(e,i);break;case 13:gn(e,i),s&4&&Ud(e,i),s&64&&(e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(i=T0.bind(null,i),z0(e,i))));break;case 22:if(s=i.memoizedState!==null||hn,!s){n=n!==null&&n.memoizedState!==null||$e,d=hn;var h=$e;hn=s,($e=n)&&!h?yn(e,i,(i.subtreeFlags&8772)!==0):gn(e,i),hn=d,$e=h}break;case 30:break;default:gn(e,i)}}function Md(e){var n=e.alternate;n!==null&&(e.alternate=null,Md(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&ls(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Oe=null,vt=!1;function mn(e,n,i){for(i=i.child;i!==null;)Id(e,n,i),i=i.sibling}function Id(e,n,i){if(Ct&&typeof Ct.onCommitFiberUnmount=="function")try{Ct.onCommitFiberUnmount(yi,i)}catch{}switch(i.tag){case 26:$e||jt(i,n),mn(e,n,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:$e||jt(i,n);var s=Oe,d=vt;Fn(i.type)&&(Oe=i.stateNode,vt=!1),mn(e,n,i),nl(i.stateNode),Oe=s,vt=d;break;case 5:$e||jt(i,n);case 6:if(s=Oe,d=vt,Oe=null,mn(e,n,i),Oe=s,vt=d,Oe!==null)if(vt)try{(Oe.nodeType===9?Oe.body:Oe.nodeName==="HTML"?Oe.ownerDocument.body:Oe).removeChild(i.stateNode)}catch(h){He(i,n,h)}else try{Oe.removeChild(i.stateNode)}catch(h){He(i,n,h)}break;case 18:Oe!==null&&(vt?(e=Oe,Cp(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,i.stateNode),li(e)):Cp(Oe,i.stateNode));break;case 4:s=Oe,d=vt,Oe=i.stateNode.containerInfo,vt=!0,mn(e,n,i),Oe=s,vt=d;break;case 0:case 11:case 14:case 15:Gn(2,i,n),$e||Gn(4,i,n),mn(e,n,i);break;case 1:$e||(jt(i,n),s=i.stateNode,typeof s.componentWillUnmount=="function"&&Ad(i,n,s)),mn(e,n,i);break;case 21:mn(e,n,i);break;case 22:$e=(s=$e)||i.memoizedState!==null,mn(e,n,i),$e=s;break;default:mn(e,n,i)}}function Dd(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{li(e)}catch(i){He(n,n.return,i)}}}function Ud(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{li(e)}catch(i){He(n,n.return,i)}}function d0(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Rd),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Rd),n;default:throw Error(a(435,e.tag))}}function aa(e,n){var i=d0(e);n.forEach(function(s){if(!i.has(s)){i.add(s);var d=E0.bind(null,e,s);s.then(d,d)}})}function St(e,n){var i=n.deletions;if(i!==null)for(var s=0;s<i.length;s++){var d=i[s],h=e,S=n,_=S;e:for(;_!==null;){switch(_.tag){case 27:if(Fn(_.type)){Oe=_.stateNode,vt=!1;break e}break;case 5:Oe=_.stateNode,vt=!1;break e;case 3:case 4:Oe=_.stateNode.containerInfo,vt=!0;break e}_=_.return}if(Oe===null)throw Error(a(160));Id(h,S,d),Oe=null,vt=!1,h=d.alternate,h!==null&&(h.return=null),d.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Ld(n,e),n=n.sibling}var Jt=null;function Ld(e,n){var i=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:St(n,e),Tt(e),s&4&&(Gn(3,e,e.return),Yi(3,e),Gn(5,e,e.return));break;case 1:St(n,e),Tt(e),s&512&&($e||i===null||jt(i,i.return)),s&64&&hn&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?s:i.concat(s))));break;case 26:var d=Jt;if(St(n,e),Tt(e),s&512&&($e||i===null||jt(i,i.return)),s&4){var h=i!==null?i.memoizedState:null;if(s=e.memoizedState,i===null)if(s===null)if(e.stateNode===null){e:{s=e.type,i=e.memoizedProps,d=d.ownerDocument||d;t:switch(s){case"title":h=d.getElementsByTagName("title")[0],(!h||h[Ti]||h[at]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=d.createElement(s),d.head.insertBefore(h,d.querySelector("head > title"))),ct(h,s,i),h[at]=e,tt(h),s=h;break e;case"link":var S=Lp("link","href",d).get(s+(i.href||""));if(S){for(var _=0;_<S.length;_++)if(h=S[_],h.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&h.getAttribute("rel")===(i.rel==null?null:i.rel)&&h.getAttribute("title")===(i.title==null?null:i.title)&&h.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){S.splice(_,1);break t}}h=d.createElement(s),ct(h,s,i),d.head.appendChild(h);break;case"meta":if(S=Lp("meta","content",d).get(s+(i.content||""))){for(_=0;_<S.length;_++)if(h=S[_],h.getAttribute("content")===(i.content==null?null:""+i.content)&&h.getAttribute("name")===(i.name==null?null:i.name)&&h.getAttribute("property")===(i.property==null?null:i.property)&&h.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&h.getAttribute("charset")===(i.charSet==null?null:i.charSet)){S.splice(_,1);break t}}h=d.createElement(s),ct(h,s,i),d.head.appendChild(h);break;default:throw Error(a(468,s))}h[at]=e,tt(h),s=h}e.stateNode=s}else Hp(d,e.type,e.stateNode);else e.stateNode=Up(d,s,e.memoizedProps);else h!==s?(h===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):h.count--,s===null?Hp(d,e.type,e.stateNode):Up(d,s,e.memoizedProps)):s===null&&e.stateNode!==null&&br(e,e.memoizedProps,i.memoizedProps)}break;case 27:St(n,e),Tt(e),s&512&&($e||i===null||jt(i,i.return)),i!==null&&s&4&&br(e,e.memoizedProps,i.memoizedProps);break;case 5:if(St(n,e),Tt(e),s&512&&($e||i===null||jt(i,i.return)),e.flags&32){d=e.stateNode;try{Ro(d,"")}catch(j){He(e,e.return,j)}}s&4&&e.stateNode!=null&&(d=e.memoizedProps,br(e,d,i!==null?i.memoizedProps:d)),s&1024&&(wr=!0);break;case 6:if(St(n,e),Tt(e),s&4){if(e.stateNode===null)throw Error(a(162));s=e.memoizedProps,i=e.stateNode;try{i.nodeValue=s}catch(j){He(e,e.return,j)}}break;case 3:if(_a=null,d=Jt,Jt=Ta(n.containerInfo),St(n,e),Jt=d,Tt(e),s&4&&i!==null&&i.memoizedState.isDehydrated)try{li(n.containerInfo)}catch(j){He(e,e.return,j)}wr&&(wr=!1,Hd(e));break;case 4:s=Jt,Jt=Ta(e.stateNode.containerInfo),St(n,e),Tt(e),Jt=s;break;case 12:St(n,e),Tt(e);break;case 31:St(n,e),Tt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,aa(e,s)));break;case 13:St(n,e),Tt(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(ra=se()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,aa(e,s)));break;case 22:d=e.memoizedState!==null;var x=i!==null&&i.memoizedState!==null,M=hn,G=$e;if(hn=M||d,$e=G||x,St(n,e),$e=G,hn=M,Tt(e),s&8192)e:for(n=e.stateNode,n._visibility=d?n._visibility&-2:n._visibility|1,d&&(i===null||x||hn||$e||mo(e)),i=null,n=e;;){if(n.tag===5||n.tag===26){if(i===null){x=i=n;try{if(h=x.stateNode,d)S=h.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{_=x.stateNode;var z=x.memoizedProps.style,I=z!=null&&z.hasOwnProperty("display")?z.display:null;_.style.display=I==null||typeof I=="boolean"?"":(""+I).trim()}}catch(j){He(x,x.return,j)}}}else if(n.tag===6){if(i===null){x=n;try{x.stateNode.nodeValue=d?"":x.memoizedProps}catch(j){He(x,x.return,j)}}}else if(n.tag===18){if(i===null){x=n;try{var L=x.stateNode;d?Ap(L,!0):Ap(x.stateNode,!1)}catch(j){He(x,x.return,j)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;i===n&&(i=null),n=n.return}i===n&&(i=null),n.sibling.return=n.return,n=n.sibling}s&4&&(s=e.updateQueue,s!==null&&(i=s.retryQueue,i!==null&&(s.retryQueue=null,aa(e,i))));break;case 19:St(n,e),Tt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,aa(e,s)));break;case 30:break;case 21:break;default:St(n,e),Tt(e)}}function Tt(e){var n=e.flags;if(n&2){try{for(var i,s=e.return;s!==null;){if(bd(s)){i=s;break}s=s.return}if(i==null)throw Error(a(160));switch(i.tag){case 27:var d=i.stateNode,h=Nr(e);la(e,h,d);break;case 5:var S=i.stateNode;i.flags&32&&(Ro(S,""),i.flags&=-33);var _=Nr(e);la(e,_,S);break;case 3:case 4:var x=i.stateNode.containerInfo,M=Nr(e);Rr(e,M,x);break;default:throw Error(a(161))}}catch(G){He(e,e.return,G)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Hd(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Hd(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function gn(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)wd(e,n.alternate,n),n=n.sibling}function mo(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Gn(4,n,n.return),mo(n);break;case 1:jt(n,n.return);var i=n.stateNode;typeof i.componentWillUnmount=="function"&&Ad(n,n.return,i),mo(n);break;case 27:nl(n.stateNode);case 26:case 5:jt(n,n.return),mo(n);break;case 22:n.memoizedState===null&&mo(n);break;case 30:mo(n);break;default:mo(n)}e=e.sibling}}function yn(e,n,i){for(i=i&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var s=n.alternate,d=e,h=n,S=h.flags;switch(h.tag){case 0:case 11:case 15:yn(d,h,i),Yi(4,h);break;case 1:if(yn(d,h,i),s=h,d=s.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(M){He(s,s.return,M)}if(s=h,d=s.updateQueue,d!==null){var _=s.stateNode;try{var x=d.shared.hiddenCallbacks;if(x!==null)for(d.shared.hiddenCallbacks=null,d=0;d<x.length;d++)df(x[d],_)}catch(M){He(s,s.return,M)}}i&&S&64&&Cd(h),Wi(h,h.return);break;case 27:Nd(h);case 26:case 5:yn(d,h,i),i&&s===null&&S&4&&xd(h),Wi(h,h.return);break;case 12:yn(d,h,i);break;case 31:yn(d,h,i),i&&S&4&&Dd(d,h);break;case 13:yn(d,h,i),i&&S&4&&Ud(d,h);break;case 22:h.memoizedState===null&&yn(d,h,i),Wi(h,h.return);break;case 30:break;default:yn(d,h,i)}n=n.sibling}}function Mr(e,n){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&Ui(i))}function Ir(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ui(e))}function Yt(e,n,i,s){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)kd(e,n,i,s),n=n.sibling}function kd(e,n,i,s){var d=n.flags;switch(n.tag){case 0:case 11:case 15:Yt(e,n,i,s),d&2048&&Yi(9,n);break;case 1:Yt(e,n,i,s);break;case 3:Yt(e,n,i,s),d&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ui(e)));break;case 12:if(d&2048){Yt(e,n,i,s),e=n.stateNode;try{var h=n.memoizedProps,S=h.id,_=h.onPostCommit;typeof _=="function"&&_(S,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(x){He(n,n.return,x)}}else Yt(e,n,i,s);break;case 31:Yt(e,n,i,s);break;case 13:Yt(e,n,i,s);break;case 23:break;case 22:h=n.stateNode,S=n.alternate,n.memoizedState!==null?h._visibility&2?Yt(e,n,i,s):Ki(e,n):h._visibility&2?Yt(e,n,i,s):(h._visibility|=2,Ko(e,n,i,s,(n.subtreeFlags&10256)!==0||!1)),d&2048&&Mr(S,n);break;case 24:Yt(e,n,i,s),d&2048&&Ir(n.alternate,n);break;default:Yt(e,n,i,s)}}function Ko(e,n,i,s,d){for(d=d&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var h=e,S=n,_=i,x=s,M=S.flags;switch(S.tag){case 0:case 11:case 15:Ko(h,S,_,x,d),Yi(8,S);break;case 23:break;case 22:var G=S.stateNode;S.memoizedState!==null?G._visibility&2?Ko(h,S,_,x,d):Ki(h,S):(G._visibility|=2,Ko(h,S,_,x,d)),d&&M&2048&&Mr(S.alternate,S);break;case 24:Ko(h,S,_,x,d),d&&M&2048&&Ir(S.alternate,S);break;default:Ko(h,S,_,x,d)}n=n.sibling}}function Ki(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var i=e,s=n,d=s.flags;switch(s.tag){case 22:Ki(i,s),d&2048&&Mr(s.alternate,s);break;case 24:Ki(i,s),d&2048&&Ir(s.alternate,s);break;default:Ki(i,s)}n=n.sibling}}var Xi=8192;function Xo(e,n,i){if(e.subtreeFlags&Xi)for(e=e.child;e!==null;)Gd(e,n,i),e=e.sibling}function Gd(e,n,i){switch(e.tag){case 26:Xo(e,n,i),e.flags&Xi&&e.memoizedState!==null&&$0(i,Jt,e.memoizedState,e.memoizedProps);break;case 5:Xo(e,n,i);break;case 3:case 4:var s=Jt;Jt=Ta(e.stateNode.containerInfo),Xo(e,n,i),Jt=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=Xi,Xi=16777216,Xo(e,n,i),Xi=s):Xo(e,n,i));break;default:Xo(e,n,i)}}function Vd(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Qi(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var i=0;i<n.length;i++){var s=n[i];nt=s,zd(s,e)}Vd(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)qd(e),e=e.sibling}function qd(e){switch(e.tag){case 0:case 11:case 15:Qi(e),e.flags&2048&&Gn(9,e,e.return);break;case 3:Qi(e);break;case 12:Qi(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,sa(e)):Qi(e);break;default:Qi(e)}}function sa(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var i=0;i<n.length;i++){var s=n[i];nt=s,zd(s,e)}Vd(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Gn(8,n,n.return),sa(n);break;case 22:i=n.stateNode,i._visibility&2&&(i._visibility&=-3,sa(n));break;default:sa(n)}e=e.sibling}}function zd(e,n){for(;nt!==null;){var i=nt;switch(i.tag){case 0:case 11:case 15:Gn(8,i,n);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var s=i.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:Ui(i.memoizedState.cache)}if(s=i.child,s!==null)s.return=i,nt=s;else e:for(i=e;nt!==null;){s=nt;var d=s.sibling,h=s.return;if(Md(s),s===i){nt=null;break e}if(d!==null){d.return=h,nt=d;break e}nt=h}}}var p0={getCacheForType:function(e){var n=rt(Xe),i=n.data.get(e);return i===void 0&&(i=e(),n.data.set(e,i)),i},cacheSignal:function(){return rt(Xe).controller.signal}},h0=typeof WeakMap=="function"?WeakMap:Map,Me=0,qe=null,ye=null,Se=0,Le=0,wt=null,Vn=!1,Qo=!1,Dr=!1,vn=0,Ye=0,qn=0,go=0,Ur=0,Mt=0,Zo=0,Zi=null,Et=null,Lr=!1,ra=0,Bd=0,ua=1/0,ca=null,zn=null,je=0,Bn=null,$o=null,Sn=0,Hr=0,kr=null,Pd=null,$i=0,Gr=null;function It(){return(Me&2)!==0&&Se!==0?Se&-Se:H.T!==null?Or():oc()}function Od(){if(Mt===0)if((Se&536870912)===0||Ce){var e=vl;vl<<=1,(vl&3932160)===0&&(vl=262144),Mt=e}else Mt=536870912;return e=Nt.current,e!==null&&(e.flags|=32),Mt}function _t(e,n,i){(e===qe&&(Le===2||Le===9)||e.cancelPendingCommit!==null)&&(jo(e,0),Pn(e,Se,Mt,!1)),Si(e,i),((Me&2)===0||e!==qe)&&(e===qe&&((Me&2)===0&&(go|=i),Ye===4&&Pn(e,Se,Mt,!1)),en(e))}function Fd(e,n,i){if((Me&6)!==0)throw Error(a(327));var s=!i&&(n&127)===0&&(n&e.expiredLanes)===0||vi(e,n),d=s?y0(e,n):qr(e,n,!0),h=s;do{if(d===0){Qo&&!s&&Pn(e,n,0,!1);break}else{if(i=e.current.alternate,h&&!m0(i)){d=qr(e,n,!1),h=!1;continue}if(d===2){if(h=n,e.errorRecoveryDisabledLanes&h)var S=0;else S=e.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){n=S;e:{var _=e;d=Zi;var x=_.current.memoizedState.isDehydrated;if(x&&(jo(_,S).flags|=256),S=qr(_,S,!1),S!==2){if(Dr&&!x){_.errorRecoveryDisabledLanes|=h,go|=h,d=4;break e}h=Et,Et=d,h!==null&&(Et===null?Et=h:Et.push.apply(Et,h))}d=S}if(h=!1,d!==2)continue}}if(d===1){jo(e,0),Pn(e,n,0,!0);break}e:{switch(s=e,h=d,h){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Pn(s,n,Mt,!Vn);break e;case 2:Et=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(d=ra+300-se(),10<d)){if(Pn(s,n,Mt,!Vn),Tl(s,0,!0)!==0)break e;Sn=n,s.timeoutHandle=Ep(Jd.bind(null,s,i,Et,ca,Lr,n,Mt,go,Zo,Vn,h,"Throttled",-0,0),d);break e}Jd(s,i,Et,ca,Lr,n,Mt,go,Zo,Vn,h,null,-0,0)}}break}while(!0);en(e)}function Jd(e,n,i,s,d,h,S,_,x,M,G,z,I,L){if(e.timeoutHandle=-1,z=n.subtreeFlags,z&8192||(z&16785408)===16785408){z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:on},Gd(n,h,z);var j=(h&62914560)===h?ra-se():(h&4194048)===h?Bd-se():0;if(j=j0(z,j),j!==null){Sn=h,e.cancelPendingCommit=j(jd.bind(null,e,n,h,i,s,d,S,_,x,G,z,null,I,L)),Pn(e,h,S,!M);return}}jd(e,n,h,i,s,d,S,_,x)}function m0(e){for(var n=e;;){var i=n.tag;if((i===0||i===11||i===15)&&n.flags&16384&&(i=n.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var s=0;s<i.length;s++){var d=i[s],h=d.getSnapshot;d=d.value;try{if(!xt(h(),d))return!1}catch{return!1}}if(i=n.child,n.subtreeFlags&16384&&i!==null)i.return=n,n=i;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Pn(e,n,i,s){n&=~Ur,n&=~go,e.suspendedLanes|=n,e.pingedLanes&=~n,s&&(e.warmLanes|=n),s=e.expirationTimes;for(var d=n;0<d;){var h=31-At(d),S=1<<h;s[h]=-1,d&=~S}i!==0&&ec(e,i,n)}function fa(){return(Me&6)===0?(ji(0),!1):!0}function Vr(){if(ye!==null){if(Le===0)var e=ye.return;else e=ye,rn=ao=null,er(e),Oo=null,Hi=0,e=ye;for(;e!==null;)_d(e.alternate,e),e=e.return;ye=null}}function jo(e,n){var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,H0(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),Sn=0,Vr(),qe=e,ye=i=an(e.current,null),Se=n,Le=0,wt=null,Vn=!1,Qo=vi(e,n),Dr=!1,Zo=Mt=Ur=go=qn=Ye=0,Et=Zi=null,Lr=!1,(n&8)!==0&&(n|=n&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=n;0<s;){var d=31-At(s),h=1<<d;n|=e[d],s&=~h}return vn=n,Dl(),i}function Yd(e,n){pe=null,H.H=Oi,n===Po||n===zl?(n=rf(),Le=3):n===Ps?(n=rf(),Le=4):Le=n===gr?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,wt=n,ye===null&&(Ye=1,ea(e,Ht(n,e.current)))}function Wd(){var e=Nt.current;return e===null?!0:(Se&4194048)===Se?qt===null:(Se&62914560)===Se||(Se&536870912)!==0?e===qt:!1}function Kd(){var e=H.H;return H.H=Oi,e===null?Oi:e}function Xd(){var e=H.A;return H.A=p0,e}function da(){Ye=4,Vn||(Se&4194048)!==Se&&Nt.current!==null||(Qo=!0),(qn&134217727)===0&&(go&134217727)===0||qe===null||Pn(qe,Se,Mt,!1)}function qr(e,n,i){var s=Me;Me|=2;var d=Kd(),h=Xd();(qe!==e||Se!==n)&&(ca=null,jo(e,n)),n=!1;var S=Ye;e:do try{if(Le!==0&&ye!==null){var _=ye,x=wt;switch(Le){case 8:Vr(),S=6;break e;case 3:case 2:case 9:case 6:Nt.current===null&&(n=!0);var M=Le;if(Le=0,wt=null,ei(e,_,x,M),i&&Qo){S=0;break e}break;default:M=Le,Le=0,wt=null,ei(e,_,x,M)}}g0(),S=Ye;break}catch(G){Yd(e,G)}while(!0);return n&&e.shellSuspendCounter++,rn=ao=null,Me=s,H.H=d,H.A=h,ye===null&&(qe=null,Se=0,Dl()),S}function g0(){for(;ye!==null;)Qd(ye)}function y0(e,n){var i=Me;Me|=2;var s=Kd(),d=Xd();qe!==e||Se!==n?(ca=null,ua=se()+500,jo(e,n)):Qo=vi(e,n);e:do try{if(Le!==0&&ye!==null){n=ye;var h=wt;t:switch(Le){case 1:Le=0,wt=null,ei(e,n,h,1);break;case 2:case 9:if(af(h)){Le=0,wt=null,Zd(n);break}n=function(){Le!==2&&Le!==9||qe!==e||(Le=7),en(e)},h.then(n,n);break e;case 3:Le=7;break e;case 4:Le=5;break e;case 7:af(h)?(Le=0,wt=null,Zd(n)):(Le=0,wt=null,ei(e,n,h,7));break;case 5:var S=null;switch(ye.tag){case 26:S=ye.memoizedState;case 5:case 27:var _=ye;if(S?kp(S):_.stateNode.complete){Le=0,wt=null;var x=_.sibling;if(x!==null)ye=x;else{var M=_.return;M!==null?(ye=M,pa(M)):ye=null}break t}}Le=0,wt=null,ei(e,n,h,5);break;case 6:Le=0,wt=null,ei(e,n,h,6);break;case 8:Vr(),Ye=6;break e;default:throw Error(a(462))}}v0();break}catch(G){Yd(e,G)}while(!0);return rn=ao=null,H.H=s,H.A=d,Me=i,ye!==null?0:(qe=null,Se=0,Dl(),Ye)}function v0(){for(;ye!==null&&!Ue();)Qd(ye)}function Qd(e){var n=Td(e.alternate,e,vn);e.memoizedProps=e.pendingProps,n===null?pa(e):ye=n}function Zd(e){var n=e,i=n.alternate;switch(n.tag){case 15:case 0:n=hd(i,n,n.pendingProps,n.type,void 0,Se);break;case 11:n=hd(i,n,n.pendingProps,n.type.render,n.ref,Se);break;case 5:er(n);default:_d(i,n),n=ye=Kc(n,vn),n=Td(i,n,vn)}e.memoizedProps=e.pendingProps,n===null?pa(e):ye=n}function ei(e,n,i,s){rn=ao=null,er(n),Oo=null,Hi=0;var d=n.return;try{if(a0(e,d,n,i,Se)){Ye=1,ea(e,Ht(i,e.current)),ye=null;return}}catch(h){if(d!==null)throw ye=d,h;Ye=1,ea(e,Ht(i,e.current)),ye=null;return}n.flags&32768?(Ce||s===1?e=!0:Qo||(Se&536870912)!==0?e=!1:(Vn=e=!0,(s===2||s===9||s===3||s===6)&&(s=Nt.current,s!==null&&s.tag===13&&(s.flags|=16384))),$d(n,e)):pa(n)}function pa(e){var n=e;do{if((n.flags&32768)!==0){$d(n,Vn);return}e=n.return;var i=u0(n.alternate,n,vn);if(i!==null){ye=i;return}if(n=n.sibling,n!==null){ye=n;return}ye=n=e}while(n!==null);Ye===0&&(Ye=5)}function $d(e,n){do{var i=c0(e.alternate,e);if(i!==null){i.flags&=32767,ye=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!n&&(e=e.sibling,e!==null)){ye=e;return}ye=e=i}while(e!==null);Ye=6,ye=null}function jd(e,n,i,s,d,h,S,_,x){e.cancelPendingCommit=null;do ha();while(je!==0);if((Me&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(h=n.lanes|n.childLanes,h|=Ns,Zg(e,i,h,S,_,x),e===qe&&(ye=qe=null,Se=0),$o=n,Bn=e,Sn=i,Hr=h,kr=d,Pd=s,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,_0(gl,function(){return ip(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||s){s=H.T,H.T=null,d=W.p,W.p=2,S=Me,Me|=4;try{f0(e,n,i)}finally{Me=S,W.p=d,H.T=s}}je=1,ep(),tp(),np()}}function ep(){if(je===1){je=0;var e=Bn,n=$o,i=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||i){i=H.T,H.T=null;var s=W.p;W.p=2;var d=Me;Me|=4;try{Ld(n,e);var h=Zr,S=qc(e.containerInfo),_=h.focusedElem,x=h.selectionRange;if(S!==_&&_&&_.ownerDocument&&Vc(_.ownerDocument.documentElement,_)){if(x!==null&&_s(_)){var M=x.start,G=x.end;if(G===void 0&&(G=M),"selectionStart"in _)_.selectionStart=M,_.selectionEnd=Math.min(G,_.value.length);else{var z=_.ownerDocument||document,I=z&&z.defaultView||window;if(I.getSelection){var L=I.getSelection(),j=_.textContent.length,ie=Math.min(x.start,j),Ve=x.end===void 0?ie:Math.min(x.end,j);!L.extend&&ie>Ve&&(S=Ve,Ve=ie,ie=S);var R=Gc(_,ie),b=Gc(_,Ve);if(R&&b&&(L.rangeCount!==1||L.anchorNode!==R.node||L.anchorOffset!==R.offset||L.focusNode!==b.node||L.focusOffset!==b.offset)){var w=z.createRange();w.setStart(R.node,R.offset),L.removeAllRanges(),ie>Ve?(L.addRange(w),L.extend(b.node,b.offset)):(w.setEnd(b.node,b.offset),L.addRange(w))}}}}for(z=[],L=_;L=L.parentNode;)L.nodeType===1&&z.push({element:L,left:L.scrollLeft,top:L.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<z.length;_++){var q=z[_];q.element.scrollLeft=q.left,q.element.scrollTop=q.top}}ba=!!Qr,Zr=Qr=null}finally{Me=d,W.p=s,H.T=i}}e.current=n,je=2}}function tp(){if(je===2){je=0;var e=Bn,n=$o,i=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||i){i=H.T,H.T=null;var s=W.p;W.p=2;var d=Me;Me|=4;try{wd(e,n.alternate,n)}finally{Me=d,W.p=s,H.T=i}}je=3}}function np(){if(je===4||je===3){je=0,be();var e=Bn,n=$o,i=Sn,s=Pd;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?je=5:(je=0,$o=Bn=null,op(e,e.pendingLanes));var d=e.pendingLanes;if(d===0&&(zn=null),os(i),n=n.stateNode,Ct&&typeof Ct.onCommitFiberRoot=="function")try{Ct.onCommitFiberRoot(yi,n,void 0,(n.current.flags&128)===128)}catch{}if(s!==null){n=H.T,d=W.p,W.p=2,H.T=null;try{for(var h=e.onRecoverableError,S=0;S<s.length;S++){var _=s[S];h(_.value,{componentStack:_.stack})}}finally{H.T=n,W.p=d}}(Sn&3)!==0&&ha(),en(e),d=e.pendingLanes,(i&261930)!==0&&(d&42)!==0?e===Gr?$i++:($i=0,Gr=e):$i=0,ji(0)}}function op(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Ui(n)))}function ha(){return ep(),tp(),np(),ip()}function ip(){if(je!==5)return!1;var e=Bn,n=Hr;Hr=0;var i=os(Sn),s=H.T,d=W.p;try{W.p=32>i?32:i,H.T=null,i=kr,kr=null;var h=Bn,S=Sn;if(je=0,$o=Bn=null,Sn=0,(Me&6)!==0)throw Error(a(331));var _=Me;if(Me|=4,qd(h.current),kd(h,h.current,S,i),Me=_,ji(0,!1),Ct&&typeof Ct.onPostCommitFiberRoot=="function")try{Ct.onPostCommitFiberRoot(yi,h)}catch{}return!0}finally{W.p=d,H.T=s,op(e,n)}}function lp(e,n,i){n=Ht(i,n),n=mr(e.stateNode,n,2),e=Ln(e,n,2),e!==null&&(Si(e,2),en(e))}function He(e,n,i){if(e.tag===3)lp(e,e,i);else for(;n!==null;){if(n.tag===3){lp(n,e,i);break}else if(n.tag===1){var s=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(zn===null||!zn.has(s))){e=Ht(i,e),i=ad(2),s=Ln(n,i,2),s!==null&&(sd(i,s,n,e),Si(s,2),en(s));break}}n=n.return}}function zr(e,n,i){var s=e.pingCache;if(s===null){s=e.pingCache=new h0;var d=new Set;s.set(n,d)}else d=s.get(n),d===void 0&&(d=new Set,s.set(n,d));d.has(i)||(Dr=!0,d.add(i),e=S0.bind(null,e,n,i),n.then(e,e))}function S0(e,n,i){var s=e.pingCache;s!==null&&s.delete(n),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,qe===e&&(Se&i)===i&&(Ye===4||Ye===3&&(Se&62914560)===Se&&300>se()-ra?(Me&2)===0&&jo(e,0):Ur|=i,Zo===Se&&(Zo=0)),en(e)}function ap(e,n){n===0&&(n=ju()),e=oo(e,n),e!==null&&(Si(e,n),en(e))}function T0(e){var n=e.memoizedState,i=0;n!==null&&(i=n.retryLane),ap(e,i)}function E0(e,n){var i=0;switch(e.tag){case 31:case 13:var s=e.stateNode,d=e.memoizedState;d!==null&&(i=d.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(a(314))}s!==null&&s.delete(n),ap(e,i)}function _0(e,n){return P(e,n)}var ma=null,ti=null,Br=!1,ga=!1,Pr=!1,On=0;function en(e){e!==ti&&e.next===null&&(ti===null?ma=ti=e:ti=ti.next=e),ga=!0,Br||(Br=!0,A0())}function ji(e,n){if(!Pr&&ga){Pr=!0;do for(var i=!1,s=ma;s!==null;){if(e!==0){var d=s.pendingLanes;if(d===0)var h=0;else{var S=s.suspendedLanes,_=s.pingedLanes;h=(1<<31-At(42|e)+1)-1,h&=d&~(S&~_),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(i=!0,cp(s,h))}else h=Se,h=Tl(s,s===qe?h:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(h&3)===0||vi(s,h)||(i=!0,cp(s,h));s=s.next}while(i);Pr=!1}}function C0(){sp()}function sp(){ga=Br=!1;var e=0;On!==0&&L0()&&(e=On);for(var n=se(),i=null,s=ma;s!==null;){var d=s.next,h=rp(s,n);h===0?(s.next=null,i===null?ma=d:i.next=d,d===null&&(ti=i)):(i=s,(e!==0||(h&3)!==0)&&(ga=!0)),s=d}je!==0&&je!==5||ji(e),On!==0&&(On=0)}function rp(e,n){for(var i=e.suspendedLanes,s=e.pingedLanes,d=e.expirationTimes,h=e.pendingLanes&-62914561;0<h;){var S=31-At(h),_=1<<S,x=d[S];x===-1?((_&i)===0||(_&s)!==0)&&(d[S]=Qg(_,n)):x<=n&&(e.expiredLanes|=_),h&=~_}if(n=qe,i=Se,i=Tl(e,e===n?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,i===0||e===n&&(Le===2||Le===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&re(s),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||vi(e,i)){if(n=i&-i,n===e.callbackPriority)return n;switch(s!==null&&re(s),os(i)){case 2:case 8:i=Zu;break;case 32:i=gl;break;case 268435456:i=$u;break;default:i=gl}return s=up.bind(null,e),i=P(i,s),e.callbackPriority=n,e.callbackNode=i,n}return s!==null&&s!==null&&re(s),e.callbackPriority=2,e.callbackNode=null,2}function up(e,n){if(je!==0&&je!==5)return e.callbackNode=null,e.callbackPriority=0,null;var i=e.callbackNode;if(ha()&&e.callbackNode!==i)return null;var s=Se;return s=Tl(e,e===qe?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(Fd(e,s,n),rp(e,se()),e.callbackNode!=null&&e.callbackNode===i?up.bind(null,e):null)}function cp(e,n){if(ha())return null;Fd(e,n,!0)}function A0(){k0(function(){(Me&6)!==0?P(Qu,C0):sp()})}function Or(){if(On===0){var e=zo;e===0&&(e=yl,yl<<=1,(yl&261888)===0&&(yl=256)),On=e}return On}function fp(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Al(""+e)}function dp(e,n){var i=n.ownerDocument.createElement("input");return i.name=n.name,i.value=n.value,e.id&&i.setAttribute("form",e.id),n.parentNode.insertBefore(i,n),e=new FormData(e),i.parentNode.removeChild(i),e}function x0(e,n,i,s,d){if(n==="submit"&&i&&i.stateNode===d){var h=fp((d[gt]||null).action),S=s.submitter;S&&(n=(n=S[gt]||null)?fp(n.formAction):S.getAttribute("formAction"),n!==null&&(h=n,S=null));var _=new Rl("action","action",null,s,d);e.push({event:_,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(On!==0){var x=S?dp(d,S):new FormData(d);ur(i,{pending:!0,data:x,method:d.method,action:h},null,x)}}else typeof h=="function"&&(_.preventDefault(),x=S?dp(d,S):new FormData(d),ur(i,{pending:!0,data:x,method:d.method,action:h},h,x))},currentTarget:d}]})}}for(var Fr=0;Fr<bs.length;Fr++){var Jr=bs[Fr],b0=Jr.toLowerCase(),N0=Jr[0].toUpperCase()+Jr.slice(1);Ft(b0,"on"+N0)}Ft(Pc,"onAnimationEnd"),Ft(Oc,"onAnimationIteration"),Ft(Fc,"onAnimationStart"),Ft("dblclick","onDoubleClick"),Ft("focusin","onFocus"),Ft("focusout","onBlur"),Ft(Oy,"onTransitionRun"),Ft(Fy,"onTransitionStart"),Ft(Jy,"onTransitionCancel"),Ft(Jc,"onTransitionEnd"),bo("onMouseEnter",["mouseout","mouseover"]),bo("onMouseLeave",["mouseout","mouseover"]),bo("onPointerEnter",["pointerout","pointerover"]),bo("onPointerLeave",["pointerout","pointerover"]),jn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),jn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),jn("onBeforeInput",["compositionend","keypress","textInput","paste"]),jn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),jn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),jn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var el="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),R0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(el));function pp(e,n){n=(n&4)!==0;for(var i=0;i<e.length;i++){var s=e[i],d=s.event;s=s.listeners;e:{var h=void 0;if(n)for(var S=s.length-1;0<=S;S--){var _=s[S],x=_.instance,M=_.currentTarget;if(_=_.listener,x!==h&&d.isPropagationStopped())break e;h=_,d.currentTarget=M;try{h(d)}catch(G){Il(G)}d.currentTarget=null,h=x}else for(S=0;S<s.length;S++){if(_=s[S],x=_.instance,M=_.currentTarget,_=_.listener,x!==h&&d.isPropagationStopped())break e;h=_,d.currentTarget=M;try{h(d)}catch(G){Il(G)}d.currentTarget=null,h=x}}}}function ve(e,n){var i=n[is];i===void 0&&(i=n[is]=new Set);var s=e+"__bubble";i.has(s)||(hp(n,e,2,!1),i.add(s))}function Yr(e,n,i){var s=0;n&&(s|=4),hp(i,e,s,n)}var ya="_reactListening"+Math.random().toString(36).slice(2);function Wr(e){if(!e[ya]){e[ya]=!0,ac.forEach(function(i){i!=="selectionchange"&&(R0.has(i)||Yr(i,!1,e),Yr(i,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[ya]||(n[ya]=!0,Yr("selectionchange",!1,n))}}function hp(e,n,i,s){switch(Op(n)){case 2:var d=nv;break;case 8:d=ov;break;default:d=ru}i=d.bind(null,n,i,e),d=void 0,!ps||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(d=!0),s?d!==void 0?e.addEventListener(n,i,{capture:!0,passive:d}):e.addEventListener(n,i,!0):d!==void 0?e.addEventListener(n,i,{passive:d}):e.addEventListener(n,i,!1)}function Kr(e,n,i,s,d){var h=s;if((n&1)===0&&(n&2)===0&&s!==null)e:for(;;){if(s===null)return;var S=s.tag;if(S===3||S===4){var _=s.stateNode.containerInfo;if(_===d)break;if(S===4)for(S=s.return;S!==null;){var x=S.tag;if((x===3||x===4)&&S.stateNode.containerInfo===d)return;S=S.return}for(;_!==null;){if(S=Co(_),S===null)return;if(x=S.tag,x===5||x===6||x===26||x===27){s=h=S;continue e}_=_.parentNode}}s=s.return}vc(function(){var M=h,G=fs(i),z=[];e:{var I=Yc.get(e);if(I!==void 0){var L=Rl,j=e;switch(e){case"keypress":if(bl(i)===0)break e;case"keydown":case"keyup":L=Ey;break;case"focusin":j="focus",L=ys;break;case"focusout":j="blur",L=ys;break;case"beforeblur":case"afterblur":L=ys;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":L=Ec;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":L=uy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":L=Ay;break;case Pc:case Oc:case Fc:L=dy;break;case Jc:L=by;break;case"scroll":case"scrollend":L=sy;break;case"wheel":L=Ry;break;case"copy":case"cut":case"paste":L=hy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":L=Cc;break;case"toggle":case"beforetoggle":L=My}var ie=(n&4)!==0,Ve=!ie&&(e==="scroll"||e==="scrollend"),R=ie?I!==null?I+"Capture":null:I;ie=[];for(var b=M,w;b!==null;){var q=b;if(w=q.stateNode,q=q.tag,q!==5&&q!==26&&q!==27||w===null||R===null||(q=_i(b,R),q!=null&&ie.push(tl(b,q,w))),Ve)break;b=b.return}0<ie.length&&(I=new L(I,j,null,i,G),z.push({event:I,listeners:ie}))}}if((n&7)===0){e:{if(I=e==="mouseover"||e==="pointerover",L=e==="mouseout"||e==="pointerout",I&&i!==cs&&(j=i.relatedTarget||i.fromElement)&&(Co(j)||j[_o]))break e;if((L||I)&&(I=G.window===G?G:(I=G.ownerDocument)?I.defaultView||I.parentWindow:window,L?(j=i.relatedTarget||i.toElement,L=M,j=j?Co(j):null,j!==null&&(Ve=f(j),ie=j.tag,j!==Ve||ie!==5&&ie!==27&&ie!==6)&&(j=null)):(L=null,j=M),L!==j)){if(ie=Ec,q="onMouseLeave",R="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(ie=Cc,q="onPointerLeave",R="onPointerEnter",b="pointer"),Ve=L==null?I:Ei(L),w=j==null?I:Ei(j),I=new ie(q,b+"leave",L,i,G),I.target=Ve,I.relatedTarget=w,q=null,Co(G)===M&&(ie=new ie(R,b+"enter",j,i,G),ie.target=w,ie.relatedTarget=Ve,q=ie),Ve=q,L&&j)t:{for(ie=w0,R=L,b=j,w=0,q=R;q;q=ie(q))w++;q=0;for(var oe=b;oe;oe=ie(oe))q++;for(;0<w-q;)R=ie(R),w--;for(;0<q-w;)b=ie(b),q--;for(;w--;){if(R===b||b!==null&&R===b.alternate){ie=R;break t}R=ie(R),b=ie(b)}ie=null}else ie=null;L!==null&&mp(z,I,L,ie,!1),j!==null&&Ve!==null&&mp(z,Ve,j,ie,!0)}}e:{if(I=M?Ei(M):window,L=I.nodeName&&I.nodeName.toLowerCase(),L==="select"||L==="input"&&I.type==="file")var Ne=Ic;else if(wc(I))if(Dc)Ne=zy;else{Ne=Vy;var ee=Gy}else L=I.nodeName,!L||L.toLowerCase()!=="input"||I.type!=="checkbox"&&I.type!=="radio"?M&&us(M.elementType)&&(Ne=Ic):Ne=qy;if(Ne&&(Ne=Ne(e,M))){Mc(z,Ne,i,G);break e}ee&&ee(e,I,M),e==="focusout"&&M&&I.type==="number"&&M.memoizedProps.value!=null&&rs(I,"number",I.value)}switch(ee=M?Ei(M):window,e){case"focusin":(wc(ee)||ee.contentEditable==="true")&&(Do=ee,Cs=M,Mi=null);break;case"focusout":Mi=Cs=Do=null;break;case"mousedown":As=!0;break;case"contextmenu":case"mouseup":case"dragend":As=!1,zc(z,i,G);break;case"selectionchange":if(Py)break;case"keydown":case"keyup":zc(z,i,G)}var he;if(Ss)e:{switch(e){case"compositionstart":var Te="onCompositionStart";break e;case"compositionend":Te="onCompositionEnd";break e;case"compositionupdate":Te="onCompositionUpdate";break e}Te=void 0}else Io?Nc(e,i)&&(Te="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(Te="onCompositionStart");Te&&(Ac&&i.locale!=="ko"&&(Io||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&Io&&(he=Sc()):(Nn=G,hs="value"in Nn?Nn.value:Nn.textContent,Io=!0)),ee=va(M,Te),0<ee.length&&(Te=new _c(Te,e,null,i,G),z.push({event:Te,listeners:ee}),he?Te.data=he:(he=Rc(i),he!==null&&(Te.data=he)))),(he=Dy?Uy(e,i):Ly(e,i))&&(Te=va(M,"onBeforeInput"),0<Te.length&&(ee=new _c("onBeforeInput","beforeinput",null,i,G),z.push({event:ee,listeners:Te}),ee.data=he)),x0(z,e,M,i,G)}pp(z,n)})}function tl(e,n,i){return{instance:e,listener:n,currentTarget:i}}function va(e,n){for(var i=n+"Capture",s=[];e!==null;){var d=e,h=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||h===null||(d=_i(e,i),d!=null&&s.unshift(tl(e,d,h)),d=_i(e,n),d!=null&&s.push(tl(e,d,h))),e.tag===3)return s;e=e.return}return[]}function w0(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function mp(e,n,i,s,d){for(var h=n._reactName,S=[];i!==null&&i!==s;){var _=i,x=_.alternate,M=_.stateNode;if(_=_.tag,x!==null&&x===s)break;_!==5&&_!==26&&_!==27||M===null||(x=M,d?(M=_i(i,h),M!=null&&S.unshift(tl(i,M,x))):d||(M=_i(i,h),M!=null&&S.push(tl(i,M,x)))),i=i.return}S.length!==0&&e.push({event:n,listeners:S})}var M0=/\r\n?/g,I0=/\u0000|\uFFFD/g;function gp(e){return(typeof e=="string"?e:""+e).replace(M0,`
`).replace(I0,"")}function yp(e,n){return n=gp(n),gp(e)===n}function Ge(e,n,i,s,d,h){switch(i){case"children":typeof s=="string"?n==="body"||n==="textarea"&&s===""||Ro(e,s):(typeof s=="number"||typeof s=="bigint")&&n!=="body"&&Ro(e,""+s);break;case"className":_l(e,"class",s);break;case"tabIndex":_l(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":_l(e,i,s);break;case"style":gc(e,s,h);break;case"data":if(n!=="object"){_l(e,"data",s);break}case"src":case"href":if(s===""&&(n!=="a"||i!=="href")){e.removeAttribute(i);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(i);break}s=Al(""+s),e.setAttribute(i,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(i==="formAction"?(n!=="input"&&Ge(e,n,"name",d.name,d,null),Ge(e,n,"formEncType",d.formEncType,d,null),Ge(e,n,"formMethod",d.formMethod,d,null),Ge(e,n,"formTarget",d.formTarget,d,null)):(Ge(e,n,"encType",d.encType,d,null),Ge(e,n,"method",d.method,d,null),Ge(e,n,"target",d.target,d,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(i);break}s=Al(""+s),e.setAttribute(i,s);break;case"onClick":s!=null&&(e.onclick=on);break;case"onScroll":s!=null&&ve("scroll",e);break;case"onScrollEnd":s!=null&&ve("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(a(61));if(i=s.__html,i!=null){if(d.children!=null)throw Error(a(60));e.innerHTML=i}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}i=Al(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(i,""+s):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":s===!0?e.setAttribute(i,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(i,s):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(i,s):e.removeAttribute(i);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(i):e.setAttribute(i,s);break;case"popover":ve("beforetoggle",e),ve("toggle",e),El(e,"popover",s);break;case"xlinkActuate":nn(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":nn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":nn(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":nn(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":nn(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":nn(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":nn(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":nn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":nn(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":El(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=ly.get(i)||i,El(e,i,s))}}function Xr(e,n,i,s,d,h){switch(i){case"style":gc(e,s,h);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(a(61));if(i=s.__html,i!=null){if(d.children!=null)throw Error(a(60));e.innerHTML=i}}break;case"children":typeof s=="string"?Ro(e,s):(typeof s=="number"||typeof s=="bigint")&&Ro(e,""+s);break;case"onScroll":s!=null&&ve("scroll",e);break;case"onScrollEnd":s!=null&&ve("scrollend",e);break;case"onClick":s!=null&&(e.onclick=on);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!sc.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(d=i.endsWith("Capture"),n=i.slice(2,d?i.length-7:void 0),h=e[gt]||null,h=h!=null?h[i]:null,typeof h=="function"&&e.removeEventListener(n,h,d),typeof s=="function")){typeof h!="function"&&h!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(n,s,d);break e}i in e?e[i]=s:s===!0?e.setAttribute(i,""):El(e,i,s)}}}function ct(e,n,i){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ve("error",e),ve("load",e);var s=!1,d=!1,h;for(h in i)if(i.hasOwnProperty(h)){var S=i[h];if(S!=null)switch(h){case"src":s=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Ge(e,n,h,S,i,null)}}d&&Ge(e,n,"srcSet",i.srcSet,i,null),s&&Ge(e,n,"src",i.src,i,null);return;case"input":ve("invalid",e);var _=h=S=d=null,x=null,M=null;for(s in i)if(i.hasOwnProperty(s)){var G=i[s];if(G!=null)switch(s){case"name":d=G;break;case"type":S=G;break;case"checked":x=G;break;case"defaultChecked":M=G;break;case"value":h=G;break;case"defaultValue":_=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,n));break;default:Ge(e,n,s,G,i,null)}}dc(e,h,_,x,M,S,d,!1);return;case"select":ve("invalid",e),s=S=h=null;for(d in i)if(i.hasOwnProperty(d)&&(_=i[d],_!=null))switch(d){case"value":h=_;break;case"defaultValue":S=_;break;case"multiple":s=_;default:Ge(e,n,d,_,i,null)}n=h,i=S,e.multiple=!!s,n!=null?No(e,!!s,n,!1):i!=null&&No(e,!!s,i,!0);return;case"textarea":ve("invalid",e),h=d=s=null;for(S in i)if(i.hasOwnProperty(S)&&(_=i[S],_!=null))switch(S){case"value":s=_;break;case"defaultValue":d=_;break;case"children":h=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(a(91));break;default:Ge(e,n,S,_,i,null)}hc(e,s,d,h);return;case"option":for(x in i)if(i.hasOwnProperty(x)&&(s=i[x],s!=null))switch(x){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:Ge(e,n,x,s,i,null)}return;case"dialog":ve("beforetoggle",e),ve("toggle",e),ve("cancel",e),ve("close",e);break;case"iframe":case"object":ve("load",e);break;case"video":case"audio":for(s=0;s<el.length;s++)ve(el[s],e);break;case"image":ve("error",e),ve("load",e);break;case"details":ve("toggle",e);break;case"embed":case"source":case"link":ve("error",e),ve("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(M in i)if(i.hasOwnProperty(M)&&(s=i[M],s!=null))switch(M){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Ge(e,n,M,s,i,null)}return;default:if(us(n)){for(G in i)i.hasOwnProperty(G)&&(s=i[G],s!==void 0&&Xr(e,n,G,s,i,void 0));return}}for(_ in i)i.hasOwnProperty(_)&&(s=i[_],s!=null&&Ge(e,n,_,s,i,null))}function D0(e,n,i,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,h=null,S=null,_=null,x=null,M=null,G=null;for(L in i){var z=i[L];if(i.hasOwnProperty(L)&&z!=null)switch(L){case"checked":break;case"value":break;case"defaultValue":x=z;default:s.hasOwnProperty(L)||Ge(e,n,L,null,s,z)}}for(var I in s){var L=s[I];if(z=i[I],s.hasOwnProperty(I)&&(L!=null||z!=null))switch(I){case"type":h=L;break;case"name":d=L;break;case"checked":M=L;break;case"defaultChecked":G=L;break;case"value":S=L;break;case"defaultValue":_=L;break;case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(a(137,n));break;default:L!==z&&Ge(e,n,I,L,s,z)}}ss(e,S,_,x,M,G,h,d);return;case"select":L=S=_=I=null;for(h in i)if(x=i[h],i.hasOwnProperty(h)&&x!=null)switch(h){case"value":break;case"multiple":L=x;default:s.hasOwnProperty(h)||Ge(e,n,h,null,s,x)}for(d in s)if(h=s[d],x=i[d],s.hasOwnProperty(d)&&(h!=null||x!=null))switch(d){case"value":I=h;break;case"defaultValue":_=h;break;case"multiple":S=h;default:h!==x&&Ge(e,n,d,h,s,x)}n=_,i=S,s=L,I!=null?No(e,!!i,I,!1):!!s!=!!i&&(n!=null?No(e,!!i,n,!0):No(e,!!i,i?[]:"",!1));return;case"textarea":L=I=null;for(_ in i)if(d=i[_],i.hasOwnProperty(_)&&d!=null&&!s.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:Ge(e,n,_,null,s,d)}for(S in s)if(d=s[S],h=i[S],s.hasOwnProperty(S)&&(d!=null||h!=null))switch(S){case"value":I=d;break;case"defaultValue":L=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(a(91));break;default:d!==h&&Ge(e,n,S,d,s,h)}pc(e,I,L);return;case"option":for(var j in i)if(I=i[j],i.hasOwnProperty(j)&&I!=null&&!s.hasOwnProperty(j))switch(j){case"selected":e.selected=!1;break;default:Ge(e,n,j,null,s,I)}for(x in s)if(I=s[x],L=i[x],s.hasOwnProperty(x)&&I!==L&&(I!=null||L!=null))switch(x){case"selected":e.selected=I&&typeof I!="function"&&typeof I!="symbol";break;default:Ge(e,n,x,I,s,L)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ie in i)I=i[ie],i.hasOwnProperty(ie)&&I!=null&&!s.hasOwnProperty(ie)&&Ge(e,n,ie,null,s,I);for(M in s)if(I=s[M],L=i[M],s.hasOwnProperty(M)&&I!==L&&(I!=null||L!=null))switch(M){case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(a(137,n));break;default:Ge(e,n,M,I,s,L)}return;default:if(us(n)){for(var Ve in i)I=i[Ve],i.hasOwnProperty(Ve)&&I!==void 0&&!s.hasOwnProperty(Ve)&&Xr(e,n,Ve,void 0,s,I);for(G in s)I=s[G],L=i[G],!s.hasOwnProperty(G)||I===L||I===void 0&&L===void 0||Xr(e,n,G,I,s,L);return}}for(var R in i)I=i[R],i.hasOwnProperty(R)&&I!=null&&!s.hasOwnProperty(R)&&Ge(e,n,R,null,s,I);for(z in s)I=s[z],L=i[z],!s.hasOwnProperty(z)||I===L||I==null&&L==null||Ge(e,n,z,I,s,L)}function vp(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function U0(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,i=performance.getEntriesByType("resource"),s=0;s<i.length;s++){var d=i[s],h=d.transferSize,S=d.initiatorType,_=d.duration;if(h&&_&&vp(S)){for(S=0,_=d.responseEnd,s+=1;s<i.length;s++){var x=i[s],M=x.startTime;if(M>_)break;var G=x.transferSize,z=x.initiatorType;G&&vp(z)&&(x=x.responseEnd,S+=G*(x<_?1:(_-M)/(x-M)))}if(--s,n+=8*(h+S)/(d.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Qr=null,Zr=null;function Sa(e){return e.nodeType===9?e:e.ownerDocument}function Sp(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Tp(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function $r(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var jr=null;function L0(){var e=window.event;return e&&e.type==="popstate"?e===jr?!1:(jr=e,!0):(jr=null,!1)}var Ep=typeof setTimeout=="function"?setTimeout:void 0,H0=typeof clearTimeout=="function"?clearTimeout:void 0,_p=typeof Promise=="function"?Promise:void 0,k0=typeof queueMicrotask=="function"?queueMicrotask:typeof _p<"u"?function(e){return _p.resolve(null).then(e).catch(G0)}:Ep;function G0(e){setTimeout(function(){throw e})}function Fn(e){return e==="head"}function Cp(e,n){var i=n,s=0;do{var d=i.nextSibling;if(e.removeChild(i),d&&d.nodeType===8)if(i=d.data,i==="/$"||i==="/&"){if(s===0){e.removeChild(d),li(n);return}s--}else if(i==="$"||i==="$?"||i==="$~"||i==="$!"||i==="&")s++;else if(i==="html")nl(e.ownerDocument.documentElement);else if(i==="head"){i=e.ownerDocument.head,nl(i);for(var h=i.firstChild;h;){var S=h.nextSibling,_=h.nodeName;h[Ti]||_==="SCRIPT"||_==="STYLE"||_==="LINK"&&h.rel.toLowerCase()==="stylesheet"||i.removeChild(h),h=S}}else i==="body"&&nl(e.ownerDocument.body);i=d}while(i);li(n)}function Ap(e,n){var i=e;e=0;do{var s=i.nextSibling;if(i.nodeType===1?n?(i._stashedDisplay=i.style.display,i.style.display="none"):(i.style.display=i._stashedDisplay||"",i.getAttribute("style")===""&&i.removeAttribute("style")):i.nodeType===3&&(n?(i._stashedText=i.nodeValue,i.nodeValue=""):i.nodeValue=i._stashedText||""),s&&s.nodeType===8)if(i=s.data,i==="/$"){if(e===0)break;e--}else i!=="$"&&i!=="$?"&&i!=="$~"&&i!=="$!"||e++;i=s}while(i)}function eu(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var i=n;switch(n=n.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":eu(i),ls(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function V0(e,n,i,s){for(;e.nodeType===1;){var d=i;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[Ti])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(h=e.getAttribute("rel"),h==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(h!==d.rel||e.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||e.getAttribute("title")!==(d.title==null?null:d.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(h=e.getAttribute("src"),(h!==(d.src==null?null:d.src)||e.getAttribute("type")!==(d.type==null?null:d.type)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&h&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var h=d.name==null?null:""+d.name;if(d.type==="hidden"&&e.getAttribute("name")===h)return e}else return e;if(e=zt(e.nextSibling),e===null)break}return null}function q0(e,n,i){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=zt(e.nextSibling),e===null))return null;return e}function xp(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=zt(e.nextSibling),e===null))return null;return e}function tu(e){return e.data==="$?"||e.data==="$~"}function nu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function z0(e,n){var i=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||i.readyState!=="loading")n();else{var s=function(){n(),i.removeEventListener("DOMContentLoaded",s)};i.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function zt(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var ou=null;function bp(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"||i==="/&"){if(n===0)return zt(e.nextSibling);n--}else i!=="$"&&i!=="$!"&&i!=="$?"&&i!=="$~"&&i!=="&"||n++}e=e.nextSibling}return null}function Np(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"){if(n===0)return e;n--}else i!=="/$"&&i!=="/&"||n++}e=e.previousSibling}return null}function Rp(e,n,i){switch(n=Sa(i),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function nl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);ls(e)}var Bt=new Map,wp=new Set;function Ta(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Tn=W.d;W.d={f:B0,r:P0,D:O0,C:F0,L:J0,m:Y0,X:K0,S:W0,M:X0};function B0(){var e=Tn.f(),n=fa();return e||n}function P0(e){var n=Ao(e);n!==null&&n.tag===5&&n.type==="form"?Yf(n):Tn.r(e)}var ni=typeof document>"u"?null:document;function Mp(e,n,i){var s=ni;if(s&&typeof n=="string"&&n){var d=Ut(n);d='link[rel="'+e+'"][href="'+d+'"]',typeof i=="string"&&(d+='[crossorigin="'+i+'"]'),wp.has(d)||(wp.add(d),e={rel:e,crossOrigin:i,href:n},s.querySelector(d)===null&&(n=s.createElement("link"),ct(n,"link",e),tt(n),s.head.appendChild(n)))}}function O0(e){Tn.D(e),Mp("dns-prefetch",e,null)}function F0(e,n){Tn.C(e,n),Mp("preconnect",e,n)}function J0(e,n,i){Tn.L(e,n,i);var s=ni;if(s&&e&&n){var d='link[rel="preload"][as="'+Ut(n)+'"]';n==="image"&&i&&i.imageSrcSet?(d+='[imagesrcset="'+Ut(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(d+='[imagesizes="'+Ut(i.imageSizes)+'"]')):d+='[href="'+Ut(e)+'"]';var h=d;switch(n){case"style":h=oi(e);break;case"script":h=ii(e)}Bt.has(h)||(e=T({rel:"preload",href:n==="image"&&i&&i.imageSrcSet?void 0:e,as:n},i),Bt.set(h,e),s.querySelector(d)!==null||n==="style"&&s.querySelector(ol(h))||n==="script"&&s.querySelector(il(h))||(n=s.createElement("link"),ct(n,"link",e),tt(n),s.head.appendChild(n)))}}function Y0(e,n){Tn.m(e,n);var i=ni;if(i&&e){var s=n&&typeof n.as=="string"?n.as:"script",d='link[rel="modulepreload"][as="'+Ut(s)+'"][href="'+Ut(e)+'"]',h=d;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=ii(e)}if(!Bt.has(h)&&(e=T({rel:"modulepreload",href:e},n),Bt.set(h,e),i.querySelector(d)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(il(h)))return}s=i.createElement("link"),ct(s,"link",e),tt(s),i.head.appendChild(s)}}}function W0(e,n,i){Tn.S(e,n,i);var s=ni;if(s&&e){var d=xo(s).hoistableStyles,h=oi(e);n=n||"default";var S=d.get(h);if(!S){var _={loading:0,preload:null};if(S=s.querySelector(ol(h)))_.loading=5;else{e=T({rel:"stylesheet",href:e,"data-precedence":n},i),(i=Bt.get(h))&&iu(e,i);var x=S=s.createElement("link");tt(x),ct(x,"link",e),x._p=new Promise(function(M,G){x.onload=M,x.onerror=G}),x.addEventListener("load",function(){_.loading|=1}),x.addEventListener("error",function(){_.loading|=2}),_.loading|=4,Ea(S,n,s)}S={type:"stylesheet",instance:S,count:1,state:_},d.set(h,S)}}}function K0(e,n){Tn.X(e,n);var i=ni;if(i&&e){var s=xo(i).hoistableScripts,d=ii(e),h=s.get(d);h||(h=i.querySelector(il(d)),h||(e=T({src:e,async:!0},n),(n=Bt.get(d))&&lu(e,n),h=i.createElement("script"),tt(h),ct(h,"link",e),i.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},s.set(d,h))}}function X0(e,n){Tn.M(e,n);var i=ni;if(i&&e){var s=xo(i).hoistableScripts,d=ii(e),h=s.get(d);h||(h=i.querySelector(il(d)),h||(e=T({src:e,async:!0,type:"module"},n),(n=Bt.get(d))&&lu(e,n),h=i.createElement("script"),tt(h),ct(h,"link",e),i.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},s.set(d,h))}}function Ip(e,n,i,s){var d=(d=ae.current)?Ta(d):null;if(!d)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(n=oi(i.href),i=xo(d).hoistableStyles,s=i.get(n),s||(s={type:"style",instance:null,count:0,state:null},i.set(n,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=oi(i.href);var h=xo(d).hoistableStyles,S=h.get(e);if(S||(d=d.ownerDocument||d,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(e,S),(h=d.querySelector(ol(e)))&&!h._p&&(S.instance=h,S.state.loading=5),Bt.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},Bt.set(e,i),h||Q0(d,e,i,S.state))),n&&s===null)throw Error(a(528,""));return S}if(n&&s!==null)throw Error(a(529,""));return null;case"script":return n=i.async,i=i.src,typeof i=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ii(i),i=xo(d).hoistableScripts,s=i.get(n),s||(s={type:"script",instance:null,count:0,state:null},i.set(n,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function oi(e){return'href="'+Ut(e)+'"'}function ol(e){return'link[rel="stylesheet"]['+e+"]"}function Dp(e){return T({},e,{"data-precedence":e.precedence,precedence:null})}function Q0(e,n,i,s){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?s.loading=1:(n=e.createElement("link"),s.preload=n,n.addEventListener("load",function(){return s.loading|=1}),n.addEventListener("error",function(){return s.loading|=2}),ct(n,"link",i),tt(n),e.head.appendChild(n))}function ii(e){return'[src="'+Ut(e)+'"]'}function il(e){return"script[async]"+e}function Up(e,n,i){if(n.count++,n.instance===null)switch(n.type){case"style":var s=e.querySelector('style[data-href~="'+Ut(i.href)+'"]');if(s)return n.instance=s,tt(s),s;var d=T({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),tt(s),ct(s,"style",d),Ea(s,i.precedence,e),n.instance=s;case"stylesheet":d=oi(i.href);var h=e.querySelector(ol(d));if(h)return n.state.loading|=4,n.instance=h,tt(h),h;s=Dp(i),(d=Bt.get(d))&&iu(s,d),h=(e.ownerDocument||e).createElement("link"),tt(h);var S=h;return S._p=new Promise(function(_,x){S.onload=_,S.onerror=x}),ct(h,"link",s),n.state.loading|=4,Ea(h,i.precedence,e),n.instance=h;case"script":return h=ii(i.src),(d=e.querySelector(il(h)))?(n.instance=d,tt(d),d):(s=i,(d=Bt.get(h))&&(s=T({},i),lu(s,d)),e=e.ownerDocument||e,d=e.createElement("script"),tt(d),ct(d,"link",s),e.head.appendChild(d),n.instance=d);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(s=n.instance,n.state.loading|=4,Ea(s,i.precedence,e));return n.instance}function Ea(e,n,i){for(var s=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=s.length?s[s.length-1]:null,h=d,S=0;S<s.length;S++){var _=s[S];if(_.dataset.precedence===n)h=_;else if(h!==d)break}h?h.parentNode.insertBefore(e,h.nextSibling):(n=i.nodeType===9?i.head:i,n.insertBefore(e,n.firstChild))}function iu(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function lu(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var _a=null;function Lp(e,n,i){if(_a===null){var s=new Map,d=_a=new Map;d.set(i,s)}else d=_a,s=d.get(i),s||(s=new Map,d.set(i,s));if(s.has(e))return s;for(s.set(e,null),i=i.getElementsByTagName(e),d=0;d<i.length;d++){var h=i[d];if(!(h[Ti]||h[at]||e==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var S=h.getAttribute(n)||"";S=e+S;var _=s.get(S);_?_.push(h):s.set(S,[h])}}return s}function Hp(e,n,i){e=e.ownerDocument||e,e.head.insertBefore(i,n==="title"?e.querySelector("head > title"):null)}function Z0(e,n,i){if(i===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function kp(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function $0(e,n,i,s){if(i.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var d=oi(s.href),h=n.querySelector(ol(d));if(h){n=h._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=Ca.bind(e),n.then(e,e)),i.state.loading|=4,i.instance=h,tt(h);return}h=n.ownerDocument||n,s=Dp(s),(d=Bt.get(d))&&iu(s,d),h=h.createElement("link"),tt(h);var S=h;S._p=new Promise(function(_,x){S.onload=_,S.onerror=x}),ct(h,"link",s),i.instance=h}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(i,n),(n=i.state.preload)&&(i.state.loading&3)===0&&(e.count++,i=Ca.bind(e),n.addEventListener("load",i),n.addEventListener("error",i))}}var au=0;function j0(e,n){return e.stylesheets&&e.count===0&&xa(e,e.stylesheets),0<e.count||0<e.imgCount?function(i){var s=setTimeout(function(){if(e.stylesheets&&xa(e,e.stylesheets),e.unsuspend){var h=e.unsuspend;e.unsuspend=null,h()}},6e4+n);0<e.imgBytes&&au===0&&(au=62500*U0());var d=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&xa(e,e.stylesheets),e.unsuspend)){var h=e.unsuspend;e.unsuspend=null,h()}},(e.imgBytes>au?50:800)+n);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(d)}}:null}function Ca(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)xa(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Aa=null;function xa(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Aa=new Map,n.forEach(ev,e),Aa=null,Ca.call(e))}function ev(e,n){if(!(n.state.loading&4)){var i=Aa.get(e);if(i)var s=i.get(null);else{i=new Map,Aa.set(e,i);for(var d=e.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<d.length;h++){var S=d[h];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(i.set(S.dataset.precedence,S),s=S)}s&&i.set(null,s)}d=n.instance,S=d.getAttribute("data-precedence"),h=i.get(S)||s,h===s&&i.set(null,d),i.set(S,d),this.count++,s=Ca.bind(this),d.addEventListener("load",s),d.addEventListener("error",s),h?h.parentNode.insertBefore(d,h.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(d,e.firstChild)),n.state.loading|=4}}var ll={$$typeof:F,Provider:null,Consumer:null,_currentValue:le,_currentValue2:le,_threadCount:0};function tv(e,n,i,s,d,h,S,_,x){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ts(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ts(0),this.hiddenUpdates=ts(null),this.identifierPrefix=s,this.onUncaughtError=d,this.onCaughtError=h,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function Gp(e,n,i,s,d,h,S,_,x,M,G,z){return e=new tv(e,n,i,S,x,M,G,z,_),n=1,h===!0&&(n|=24),h=bt(3,null,null,n),e.current=h,h.stateNode=e,n=qs(),n.refCount++,e.pooledCache=n,n.refCount++,h.memoizedState={element:s,isDehydrated:i,cache:n},Os(h),e}function Vp(e){return e?(e=Ho,e):Ho}function qp(e,n,i,s,d,h){d=Vp(d),s.context===null?s.context=d:s.pendingContext=d,s=Un(n),s.payload={element:i},h=h===void 0?null:h,h!==null&&(s.callback=h),i=Ln(e,s,n),i!==null&&(_t(i,e,n),Gi(i,e,n))}function zp(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<n?i:n}}function su(e,n){zp(e,n),(e=e.alternate)&&zp(e,n)}function Bp(e){if(e.tag===13||e.tag===31){var n=oo(e,67108864);n!==null&&_t(n,e,67108864),su(e,67108864)}}function Pp(e){if(e.tag===13||e.tag===31){var n=It();n=ns(n);var i=oo(e,n);i!==null&&_t(i,e,n),su(e,n)}}var ba=!0;function nv(e,n,i,s){var d=H.T;H.T=null;var h=W.p;try{W.p=2,ru(e,n,i,s)}finally{W.p=h,H.T=d}}function ov(e,n,i,s){var d=H.T;H.T=null;var h=W.p;try{W.p=8,ru(e,n,i,s)}finally{W.p=h,H.T=d}}function ru(e,n,i,s){if(ba){var d=uu(s);if(d===null)Kr(e,n,s,Na,i),Fp(e,s);else if(lv(d,e,n,i,s))s.stopPropagation();else if(Fp(e,s),n&4&&-1<iv.indexOf(e)){for(;d!==null;){var h=Ao(d);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var S=$n(h.pendingLanes);if(S!==0){var _=h;for(_.pendingLanes|=2,_.entangledLanes|=2;S;){var x=1<<31-At(S);_.entanglements[1]|=x,S&=~x}en(h),(Me&6)===0&&(ua=se()+500,ji(0))}}break;case 31:case 13:_=oo(h,2),_!==null&&_t(_,h,2),fa(),su(h,2)}if(h=uu(s),h===null&&Kr(e,n,s,Na,i),h===d)break;d=h}d!==null&&s.stopPropagation()}else Kr(e,n,s,null,i)}}function uu(e){return e=fs(e),cu(e)}var Na=null;function cu(e){if(Na=null,e=Co(e),e!==null){var n=f(e);if(n===null)e=null;else{var i=n.tag;if(i===13){if(e=p(n),e!==null)return e;e=null}else if(i===31){if(e=g(n),e!==null)return e;e=null}else if(i===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Na=e,null}function Op(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Eo()){case Qu:return 2;case Zu:return 8;case gl:case Fg:return 32;case $u:return 268435456;default:return 32}default:return 32}}var fu=!1,Jn=null,Yn=null,Wn=null,al=new Map,sl=new Map,Kn=[],iv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Fp(e,n){switch(e){case"focusin":case"focusout":Jn=null;break;case"dragenter":case"dragleave":Yn=null;break;case"mouseover":case"mouseout":Wn=null;break;case"pointerover":case"pointerout":al.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":sl.delete(n.pointerId)}}function rl(e,n,i,s,d,h){return e===null||e.nativeEvent!==h?(e={blockedOn:n,domEventName:i,eventSystemFlags:s,nativeEvent:h,targetContainers:[d]},n!==null&&(n=Ao(n),n!==null&&Bp(n)),e):(e.eventSystemFlags|=s,n=e.targetContainers,d!==null&&n.indexOf(d)===-1&&n.push(d),e)}function lv(e,n,i,s,d){switch(n){case"focusin":return Jn=rl(Jn,e,n,i,s,d),!0;case"dragenter":return Yn=rl(Yn,e,n,i,s,d),!0;case"mouseover":return Wn=rl(Wn,e,n,i,s,d),!0;case"pointerover":var h=d.pointerId;return al.set(h,rl(al.get(h)||null,e,n,i,s,d)),!0;case"gotpointercapture":return h=d.pointerId,sl.set(h,rl(sl.get(h)||null,e,n,i,s,d)),!0}return!1}function Jp(e){var n=Co(e.target);if(n!==null){var i=f(n);if(i!==null){if(n=i.tag,n===13){if(n=p(i),n!==null){e.blockedOn=n,ic(e.priority,function(){Pp(i)});return}}else if(n===31){if(n=g(i),n!==null){e.blockedOn=n,ic(e.priority,function(){Pp(i)});return}}else if(n===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ra(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var i=uu(e.nativeEvent);if(i===null){i=e.nativeEvent;var s=new i.constructor(i.type,i);cs=s,i.target.dispatchEvent(s),cs=null}else return n=Ao(i),n!==null&&Bp(n),e.blockedOn=i,!1;n.shift()}return!0}function Yp(e,n,i){Ra(e)&&i.delete(n)}function av(){fu=!1,Jn!==null&&Ra(Jn)&&(Jn=null),Yn!==null&&Ra(Yn)&&(Yn=null),Wn!==null&&Ra(Wn)&&(Wn=null),al.forEach(Yp),sl.forEach(Yp)}function wa(e,n){e.blockedOn===n&&(e.blockedOn=null,fu||(fu=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,av)))}var Ma=null;function Wp(e){Ma!==e&&(Ma=e,o.unstable_scheduleCallback(o.unstable_NormalPriority,function(){Ma===e&&(Ma=null);for(var n=0;n<e.length;n+=3){var i=e[n],s=e[n+1],d=e[n+2];if(typeof s!="function"){if(cu(s||i)===null)continue;break}var h=Ao(i);h!==null&&(e.splice(n,3),n-=3,ur(h,{pending:!0,data:d,method:i.method,action:s},s,d))}}))}function li(e){function n(x){return wa(x,e)}Jn!==null&&wa(Jn,e),Yn!==null&&wa(Yn,e),Wn!==null&&wa(Wn,e),al.forEach(n),sl.forEach(n);for(var i=0;i<Kn.length;i++){var s=Kn[i];s.blockedOn===e&&(s.blockedOn=null)}for(;0<Kn.length&&(i=Kn[0],i.blockedOn===null);)Jp(i),i.blockedOn===null&&Kn.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(s=0;s<i.length;s+=3){var d=i[s],h=i[s+1],S=d[gt]||null;if(typeof h=="function")S||Wp(i);else if(S){var _=null;if(h&&h.hasAttribute("formAction")){if(d=h,S=h[gt]||null)_=S.formAction;else if(cu(d)!==null)continue}else _=S.action;typeof _=="function"?i[s+1]=_:(i.splice(s,3),s-=3),Wp(i)}}}function Kp(){function e(h){h.canIntercept&&h.info==="react-transition"&&h.intercept({handler:function(){return new Promise(function(S){return d=S})},focusReset:"manual",scroll:"manual"})}function n(){d!==null&&(d(),d=null),s||setTimeout(i,20)}function i(){if(!s&&!navigation.transition){var h=navigation.currentEntry;h&&h.url!=null&&navigation.navigate(h.url,{state:h.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,d=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(i,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),d!==null&&(d(),d=null)}}}function du(e){this._internalRoot=e}Ia.prototype.render=du.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var i=n.current,s=It();qp(i,s,e,n,null,null)},Ia.prototype.unmount=du.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;qp(e.current,2,null,e,null,null),fa(),n[_o]=null}};function Ia(e){this._internalRoot=e}Ia.prototype.unstable_scheduleHydration=function(e){if(e){var n=oc();e={blockedOn:null,target:e,priority:n};for(var i=0;i<Kn.length&&n!==0&&n<Kn[i].priority;i++);Kn.splice(i,0,e),i===0&&Jp(e)}};var Xp=t.version;if(Xp!=="19.2.3")throw Error(a(527,Xp,"19.2.3"));W.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=m(n),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var sv={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Da=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Da.isDisabled&&Da.supportsFiber)try{yi=Da.inject(sv),Ct=Da}catch{}}return cl.createRoot=function(e,n){if(!r(e))throw Error(a(299));var i=!1,s="",d=nd,h=od,S=id;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onUncaughtError!==void 0&&(d=n.onUncaughtError),n.onCaughtError!==void 0&&(h=n.onCaughtError),n.onRecoverableError!==void 0&&(S=n.onRecoverableError)),n=Gp(e,1,!1,null,null,i,s,null,d,h,S,Kp),e[_o]=n.current,Wr(e),new du(n)},cl.hydrateRoot=function(e,n,i){if(!r(e))throw Error(a(299));var s=!1,d="",h=nd,S=od,_=id,x=null;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(d=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(S=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError),i.formState!==void 0&&(x=i.formState)),n=Gp(e,1,!0,n,i??null,s,d,x,h,S,_,Kp),n.context=Vp(null),i=n.current,s=It(),s=ns(s),d=Un(s),d.callback=null,Ln(i,d,s),i=s,n.current.lanes=i,Si(n,i),en(n),e[_o]=n.current,Wr(e),new Ia(n)},cl.version="19.2.3",cl}var lh;function vv(){if(lh)return mu.exports;lh=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(t){console.error(t)}}return o(),mu.exports=yv(),mu.exports}var Sv=vv();const Tv=Qm(Sv);var En=(o=>(o.GEMINI_2_0_FLASH="gemini-2.0-flash",o.GEMINI_2_0_FLASH_LITE="gemini-2.0-flash-lite",o.GEMINI_2_5_PRO="gemini-2.5-pro",o.GEMINI_2_5_FLASH_LITE="gemini-2.5-flash-lite",o.GEMINI_2_5_FLASH_PREVIEW="gemini-2.5-flash-preview",o.GEMINI_3_PRO_PREVIEW="gemini-3-pro-preview",o.GEMINI_3_FLASH_PREVIEW="gemini-3-flash-preview",o))(En||{}),Qn=(o=>(o.ALWAYS="always",o.AFTER_READ="afterRead",o.NEVER="never",o))(Qn||{}),ot=(o=>(o.IDLE="IDLE",o.LOADING="LOADING",o.SUCCESS="SUCCESS",o.ERROR="ERROR",o))(ot||{});const Ev=(o,t)=>{const l=ah(o),a=ah(t);return`linear-gradient(to right, ${l} 0%, ${l} 50%, ${a} 50%, ${a} 100%)`},ah=o=>o>=8?"rgba(134, 239, 172, 0.4)":o>=5?"rgba(252, 211, 77, 0.4)":"rgba(252, 165, 165, 0.4)",_v=({message:o,onClick:t,isSelected:l,isEditMode:a,isChecked:r,onToggleCheck:f,colorByScoring:p=Qn.AFTER_READ})=>{const g=o.role==="user",y=!!o.analysis,m=!!o.viewed,T=!g||!y||p===Qn.NEVER?!1:p===Qn.ALWAYS?!0:m,E=T&&o.analysis?{background:Ev(o.analysis.grammarScore,o.analysis.naturalnessScore)}:{},A=D=>{if(a){D.stopPropagation(),f==null||f(o.id);return}g&&(t==null||t(o))};return C.jsxs("div",{className:`flex mb-6 group transition-all duration-200 ${g?"flex-row-reverse":"flex-row"}`,children:[a&&C.jsx("div",{className:"flex items-center self-center px-4 transition-all duration-300 transform scale-100",children:C.jsx("input",{type:"checkbox",checked:r,onChange:()=>f==null?void 0:f(o.id),className:"w-5 h-5 rounded-full border-gray-300 text-blue-600 focus:ring-blue-500 cursor-pointer"})}),C.jsxs("div",{className:`flex flex-col flex-1 ${g?"items-end":"items-start"}`,children:[C.jsxs("div",{className:`flex items-center mb-1 space-x-2 ${g?"flex-row-reverse space-x-reverse":""}`,children:[C.jsx("span",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider",children:o.sender}),C.jsx("span",{className:"text-[10px] text-gray-400",children:o.timestamp})]}),C.jsxs("div",{onClick:A,style:E,className:`
            relative max-w-[85%] md:max-w-[70%] px-4 py-3 rounded-2xl shadow-sm transition-all duration-200
            ${g&&!T?"bg-blue-600 text-white rounded-tr-none hover:bg-blue-700 cursor-pointer":g&&T?"text-gray-800 rounded-tr-none cursor-pointer border border-gray-200":"bg-white text-gray-800 border border-gray-100 rounded-tl-none shadow-gray-100"}
            ${l&&!a?"ring-2 ring-blue-400 scale-[1.02]":""}
            ${r&&a?"ring-4 ring-blue-100 opacity-80":""}
          `,children:[C.jsx("p",{className:"text-sm md:text-base leading-relaxed whitespace-pre-wrap",children:o.text}),g&&!a&&C.jsxs("div",{className:"mt-2 flex justify-between items-center space-x-2",children:[C.jsx("div",{className:"flex items-center",children:y&&C.jsx("div",{className:"flex items-center mr-2",children:m?C.jsx("svg",{className:`w-4 h-4 ${T?"text-green-600":"text-green-400"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M5 13l4 4L19 7"})}):C.jsx("svg",{className:`w-4 h-4 ${T?"text-gray-500":"text-gray-300"} opacity-60`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M5 13l4 4L19 7"})})})}),C.jsxs("span",{className:`text-[10px] ${T?"text-gray-600":"opacity-70"} flex items-center`,children:[C.jsx("svg",{className:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),y?"Analysis Ready":"Click to Analyze"]})]})]})]})]})},sh=({score:o,label:t})=>{const l=a=>a>=8?"bg-green-100 text-green-700 border-green-200":a>=5?"bg-amber-100 text-amber-700 border-amber-200":"bg-red-100 text-red-700 border-red-200";return C.jsxs("div",{className:`flex flex-col items-center justify-center p-2 rounded-lg border ${l(o)}`,children:[C.jsx("span",{className:"text-[10px] font-bold uppercase tracking-tighter opacity-70",children:t}),C.jsxs("span",{className:"text-xl font-black",children:[o,C.jsx("span",{className:"text-xs font-normal opacity-60",children:"/10"})]})]})},rh=({analysis:o,state:t,onClose:l})=>t===ot.IDLE?null:C.jsxs("div",{className:"h-full flex flex-col bg-white border-l border-gray-200 shadow-xl overflow-y-auto",children:[C.jsxs("div",{className:"p-4 border-b border-gray-100 flex justify-between items-center sticky top-0 bg-white z-10",children:[C.jsxs("h3",{className:"text-lg font-bold text-gray-800 flex items-center",children:[C.jsx("svg",{className:"w-5 h-5 mr-2 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})}),"Linguistic Insights"]}),C.jsx("button",{onClick:l,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:C.jsx("svg",{className:"w-5 h-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),C.jsxs("div",{className:"p-6 space-y-8",children:[t===ot.LOADING&&C.jsxs("div",{className:"flex flex-col items-center justify-center py-12 space-y-4",children:[C.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),C.jsx("p",{className:"text-gray-500 animate-pulse",children:"Analyzing nuances..."})]}),t===ot.ERROR&&C.jsxs("div",{className:"p-4 bg-red-50 text-red-700 rounded-lg border border-red-100",children:[C.jsx("p",{className:"font-medium",children:"Failed to analyze message."}),C.jsx("p",{className:"text-sm",children:"Please check your API key or connection."})]}),t===ot.SUCCESS&&o&&C.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-right-4 duration-300",children:[C.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[C.jsx(sh,{score:o.grammarScore,label:"Grammar"}),C.jsx(sh,{score:o.naturalnessScore,label:"Naturalness"})]}),C.jsxs("section",{children:[C.jsxs("div",{className:"flex items-center mb-2",children:[C.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] font-bold uppercase tracking-wider mr-2 ${o.isNatural?"bg-green-100 text-green-700":"bg-amber-100 text-amber-700"}`,children:o.isNatural?"Natural":"Needs Polish"}),C.jsx("h4",{className:"font-semibold text-gray-700",children:"Grammar & Phrasing"})]}),C.jsx("p",{className:"text-sm text-gray-600 bg-gray-50 p-3 rounded-lg border border-gray-100",children:o.grammarErrors})]}),C.jsxs("section",{children:[C.jsx("h4",{className:"font-semibold text-gray-700 mb-2",children:"Naturalness Context"}),C.jsx("p",{className:"text-sm text-gray-600",children:o.naturalnessRating})]}),C.jsxs("section",{children:[C.jsxs("h4",{className:"font-semibold text-blue-700 mb-2 flex items-center",children:[C.jsxs("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:[C.jsx("path",{d:"M17.414 2.586a2 2 0 00-2.828 0L7 10.172V13h2.828l7.586-7.586a2 2 0 000-2.828z"}),C.jsx("path",{fillRule:"evenodd",d:"M2 6a2 2 0 012-2h4a1 1 0 010 2H4v10h10v-4a1 1 0 112 0v4a2 2 0 01-2 2H4a2 2 0 01-2-2V6z",clipRule:"evenodd"})]}),"Better Alternative"]}),C.jsxs("div",{className:"bg-blue-50 border border-blue-100 p-4 rounded-xl italic text-blue-900 shadow-sm",children:['"',o.improvement,'"']})]}),C.jsxs("section",{children:[C.jsxs("h4",{className:"font-semibold text-gray-700 mb-2 flex items-center",children:[C.jsx("svg",{className:"w-4 h-4 mr-1 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:C.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-11a1 1 0 10-2 0v2H7a1 1 0 100 2h2v2a1 1 0 102 0v-2h2a1 1 0 100-2h-2V7z",clipRule:"evenodd"})}),"Small Talk Boosters"]}),C.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:o.extensions})]})]})]})]}),Cv=o=>o>=8?"bg-green-100 text-green-700 border-green-200":o>=5?"bg-amber-100 text-amber-700 border-amber-200":"bg-red-100 text-red-700 border-red-200",Su=({score:o,label:t})=>{const l=Cv(o);return C.jsxs("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-bold border ${l}`,children:[t,": ",o,"/10"]})},Av=({summary:o,onClose:t})=>o?C.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-in fade-in duration-200",children:C.jsxs("div",{className:"bg-white w-full max-w-3xl rounded-2xl shadow-2xl overflow-hidden flex flex-col max-h-[90vh] animate-in zoom-in-95 duration-200",children:[C.jsxs("div",{className:"p-6 bg-gradient-to-r from-blue-600 to-indigo-700 text-white flex justify-between items-center flex-shrink-0",children:[C.jsxs("div",{children:[C.jsx("h2",{className:"text-2xl font-bold",children:"Session Summary"}),C.jsx("p",{className:"text-blue-100 text-sm mt-1",children:"Overall conversation analysis & vocabulary"})]}),C.jsx("button",{onClick:t,className:"p-2 hover:bg-white/10 rounded-full transition-colors",children:C.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),C.jsxs("div",{className:"p-6 md:p-8 overflow-y-auto space-y-10 custom-scrollbar",children:[C.jsxs("section",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[C.jsxs("div",{className:"space-y-2",children:[C.jsxs("div",{className:"flex items-center justify-between",children:[C.jsx("h3",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Grammar Skills"}),C.jsx(Su,{score:o.grammarScore,label:"Score"})]}),C.jsx("p",{className:"text-gray-700 leading-relaxed text-sm",children:o.grammarPerformance})]}),C.jsxs("div",{className:"space-y-2",children:[C.jsxs("div",{className:"flex items-center justify-between",children:[C.jsx("h3",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Communication Clarity"}),C.jsx(Su,{score:o.clarityScore,label:"Score"})]}),C.jsx("p",{className:"text-gray-700 leading-relaxed text-sm",children:o.clarityEvaluation})]}),C.jsxs("div",{className:"md:col-span-2 space-y-2",children:[C.jsxs("div",{className:"flex items-center justify-between",children:[C.jsx("h3",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Conversation Flow"}),C.jsx(Su,{score:o.flowScore,label:"Score"})]}),C.jsx("p",{className:"text-gray-700 leading-relaxed text-sm",children:o.flowAnalysis})]})]}),C.jsxs("section",{className:"space-y-4 pt-6 border-t border-gray-100",children:[C.jsxs("h3",{className:"text-lg font-bold text-gray-800 flex items-center",children:[C.jsx("svg",{className:"w-5 h-5 mr-2 text-blue-500",fill:"currentColor",viewBox:"0 0 20 20",children:C.jsx("path",{d:"M11 3a1 1 0 10-2 0v1a1 1 0 102 0V3zM15.657 5.757a1 1 0 00-1.414-1.414l-.707.707a1 1 0 001.414 1.414l.707-.707zM18 10a1 1 0 01-1 1h-1a1 1 0 110-2h1a1 1 0 011 1zM5.05 6.464A1 1 0 106.464 5.05l-.707-.707a1 1 0 00-1.414 1.414l.707.707zM5 10a1 1 0 01-1 1H3a1 1 0 110-2h1a1 1 0 011 1zM8 16v-1a1 1 0 112 0v1a1 1 0 11-2 0zM13.536 14.95a1 1 0 011.414 0l.707.707a1 1 0 01-1.414 1.414l-.707-.707a1 1 0 010-1.414zM6.464 14.95a1 1 0 00-1.414 1.414l.707.707a1 1 0 001.414-1.414l-.707-.707z"})}),"Strategy Improvements"]}),C.jsx("div",{className:"grid grid-cols-1 gap-3",children:o.keySuggestions.map((l,a)=>C.jsxs("div",{className:"flex items-start bg-blue-50 p-4 rounded-xl border border-blue-100",children:[C.jsx("div",{className:"bg-blue-100 text-blue-700 w-6 h-6 rounded-full flex items-center justify-center font-bold text-xs mr-3 flex-shrink-0",children:a+1}),C.jsx("p",{className:"text-blue-900 text-sm font-medium",children:l})]},a))})]}),C.jsxs("section",{className:"space-y-4 pt-6 border-t border-gray-100",children:[C.jsxs("h3",{className:"text-lg font-bold text-gray-800 flex items-center",children:[C.jsx("svg",{className:"w-5 h-5 mr-2 text-indigo-500",fill:"currentColor",viewBox:"0 0 20 20",children:C.jsx("path",{d:"M9 4.804A7.993 7.993 0 002 12a8 8 0 1016 0c0-3.085-1.744-5.761-4.305-7.135L14.4 3.1a1 1 0 10-1.8-.883l-.85 1.733a8.07 8.07 0 00-1.75-.154 8.07 8.07 0 00-1.75.154l-.85-1.733a1 1 0 10-1.8.883l.705 1.439zM9 13a1 1 0 011-1h0a1 1 0 110 2H10a1 1 0 01-1-1z"})}),"Vocabulary Boosters"]}),C.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:o.suggestedVocabulary.map((l,a)=>C.jsxs("div",{className:"bg-gray-50 border border-gray-100 p-4 rounded-xl hover:shadow-md transition-shadow duration-200",children:[C.jsx("div",{className:"font-bold text-indigo-700 text-base mb-1",children:l.phrase}),C.jsx("p",{className:"text-xs text-gray-500 mb-2 italic",children:l.reason}),C.jsxs("div",{className:"bg-white p-2 rounded border border-indigo-50 text-xs text-indigo-900",children:[C.jsx("span",{className:"font-bold mr-1",children:"Ex:"}),' "',l.example,'"']})]},a))})]})]}),C.jsx("div",{className:"p-6 border-t border-gray-100 bg-gray-50 flex justify-end flex-shrink-0",children:C.jsx("button",{onClick:t,className:"px-6 py-2.5 bg-gray-800 text-white font-semibold rounded-xl hover:bg-gray-900 transition-all shadow-md active:scale-95",children:"Review Complete"})})]})}):null,xv=[{value:En.GEMINI_3_FLASH_PREVIEW,label:"Gemini 3 Flash Preview",description:"Latest v3 model, optimized for speed and reasoning"},{value:En.GEMINI_3_PRO_PREVIEW,label:"Gemini 3 Pro Preview",description:"Most capable v3 model for complex tasks"},{value:En.GEMINI_2_0_FLASH,label:"Gemini 2.0 Flash",description:"Fast and balanced (v2.0)"},{value:En.GEMINI_2_0_FLASH_LITE,label:"Gemini 2.0 Flash Lite",description:"Highly efficient, low latency (v2.0)"},{value:En.GEMINI_2_5_PRO,label:"Gemini 2.5 Pro",description:"Advanced reasoning and capability (v2.5)"},{value:En.GEMINI_2_5_FLASH_LITE,label:"Gemini 2.5 Flash Lite",description:"Fastest v2.5 model"},{value:En.GEMINI_2_5_FLASH_PREVIEW,label:"Gemini 2.5 Flash Preview",description:"Cutting-edge v2.5 features"}],bv=[{value:Qn.ALWAYS,label:"Always",description:"Color when analyzed"},{value:Qn.AFTER_READ,label:"After Review",description:"Color after you view the score"},{value:Qn.NEVER,label:"Never",description:"No coloring"}],Nv=({currentKey:o,currentModel:t,currentColorByScoring:l,onSave:a,onClose:r})=>{const[f,p]=Ee.useState(o),[g,y]=Ee.useState(t),[m,v]=Ee.useState(l);return C.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/60 backdrop-blur-md animate-in fade-in duration-200",children:C.jsxs("div",{className:"bg-white w-full max-w-md rounded-2xl shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200 max-h-[90vh] flex flex-col",children:[C.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center flex-shrink-0",children:[C.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Settings"}),C.jsx("button",{onClick:r,className:"p-2 hover:bg-gray-100 rounded-full",children:C.jsx("svg",{className:"w-5 h-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),C.jsxs("div",{className:"p-6 space-y-6 overflow-y-auto",children:[C.jsxs("div",{className:"space-y-2",children:[C.jsx("label",{className:"text-sm font-bold text-gray-700 block",children:"Google AI Studio API Key"}),C.jsx("input",{type:"password",value:f,onChange:T=>p(T.target.value),placeholder:"Paste your API key here...",className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none text-sm"}),C.jsxs("p",{className:"text-[10px] text-gray-500",children:["Get one for free at ",C.jsx("a",{href:"https://aistudio.google.com/",target:"_blank",className:"text-blue-600 underline",children:"aistudio.google.com"})]})]}),C.jsxs("div",{className:"space-y-2",children:[C.jsx("label",{className:"text-sm font-bold text-gray-700 block",children:"AI Model"}),C.jsx("select",{value:g,onChange:T=>y(T.target.value),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none text-sm",children:xv.map(T=>C.jsxs("option",{value:T.value,children:[T.label,"  ",T.description]},T.value))})]}),C.jsxs("div",{className:"space-y-2",children:[C.jsx("label",{className:"text-sm font-bold text-gray-700 block",children:"Color By Scoring"}),C.jsx("select",{value:m,onChange:T=>v(T.target.value),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none text-sm",children:bv.map(T=>C.jsxs("option",{value:T.value,children:[T.label,"  ",T.description]},T.value))}),C.jsx("p",{className:"text-[10px] text-gray-500",children:"Color the message bubble based on grammar (left) and naturalness (right) scores."})]}),C.jsxs("div",{className:"p-4 bg-amber-50 rounded-xl border border-amber-100 space-y-2",children:[C.jsxs("div",{className:"flex items-center text-amber-800 font-bold text-xs uppercase tracking-wider",children:[C.jsx("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:C.jsx("path",{fillRule:"evenodd",d:"M2.166 15.833A2 2 0 010 13.833V4.167A2 2 0 012.166 2.167h15.668A2 2 0 0120 4.167v9.666a2 2 0 01-2.166 2H2.166zM10 4a6 6 0 100 12 6 6 0 000-12z",clipRule:"evenodd"})}),"Privacy First"]}),C.jsxs("p",{className:"text-xs text-amber-900 leading-relaxed",children:["We never save your data or keys on any server. Everything is stored ",C.jsx("span",{className:"font-bold",children:"locally in your browser's memory"}),". Deleting your browser cache will clear all history."]})]})]}),C.jsx("div",{className:"p-6 bg-gray-50 flex justify-end flex-shrink-0",children:C.jsx("button",{onClick:()=>a(f,g,m),className:"px-6 py-2.5 bg-blue-600 text-white font-bold rounded-xl hover:bg-blue-700 transition-all shadow-md active:scale-95",children:"Save Changes"})})]})})},Ua=({title:o,message:t,confirmLabel:l="Delete",confirmVariant:a="danger",onConfirm:r,onCancel:f})=>C.jsx("div",{className:"fixed inset-0 z-[110] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-in fade-in duration-200",children:C.jsxs("div",{className:"bg-white w-full max-w-sm rounded-2xl shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200",children:[C.jsxs("div",{className:"p-6 text-center",children:[C.jsx("div",{className:`mx-auto flex items-center justify-center h-12 w-12 rounded-full mb-4 ${a==="danger"?"bg-red-100 text-red-600":"bg-blue-100 text-blue-600"}`,children:C.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),C.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:o}),C.jsx("p",{className:"text-sm text-gray-500",children:t})]}),C.jsxs("div",{className:"bg-gray-50 px-6 py-4 flex flex-col-reverse sm:flex-row sm:justify-end gap-2",children:[C.jsx("button",{onClick:f,className:"w-full sm:w-auto px-4 py-2 bg-white border border-gray-200 text-gray-700 font-semibold rounded-xl hover:bg-gray-50 transition-colors",children:"Cancel"}),C.jsx("button",{onClick:r,className:`w-full sm:w-auto px-4 py-2 text-white font-semibold rounded-xl shadow-sm transition-all active:scale-95 ${a==="danger"?"bg-red-600 hover:bg-red-700":"bg-blue-600 hover:bg-blue-700"}`,children:l})]})]})}),Rv={A:["How has your week been so far?","What did you do after you woke up today?","Did you sleep well last night?","Do you like cooking at home?","What do you usually eat for lunch?","Do you prefer coffee or tea?","What's your favorite meal of the day?","Did you have breakfast this morning?","What's the weather like where you are?","Do you prefer staying in or going out?","Do you like going for walks?","What kind of food do you eat most often?","Do you usually eat breakfast at home?","What kind of weather do you enjoy most?","Do you like watching short videos?","Do you like warm drinks?","What's your favorite weekday?","Do you like waking up early?","What's your favorite thing to snack on?","Do you prefer cats or dogs?","What's your favorite dessert?","What's your favorite ice cream flavor?","Do you like spicy food?","What's your favorite kind of soup?","What's your favorite kind of bread?","Do you prefer sweet or salty snacks?","What's your favorite simple meal?","What's your go-to comfort food?","What app do you use the most on your phone?","Do you prefer online shopping or in-store?","Do you prefer texting or calling?","What's something you always carry with you?","Do you like taking photos?","What's your favorite season of the year?","Did you grow up in this city?","Do you enjoy rainy days?","Do you like cloudy days?","What kind of music have you been listening to lately?","What kind of shows do you usually watch?","Are you more of a morning person or a night owl?","Do you prefer early nights or late nights?","Do you like staying up late?"],B:["Is there anything exciting happening this week?","What do you usually do in the evening?","What kind of videos do you watch most?","What's your favorite thing to do on a lazy day?","Have you been busy lately?","What's something you enjoy doing alone?","What kind of music helps you focus?","What's your favorite way to start the day?","Do you like surprises?","What's something you recently discovered?","Do you enjoy chatting with people online?","What's your favorite casual hobby?","Do you like background noise or silence?","What's something you often procrastinate on?","Do you enjoy learning new apps or tools?","What's your favorite thing to do during breaks?","What's something you're proud of recently?","What's your favorite thing to do after dinner?","Do you like trying new drinks?","What's something that helps you relax quickly?","Do you enjoy casual conversations?","What's your favorite thing about your routine?","Do you usually listen to music while commuting?","What's something you do when you feel bored?","Do you like exploring new neighborhoods?","Do you enjoy journaling or writing?","What's something you want to improve?","Do you like working with music on?","What's your favorite thing to do in the morning?","Do you enjoy watching documentaries?","What's something you always notice first?","What's your favorite thing to do on Sundays?","Do you like staying organized?","What's something you've been thinking about lately?","Do you enjoy watching people cook?","What's your favorite casual game?","What's something you enjoy learning about?","Do you prefer quiet cafes or lively ones?","What's your favorite smell?","Do you enjoy stretching or light exercise?","What's your favorite way to end the day?","Do you like listening to stories?","What's something you do to clear your mind?","Do you enjoy planning your day?","What's your favorite casual outfit?","Do you like listening to music with lyrics or without?","What's something that makes your day better?","Do you enjoy watching vlogs?","What's something you find relaxing to watch?","Do you enjoy cleaning or tidying up?","Do you like working in silence?","What's something you want to try one day?","Do you enjoy light conversations?","What's your favorite time to take a break?","Do you like handwritten notebooks?","What's something you do before bed?","Do you enjoy watching people talk about their hobbies?","What's your favorite everyday drink?","Do you like calm music?","What's something you do when you feel tired?","Do you enjoy slow mornings?","What's your favorite thing about your city?","Do you like listening to audio content?","What's something that motivates you?","Do you enjoy checking off to-do lists?","What's your favorite casual activity outdoors?","What's something you enjoy doing without a goal?","Do you enjoy watching interviews?","What's your favorite way to stay comfortable?","Do you like minimal or cozy spaces?","What's something you like to do while waiting?","Do you enjoy learning from videos?","Do you like taking short breaks often?","What's something you've gotten better at?","Do you enjoy background music in cafes?","What's your favorite casual topic to talk about?","Do you like keeping a routine?","What's something that helps you focus?","Do you enjoy late-night quiet time?","What's your favorite thing to do while traveling?","Have you watched any good movies recently?","What do you usually do to relax after work?","Did you do anything interesting last weekend?","What's something small that made you happy recently?","Do you like cooking or eating out more?","What's your favorite place to hang out?","Have you traveled anywhere nice before?","What's your favorite snack?","Do you enjoy exercising?","Do you like trying new things?","Have you read any good books lately?","What's something you're looking forward to?","Do you like working from home?","What's your favorite way to spend a day off?","Have you learned anything new recently?","What kind of hobbies do you have?","Do you enjoy going to cafes?","What's your favorite drink?","What's the best meal you've had recently?","Do you usually plan ahead or go with the flow?","What's your favorite holiday?","Have you ever tried a new skill just for fun?","What's your favorite thing to do at night?","Do you like quiet places or busy places?","What's something you do every day without thinking?","What kind of food do you like the most?","Have you watched anything interesting online lately?","What's your favorite way to spend time with friends?","What's your favorite thing about weekends?","Do you usually listen to music or podcasts?","What's your favorite type of movie?","Have you ever picked up a hobby and dropped it?","What's your favorite time of the day?","What's a place you want to visit someday?","Have you tried any new restaurants recently?","Do you like working alone or with others?","What's your favorite way to unwind?","Do you enjoy walking around the city?","What's your favorite kind of weather?","What's your favorite app for entertainment?","What's something you're curious about lately?","Do you enjoy learning languages?","What's your favorite simple pleasure?","Do you like watching the sunrise or sunset?","What's your favorite thing to do indoors?","Do you prefer handwritten notes or digital ones?","What's a habit you're trying to build?","Do you enjoy quiet mornings?","What's your favorite casual activity?","Do you like window shopping?","What's your favorite way to kill time?","Do you enjoy organizing things?","What's your favorite sound?","What's something you do to recharge?","Do you enjoy people-watching?","What's your favorite casual conversation topic?","Do you like planning trips?","What's your favorite thing about today?","Do you enjoy trying new cafes?","Do you like background music while working?","What's a small goal you have right now?","Do you enjoy short trips?","What's your favorite everyday routine?","How did you get into what you're doing now?","What's the last thing you laughed at?","Have you been busy or taking it easy lately?","What kind of food do you miss the most?","Do you usually follow trends or ignore them?","What's a place nearby you like but rarely visit?","How do you usually spend your commute time?","What's a random fact you know?","Do you prefer planning trips or deciding on the spot?","What's the last song that got stuck in your head?","Have you changed any habits recently?","What's something you enjoyed more than expected?","Do you like hosting or being invited more?","What's your favorite way to spend a free hour?","Have you picked up anything new this year?","What's a food you didn't like before but like now?","Do you usually eat quickly or slowly?","What's something people are often surprised about you?","How do you usually celebrate small wins?","What's the last place you visited for the first time?","Do you prefer mornings with plans or open days?","What's a smell that brings back memories?","How do you usually decide what to watch?","What's a skill you admire in other people?","Do you like working late or finishing early?","What's a simple thing that improves your mood?","How do you usually unwind on weekdays?","What's your favorite way to spend time alone?","Do you like background TV or complete quiet?","What's a food you could eat anytime?","How do you usually deal with stress?","Do you enjoy long conversations or short ones?","What's your favorite way to celebrate birthdays?","Do you usually arrive early or right on time?","What's a place you feel comfortable quickly?","How do you usually decide where to eat?","What's something you wish you did more often?","Do you like keeping busy or having empty time?","What's your favorite way to spend money on yourself?","How do you usually spend holidays?","What's something you enjoy explaining to others?","Do you like routines or variety more?","What's a topic you can talk about for hours?","How do you usually choose gifts?","Do you enjoy road trips?","What's your favorite casual hangout activity?","How do you usually recover from a long day?","Do you prefer familiar places or new ones?","What's something you always notice in a room?","How do you usually start conversations?","What's your favorite kind of break?","Do you like working at home or outside?","What's a food you associate with comfort?","How do you usually decide when to stop working?","What's something you enjoy doing with friends?","Do you like spontaneous plans?","What's a place you could visit again and again?","How do you usually organize your thoughts?","What's something you enjoy teaching yourself?","Do you prefer deep talks or casual chats?","What's a habit you picked up unintentionally?","How do you usually celebrate good news?","What's your favorite kind of casual outing?","Do you enjoy people who talk a lot or listen more?","What's something that helps you reset mentally?","How do you usually react to unexpected plans?","What's a simple luxury you enjoy?","Do you like being busy on weekends?","How do you usually pick restaurants?","What's your favorite thing to do with no schedule?","Do you like conversations with strangers?","What's something you enjoy noticing about people?","How do you usually handle indecision?","What's your favorite kind of social setting?","Do you enjoy trying things without expectations?","How do you usually balance work and rest?","What's a question you like being asked?","Do you like keeping things flexible?","What's something you enjoy watching others do?","How do you usually recharge after socializing?","What's your favorite kind of casual compliment?","Do you enjoy small gatherings or big ones?","How do you usually decide what's important?","What's a place you like for short visits?","Do you like structured days?","What's something you enjoy sharing with others?","How do you usually mark the end of the day?","What's your favorite way to spend unexpected free time?","Do you enjoy learning from conversations?","What's something you enjoy noticing in daily life?","How do you usually slow yourself down?","What's your favorite way to feel productive?","Do you like talking while doing activities?","What's something you enjoy remembering?","How do you usually respond to change?","What's a simple activity you never get tired of?","Do you like calm or energetic environments?","How do you usually choose how to spend your time?","What's your favorite way to connect with friends?","Do you enjoy casual silence with people?","What's something you enjoy without explaining?","How do you usually end conversations?","What's your favorite low-effort activity?","Do you like conversations that drift naturally?","What's something you enjoy observing quietly?","How do you usually feel at the end of the week?","What's a small routine you enjoy?","Do you like mixing work and breaks?","What's something you appreciate in friendships?","How do you usually decide what to prioritize?","What's your favorite way to feel relaxed around others?"],C:["What kind of experiences tend to leave a lasting impression on you?","How do you usually recognize when you need a change of pace?","What's something subtle that strongly influences your mood?","How do you decide which opinions are worth holding onto?","What's a belief you've gradually refined over time?","How do you usually interpret silence in conversations?","What's something that feels simple but is actually difficult to master?","How do you distinguish between being busy and being fulfilled?","What kind of environments bring out your best thinking?","What's a habit that quietly shapes your daily life?","How do you usually respond to uncertainty?","What's something you've learned to appreciate only through experience?","How do you decide when to speak up and when to hold back?","What's a moment that shifted your perspective in a small way?","How do you define balance in your own terms?","What kind of conversations do you find most energizing?","How do you usually approach decisions with no clear answer?","What's a personal standard you try to live by?","How do you tell when something is worth long-term effort?","What's a topic you enjoy revisiting with new insight?","How do you usually process disappointment?","What kind of progress feels most meaningful to you?","How do you decide what deserves your attention?","What's something that challenges you in a good way?","How do you usually interpret other people's motivations?","What's an assumption you often question?","How do you handle conflicting priorities?","What kind of feedback do you find most useful?","How do you usually notice personal growth?","What's something that has become more complex the more you learned about it?","How do you define success outside of conventional measures?","What kind of situations make you more reflective?","How do you usually respond to unexpected responsibility?","What's a value you've become more conscious of over time?","How do you decide which risks are worth taking?","What's something you've learned from observing others?","How do you usually reframe setbacks?","What kind of routines support your long-term goals?","How do you distinguish between intuition and impulse?","What's a question you ask yourself regularly?","How do you usually regain clarity when overwhelmed?","What's something you've outgrown without noticing at first?","How do you approach conversations with differing viewpoints?","What kind of effort feels sustainable to you?","How do you decide when to push forward versus pause?","What's something you've redefined for yourself?","How do you usually interpret success in others?","What kind of learning sticks with you the longest?","How do you usually respond to ambiguity?","What's a quiet influence that shapes your decisions?","How do you determine what's worth maintaining long term?","What's something you've learned to do imperfectly on purpose?","How do you balance consistency with flexibility?","What kind of challenges do you find most engaging?","How do you usually identify your own biases?","What's something that changed once you stopped rushing it?","How do you decide what to let go of?","What kind of conversations change how you think?","How do you usually react to being misunderstood?","What's a concept that became clearer through practice rather than theory?","How do you manage expectationsyour own or others'?","What's something that rewards patience more than talent?","How do you usually measure personal progress?","What kind of constraints help you be more creative?","How do you recognize when something aligns with you?","What's a trade-off you consciously accept?","How do you usually adapt to new dynamics?","What's something that became meaningful only in hindsight?","How do you decide which details matter?","What kind of effort feels underestimated by others?","How do you usually navigate long-term commitments?","What's something you've learned by changing your environment?","How do you approach conversations that have no clear conclusion?","What kind of mistakes taught you the most?","How do you usually recalibrate after burnout?","What's a subtle sign that something is working?","How do you balance ambition with contentment?","What's something that improved once you simplified it?","How do you usually evaluate advice from others?","What kind of independence matters most to you?","How do you recognize when you're avoiding something?","What's a question that helps you think more clearly?","How do you usually manage competing interests?","What's something you now approach more deliberately?","How do you decide when effort becomes diminishing returns?","What kind of clarity comes only with distance?","How do you usually respond to pressure without urgency?","What's something you learned by slowing down?","How do you define meaningful contribution?","What kind of structure helps you think better?","How do you navigate conversations with unspoken tension?","What's a mindset you've intentionally cultivated?","How do you decide what deserves consistency?","What's something you appreciate more after struggling with it?","How do you usually regain motivation after a lull?","What kind of goals evolve rather than end?","How do you recognize alignment between values and actions?","What's something you've learned by observing patterns?","How do you usually respond when plans dissolve?","What kind of simplicity feels earned rather than naive?","How do you balance openness with boundaries?","What's a perspective that changed after repeated exposure?","How do you usually ground yourself during transitions?","What's something that revealed itself only over time?","How do you decide when refinement matters more than speed?","What kind of conversations leave you thinking afterward?","How do you usually interpret calm versus stagnation?","What's something you've learned by teaching yourself?","How do you navigate periods of low momentum?","What kind of effort compounds quietly?","How do you decide what deserves revisiting?","What's a realization that arrived gradually rather than suddenly?","How do you usually manage internal contradictions?","What kind of work feels aligned even when difficult?","How do you distinguish progress from motion?","What's something you approach with more humility now?","How do you usually respond to subtle dissatisfaction?","What kind of questions open better discussions?","How do you recognize when something has run its course?","What's a skill that changed how you see other skills?","How do you usually negotiate trade-offs in daily life?","What kind of clarity comes from constraint?","How do you decide when something is 'good enough'?","What's something you understand better through repetition?","How do you usually assess long-term impact?","What kind of thinking benefits from solitude?","How do you navigate growth without urgency?","What's something you've learned by paying attention longer?","How do you usually define personal integrity?","What kind of habits support thinking rather than productivity?","How do you recognize when effort is misdirected?","What's something that gained meaning through consistency?","How do you usually approach unresolved questions?","What kind of balance feels dynamic rather than fixed?","How do you decide when refinement stops being useful?","What's something you've learned by observing your reactions?","How do you usually recalibrate expectations over time?","What kind of progress feels invisible day to day?","How do you navigate conversations with implicit assumptions?","What's something that required unlearning first?","How do you usually define a well-spent day?","What's something you've changed your mind about?","What's something you've learned the hard way?","What's a small change that made a big difference?","What's something you recently realized?","What's something you've grown to appreciate?","What's something you enjoy about getting older?","What's something you appreciate more as you get older?","What's something you value more now than before?"]},uh=o=>{const t=Rv[o],l=Math.floor(Math.random()*t.length);return t[l]},wv=o=>({A:"Beginner",B:"Intermediate",C:"Advanced"})[o],Mv=["A","B","C"],Tu={A:{bg:"bg-green-500",hover:"hover:bg-green-600",text:"text-white"},B:{bg:"bg-amber-500",hover:"hover:bg-amber-600",text:"text-white"},C:{bg:"bg-purple-500",hover:"hover:bg-purple-600",text:"text-white"}},ch=[{value:"curious",label:"Curious & Engaging",prompt:"Ask thoughtful follow-up questions, show genuine interest in my answers."},{value:"supportive",label:"Supportive & Encouraging",prompt:"Be warm and encouraging, give gentle positive feedback."},{value:"talkative",label:"Talkative & Expressive",prompt:"Share your own thoughts and experiences too, make it a two-way conversation."},{value:"brief",label:"Brief & Direct",prompt:"Keep responses concise and to the point."}],fh=[{id:"INTJ",label:"INTJ  Architect"},{id:"INTP",label:"INTP  Logician"},{id:"ENTJ",label:"ENTJ  Commander"},{id:"ENTP",label:"ENTP  Debater"},{id:"INFJ",label:"INFJ  Advocate"},{id:"INFP",label:"INFP  Mediator"},{id:"ENFJ",label:"ENFJ  Protagonist"},{id:"ENFP",label:"ENFP  Campaigner"},{id:"ISTJ",label:"ISTJ  Logistician"},{id:"ISFJ",label:"ISFJ  Defender"},{id:"ESTJ",label:"ESTJ  Executive"},{id:"ESFJ",label:"ESFJ  Consul"},{id:"ISTP",label:"ISTP  Virtuoso"},{id:"ISFP",label:"ISFP  Adventurer"},{id:"ESTP",label:"ESTP  Entrepreneur"},{id:"ESFP",label:"ESFP  Entertainer"}],dh=[{id:"Aries",label:"Aries "},{id:"Taurus",label:"Taurus "},{id:"Gemini",label:"Gemini "},{id:"Cancer",label:"Cancer "},{id:"Leo",label:"Leo "},{id:"Virgo",label:"Virgo "},{id:"Libra",label:"Libra "},{id:"Scorpio",label:"Scorpio "},{id:"Sagittarius",label:"Sagittarius "},{id:"Capricorn",label:"Capricorn "},{id:"Aquarius",label:"Aquarius "},{id:"Pisces",label:"Pisces "}],Iv=({onClose:o,language:t})=>{const[l,a]=Ee.useState(null),[r,f]=Ee.useState(null),[p,g]=Ee.useState("curious"),[y,m]=Ee.useState(t||"English"),[v,T]=Ee.useState(!1),[E,A]=Ee.useState("ENFP"),[D,k]=Ee.useState(!1),[U,B]=Ee.useState("Leo"),X=O=>{f(O),a(uh(O))},F=()=>{r&&a(uh(r))},$=()=>{const O=ch.find(de=>de.value===p),ne=(O==null?void 0:O.prompt)||"";let Y="";if(v||D){const de=[];if(v){const Z=fh.find(ce=>ce.id===E);de.push(`${(Z==null?void 0:Z.label)||E} personality`)}if(D){const Z=dh.find(ce=>ce.id===U);de.push(`${(Z==null?void 0:Z.label)||U} energy`)}Y=` Roleplay with a ${de.join(" and ")} vibe.`}return`Let's practice ${y||"English"} small talk. Topic: "${l}" 

Style: ${ne}${Y}

When I say "let's start", ask me this question in a casual, friendly way in ${y||"English"}. Keep the conversation natural and interactive.`};return C.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/60 backdrop-blur-md animate-in fade-in duration-200",children:C.jsxs("div",{className:"bg-white w-full max-w-lg rounded-2xl shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200 max-h-[90vh] flex flex-col",children:[C.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center flex-shrink-0",children:[C.jsx("h2",{className:"text-xl font-bold text-gray-800",children:" Small Talk Topic"}),C.jsx("button",{onClick:o,className:"p-2 hover:bg-gray-100 rounded-full",children:C.jsx("svg",{className:"w-5 h-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),C.jsxs("div",{className:"p-6 space-y-5 overflow-y-auto",children:[C.jsxs("div",{className:"space-y-3",children:[C.jsx("p",{className:"text-sm font-semibold text-gray-600 uppercase tracking-wider",children:"Select Difficulty Level"}),C.jsx("div",{className:"flex gap-3",children:Mv.map(O=>C.jsxs("button",{onClick:()=>X(O),className:`
                    flex-1 py-4 rounded-xl font-bold text-lg transition-all active:scale-95 shadow-md
                    ${Tu[O].bg} ${Tu[O].hover} ${Tu[O].text}
                    ${r===O?"ring-4 ring-offset-2 ring-gray-300":""}
                  `,children:[C.jsx("div",{className:"text-2xl",children:O}),C.jsx("div",{className:"text-xs opacity-80 mt-1",children:wv(O)})]},O))})]}),l&&C.jsxs("div",{className:"space-y-4 animate-in slide-in-from-bottom-4 duration-300",children:[C.jsxs("div",{className:"space-y-2",children:[C.jsxs("div",{className:"flex items-center justify-between",children:[C.jsx("p",{className:"text-sm font-semibold text-gray-600 uppercase tracking-wider",children:"Your Topic"}),C.jsxs("button",{onClick:F,className:"flex items-center gap-1 text-xs text-blue-600 hover:text-blue-700 font-medium",children:[C.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Another Topic"]})]}),C.jsx("div",{className:"p-4 bg-gradient-to-br from-blue-50 to-indigo-50 rounded-xl border border-blue-100",children:C.jsx("p",{className:"text-lg text-gray-800 leading-relaxed font-medium",children:l})})]}),C.jsxs("div",{className:"space-y-2",children:[C.jsx("p",{className:"text-sm font-semibold text-gray-600 uppercase tracking-wider",children:"Conversation Style"}),C.jsx("select",{value:p,onChange:O=>g(O.target.value),className:"w-full px-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none text-sm",children:ch.map(O=>C.jsx("option",{value:O.value,children:O.label},O.value))})]}),C.jsxs("div",{className:"space-y-2",children:[C.jsx("p",{className:"text-sm font-semibold text-gray-600 uppercase tracking-wider",children:"Practice Language"}),C.jsxs("select",{value:["English","Japanese","Spanish"].includes(y)?y:"Other",onChange:O=>{O.target.value!=="Other"?m(O.target.value):m("")},className:"w-full px-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none text-sm",children:[C.jsx("option",{value:"English",children:"English"}),C.jsx("option",{value:"Japanese",children:"Japanese"}),C.jsx("option",{value:"Spanish",children:"Spanish"}),C.jsx("option",{value:"Other",children:"Other..."})]}),!["English","Japanese","Spanish"].includes(y)&&C.jsx("input",{type:"text",value:y,onChange:O=>m(O.target.value),placeholder:"Enter language name (e.g., German, French)",className:"w-full px-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none text-sm"})]}),C.jsxs("div",{className:"space-y-2 p-3 bg-gradient-to-r from-pink-50 to-purple-50 rounded-xl border border-pink-100",children:[C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx("span",{className:"text-xs font-bold text-purple-600 uppercase tracking-wider",children:" Fun Experiment"}),C.jsx("span",{className:"text-[10px] text-purple-400 bg-purple-100 px-2 py-0.5 rounded-full",children:"Just for fun!"})]}),C.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-2",children:[C.jsxs("div",{className:"space-y-1",children:[C.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[C.jsx("input",{type:"checkbox",checked:v,onChange:O=>T(O.target.checked),className:"w-4 h-4 rounded border-gray-300 text-purple-600 focus:ring-purple-500"}),C.jsx("span",{className:"text-xs font-medium text-gray-700",children:"MBTI Vibe"})]}),v&&C.jsx("select",{value:E,onChange:O=>A(O.target.value),className:"w-full px-2 py-1.5 bg-white border border-purple-200 rounded-lg text-xs focus:ring-2 focus:ring-purple-500",children:fh.map(O=>C.jsx("option",{value:O.id,children:O.label},O.id))})]}),C.jsxs("div",{className:"space-y-1",children:[C.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[C.jsx("input",{type:"checkbox",checked:D,onChange:O=>k(O.target.checked),className:"w-4 h-4 rounded border-gray-300 text-purple-600 focus:ring-purple-500"}),C.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Star Sign"})]}),D&&C.jsx("select",{value:U,onChange:O=>B(O.target.value),className:"w-full px-2 py-1.5 bg-white border border-purple-200 rounded-lg text-xs focus:ring-2 focus:ring-purple-500",children:dh.map(O=>C.jsx("option",{value:O.id,children:O.label},O.id))})]})]})]}),C.jsxs("a",{href:`https://chatgpt.com/?prompt=${encodeURIComponent($())}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-2 w-full py-3 bg-gradient-to-r from-teal-500 to-emerald-500 text-white font-bold rounded-xl hover:from-teal-600 hover:to-emerald-600 transition-all shadow-md active:scale-95",children:[C.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:C.jsx("path",{d:"M22.282 9.821a5.985 5.985 0 0 0-.516-4.91 6.046 6.046 0 0 0-6.51-2.9A6.065 6.065 0 0 0 4.981 4.18a5.985 5.985 0 0 0-3.998 2.9 6.046 6.046 0 0 0 .743 7.097 5.98 5.98 0 0 0 .51 4.911 6.051 6.051 0 0 0 6.515 2.9A5.985 5.985 0 0 0 13.26 24a6.056 6.056 0 0 0 5.772-4.206 5.99 5.99 0 0 0 3.997-2.9 6.056 6.056 0 0 0-.747-7.073zM13.26 22.43a4.476 4.476 0 0 1-2.876-1.04l.141-.081 4.779-2.758a.795.795 0 0 0 .392-.681v-6.737l2.02 1.168a.071.071 0 0 1 .038.052v5.583a4.504 4.504 0 0 1-4.494 4.494zM3.6 18.304a4.47 4.47 0 0 1-.535-3.014l.142.085 4.783 2.759a.771.771 0 0 0 .78 0l5.843-3.369v2.332a.08.08 0 0 1-.033.062L9.74 19.95a4.5 4.5 0 0 1-6.14-1.646zM2.34 7.896a4.485 4.485 0 0 1 2.366-1.973V11.6a.766.766 0 0 0 .388.676l5.815 3.355-2.02 1.168a.076.076 0 0 1-.071 0l-4.83-2.786A4.504 4.504 0 0 1 2.34 7.896zm16.597 3.855l-5.833-3.387L15.119 7.2a.076.076 0 0 1 .071 0l4.83 2.791a4.494 4.494 0 0 1-.676 8.105v-5.678a.79.79 0 0 0-.407-.667zm2.01-3.023l-.141-.085-4.774-2.782a.776.776 0 0 0-.785 0L9.409 9.23V6.897a.066.066 0 0 1 .028-.061l4.83-2.787a4.5 4.5 0 0 1 6.68 4.66zm-12.64 4.135l-2.02-1.164a.08.08 0 0 1-.038-.057V6.075a4.5 4.5 0 0 1 7.375-3.453l-.142.08L8.704 5.46a.795.795 0 0 0-.393.681zm1.097-2.365l2.602-1.5 2.607 1.5v2.999l-2.597 1.5-2.607-1.5z"})}),"Chat with ChatGPT Now!"]}),C.jsx("p",{className:"text-[10px] text-gray-400 text-center",children:` Send the message first, click Voice Mode, then say "let's start" to begin!`})]}),!l&&C.jsxs("div",{className:"p-8 text-center text-gray-400",children:[C.jsx("div",{className:"text-4xl mb-2",children:""}),C.jsx("p",{className:"text-sm",children:"Click a level button above to get a random topic"})]})]}),C.jsx("div",{className:"p-4 bg-gray-50 border-t border-gray-100 flex-shrink-0",children:C.jsxs("div",{className:"flex justify-center gap-6 text-xs text-gray-500",children:[C.jsxs("span",{children:[C.jsx("span",{className:"inline-block w-3 h-3 rounded bg-green-500 mr-1"})," A: Simple"]}),C.jsxs("span",{children:[C.jsx("span",{className:"inline-block w-3 h-3 rounded bg-amber-500 mr-1"})," B: Opinions"]}),C.jsxs("span",{children:[C.jsx("span",{className:"inline-block w-3 h-3 rounded bg-purple-500 mr-1"})," C: Abstract"]})]})})]})})};var Dv={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Uv,Lv;function Hv(){return{geminiUrl:Uv,vertexUrl:Lv}}function kv(o,t,l,a){var r,f;if(!(o!=null&&o.baseUrl)){const p=Hv();return t?(r=p.vertexUrl)!==null&&r!==void 0?r:l:(f=p.geminiUrl)!==null&&f!==void 0?f:a}return o.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Cn{}function Q(o,t){const l=/\{([^}]+)\}/g;return o.replace(l,(a,r)=>{if(Object.prototype.hasOwnProperty.call(t,r)){const f=t[r];return f!=null?String(f):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function c(o,t,l){for(let f=0;f<t.length-1;f++){const p=t[f];if(p.endsWith("[]")){const g=p.slice(0,-2);if(!(g in o))if(Array.isArray(l))o[g]=Array.from({length:l.length},()=>({}));else throw new Error(`Value must be a list given an array path ${p}`);if(Array.isArray(o[g])){const y=o[g];if(Array.isArray(l))for(let m=0;m<y.length;m++){const v=y[m];c(v,t.slice(f+1),l[m])}else for(const m of y)c(m,t.slice(f+1),l)}return}else if(p.endsWith("[0]")){const g=p.slice(0,-3);g in o||(o[g]=[{}]);const y=o[g];c(y[0],t.slice(f+1),l);return}(!o[p]||typeof o[p]!="object")&&(o[p]={}),o=o[p]}const a=t[t.length-1],r=o[a];if(r!==void 0){if(!l||typeof l=="object"&&Object.keys(l).length===0||l===r)return;if(typeof r=="object"&&typeof l=="object"&&r!==null&&l!==null)Object.assign(r,l);else throw new Error(`Cannot set value for an existing key. Key: ${a}`)}else a==="_self"&&typeof l=="object"&&l!==null&&!Array.isArray(l)?Object.assign(o,l):o[a]=l}function u(o,t,l=void 0){try{if(t.length===1&&t[0]==="_self")return o;for(let a=0;a<t.length;a++){if(typeof o!="object"||o===null)return l;const r=t[a];if(r.endsWith("[]")){const f=r.slice(0,-2);if(f in o){const p=o[f];return Array.isArray(p)?p.map(g=>u(g,t.slice(a+1),l)):l}else return l}else o=o[r]}return o}catch(a){if(a instanceof TypeError)return l;throw a}}function Gv(o,t){for(const[l,a]of Object.entries(t)){const r=l.split("."),f=a.split("."),p=new Set;let g=-1;for(let y=0;y<r.length;y++)if(r[y]==="*"){g=y;break}if(g!==-1&&f.length>g)for(let y=g;y<f.length;y++){const m=f[y];m!=="*"&&!m.endsWith("[]")&&!m.endsWith("[0]")&&p.add(m)}Au(o,r,f,0,p)}}function Au(o,t,l,a,r){if(a>=t.length||typeof o!="object"||o===null)return;const f=t[a];if(f.endsWith("[]")){const p=f.slice(0,-2),g=o;if(p in g&&Array.isArray(g[p]))for(const y of g[p])Au(y,t,l,a+1,r)}else if(f==="*"){if(typeof o=="object"&&o!==null&&!Array.isArray(o)){const p=o,g=Object.keys(p).filter(m=>!m.startsWith("_")&&!r.has(m)),y={};for(const m of g)y[m]=p[m];for(const[m,v]of Object.entries(y)){const T=[];for(const E of l.slice(a))E==="*"?T.push(m):T.push(E);c(p,T,v)}for(const m of g)delete p[m]}}else{const p=o;f in p&&Au(p[f],t,l,a+1,r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qu(o){if(typeof o!="string")throw new Error("fromImageBytes must be a string");return o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Vv(o){const t={},l=u(o,["operationName"]);l!=null&&c(t,["operationName"],l);const a=u(o,["resourceName"]);return a!=null&&c(t,["_url","resourceName"],a),t}function qv(o){const t={},l=u(o,["name"]);l!=null&&c(t,["name"],l);const a=u(o,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(o,["done"]);r!=null&&c(t,["done"],r);const f=u(o,["error"]);f!=null&&c(t,["error"],f);const p=u(o,["response","generateVideoResponse"]);return p!=null&&c(t,["response"],Bv(p)),t}function zv(o){const t={},l=u(o,["name"]);l!=null&&c(t,["name"],l);const a=u(o,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(o,["done"]);r!=null&&c(t,["done"],r);const f=u(o,["error"]);f!=null&&c(t,["error"],f);const p=u(o,["response"]);return p!=null&&c(t,["response"],Pv(p)),t}function Bv(o){const t={},l=u(o,["generatedSamples"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(p=>Ov(p))),c(t,["generatedVideos"],f)}const a=u(o,["raiMediaFilteredCount"]);a!=null&&c(t,["raiMediaFilteredCount"],a);const r=u(o,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function Pv(o){const t={},l=u(o,["videos"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(p=>Fv(p))),c(t,["generatedVideos"],f)}const a=u(o,["raiMediaFilteredCount"]);a!=null&&c(t,["raiMediaFilteredCount"],a);const r=u(o,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function Ov(o){const t={},l=u(o,["video"]);return l!=null&&c(t,["video"],Qv(l)),t}function Fv(o){const t={},l=u(o,["_self"]);return l!=null&&c(t,["video"],Zv(l)),t}function Jv(o){const t={},l=u(o,["operationName"]);return l!=null&&c(t,["_url","operationName"],l),t}function Yv(o){const t={},l=u(o,["operationName"]);return l!=null&&c(t,["_url","operationName"],l),t}function Wv(o){const t={},l=u(o,["name"]);l!=null&&c(t,["name"],l);const a=u(o,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(o,["done"]);r!=null&&c(t,["done"],r);const f=u(o,["error"]);f!=null&&c(t,["error"],f);const p=u(o,["response"]);return p!=null&&c(t,["response"],Kv(p)),t}function Kv(o){const t={},l=u(o,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(o,["parent"]);a!=null&&c(t,["parent"],a);const r=u(o,["documentName"]);return r!=null&&c(t,["documentName"],r),t}function Zm(o){const t={},l=u(o,["name"]);l!=null&&c(t,["name"],l);const a=u(o,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(o,["done"]);r!=null&&c(t,["done"],r);const f=u(o,["error"]);f!=null&&c(t,["error"],f);const p=u(o,["response"]);return p!=null&&c(t,["response"],Xv(p)),t}function Xv(o){const t={},l=u(o,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(o,["parent"]);a!=null&&c(t,["parent"],a);const r=u(o,["documentName"]);return r!=null&&c(t,["documentName"],r),t}function Qv(o){const t={},l=u(o,["uri"]);l!=null&&c(t,["uri"],l);const a=u(o,["encodedVideo"]);a!=null&&c(t,["videoBytes"],qu(a));const r=u(o,["encoding"]);return r!=null&&c(t,["mimeType"],r),t}function Zv(o){const t={},l=u(o,["gcsUri"]);l!=null&&c(t,["uri"],l);const a=u(o,["bytesBase64Encoded"]);a!=null&&c(t,["videoBytes"],qu(a));const r=u(o,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var ph;(function(o){o.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",o.OUTCOME_OK="OUTCOME_OK",o.OUTCOME_FAILED="OUTCOME_FAILED",o.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(ph||(ph={}));var hh;(function(o){o.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",o.PYTHON="PYTHON"})(hh||(hh={}));var mh;(function(o){o.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",o.SILENT="SILENT",o.WHEN_IDLE="WHEN_IDLE",o.INTERRUPT="INTERRUPT"})(mh||(mh={}));var me;(function(o){o.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",o.STRING="STRING",o.NUMBER="NUMBER",o.INTEGER="INTEGER",o.BOOLEAN="BOOLEAN",o.ARRAY="ARRAY",o.OBJECT="OBJECT",o.NULL="NULL"})(me||(me={}));var gh;(function(o){o.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",o.SIMPLE_SEARCH="SIMPLE_SEARCH",o.ELASTIC_SEARCH="ELASTIC_SEARCH"})(gh||(gh={}));var yh;(function(o){o.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",o.NO_AUTH="NO_AUTH",o.API_KEY_AUTH="API_KEY_AUTH",o.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",o.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",o.OAUTH="OAUTH",o.OIDC_AUTH="OIDC_AUTH"})(yh||(yh={}));var vh;(function(o){o.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",o.HTTP_IN_QUERY="HTTP_IN_QUERY",o.HTTP_IN_HEADER="HTTP_IN_HEADER",o.HTTP_IN_PATH="HTTP_IN_PATH",o.HTTP_IN_BODY="HTTP_IN_BODY",o.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(vh||(vh={}));var Sh;(function(o){o.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",o.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",o.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",o.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",o.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",o.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",o.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Sh||(Sh={}));var Th;(function(o){o.UNSPECIFIED="UNSPECIFIED",o.BLOCKING="BLOCKING",o.NON_BLOCKING="NON_BLOCKING"})(Th||(Th={}));var Eh;(function(o){o.MODE_UNSPECIFIED="MODE_UNSPECIFIED",o.MODE_DYNAMIC="MODE_DYNAMIC"})(Eh||(Eh={}));var _h;(function(o){o.MODE_UNSPECIFIED="MODE_UNSPECIFIED",o.AUTO="AUTO",o.ANY="ANY",o.NONE="NONE",o.VALIDATED="VALIDATED"})(_h||(_h={}));var Ch;(function(o){o.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",o.LOW="LOW",o.MEDIUM="MEDIUM",o.HIGH="HIGH",o.MINIMAL="MINIMAL"})(Ch||(Ch={}));var Ah;(function(o){o.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",o.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",o.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",o.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",o.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",o.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",o.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",o.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",o.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",o.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",o.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Ah||(Ah={}));var xh;(function(o){o.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",o.SEVERITY="SEVERITY",o.PROBABILITY="PROBABILITY"})(xh||(xh={}));var bh;(function(o){o.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",o.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",o.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",o.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",o.BLOCK_NONE="BLOCK_NONE",o.OFF="OFF"})(bh||(bh={}));var Nh;(function(o){o.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",o.STOP="STOP",o.MAX_TOKENS="MAX_TOKENS",o.SAFETY="SAFETY",o.RECITATION="RECITATION",o.LANGUAGE="LANGUAGE",o.OTHER="OTHER",o.BLOCKLIST="BLOCKLIST",o.PROHIBITED_CONTENT="PROHIBITED_CONTENT",o.SPII="SPII",o.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",o.IMAGE_SAFETY="IMAGE_SAFETY",o.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",o.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",o.NO_IMAGE="NO_IMAGE",o.IMAGE_RECITATION="IMAGE_RECITATION",o.IMAGE_OTHER="IMAGE_OTHER"})(Nh||(Nh={}));var Rh;(function(o){o.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",o.NEGLIGIBLE="NEGLIGIBLE",o.LOW="LOW",o.MEDIUM="MEDIUM",o.HIGH="HIGH"})(Rh||(Rh={}));var wh;(function(o){o.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",o.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",o.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",o.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",o.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(wh||(wh={}));var Mh;(function(o){o.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",o.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",o.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",o.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",o.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Mh||(Mh={}));var Ih;(function(o){o.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",o.SAFETY="SAFETY",o.OTHER="OTHER",o.BLOCKLIST="BLOCKLIST",o.PROHIBITED_CONTENT="PROHIBITED_CONTENT",o.IMAGE_SAFETY="IMAGE_SAFETY",o.MODEL_ARMOR="MODEL_ARMOR",o.JAILBREAK="JAILBREAK"})(Ih||(Ih={}));var Dh;(function(o){o.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",o.ON_DEMAND="ON_DEMAND",o.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Dh||(Dh={}));var Ba;(function(o){o.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",o.TEXT="TEXT",o.IMAGE="IMAGE",o.AUDIO="AUDIO"})(Ba||(Ba={}));var Uh;(function(o){o.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",o.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",o.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",o.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Uh||(Uh={}));var Lh;(function(o){o.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",o.TUNING_MODE_FULL="TUNING_MODE_FULL",o.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Lh||(Lh={}));var Hh;(function(o){o.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",o.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",o.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",o.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",o.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",o.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",o.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Hh||(Hh={}));var xu;(function(o){o.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",o.JOB_STATE_QUEUED="JOB_STATE_QUEUED",o.JOB_STATE_PENDING="JOB_STATE_PENDING",o.JOB_STATE_RUNNING="JOB_STATE_RUNNING",o.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",o.JOB_STATE_FAILED="JOB_STATE_FAILED",o.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",o.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",o.JOB_STATE_PAUSED="JOB_STATE_PAUSED",o.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",o.JOB_STATE_UPDATING="JOB_STATE_UPDATING",o.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(xu||(xu={}));var kh;(function(o){o.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",o.TUNING_TASK_I2V="TUNING_TASK_I2V",o.TUNING_TASK_T2V="TUNING_TASK_T2V",o.TUNING_TASK_R2V="TUNING_TASK_R2V"})(kh||(kh={}));var Gh;(function(o){o.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",o.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",o.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",o.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",o.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(Gh||(Gh={}));var Vh;(function(o){o.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",o.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",o.BALANCED="BALANCED",o.PRIORITIZE_COST="PRIORITIZE_COST"})(Vh||(Vh={}));var qh;(function(o){o.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",o.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(qh||(qh={}));var zh;(function(o){o.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",o.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",o.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",o.BLOCK_NONE="BLOCK_NONE"})(zh||(zh={}));var Bh;(function(o){o.DONT_ALLOW="DONT_ALLOW",o.ALLOW_ADULT="ALLOW_ADULT",o.ALLOW_ALL="ALLOW_ALL"})(Bh||(Bh={}));var Ph;(function(o){o.auto="auto",o.en="en",o.ja="ja",o.ko="ko",o.hi="hi",o.zh="zh",o.pt="pt",o.es="es"})(Ph||(Ph={}));var Oh;(function(o){o.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",o.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",o.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",o.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",o.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Oh||(Oh={}));var Fh;(function(o){o.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",o.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",o.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",o.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Fh||(Fh={}));var Jh;(function(o){o.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",o.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",o.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",o.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Jh||(Jh={}));var Yh;(function(o){o.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",o.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",o.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",o.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",o.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",o.EDIT_MODE_STYLE="EDIT_MODE_STYLE",o.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",o.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Yh||(Yh={}));var Wh;(function(o){o.FOREGROUND="FOREGROUND",o.BACKGROUND="BACKGROUND",o.PROMPT="PROMPT",o.SEMANTIC="SEMANTIC",o.INTERACTIVE="INTERACTIVE"})(Wh||(Wh={}));var Kh;(function(o){o.ASSET="ASSET",o.STYLE="STYLE"})(Kh||(Kh={}));var Xh;(function(o){o.INSERT="INSERT",o.REMOVE="REMOVE",o.REMOVE_STATIC="REMOVE_STATIC",o.OUTPAINT="OUTPAINT"})(Xh||(Xh={}));var Qh;(function(o){o.OPTIMIZED="OPTIMIZED",o.LOSSLESS="LOSSLESS"})(Qh||(Qh={}));var Zh;(function(o){o.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",o.PREFERENCE_TUNING="PREFERENCE_TUNING"})(Zh||(Zh={}));var $h;(function(o){o.STATE_UNSPECIFIED="STATE_UNSPECIFIED",o.STATE_PENDING="STATE_PENDING",o.STATE_ACTIVE="STATE_ACTIVE",o.STATE_FAILED="STATE_FAILED"})($h||($h={}));var jh;(function(o){o.STATE_UNSPECIFIED="STATE_UNSPECIFIED",o.PROCESSING="PROCESSING",o.ACTIVE="ACTIVE",o.FAILED="FAILED"})(jh||(jh={}));var em;(function(o){o.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",o.UPLOADED="UPLOADED",o.GENERATED="GENERATED",o.REGISTERED="REGISTERED"})(em||(em={}));var tm;(function(o){o.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",o.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",o.RESPONSE_REJECTED="RESPONSE_REJECTED",o.NEED_MORE_INPUT="NEED_MORE_INPUT"})(tm||(tm={}));var nm;(function(o){o.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",o.TEXT="TEXT",o.IMAGE="IMAGE",o.VIDEO="VIDEO",o.AUDIO="AUDIO",o.DOCUMENT="DOCUMENT"})(nm||(nm={}));var om;(function(o){o.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",o.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",o.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(om||(om={}));var im;(function(o){o.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",o.ACTIVITY_START="ACTIVITY_START",o.ACTIVITY_END="ACTIVITY_END"})(im||(im={}));var lm;(function(o){o.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",o.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",o.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(lm||(lm={}));var am;(function(o){o.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",o.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",o.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(am||(am={}));var sm;(function(o){o.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",o.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",o.NO_INTERRUPTION="NO_INTERRUPTION"})(sm||(sm={}));var rm;(function(o){o.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",o.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",o.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(rm||(rm={}));var um;(function(o){o.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",o.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",o.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",o.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",o.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",o.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",o.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",o.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",o.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",o.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",o.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",o.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",o.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(um||(um={}));var cm;(function(o){o.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",o.QUALITY="QUALITY",o.DIVERSITY="DIVERSITY",o.VOCALIZATION="VOCALIZATION"})(cm||(cm={}));var si;(function(o){o.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",o.PLAY="PLAY",o.PAUSE="PAUSE",o.STOP="STOP",o.RESET_CONTEXT="RESET_CONTEXT"})(si||(si={}));class bu{constructor(t){const l={};for(const a of t.headers.entries())l[a[0]]=a[1];this.headers=l,this.responseInternal=t}json(){return this.responseInternal.json()}}class fl{get text(){var t,l,a,r,f,p,g,y;if(((r=(a=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let m="",v=!1;const T=[];for(const E of(y=(g=(p=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[A,D]of Object.entries(E))A!=="text"&&A!=="thought"&&A!=="thoughtSignature"&&(D!==null||D!==void 0)&&T.push(A);if(typeof E.text=="string"){if(typeof E.thought=="boolean"&&E.thought)continue;v=!0,m+=E.text}}return T.length>0&&console.warn(`there are non-text parts ${T} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?m:void 0}get data(){var t,l,a,r,f,p,g,y;if(((r=(a=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let m="";const v=[];for(const T of(y=(g=(p=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[E,A]of Object.entries(T))E!=="inlineData"&&(A!==null||A!==void 0)&&v.push(E);T.inlineData&&typeof T.inlineData.data=="string"&&(m+=atob(T.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),m.length>0?btoa(m):void 0}get functionCalls(){var t,l,a,r,f,p,g,y;if(((r=(a=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const m=(y=(g=(p=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if((m==null?void 0:m.length)!==0)return m}get executableCode(){var t,l,a,r,f,p,g,y,m;if(((r=(a=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(y=(g=(p=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(T=>T.executableCode).map(T=>T.executableCode).filter(T=>T!==void 0);if((v==null?void 0:v.length)!==0)return(m=v==null?void 0:v[0])===null||m===void 0?void 0:m.code}get codeExecutionResult(){var t,l,a,r,f,p,g,y,m;if(((r=(a=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(y=(g=(p=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(T=>T.codeExecutionResult).map(T=>T.codeExecutionResult).filter(T=>T!==void 0);if((v==null?void 0:v.length)!==0)return(m=v==null?void 0:v[0])===null||m===void 0?void 0:m.output}}class fm{}class dm{}class $v{}class jv{}class eS{}class tS{}class pm{}class hm{}class mm{}class nS{}class Pa{_fromAPIResponse({apiResponse:t,_isVertexAI:l}){const a=new Pa;let r;const f=t;return l?r=zv(f):r=qv(f),Object.assign(a,r),a}}class gm{}class ym{}class vm{}class Sm{}class oS{}class iS{}class lS{}class zu{_fromAPIResponse({apiResponse:t,_isVertexAI:l}){const a=new zu,f=Wv(t);return Object.assign(a,f),a}}class aS{}class sS{}class rS{}class Tm{}class uS{get text(){var t,l,a;let r="",f=!1;const p=[];for(const g of(a=(l=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||l===void 0?void 0:l.parts)!==null&&a!==void 0?a:[]){for(const[y,m]of Object.entries(g))y!=="text"&&y!=="thought"&&m!==null&&p.push(y);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;f=!0,r+=g.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),f?r:void 0}get data(){var t,l,a;let r="";const f=[];for(const p of(a=(l=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||l===void 0?void 0:l.parts)!==null&&a!==void 0?a:[]){for(const[g,y]of Object.entries(p))g!=="inlineData"&&y!==null&&f.push(g);p.inlineData&&typeof p.inlineData.data=="string"&&(r+=atob(p.inlineData.data))}return f.length>0&&console.warn(`there are non-data parts ${f} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class cS{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Bu{_fromAPIResponse({apiResponse:t,_isVertexAI:l}){const a=new Bu,f=Zm(t);return Object.assign(a,f),a}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function we(o,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(o.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const l=t.split("/",2);return`publishers/${l[0]}/models/${l[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function $m(o,t){const l=we(o,t);return l?l.startsWith("publishers/")&&o.isVertexAI()?`projects/${o.getProject()}/locations/${o.getLocation()}/${l}`:l.startsWith("models/")&&o.isVertexAI()?`projects/${o.getProject()}/locations/${o.getLocation()}/publishers/google/${l}`:l:""}function jm(o){return Array.isArray(o)?o.map(t=>Oa(t)):[Oa(o)]}function Oa(o){if(typeof o=="object"&&o!==null)return o;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof o}`)}function eg(o){const t=Oa(o);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function tg(o){const t=Oa(o);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function Em(o){if(o==null)throw new Error("PartUnion is required");if(typeof o=="object")return o;if(typeof o=="string")return{text:o};throw new Error(`Unsupported part type: ${typeof o}`)}function ng(o){if(o==null||Array.isArray(o)&&o.length===0)throw new Error("PartListUnion is required");return Array.isArray(o)?o.map(t=>Em(t)):[Em(o)]}function Nu(o){return o!=null&&typeof o=="object"&&"parts"in o&&Array.isArray(o.parts)}function _m(o){return o!=null&&typeof o=="object"&&"functionCall"in o}function Cm(o){return o!=null&&typeof o=="object"&&"functionResponse"in o}function dt(o){if(o==null)throw new Error("ContentUnion is required");return Nu(o)?o:{role:"user",parts:ng(o)}}function Pu(o,t){if(!t)return[];if(o.isVertexAI()&&Array.isArray(t))return t.flatMap(l=>{const a=dt(l);return a.parts&&a.parts.length>0&&a.parts[0].text!==void 0?[a.parts[0].text]:[]});if(o.isVertexAI()){const l=dt(t);return l.parts&&l.parts.length>0&&l.parts[0].text!==void 0?[l.parts[0].text]:[]}return Array.isArray(t)?t.map(l=>dt(l)):[dt(t)]}function Pt(o){if(o==null||Array.isArray(o)&&o.length===0)throw new Error("contents are required");if(!Array.isArray(o)){if(_m(o)||Cm(o))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[dt(o)]}const t=[],l=[],a=Nu(o[0]);for(const r of o){const f=Nu(r);if(f!=a)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(f)t.push(r);else{if(_m(r)||Cm(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");l.push(r)}}return a||t.push({role:"user",parts:ng(l)}),t}function fS(o,t){o.includes("null")&&(t.nullable=!0);const l=o.filter(a=>a!=="null");if(l.length===1)t.type=Object.values(me).includes(l[0].toUpperCase())?l[0].toUpperCase():me.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const a of l)t.anyOf.push({type:Object.values(me).includes(a.toUpperCase())?a.toUpperCase():me.TYPE_UNSPECIFIED})}}function ui(o){const t={},l=["items"],a=["anyOf"],r=["properties"];if(o.type&&o.anyOf)throw new Error("type and anyOf cannot be both populated.");const f=o.anyOf;f!=null&&f.length==2&&(f[0].type==="null"?(t.nullable=!0,o=f[1]):f[1].type==="null"&&(t.nullable=!0,o=f[0])),o.type instanceof Array&&fS(o.type,t);for(const[p,g]of Object.entries(o))if(g!=null)if(p=="type"){if(g==="null")throw new Error("type: null can not be the only possible type for the field.");if(g instanceof Array)continue;t.type=Object.values(me).includes(g.toUpperCase())?g.toUpperCase():me.TYPE_UNSPECIFIED}else if(l.includes(p))t[p]=ui(g);else if(a.includes(p)){const y=[];for(const m of g){if(m.type=="null"){t.nullable=!0;continue}y.push(ui(m))}t[p]=y}else if(r.includes(p)){const y={};for(const[m,v]of Object.entries(g))y[m]=ui(v);t[p]=y}else{if(p==="additionalProperties")continue;t[p]=g}return t}function Ou(o){return ui(o)}function Fu(o){if(typeof o=="object")return o;if(typeof o=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:o}}};throw new Error(`Unsupported speechConfig type: ${typeof o}`)}function Ju(o){if("multiSpeakerVoiceConfig"in o)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return o}function fi(o){if(o.functionDeclarations)for(const t of o.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=ui(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=ui(t.response));return o}function di(o){if(o==null)throw new Error("tools is required");if(!Array.isArray(o))throw new Error("tools is required and must be an array of Tools");const t=[];for(const l of o)t.push(l);return t}function dS(o,t,l,a=1){const r=!t.startsWith(`${l}/`)&&t.split("/").length===a;return o.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${o.getProject()}/${t}`:t.startsWith(`${l}/`)?`projects/${o.getProject()}/locations/${o.getLocation()}/${t}`:r?`projects/${o.getProject()}/locations/${o.getLocation()}/${l}/${t}`:t:r?`${l}/${t}`:t}function An(o,t){if(typeof t!="string")throw new Error("name must be a string");return dS(o,t,"cachedContents")}function og(o){switch(o){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return o}}function Zn(o){return qu(o)}function pS(o){return o!=null&&typeof o=="object"&&"name"in o}function hS(o){return o!=null&&typeof o=="object"&&"video"in o}function mS(o){return o!=null&&typeof o=="object"&&"uri"in o}function ig(o){var t;let l;if(pS(o)&&(l=o.name),!(mS(o)&&(l=o.uri,l===void 0))&&!(hS(o)&&(l=(t=o.video)===null||t===void 0?void 0:t.uri,l===void 0))){if(typeof o=="string"&&(l=o),l===void 0)throw new Error("Could not extract file name from the provided input.");if(l.startsWith("https://")){const r=l.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${l}`);l=r[0]}else l.startsWith("files/")&&(l=l.split("files/")[1]);return l}}function lg(o,t){let l;return o.isVertexAI()?l=t?"publishers/google/models":"models":l=t?"models":"tunedModels",l}function ag(o){for(const t of["models","tunedModels","publisherModels"])if(gS(o,t))return o[t];return[]}function gS(o,t){return o!==null&&typeof o=="object"&&t in o}function yS(o,t={}){const l=o,a={name:l.name,description:l.description,parametersJsonSchema:l.inputSchema};return l.outputSchema&&(a.responseJsonSchema=l.outputSchema),t.behavior&&(a.behavior=t.behavior),{functionDeclarations:[a]}}function vS(o,t={}){const l=[],a=new Set;for(const r of o){const f=r.name;if(a.has(f))throw new Error(`Duplicate function name ${f} found in MCP tools. Please ensure function names are unique.`);a.add(f);const p=yS(r,t);p.functionDeclarations&&l.push(...p.functionDeclarations)}return{functionDeclarations:l}}function sg(o,t){let l;if(typeof t=="string")if(o.isVertexAI())if(t.startsWith("gs://"))l={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))l={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))l={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(o.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");l={inlinedRequests:t}}else l=t;const a=[l.gcsUri,l.bigqueryUri].filter(Boolean).length,r=[l.inlinedRequests,l.fileName].filter(Boolean).length;if(o.isVertexAI()){if(r>0||a!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(a>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return l}function SS(o){if(typeof o!="string")return o;const t=o;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function rg(o){if(typeof o!="object"||o===null)return{};const t=o,l=t.inlinedResponses;if(typeof l!="object"||l===null)return o;const r=l.inlinedResponses;if(!Array.isArray(r)||r.length===0)return o;let f=!1;for(const p of r){if(typeof p!="object"||p===null)continue;const y=p.response;if(typeof y!="object"||y===null)continue;if(y.embedding!==void 0){f=!0;break}}return f&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),o}function pi(o,t){const l=t;if(!o.isVertexAI()){if(/batches\/[^/]+$/.test(l))return l.split("/").pop();throw new Error(`Invalid batch job name: ${l}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(l))return l.split("/").pop();if(/^\d+$/.test(l))return l;throw new Error(`Invalid batch job name: ${l}.`)}function ug(o){const t=o;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function TS(o){const t={},l=u(o,["responsesFile"]);l!=null&&c(t,["fileName"],l);const a=u(o,["inlinedResponses","inlinedResponses"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(p=>eT(p))),c(t,["inlinedResponses"],f)}const r=u(o,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["inlinedEmbedContentResponses"],f)}return t}function ES(o){const t={},l=u(o,["predictionsFormat"]);l!=null&&c(t,["format"],l);const a=u(o,["gcsDestination","outputUriPrefix"]);a!=null&&c(t,["gcsUri"],a);const r=u(o,["bigqueryDestination","outputUri"]);return r!=null&&c(t,["bigqueryUri"],r),t}function _S(o){const t={},l=u(o,["format"]);l!=null&&c(t,["predictionsFormat"],l);const a=u(o,["gcsUri"]);a!=null&&c(t,["gcsDestination","outputUriPrefix"],a);const r=u(o,["bigqueryUri"]);if(r!=null&&c(t,["bigqueryDestination","outputUri"],r),u(o,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(o,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(u(o,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function qa(o){const t={},l=u(o,["name"]);l!=null&&c(t,["name"],l);const a=u(o,["metadata","displayName"]);a!=null&&c(t,["displayName"],a);const r=u(o,["metadata","state"]);r!=null&&c(t,["state"],ug(r));const f=u(o,["metadata","createTime"]);f!=null&&c(t,["createTime"],f);const p=u(o,["metadata","endTime"]);p!=null&&c(t,["endTime"],p);const g=u(o,["metadata","updateTime"]);g!=null&&c(t,["updateTime"],g);const y=u(o,["metadata","model"]);y!=null&&c(t,["model"],y);const m=u(o,["metadata","output"]);return m!=null&&c(t,["dest"],TS(rg(m))),t}function Ru(o){const t={},l=u(o,["name"]);l!=null&&c(t,["name"],l);const a=u(o,["displayName"]);a!=null&&c(t,["displayName"],a);const r=u(o,["state"]);r!=null&&c(t,["state"],ug(r));const f=u(o,["error"]);f!=null&&c(t,["error"],f);const p=u(o,["createTime"]);p!=null&&c(t,["createTime"],p);const g=u(o,["startTime"]);g!=null&&c(t,["startTime"],g);const y=u(o,["endTime"]);y!=null&&c(t,["endTime"],y);const m=u(o,["updateTime"]);m!=null&&c(t,["updateTime"],m);const v=u(o,["model"]);v!=null&&c(t,["model"],v);const T=u(o,["inputConfig"]);T!=null&&c(t,["src"],CS(T));const E=u(o,["outputConfig"]);E!=null&&c(t,["dest"],ES(rg(E)));const A=u(o,["completionStats"]);return A!=null&&c(t,["completionStats"],A),t}function CS(o){const t={},l=u(o,["instancesFormat"]);l!=null&&c(t,["format"],l);const a=u(o,["gcsSource","uris"]);a!=null&&c(t,["gcsUri"],a);const r=u(o,["bigquerySource","inputUri"]);return r!=null&&c(t,["bigqueryUri"],r),t}function AS(o,t){const l={};if(u(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(u(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const a=u(t,["fileName"]);a!=null&&c(l,["fileName"],a);const r=u(t,["inlinedRequests"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>jS(o,p))),c(l,["requests","requests"],f)}return l}function xS(o){const t={},l=u(o,["format"]);l!=null&&c(t,["instancesFormat"],l);const a=u(o,["gcsUri"]);a!=null&&c(t,["gcsSource","uris"],a);const r=u(o,["bigqueryUri"]);if(r!=null&&c(t,["bigquerySource","inputUri"],r),u(o,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(o,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function bS(o){const t={},l=u(o,["data"]);if(l!=null&&c(t,["data"],l),u(o,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(o,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function NS(o,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],pi(o,a)),l}function RS(o,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],pi(o,a)),l}function wS(o){const t={},l=u(o,["content"]);l!=null&&c(t,["content"],l);const a=u(o,["citationMetadata"]);a!=null&&c(t,["citationMetadata"],MS(a));const r=u(o,["tokenCount"]);r!=null&&c(t,["tokenCount"],r);const f=u(o,["finishReason"]);f!=null&&c(t,["finishReason"],f);const p=u(o,["avgLogprobs"]);p!=null&&c(t,["avgLogprobs"],p);const g=u(o,["groundingMetadata"]);g!=null&&c(t,["groundingMetadata"],g);const y=u(o,["index"]);y!=null&&c(t,["index"],y);const m=u(o,["logprobsResult"]);m!=null&&c(t,["logprobsResult"],m);const v=u(o,["safetyRatings"]);if(v!=null){let E=v;Array.isArray(E)&&(E=E.map(A=>A)),c(t,["safetyRatings"],E)}const T=u(o,["urlContextMetadata"]);return T!=null&&c(t,["urlContextMetadata"],T),t}function MS(o){const t={},l=u(o,["citationSources"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(r=>r)),c(t,["citations"],a)}return t}function cg(o){const t={},l=u(o,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(f=>sT(f))),c(t,["parts"],r)}const a=u(o,["role"]);return a!=null&&c(t,["role"],a),t}function IS(o,t){const l={},a=u(o,["displayName"]);if(t!==void 0&&a!=null&&c(t,["batch","displayName"],a),u(o,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return l}function DS(o,t){const l={},a=u(o,["displayName"]);t!==void 0&&a!=null&&c(t,["displayName"],a);const r=u(o,["dest"]);return t!==void 0&&r!=null&&c(t,["outputConfig"],_S(SS(r))),l}function Am(o,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],we(o,a));const r=u(t,["src"]);r!=null&&c(l,["batch","inputConfig"],AS(o,sg(o,r)));const f=u(t,["config"]);return f!=null&&IS(f,l),l}function US(o,t){const l={},a=u(t,["model"]);a!=null&&c(l,["model"],we(o,a));const r=u(t,["src"]);r!=null&&c(l,["inputConfig"],xS(sg(o,r)));const f=u(t,["config"]);return f!=null&&DS(f,l),l}function LS(o,t){const l={},a=u(o,["displayName"]);return t!==void 0&&a!=null&&c(t,["batch","displayName"],a),l}function HS(o,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],we(o,a));const r=u(t,["src"]);r!=null&&c(l,["batch","inputConfig"],PS(o,r));const f=u(t,["config"]);return f!=null&&LS(f,l),l}function kS(o,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],pi(o,a)),l}function GS(o,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],pi(o,a)),l}function VS(o){const t={},l=u(o,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(o,["name"]);a!=null&&c(t,["name"],a);const r=u(o,["done"]);r!=null&&c(t,["done"],r);const f=u(o,["error"]);return f!=null&&c(t,["error"],f),t}function qS(o){const t={},l=u(o,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(o,["name"]);a!=null&&c(t,["name"],a);const r=u(o,["done"]);r!=null&&c(t,["done"],r);const f=u(o,["error"]);return f!=null&&c(t,["error"],f),t}function zS(o,t){const l={},a=u(t,["contents"]);if(a!=null){let f=Pu(o,a);Array.isArray(f)&&(f=f.map(p=>p)),c(l,["requests[]","request","content"],f)}const r=u(t,["config"]);return r!=null&&(c(l,["_self"],BS(r,l)),Gv(l,{"requests[].*":"requests[].request.*"})),l}function BS(o,t){const l={},a=u(o,["taskType"]);t!==void 0&&a!=null&&c(t,["requests[]","taskType"],a);const r=u(o,["title"]);t!==void 0&&r!=null&&c(t,["requests[]","title"],r);const f=u(o,["outputDimensionality"]);if(t!==void 0&&f!=null&&c(t,["requests[]","outputDimensionality"],f),u(o,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(o,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return l}function PS(o,t){const l={},a=u(t,["fileName"]);a!=null&&c(l,["file_name"],a);const r=u(t,["inlinedRequests"]);return r!=null&&c(l,["requests"],zS(o,r)),l}function OS(o){const t={};if(u(o,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(o,["fileUri"]);l!=null&&c(t,["fileUri"],l);const a=u(o,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function FS(o){const t={},l=u(o,["id"]);l!=null&&c(t,["id"],l);const a=u(o,["args"]);a!=null&&c(t,["args"],a);const r=u(o,["name"]);if(r!=null&&c(t,["name"],r),u(o,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(o,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function JS(o){const t={},l=u(o,["allowedFunctionNames"]);l!=null&&c(t,["allowedFunctionNames"],l);const a=u(o,["mode"]);if(a!=null&&c(t,["mode"],a),u(o,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function YS(o,t,l){const a={},r=u(t,["systemInstruction"]);l!==void 0&&r!=null&&c(l,["systemInstruction"],cg(dt(r)));const f=u(t,["temperature"]);f!=null&&c(a,["temperature"],f);const p=u(t,["topP"]);p!=null&&c(a,["topP"],p);const g=u(t,["topK"]);g!=null&&c(a,["topK"],g);const y=u(t,["candidateCount"]);y!=null&&c(a,["candidateCount"],y);const m=u(t,["maxOutputTokens"]);m!=null&&c(a,["maxOutputTokens"],m);const v=u(t,["stopSequences"]);v!=null&&c(a,["stopSequences"],v);const T=u(t,["responseLogprobs"]);T!=null&&c(a,["responseLogprobs"],T);const E=u(t,["logprobs"]);E!=null&&c(a,["logprobs"],E);const A=u(t,["presencePenalty"]);A!=null&&c(a,["presencePenalty"],A);const D=u(t,["frequencyPenalty"]);D!=null&&c(a,["frequencyPenalty"],D);const k=u(t,["seed"]);k!=null&&c(a,["seed"],k);const U=u(t,["responseMimeType"]);U!=null&&c(a,["responseMimeType"],U);const B=u(t,["responseSchema"]);B!=null&&c(a,["responseSchema"],Ou(B));const X=u(t,["responseJsonSchema"]);if(X!=null&&c(a,["responseJsonSchema"],X),u(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const F=u(t,["safetySettings"]);if(l!==void 0&&F!=null){let Ae=F;Array.isArray(Ae)&&(Ae=Ae.map(ze=>rT(ze))),c(l,["safetySettings"],Ae)}const $=u(t,["tools"]);if(l!==void 0&&$!=null){let Ae=di($);Array.isArray(Ae)&&(Ae=Ae.map(ze=>cT(fi(ze)))),c(l,["tools"],Ae)}const O=u(t,["toolConfig"]);if(l!==void 0&&O!=null&&c(l,["toolConfig"],uT(O)),u(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const ne=u(t,["cachedContent"]);l!==void 0&&ne!=null&&c(l,["cachedContent"],An(o,ne));const Y=u(t,["responseModalities"]);Y!=null&&c(a,["responseModalities"],Y);const de=u(t,["mediaResolution"]);de!=null&&c(a,["mediaResolution"],de);const Z=u(t,["speechConfig"]);if(Z!=null&&c(a,["speechConfig"],Fu(Z)),u(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ce=u(t,["thinkingConfig"]);ce!=null&&c(a,["thinkingConfig"],ce);const _e=u(t,["imageConfig"]);_e!=null&&c(a,["imageConfig"],$S(_e));const Ie=u(t,["enableEnhancedCivicAnswers"]);return Ie!=null&&c(a,["enableEnhancedCivicAnswers"],Ie),a}function WS(o){const t={},l=u(o,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(o,["candidates"]);if(a!=null){let y=a;Array.isArray(y)&&(y=y.map(m=>wS(m))),c(t,["candidates"],y)}const r=u(o,["modelVersion"]);r!=null&&c(t,["modelVersion"],r);const f=u(o,["promptFeedback"]);f!=null&&c(t,["promptFeedback"],f);const p=u(o,["responseId"]);p!=null&&c(t,["responseId"],p);const g=u(o,["usageMetadata"]);return g!=null&&c(t,["usageMetadata"],g),t}function KS(o,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],pi(o,a)),l}function XS(o,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],pi(o,a)),l}function QS(o){const t={};if(u(o,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(o,["enableWidget"]);return l!=null&&c(t,["enableWidget"],l),t}function ZS(o){const t={};if(u(o,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(o,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(o,["timeRangeFilter"]);return l!=null&&c(t,["timeRangeFilter"],l),t}function $S(o){const t={},l=u(o,["aspectRatio"]);l!=null&&c(t,["aspectRatio"],l);const a=u(o,["imageSize"]);if(a!=null&&c(t,["imageSize"],a),u(o,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(u(o,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(o,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function jS(o,t){const l={},a=u(t,["model"]);a!=null&&c(l,["request","model"],we(o,a));const r=u(t,["contents"]);if(r!=null){let g=Pt(r);Array.isArray(g)&&(g=g.map(y=>cg(y))),c(l,["request","contents"],g)}const f=u(t,["metadata"]);f!=null&&c(l,["metadata"],f);const p=u(t,["config"]);return p!=null&&c(l,["request","generationConfig"],YS(o,p,u(l,["request"],{}))),l}function eT(o){const t={},l=u(o,["response"]);l!=null&&c(t,["response"],WS(l));const a=u(o,["error"]);return a!=null&&c(t,["error"],a),t}function tT(o,t){const l={},a=u(o,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(o,["pageToken"]);if(t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),u(o,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return l}function nT(o,t){const l={},a=u(o,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(o,["pageToken"]);t!==void 0&&r!=null&&c(t,["_query","pageToken"],r);const f=u(o,["filter"]);return t!==void 0&&f!=null&&c(t,["_query","filter"],f),l}function oT(o){const t={},l=u(o,["config"]);return l!=null&&tT(l,t),t}function iT(o){const t={},l=u(o,["config"]);return l!=null&&nT(l,t),t}function lT(o){const t={},l=u(o,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(o,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(o,["operations"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>qa(p))),c(t,["batchJobs"],f)}return t}function aT(o){const t={},l=u(o,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(o,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(o,["batchPredictionJobs"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>Ru(p))),c(t,["batchJobs"],f)}return t}function sT(o){const t={},l=u(o,["mediaResolution"]);l!=null&&c(t,["mediaResolution"],l);const a=u(o,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(o,["executableCode"]);r!=null&&c(t,["executableCode"],r);const f=u(o,["fileData"]);f!=null&&c(t,["fileData"],OS(f));const p=u(o,["functionCall"]);p!=null&&c(t,["functionCall"],FS(p));const g=u(o,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const y=u(o,["inlineData"]);y!=null&&c(t,["inlineData"],bS(y));const m=u(o,["text"]);m!=null&&c(t,["text"],m);const v=u(o,["thought"]);v!=null&&c(t,["thought"],v);const T=u(o,["thoughtSignature"]);T!=null&&c(t,["thoughtSignature"],T);const E=u(o,["videoMetadata"]);return E!=null&&c(t,["videoMetadata"],E),t}function rT(o){const t={},l=u(o,["category"]);if(l!=null&&c(t,["category"],l),u(o,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const a=u(o,["threshold"]);return a!=null&&c(t,["threshold"],a),t}function uT(o){const t={},l=u(o,["retrievalConfig"]);l!=null&&c(t,["retrievalConfig"],l);const a=u(o,["functionCallingConfig"]);return a!=null&&c(t,["functionCallingConfig"],JS(a)),t}function cT(o){const t={};if(u(o,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=u(o,["computerUse"]);l!=null&&c(t,["computerUse"],l);const a=u(o,["fileSearch"]);a!=null&&c(t,["fileSearch"],a);const r=u(o,["codeExecution"]);if(r!=null&&c(t,["codeExecution"],r),u(o,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=u(o,["functionDeclarations"]);if(f!=null){let v=f;Array.isArray(v)&&(v=v.map(T=>T)),c(t,["functionDeclarations"],v)}const p=u(o,["googleMaps"]);p!=null&&c(t,["googleMaps"],QS(p));const g=u(o,["googleSearch"]);g!=null&&c(t,["googleSearch"],ZS(g));const y=u(o,["googleSearchRetrieval"]);y!=null&&c(t,["googleSearchRetrieval"],y);const m=u(o,["urlContext"]);return m!=null&&c(t,["urlContext"],m),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var _n;(function(o){o.PAGED_ITEM_BATCH_JOBS="batchJobs",o.PAGED_ITEM_MODELS="models",o.PAGED_ITEM_TUNING_JOBS="tuningJobs",o.PAGED_ITEM_FILES="files",o.PAGED_ITEM_CACHED_CONTENTS="cachedContents",o.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",o.PAGED_ITEM_DOCUMENTS="documents"})(_n||(_n={}));class vo{constructor(t,l,a,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=l,this.init(t,a,r)}init(t,l,a){var r,f;this.nameInternal=t,this.pageInternal=l[this.nameInternal]||[],this.sdkHttpResponseInternal=l==null?void 0:l.sdkHttpResponse,this.idxInternal=0;let p={config:{}};!a||Object.keys(a).length===0?p={config:{}}:typeof a=="object"?p=Object.assign({},a):p=a,p.config&&(p.config.pageToken=l.nextPageToken),this.paramsInternal=p,this.pageInternalSize=(f=(r=p.config)===null||r===void 0?void 0:r.pageSize)!==null&&f!==void 0?f:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fT extends Cn{constructor(t){super(),this.apiClient=t,this.list=async(l={})=>new vo(_n.PAGED_ITEM_BATCH_JOBS,a=>this.listInternal(a),await this.listInternal(l),l),this.create=async l=>(this.apiClient.isVertexAI()&&(l.config=this.formatDestination(l.src,l.config)),this.createInternal(l)),this.createEmbeddings=async l=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(l)}}createInlinedGenerateContentRequest(t){const l=Am(this.apiClient,t),a=l._url,r=Q("{model}:batchGenerateContent",a),g=l.batch.inputConfig.requests,y=g.requests,m=[];for(const v of y){const T=Object.assign({},v);if(T.systemInstruction){const E=T.systemInstruction;delete T.systemInstruction;const A=T.request;A.systemInstruction=E,T.request=A}m.push(T)}return g.requests=m,delete l.config,delete l._url,delete l._query,{path:r,body:l}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,l){const a=l?Object.assign({},l):{},r=Date.now().toString();if(a.displayName||(a.displayName=`genaiBatchJob_${r}`),a.dest===void 0){const f=this.getGcsUri(t),p=this.getBigqueryUri(t);if(f)f.endsWith(".jsonl")?a.dest=`${f.slice(0,-6)}/dest`:a.dest=`${f}_dest_${r}`;else if(p)a.dest=`${p}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return a}async createInternal(t){var l,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=US(this.apiClient,t);return g=Q("batchPredictionJobs",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>Ru(v))}else{const m=Am(this.apiClient,t);return g=Q("{model}:batchGenerateContent",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>qa(v))}}async createEmbeddingsInternal(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=HS(this.apiClient,t);return f=Q("{model}:asyncBatchEmbedContent",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>qa(y))}}async get(t){var l,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=XS(this.apiClient,t);return g=Q("batchPredictionJobs/{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>Ru(v))}else{const m=KS(this.apiClient,t);return g=Q("batches/{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>qa(v))}}async cancel(t){var l,a,r,f;let p="",g={};if(this.apiClient.isVertexAI()){const y=RS(this.apiClient,t);p=Q("batchPredictionJobs/{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}else{const y=NS(this.apiClient,t);p=Q("batches/{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal})}}async listInternal(t){var l,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=iT(t);return g=Q("batchPredictionJobs",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=aT(v),E=new Tm;return Object.assign(E,T),E})}else{const m=oT(t);return g=Q("batches",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=lT(v),E=new Tm;return Object.assign(E,T),E})}}async delete(t){var l,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=GS(this.apiClient,t);return g=Q("batchPredictionJobs/{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>qS(v))}else{const m=kS(this.apiClient,t);return g=Q("batches/{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>VS(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function dT(o){const t={},l=u(o,["data"]);if(l!=null&&c(t,["data"],l),u(o,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(o,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function xm(o){const t={},l=u(o,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(f=>HT(f))),c(t,["parts"],r)}const a=u(o,["role"]);return a!=null&&c(t,["role"],a),t}function pT(o,t){const l={},a=u(o,["ttl"]);t!==void 0&&a!=null&&c(t,["ttl"],a);const r=u(o,["expireTime"]);t!==void 0&&r!=null&&c(t,["expireTime"],r);const f=u(o,["displayName"]);t!==void 0&&f!=null&&c(t,["displayName"],f);const p=u(o,["contents"]);if(t!==void 0&&p!=null){let v=Pt(p);Array.isArray(v)&&(v=v.map(T=>xm(T))),c(t,["contents"],v)}const g=u(o,["systemInstruction"]);t!==void 0&&g!=null&&c(t,["systemInstruction"],xm(dt(g)));const y=u(o,["tools"]);if(t!==void 0&&y!=null){let v=y;Array.isArray(v)&&(v=v.map(T=>GT(T))),c(t,["tools"],v)}const m=u(o,["toolConfig"]);if(t!==void 0&&m!=null&&c(t,["toolConfig"],kT(m)),u(o,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return l}function hT(o,t){const l={},a=u(o,["ttl"]);t!==void 0&&a!=null&&c(t,["ttl"],a);const r=u(o,["expireTime"]);t!==void 0&&r!=null&&c(t,["expireTime"],r);const f=u(o,["displayName"]);t!==void 0&&f!=null&&c(t,["displayName"],f);const p=u(o,["contents"]);if(t!==void 0&&p!=null){let T=Pt(p);Array.isArray(T)&&(T=T.map(E=>E)),c(t,["contents"],T)}const g=u(o,["systemInstruction"]);t!==void 0&&g!=null&&c(t,["systemInstruction"],dt(g));const y=u(o,["tools"]);if(t!==void 0&&y!=null){let T=y;Array.isArray(T)&&(T=T.map(E=>VT(E))),c(t,["tools"],T)}const m=u(o,["toolConfig"]);t!==void 0&&m!=null&&c(t,["toolConfig"],m);const v=u(o,["kmsKeyName"]);return t!==void 0&&v!=null&&c(t,["encryption_spec","kmsKeyName"],v),l}function mT(o,t){const l={},a=u(t,["model"]);a!=null&&c(l,["model"],$m(o,a));const r=u(t,["config"]);return r!=null&&pT(r,l),l}function gT(o,t){const l={},a=u(t,["model"]);a!=null&&c(l,["model"],$m(o,a));const r=u(t,["config"]);return r!=null&&hT(r,l),l}function yT(o,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],An(o,a)),l}function vT(o,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],An(o,a)),l}function ST(o){const t={},l=u(o,["sdkHttpResponse"]);return l!=null&&c(t,["sdkHttpResponse"],l),t}function TT(o){const t={},l=u(o,["sdkHttpResponse"]);return l!=null&&c(t,["sdkHttpResponse"],l),t}function ET(o){const t={};if(u(o,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(o,["fileUri"]);l!=null&&c(t,["fileUri"],l);const a=u(o,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function _T(o){const t={},l=u(o,["id"]);l!=null&&c(t,["id"],l);const a=u(o,["args"]);a!=null&&c(t,["args"],a);const r=u(o,["name"]);if(r!=null&&c(t,["name"],r),u(o,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(o,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function CT(o){const t={},l=u(o,["allowedFunctionNames"]);l!=null&&c(t,["allowedFunctionNames"],l);const a=u(o,["mode"]);if(a!=null&&c(t,["mode"],a),u(o,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function AT(o){const t={},l=u(o,["description"]);l!=null&&c(t,["description"],l);const a=u(o,["name"]);a!=null&&c(t,["name"],a);const r=u(o,["parameters"]);r!=null&&c(t,["parameters"],r);const f=u(o,["parametersJsonSchema"]);f!=null&&c(t,["parametersJsonSchema"],f);const p=u(o,["response"]);p!=null&&c(t,["response"],p);const g=u(o,["responseJsonSchema"]);if(g!=null&&c(t,["responseJsonSchema"],g),u(o,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function xT(o,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],An(o,a)),l}function bT(o,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],An(o,a)),l}function NT(o){const t={};if(u(o,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(o,["enableWidget"]);return l!=null&&c(t,["enableWidget"],l),t}function RT(o){const t={};if(u(o,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(o,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(o,["timeRangeFilter"]);return l!=null&&c(t,["timeRangeFilter"],l),t}function wT(o,t){const l={},a=u(o,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(o,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),l}function MT(o,t){const l={},a=u(o,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(o,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),l}function IT(o){const t={},l=u(o,["config"]);return l!=null&&wT(l,t),t}function DT(o){const t={},l=u(o,["config"]);return l!=null&&MT(l,t),t}function UT(o){const t={},l=u(o,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(o,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(o,["cachedContents"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["cachedContents"],f)}return t}function LT(o){const t={},l=u(o,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(o,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(o,["cachedContents"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["cachedContents"],f)}return t}function HT(o){const t={},l=u(o,["mediaResolution"]);l!=null&&c(t,["mediaResolution"],l);const a=u(o,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(o,["executableCode"]);r!=null&&c(t,["executableCode"],r);const f=u(o,["fileData"]);f!=null&&c(t,["fileData"],ET(f));const p=u(o,["functionCall"]);p!=null&&c(t,["functionCall"],_T(p));const g=u(o,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const y=u(o,["inlineData"]);y!=null&&c(t,["inlineData"],dT(y));const m=u(o,["text"]);m!=null&&c(t,["text"],m);const v=u(o,["thought"]);v!=null&&c(t,["thought"],v);const T=u(o,["thoughtSignature"]);T!=null&&c(t,["thoughtSignature"],T);const E=u(o,["videoMetadata"]);return E!=null&&c(t,["videoMetadata"],E),t}function kT(o){const t={},l=u(o,["retrievalConfig"]);l!=null&&c(t,["retrievalConfig"],l);const a=u(o,["functionCallingConfig"]);return a!=null&&c(t,["functionCallingConfig"],CT(a)),t}function GT(o){const t={};if(u(o,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=u(o,["computerUse"]);l!=null&&c(t,["computerUse"],l);const a=u(o,["fileSearch"]);a!=null&&c(t,["fileSearch"],a);const r=u(o,["codeExecution"]);if(r!=null&&c(t,["codeExecution"],r),u(o,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=u(o,["functionDeclarations"]);if(f!=null){let v=f;Array.isArray(v)&&(v=v.map(T=>T)),c(t,["functionDeclarations"],v)}const p=u(o,["googleMaps"]);p!=null&&c(t,["googleMaps"],NT(p));const g=u(o,["googleSearch"]);g!=null&&c(t,["googleSearch"],RT(g));const y=u(o,["googleSearchRetrieval"]);y!=null&&c(t,["googleSearchRetrieval"],y);const m=u(o,["urlContext"]);return m!=null&&c(t,["urlContext"],m),t}function VT(o){const t={},l=u(o,["retrieval"]);l!=null&&c(t,["retrieval"],l);const a=u(o,["computerUse"]);if(a!=null&&c(t,["computerUse"],a),u(o,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=u(o,["codeExecution"]);r!=null&&c(t,["codeExecution"],r);const f=u(o,["enterpriseWebSearch"]);f!=null&&c(t,["enterpriseWebSearch"],f);const p=u(o,["functionDeclarations"]);if(p!=null){let T=p;Array.isArray(T)&&(T=T.map(E=>AT(E))),c(t,["functionDeclarations"],T)}const g=u(o,["googleMaps"]);g!=null&&c(t,["googleMaps"],g);const y=u(o,["googleSearch"]);y!=null&&c(t,["googleSearch"],y);const m=u(o,["googleSearchRetrieval"]);m!=null&&c(t,["googleSearchRetrieval"],m);const v=u(o,["urlContext"]);return v!=null&&c(t,["urlContext"],v),t}function qT(o,t){const l={},a=u(o,["ttl"]);t!==void 0&&a!=null&&c(t,["ttl"],a);const r=u(o,["expireTime"]);return t!==void 0&&r!=null&&c(t,["expireTime"],r),l}function zT(o,t){const l={},a=u(o,["ttl"]);t!==void 0&&a!=null&&c(t,["ttl"],a);const r=u(o,["expireTime"]);return t!==void 0&&r!=null&&c(t,["expireTime"],r),l}function BT(o,t){const l={},a=u(t,["name"]);a!=null&&c(l,["_url","name"],An(o,a));const r=u(t,["config"]);return r!=null&&qT(r,l),l}function PT(o,t){const l={},a=u(t,["name"]);a!=null&&c(l,["_url","name"],An(o,a));const r=u(t,["config"]);return r!=null&&zT(r,l),l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class OT extends Cn{constructor(t){super(),this.apiClient=t,this.list=async(l={})=>new vo(_n.PAGED_ITEM_CACHED_CONTENTS,a=>this.listInternal(a),await this.listInternal(l),l)}async create(t){var l,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=gT(this.apiClient,t);return g=Q("cachedContents",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>v)}else{const m=mT(this.apiClient,t);return g=Q("cachedContents",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>v)}}async get(t){var l,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=bT(this.apiClient,t);return g=Q("{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>v)}else{const m=xT(this.apiClient,t);return g=Q("{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>v)}}async delete(t){var l,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=vT(this.apiClient,t);return g=Q("{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=TT(v),E=new vm;return Object.assign(E,T),E})}else{const m=yT(this.apiClient,t);return g=Q("{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=ST(v),E=new vm;return Object.assign(E,T),E})}}async update(t){var l,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=PT(this.apiClient,t);return g=Q("{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>v)}else{const m=BT(this.apiClient,t);return g=Q("{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>v)}}async listInternal(t){var l,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=DT(t);return g=Q("cachedContents",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=LT(v),E=new Sm;return Object.assign(E,T),E})}else{const m=IT(t);return g=Q("cachedContents",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=UT(v),E=new Sm;return Object.assign(E,T),E})}}}function Fa(o,t){var l={};for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&t.indexOf(a)<0&&(l[a]=o[a]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,a=Object.getOwnPropertySymbols(o);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(o,a[r])&&(l[a[r]]=o[a[r]]);return l}function bm(o){var t=typeof Symbol=="function"&&Symbol.iterator,l=t&&o[t],a=0;if(l)return l.call(o);if(o&&typeof o.length=="number")return{next:function(){return o&&a>=o.length&&(o=void 0),{value:o&&o[a++],done:!o}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function ue(o){return this instanceof ue?(this.v=o,this):new ue(o)}function Wt(o,t,l){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=l.apply(o,t||[]),r,f=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),g("next"),g("throw"),g("return",p),r[Symbol.asyncIterator]=function(){return this},r;function p(A){return function(D){return Promise.resolve(D).then(A,T)}}function g(A,D){a[A]&&(r[A]=function(k){return new Promise(function(U,B){f.push([A,k,U,B])>1||y(A,k)})},D&&(r[A]=D(r[A])))}function y(A,D){try{m(a[A](D))}catch(k){E(f[0][3],k)}}function m(A){A.value instanceof ue?Promise.resolve(A.value.v).then(v,T):E(f[0][2],A)}function v(A){y("next",A)}function T(A){y("throw",A)}function E(A,D){A(D),f.shift(),f.length&&y(f[0][0],f[0][1])}}function Kt(o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=o[Symbol.asyncIterator],l;return t?t.call(o):(o=typeof bm=="function"?bm(o):o[Symbol.iterator](),l={},a("next"),a("throw"),a("return"),l[Symbol.asyncIterator]=function(){return this},l);function a(f){l[f]=o[f]&&function(p){return new Promise(function(g,y){p=o[f](p),r(g,y,p.done,p.value)})}}function r(f,p,g,y){Promise.resolve(y).then(function(m){f({value:m,done:g})},p)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function FT(o){var t;if(o.candidates==null||o.candidates.length===0)return!1;const l=(t=o.candidates[0])===null||t===void 0?void 0:t.content;return l===void 0?!1:fg(l)}function fg(o){if(o.parts===void 0||o.parts.length===0)return!1;for(const t of o.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function JT(o){if(o.length!==0){for(const t of o)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function Nm(o){if(o===void 0||o.length===0)return[];const t=[],l=o.length;let a=0;for(;a<l;)if(o[a].role==="user")t.push(o[a]),a++;else{const r=[];let f=!0;for(;a<l&&o[a].role==="model";)r.push(o[a]),f&&!fg(o[a])&&(f=!1),a++;f?t.push(...r):t.pop()}return t}class YT{constructor(t,l){this.modelsModule=t,this.apiClient=l}create(t){return new WT(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class WT{constructor(t,l,a,r={},f=[]){this.apiClient=t,this.modelsModule=l,this.model=a,this.config=r,this.history=f,this.sendPromise=Promise.resolve(),JT(f)}async sendMessage(t){var l;await this.sendPromise;const a=dt(t.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(a),config:(l=t.config)!==null&&l!==void 0?l:this.config});return this.sendPromise=(async()=>{var f,p,g;const y=await r,m=(p=(f=y.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content,v=y.automaticFunctionCallingHistory,T=this.getHistory(!0).length;let E=[];v!=null&&(E=(g=v.slice(T))!==null&&g!==void 0?g:[]);const A=m?[m]:[];this.recordHistory(a,A,E)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(t){var l;await this.sendPromise;const a=dt(t.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(a),config:(l=t.config)!==null&&l!==void 0?l:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const f=await r;return this.processStreamResponse(f,a)}getHistory(t=!1){const l=t?Nm(this.history):this.history;return structuredClone(l)}processStreamResponse(t,l){return Wt(this,arguments,function*(){var r,f,p,g,y,m;const v=[];try{for(var T=!0,E=Kt(t),A;A=yield ue(E.next()),r=A.done,!r;T=!0){g=A.value,T=!1;const D=g;if(FT(D)){const k=(m=(y=D.candidates)===null||y===void 0?void 0:y[0])===null||m===void 0?void 0:m.content;k!==void 0&&v.push(k)}yield yield ue(D)}}catch(D){f={error:D}}finally{try{!T&&!r&&(p=E.return)&&(yield ue(p.call(E)))}finally{if(f)throw f.error}}this.recordHistory(l,v)})}recordHistory(t,l,a){let r=[];l.length>0&&l.every(f=>f.role!==void 0)?r=l:r.push({role:"model",parts:[]}),a&&a.length>0?this.history.push(...Nm(a)):this.history.push(t),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Wa extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,Wa.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function KT(o){const t={},l=u(o,["file"]);return l!=null&&c(t,["file"],l),t}function XT(o){const t={},l=u(o,["sdkHttpResponse"]);return l!=null&&c(t,["sdkHttpResponse"],l),t}function QT(o){const t={},l=u(o,["name"]);return l!=null&&c(t,["_url","file"],ig(l)),t}function ZT(o){const t={},l=u(o,["sdkHttpResponse"]);return l!=null&&c(t,["sdkHttpResponse"],l),t}function $T(o){const t={},l=u(o,["name"]);return l!=null&&c(t,["_url","file"],ig(l)),t}function jT(o,t){const l={},a=u(o,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(o,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),l}function eE(o){const t={},l=u(o,["config"]);return l!=null&&jT(l,t),t}function tE(o){const t={},l=u(o,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(o,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(o,["files"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["files"],f)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class nE extends Cn{constructor(t){super(),this.apiClient=t,this.list=async(l={})=>new vo(_n.PAGED_ITEM_FILES,a=>this.listInternal(a),await this.listInternal(l),l)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(l=>l)}async download(t){await this.apiClient.downloadFile(t)}async listInternal(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=eE(t);return f=Q("files",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const m=tE(y),v=new aS;return Object.assign(v,m),v})}}async createInternal(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=KT(t);return f=Q("upload/v1beta/files",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const m=XT(y),v=new sS;return Object.assign(v,m),v})}}async get(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=$T(t);return f=Q("files/{file}",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=QT(t);return f=Q("files/{file}",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const m=ZT(y),v=new rS;return Object.assign(v,m),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function za(o){const t={},l=u(o,["data"]);if(l!=null&&c(t,["data"],l),u(o,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(o,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function oE(o){const t={},l=u(o,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(f=>SE(f))),c(t,["parts"],r)}const a=u(o,["role"]);return a!=null&&c(t,["role"],a),t}function iE(o){const t={};if(u(o,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(o,["fileUri"]);l!=null&&c(t,["fileUri"],l);const a=u(o,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function lE(o){const t={},l=u(o,["id"]);l!=null&&c(t,["id"],l);const a=u(o,["args"]);a!=null&&c(t,["args"],a);const r=u(o,["name"]);if(r!=null&&c(t,["name"],r),u(o,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(o,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function aE(o){const t={},l=u(o,["description"]);l!=null&&c(t,["description"],l);const a=u(o,["name"]);a!=null&&c(t,["name"],a);const r=u(o,["parameters"]);r!=null&&c(t,["parameters"],r);const f=u(o,["parametersJsonSchema"]);f!=null&&c(t,["parametersJsonSchema"],f);const p=u(o,["response"]);p!=null&&c(t,["response"],p);const g=u(o,["responseJsonSchema"]);if(g!=null&&c(t,["responseJsonSchema"],g),u(o,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function sE(o){const t={},l=u(o,["modelSelectionConfig"]);l!=null&&c(t,["modelConfig"],l);const a=u(o,["responseJsonSchema"]);a!=null&&c(t,["responseJsonSchema"],a);const r=u(o,["audioTimestamp"]);r!=null&&c(t,["audioTimestamp"],r);const f=u(o,["candidateCount"]);f!=null&&c(t,["candidateCount"],f);const p=u(o,["enableAffectiveDialog"]);p!=null&&c(t,["enableAffectiveDialog"],p);const g=u(o,["frequencyPenalty"]);g!=null&&c(t,["frequencyPenalty"],g);const y=u(o,["logprobs"]);y!=null&&c(t,["logprobs"],y);const m=u(o,["maxOutputTokens"]);m!=null&&c(t,["maxOutputTokens"],m);const v=u(o,["mediaResolution"]);v!=null&&c(t,["mediaResolution"],v);const T=u(o,["presencePenalty"]);T!=null&&c(t,["presencePenalty"],T);const E=u(o,["responseLogprobs"]);E!=null&&c(t,["responseLogprobs"],E);const A=u(o,["responseMimeType"]);A!=null&&c(t,["responseMimeType"],A);const D=u(o,["responseModalities"]);D!=null&&c(t,["responseModalities"],D);const k=u(o,["responseSchema"]);k!=null&&c(t,["responseSchema"],k);const U=u(o,["routingConfig"]);U!=null&&c(t,["routingConfig"],U);const B=u(o,["seed"]);B!=null&&c(t,["seed"],B);const X=u(o,["speechConfig"]);X!=null&&c(t,["speechConfig"],X);const F=u(o,["stopSequences"]);F!=null&&c(t,["stopSequences"],F);const $=u(o,["temperature"]);$!=null&&c(t,["temperature"],$);const O=u(o,["thinkingConfig"]);O!=null&&c(t,["thinkingConfig"],O);const ne=u(o,["topK"]);ne!=null&&c(t,["topK"],ne);const Y=u(o,["topP"]);if(Y!=null&&c(t,["topP"],Y),u(o,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function rE(o){const t={};if(u(o,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(o,["enableWidget"]);return l!=null&&c(t,["enableWidget"],l),t}function uE(o){const t={};if(u(o,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(o,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(o,["timeRangeFilter"]);return l!=null&&c(t,["timeRangeFilter"],l),t}function cE(o,t){const l={},a=u(o,["generationConfig"]);t!==void 0&&a!=null&&c(t,["setup","generationConfig"],a);const r=u(o,["responseModalities"]);t!==void 0&&r!=null&&c(t,["setup","generationConfig","responseModalities"],r);const f=u(o,["temperature"]);t!==void 0&&f!=null&&c(t,["setup","generationConfig","temperature"],f);const p=u(o,["topP"]);t!==void 0&&p!=null&&c(t,["setup","generationConfig","topP"],p);const g=u(o,["topK"]);t!==void 0&&g!=null&&c(t,["setup","generationConfig","topK"],g);const y=u(o,["maxOutputTokens"]);t!==void 0&&y!=null&&c(t,["setup","generationConfig","maxOutputTokens"],y);const m=u(o,["mediaResolution"]);t!==void 0&&m!=null&&c(t,["setup","generationConfig","mediaResolution"],m);const v=u(o,["seed"]);t!==void 0&&v!=null&&c(t,["setup","generationConfig","seed"],v);const T=u(o,["speechConfig"]);t!==void 0&&T!=null&&c(t,["setup","generationConfig","speechConfig"],Ju(T));const E=u(o,["thinkingConfig"]);t!==void 0&&E!=null&&c(t,["setup","generationConfig","thinkingConfig"],E);const A=u(o,["enableAffectiveDialog"]);t!==void 0&&A!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],A);const D=u(o,["systemInstruction"]);t!==void 0&&D!=null&&c(t,["setup","systemInstruction"],oE(dt(D)));const k=u(o,["tools"]);if(t!==void 0&&k!=null){let ne=di(k);Array.isArray(ne)&&(ne=ne.map(Y=>EE(fi(Y)))),c(t,["setup","tools"],ne)}const U=u(o,["sessionResumption"]);t!==void 0&&U!=null&&c(t,["setup","sessionResumption"],TE(U));const B=u(o,["inputAudioTranscription"]);t!==void 0&&B!=null&&c(t,["setup","inputAudioTranscription"],B);const X=u(o,["outputAudioTranscription"]);t!==void 0&&X!=null&&c(t,["setup","outputAudioTranscription"],X);const F=u(o,["realtimeInputConfig"]);t!==void 0&&F!=null&&c(t,["setup","realtimeInputConfig"],F);const $=u(o,["contextWindowCompression"]);t!==void 0&&$!=null&&c(t,["setup","contextWindowCompression"],$);const O=u(o,["proactivity"]);if(t!==void 0&&O!=null&&c(t,["setup","proactivity"],O),u(o,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return l}function fE(o,t){const l={},a=u(o,["generationConfig"]);t!==void 0&&a!=null&&c(t,["setup","generationConfig"],sE(a));const r=u(o,["responseModalities"]);t!==void 0&&r!=null&&c(t,["setup","generationConfig","responseModalities"],r);const f=u(o,["temperature"]);t!==void 0&&f!=null&&c(t,["setup","generationConfig","temperature"],f);const p=u(o,["topP"]);t!==void 0&&p!=null&&c(t,["setup","generationConfig","topP"],p);const g=u(o,["topK"]);t!==void 0&&g!=null&&c(t,["setup","generationConfig","topK"],g);const y=u(o,["maxOutputTokens"]);t!==void 0&&y!=null&&c(t,["setup","generationConfig","maxOutputTokens"],y);const m=u(o,["mediaResolution"]);t!==void 0&&m!=null&&c(t,["setup","generationConfig","mediaResolution"],m);const v=u(o,["seed"]);t!==void 0&&v!=null&&c(t,["setup","generationConfig","seed"],v);const T=u(o,["speechConfig"]);t!==void 0&&T!=null&&c(t,["setup","generationConfig","speechConfig"],Ju(T));const E=u(o,["thinkingConfig"]);t!==void 0&&E!=null&&c(t,["setup","generationConfig","thinkingConfig"],E);const A=u(o,["enableAffectiveDialog"]);t!==void 0&&A!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],A);const D=u(o,["systemInstruction"]);t!==void 0&&D!=null&&c(t,["setup","systemInstruction"],dt(D));const k=u(o,["tools"]);if(t!==void 0&&k!=null){let Y=di(k);Array.isArray(Y)&&(Y=Y.map(de=>_E(fi(de)))),c(t,["setup","tools"],Y)}const U=u(o,["sessionResumption"]);t!==void 0&&U!=null&&c(t,["setup","sessionResumption"],U);const B=u(o,["inputAudioTranscription"]);t!==void 0&&B!=null&&c(t,["setup","inputAudioTranscription"],B);const X=u(o,["outputAudioTranscription"]);t!==void 0&&X!=null&&c(t,["setup","outputAudioTranscription"],X);const F=u(o,["realtimeInputConfig"]);t!==void 0&&F!=null&&c(t,["setup","realtimeInputConfig"],F);const $=u(o,["contextWindowCompression"]);t!==void 0&&$!=null&&c(t,["setup","contextWindowCompression"],$);const O=u(o,["proactivity"]);t!==void 0&&O!=null&&c(t,["setup","proactivity"],O);const ne=u(o,["explicitVadSignal"]);return t!==void 0&&ne!=null&&c(t,["setup","explicitVadSignal"],ne),l}function dE(o,t){const l={},a=u(t,["model"]);a!=null&&c(l,["setup","model"],we(o,a));const r=u(t,["config"]);return r!=null&&c(l,["config"],cE(r,l)),l}function pE(o,t){const l={},a=u(t,["model"]);a!=null&&c(l,["setup","model"],we(o,a));const r=u(t,["config"]);return r!=null&&c(l,["config"],fE(r,l)),l}function hE(o){const t={},l=u(o,["musicGenerationConfig"]);return l!=null&&c(t,["musicGenerationConfig"],l),t}function mE(o){const t={},l=u(o,["weightedPrompts"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(r=>r)),c(t,["weightedPrompts"],a)}return t}function gE(o){const t={},l=u(o,["media"]);if(l!=null){let m=jm(l);Array.isArray(m)&&(m=m.map(v=>za(v))),c(t,["mediaChunks"],m)}const a=u(o,["audio"]);a!=null&&c(t,["audio"],za(tg(a)));const r=u(o,["audioStreamEnd"]);r!=null&&c(t,["audioStreamEnd"],r);const f=u(o,["video"]);f!=null&&c(t,["video"],za(eg(f)));const p=u(o,["text"]);p!=null&&c(t,["text"],p);const g=u(o,["activityStart"]);g!=null&&c(t,["activityStart"],g);const y=u(o,["activityEnd"]);return y!=null&&c(t,["activityEnd"],y),t}function yE(o){const t={},l=u(o,["media"]);if(l!=null){let m=jm(l);Array.isArray(m)&&(m=m.map(v=>v)),c(t,["mediaChunks"],m)}const a=u(o,["audio"]);a!=null&&c(t,["audio"],tg(a));const r=u(o,["audioStreamEnd"]);r!=null&&c(t,["audioStreamEnd"],r);const f=u(o,["video"]);f!=null&&c(t,["video"],eg(f));const p=u(o,["text"]);p!=null&&c(t,["text"],p);const g=u(o,["activityStart"]);g!=null&&c(t,["activityStart"],g);const y=u(o,["activityEnd"]);return y!=null&&c(t,["activityEnd"],y),t}function vE(o){const t={},l=u(o,["setupComplete"]);l!=null&&c(t,["setupComplete"],l);const a=u(o,["serverContent"]);a!=null&&c(t,["serverContent"],a);const r=u(o,["toolCall"]);r!=null&&c(t,["toolCall"],r);const f=u(o,["toolCallCancellation"]);f!=null&&c(t,["toolCallCancellation"],f);const p=u(o,["usageMetadata"]);p!=null&&c(t,["usageMetadata"],CE(p));const g=u(o,["goAway"]);g!=null&&c(t,["goAway"],g);const y=u(o,["sessionResumptionUpdate"]);y!=null&&c(t,["sessionResumptionUpdate"],y);const m=u(o,["voiceActivityDetectionSignal"]);m!=null&&c(t,["voiceActivityDetectionSignal"],m);const v=u(o,["voiceActivity"]);return v!=null&&c(t,["voiceActivity"],AE(v)),t}function SE(o){const t={},l=u(o,["mediaResolution"]);l!=null&&c(t,["mediaResolution"],l);const a=u(o,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(o,["executableCode"]);r!=null&&c(t,["executableCode"],r);const f=u(o,["fileData"]);f!=null&&c(t,["fileData"],iE(f));const p=u(o,["functionCall"]);p!=null&&c(t,["functionCall"],lE(p));const g=u(o,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const y=u(o,["inlineData"]);y!=null&&c(t,["inlineData"],za(y));const m=u(o,["text"]);m!=null&&c(t,["text"],m);const v=u(o,["thought"]);v!=null&&c(t,["thought"],v);const T=u(o,["thoughtSignature"]);T!=null&&c(t,["thoughtSignature"],T);const E=u(o,["videoMetadata"]);return E!=null&&c(t,["videoMetadata"],E),t}function TE(o){const t={},l=u(o,["handle"]);if(l!=null&&c(t,["handle"],l),u(o,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function EE(o){const t={};if(u(o,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=u(o,["computerUse"]);l!=null&&c(t,["computerUse"],l);const a=u(o,["fileSearch"]);a!=null&&c(t,["fileSearch"],a);const r=u(o,["codeExecution"]);if(r!=null&&c(t,["codeExecution"],r),u(o,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=u(o,["functionDeclarations"]);if(f!=null){let v=f;Array.isArray(v)&&(v=v.map(T=>T)),c(t,["functionDeclarations"],v)}const p=u(o,["googleMaps"]);p!=null&&c(t,["googleMaps"],rE(p));const g=u(o,["googleSearch"]);g!=null&&c(t,["googleSearch"],uE(g));const y=u(o,["googleSearchRetrieval"]);y!=null&&c(t,["googleSearchRetrieval"],y);const m=u(o,["urlContext"]);return m!=null&&c(t,["urlContext"],m),t}function _E(o){const t={},l=u(o,["retrieval"]);l!=null&&c(t,["retrieval"],l);const a=u(o,["computerUse"]);if(a!=null&&c(t,["computerUse"],a),u(o,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=u(o,["codeExecution"]);r!=null&&c(t,["codeExecution"],r);const f=u(o,["enterpriseWebSearch"]);f!=null&&c(t,["enterpriseWebSearch"],f);const p=u(o,["functionDeclarations"]);if(p!=null){let T=p;Array.isArray(T)&&(T=T.map(E=>aE(E))),c(t,["functionDeclarations"],T)}const g=u(o,["googleMaps"]);g!=null&&c(t,["googleMaps"],g);const y=u(o,["googleSearch"]);y!=null&&c(t,["googleSearch"],y);const m=u(o,["googleSearchRetrieval"]);m!=null&&c(t,["googleSearchRetrieval"],m);const v=u(o,["urlContext"]);return v!=null&&c(t,["urlContext"],v),t}function CE(o){const t={},l=u(o,["promptTokenCount"]);l!=null&&c(t,["promptTokenCount"],l);const a=u(o,["cachedContentTokenCount"]);a!=null&&c(t,["cachedContentTokenCount"],a);const r=u(o,["candidatesTokenCount"]);r!=null&&c(t,["responseTokenCount"],r);const f=u(o,["toolUsePromptTokenCount"]);f!=null&&c(t,["toolUsePromptTokenCount"],f);const p=u(o,["thoughtsTokenCount"]);p!=null&&c(t,["thoughtsTokenCount"],p);const g=u(o,["totalTokenCount"]);g!=null&&c(t,["totalTokenCount"],g);const y=u(o,["promptTokensDetails"]);if(y!=null){let A=y;Array.isArray(A)&&(A=A.map(D=>D)),c(t,["promptTokensDetails"],A)}const m=u(o,["cacheTokensDetails"]);if(m!=null){let A=m;Array.isArray(A)&&(A=A.map(D=>D)),c(t,["cacheTokensDetails"],A)}const v=u(o,["candidatesTokensDetails"]);if(v!=null){let A=v;Array.isArray(A)&&(A=A.map(D=>D)),c(t,["responseTokensDetails"],A)}const T=u(o,["toolUsePromptTokensDetails"]);if(T!=null){let A=T;Array.isArray(A)&&(A=A.map(D=>D)),c(t,["toolUsePromptTokensDetails"],A)}const E=u(o,["trafficType"]);return E!=null&&c(t,["trafficType"],E),t}function AE(o){const t={},l=u(o,["type"]);return l!=null&&c(t,["voiceActivityType"],l),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xE(o){const t={},l=u(o,["data"]);if(l!=null&&c(t,["data"],l),u(o,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(o,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function bE(o){const t={},l=u(o,["content"]);l!=null&&c(t,["content"],l);const a=u(o,["citationMetadata"]);a!=null&&c(t,["citationMetadata"],NE(a));const r=u(o,["tokenCount"]);r!=null&&c(t,["tokenCount"],r);const f=u(o,["finishReason"]);f!=null&&c(t,["finishReason"],f);const p=u(o,["avgLogprobs"]);p!=null&&c(t,["avgLogprobs"],p);const g=u(o,["groundingMetadata"]);g!=null&&c(t,["groundingMetadata"],g);const y=u(o,["index"]);y!=null&&c(t,["index"],y);const m=u(o,["logprobsResult"]);m!=null&&c(t,["logprobsResult"],m);const v=u(o,["safetyRatings"]);if(v!=null){let E=v;Array.isArray(E)&&(E=E.map(A=>A)),c(t,["safetyRatings"],E)}const T=u(o,["urlContextMetadata"]);return T!=null&&c(t,["urlContextMetadata"],T),t}function NE(o){const t={},l=u(o,["citationSources"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(r=>r)),c(t,["citations"],a)}return t}function RE(o,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],we(o,a));const r=u(t,["contents"]);if(r!=null){let f=Pt(r);Array.isArray(f)&&(f=f.map(p=>p)),c(l,["contents"],f)}return l}function wE(o){const t={},l=u(o,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(o,["tokensInfo"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(f=>f)),c(t,["tokensInfo"],r)}return t}function ME(o){const t={},l=u(o,["values"]);l!=null&&c(t,["values"],l);const a=u(o,["statistics"]);return a!=null&&c(t,["statistics"],IE(a)),t}function IE(o){const t={},l=u(o,["truncated"]);l!=null&&c(t,["truncated"],l);const a=u(o,["token_count"]);return a!=null&&c(t,["tokenCount"],a),t}function Ka(o){const t={},l=u(o,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(f=>z_(f))),c(t,["parts"],r)}const a=u(o,["role"]);return a!=null&&c(t,["role"],a),t}function DE(o){const t={},l=u(o,["controlType"]);l!=null&&c(t,["controlType"],l);const a=u(o,["enableControlImageComputation"]);return a!=null&&c(t,["computeControl"],a),t}function UE(o){const t={};if(u(o,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(u(o,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(u(o,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function LE(o,t){const l={},a=u(o,["systemInstruction"]);t!==void 0&&a!=null&&c(t,["systemInstruction"],dt(a));const r=u(o,["tools"]);if(t!==void 0&&r!=null){let p=r;Array.isArray(p)&&(p=p.map(g=>mg(g))),c(t,["tools"],p)}const f=u(o,["generationConfig"]);return t!==void 0&&f!=null&&c(t,["generationConfig"],x_(f)),l}function HE(o,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],we(o,a));const r=u(t,["contents"]);if(r!=null){let p=Pt(r);Array.isArray(p)&&(p=p.map(g=>Ka(g))),c(l,["contents"],p)}const f=u(t,["config"]);return f!=null&&UE(f),l}function kE(o,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],we(o,a));const r=u(t,["contents"]);if(r!=null){let p=Pt(r);Array.isArray(p)&&(p=p.map(g=>g)),c(l,["contents"],p)}const f=u(t,["config"]);return f!=null&&LE(f,l),l}function GE(o){const t={},l=u(o,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(o,["totalTokens"]);a!=null&&c(t,["totalTokens"],a);const r=u(o,["cachedContentTokenCount"]);return r!=null&&c(t,["cachedContentTokenCount"],r),t}function VE(o){const t={},l=u(o,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(o,["totalTokens"]);return a!=null&&c(t,["totalTokens"],a),t}function qE(o,t){const l={},a=u(t,["model"]);return a!=null&&c(l,["_url","name"],we(o,a)),l}function zE(o,t){const l={},a=u(t,["model"]);return a!=null&&c(l,["_url","name"],we(o,a)),l}function BE(o){const t={},l=u(o,["sdkHttpResponse"]);return l!=null&&c(t,["sdkHttpResponse"],l),t}function PE(o){const t={},l=u(o,["sdkHttpResponse"]);return l!=null&&c(t,["sdkHttpResponse"],l),t}function OE(o,t){const l={},a=u(o,["outputGcsUri"]);t!==void 0&&a!=null&&c(t,["parameters","storageUri"],a);const r=u(o,["negativePrompt"]);t!==void 0&&r!=null&&c(t,["parameters","negativePrompt"],r);const f=u(o,["numberOfImages"]);t!==void 0&&f!=null&&c(t,["parameters","sampleCount"],f);const p=u(o,["aspectRatio"]);t!==void 0&&p!=null&&c(t,["parameters","aspectRatio"],p);const g=u(o,["guidanceScale"]);t!==void 0&&g!=null&&c(t,["parameters","guidanceScale"],g);const y=u(o,["seed"]);t!==void 0&&y!=null&&c(t,["parameters","seed"],y);const m=u(o,["safetyFilterLevel"]);t!==void 0&&m!=null&&c(t,["parameters","safetySetting"],m);const v=u(o,["personGeneration"]);t!==void 0&&v!=null&&c(t,["parameters","personGeneration"],v);const T=u(o,["includeSafetyAttributes"]);t!==void 0&&T!=null&&c(t,["parameters","includeSafetyAttributes"],T);const E=u(o,["includeRaiReason"]);t!==void 0&&E!=null&&c(t,["parameters","includeRaiReason"],E);const A=u(o,["language"]);t!==void 0&&A!=null&&c(t,["parameters","language"],A);const D=u(o,["outputMimeType"]);t!==void 0&&D!=null&&c(t,["parameters","outputOptions","mimeType"],D);const k=u(o,["outputCompressionQuality"]);t!==void 0&&k!=null&&c(t,["parameters","outputOptions","compressionQuality"],k);const U=u(o,["addWatermark"]);t!==void 0&&U!=null&&c(t,["parameters","addWatermark"],U);const B=u(o,["labels"]);t!==void 0&&B!=null&&c(t,["labels"],B);const X=u(o,["editMode"]);t!==void 0&&X!=null&&c(t,["parameters","editMode"],X);const F=u(o,["baseSteps"]);return t!==void 0&&F!=null&&c(t,["parameters","editConfig","baseSteps"],F),l}function FE(o,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],we(o,a));const r=u(t,["prompt"]);r!=null&&c(l,["instances[0]","prompt"],r);const f=u(t,["referenceImages"]);if(f!=null){let g=f;Array.isArray(g)&&(g=g.map(y=>Y_(y))),c(l,["instances[0]","referenceImages"],g)}const p=u(t,["config"]);return p!=null&&OE(p,l),l}function JE(o){const t={},l=u(o,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(o,["predictions"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(f=>Xa(f))),c(t,["generatedImages"],r)}return t}function YE(o,t){const l={},a=u(o,["taskType"]);t!==void 0&&a!=null&&c(t,["requests[]","taskType"],a);const r=u(o,["title"]);t!==void 0&&r!=null&&c(t,["requests[]","title"],r);const f=u(o,["outputDimensionality"]);if(t!==void 0&&f!=null&&c(t,["requests[]","outputDimensionality"],f),u(o,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(o,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return l}function WE(o,t){const l={},a=u(o,["taskType"]);t!==void 0&&a!=null&&c(t,["instances[]","task_type"],a);const r=u(o,["title"]);t!==void 0&&r!=null&&c(t,["instances[]","title"],r);const f=u(o,["outputDimensionality"]);t!==void 0&&f!=null&&c(t,["parameters","outputDimensionality"],f);const p=u(o,["mimeType"]);t!==void 0&&p!=null&&c(t,["instances[]","mimeType"],p);const g=u(o,["autoTruncate"]);return t!==void 0&&g!=null&&c(t,["parameters","autoTruncate"],g),l}function KE(o,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],we(o,a));const r=u(t,["contents"]);if(r!=null){let g=Pu(o,r);Array.isArray(g)&&(g=g.map(y=>y)),c(l,["requests[]","content"],g)}const f=u(t,["config"]);f!=null&&YE(f,l);const p=u(t,["model"]);return p!==void 0&&c(l,["requests[]","model"],we(o,p)),l}function XE(o,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],we(o,a));const r=u(t,["contents"]);if(r!=null){let p=Pu(o,r);Array.isArray(p)&&(p=p.map(g=>g)),c(l,["instances[]","content"],p)}const f=u(t,["config"]);return f!=null&&WE(f,l),l}function QE(o){const t={},l=u(o,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(o,["embeddings"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["embeddings"],f)}const r=u(o,["metadata"]);return r!=null&&c(t,["metadata"],r),t}function ZE(o){const t={},l=u(o,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(o,["predictions[]","embeddings"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(p=>ME(p))),c(t,["embeddings"],f)}const r=u(o,["metadata"]);return r!=null&&c(t,["metadata"],r),t}function $E(o){const t={},l=u(o,["endpoint"]);l!=null&&c(t,["name"],l);const a=u(o,["deployedModelId"]);return a!=null&&c(t,["deployedModelId"],a),t}function jE(o){const t={};if(u(o,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(o,["fileUri"]);l!=null&&c(t,["fileUri"],l);const a=u(o,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function e_(o){const t={},l=u(o,["id"]);l!=null&&c(t,["id"],l);const a=u(o,["args"]);a!=null&&c(t,["args"],a);const r=u(o,["name"]);if(r!=null&&c(t,["name"],r),u(o,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(o,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function t_(o){const t={},l=u(o,["allowedFunctionNames"]);l!=null&&c(t,["allowedFunctionNames"],l);const a=u(o,["mode"]);if(a!=null&&c(t,["mode"],a),u(o,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function n_(o){const t={},l=u(o,["description"]);l!=null&&c(t,["description"],l);const a=u(o,["name"]);a!=null&&c(t,["name"],a);const r=u(o,["parameters"]);r!=null&&c(t,["parameters"],r);const f=u(o,["parametersJsonSchema"]);f!=null&&c(t,["parametersJsonSchema"],f);const p=u(o,["response"]);p!=null&&c(t,["response"],p);const g=u(o,["responseJsonSchema"]);if(g!=null&&c(t,["responseJsonSchema"],g),u(o,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function o_(o,t,l){const a={},r=u(t,["systemInstruction"]);l!==void 0&&r!=null&&c(l,["systemInstruction"],Ka(dt(r)));const f=u(t,["temperature"]);f!=null&&c(a,["temperature"],f);const p=u(t,["topP"]);p!=null&&c(a,["topP"],p);const g=u(t,["topK"]);g!=null&&c(a,["topK"],g);const y=u(t,["candidateCount"]);y!=null&&c(a,["candidateCount"],y);const m=u(t,["maxOutputTokens"]);m!=null&&c(a,["maxOutputTokens"],m);const v=u(t,["stopSequences"]);v!=null&&c(a,["stopSequences"],v);const T=u(t,["responseLogprobs"]);T!=null&&c(a,["responseLogprobs"],T);const E=u(t,["logprobs"]);E!=null&&c(a,["logprobs"],E);const A=u(t,["presencePenalty"]);A!=null&&c(a,["presencePenalty"],A);const D=u(t,["frequencyPenalty"]);D!=null&&c(a,["frequencyPenalty"],D);const k=u(t,["seed"]);k!=null&&c(a,["seed"],k);const U=u(t,["responseMimeType"]);U!=null&&c(a,["responseMimeType"],U);const B=u(t,["responseSchema"]);B!=null&&c(a,["responseSchema"],Ou(B));const X=u(t,["responseJsonSchema"]);if(X!=null&&c(a,["responseJsonSchema"],X),u(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const F=u(t,["safetySettings"]);if(l!==void 0&&F!=null){let Ae=F;Array.isArray(Ae)&&(Ae=Ae.map(ze=>W_(ze))),c(l,["safetySettings"],Ae)}const $=u(t,["tools"]);if(l!==void 0&&$!=null){let Ae=di($);Array.isArray(Ae)&&(Ae=Ae.map(ze=>eC(fi(ze)))),c(l,["tools"],Ae)}const O=u(t,["toolConfig"]);if(l!==void 0&&O!=null&&c(l,["toolConfig"],j_(O)),u(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const ne=u(t,["cachedContent"]);l!==void 0&&ne!=null&&c(l,["cachedContent"],An(o,ne));const Y=u(t,["responseModalities"]);Y!=null&&c(a,["responseModalities"],Y);const de=u(t,["mediaResolution"]);de!=null&&c(a,["mediaResolution"],de);const Z=u(t,["speechConfig"]);if(Z!=null&&c(a,["speechConfig"],Fu(Z)),u(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ce=u(t,["thinkingConfig"]);ce!=null&&c(a,["thinkingConfig"],ce);const _e=u(t,["imageConfig"]);_e!=null&&c(a,["imageConfig"],M_(_e));const Ie=u(t,["enableEnhancedCivicAnswers"]);return Ie!=null&&c(a,["enableEnhancedCivicAnswers"],Ie),a}function i_(o,t,l){const a={},r=u(t,["systemInstruction"]);l!==void 0&&r!=null&&c(l,["systemInstruction"],dt(r));const f=u(t,["temperature"]);f!=null&&c(a,["temperature"],f);const p=u(t,["topP"]);p!=null&&c(a,["topP"],p);const g=u(t,["topK"]);g!=null&&c(a,["topK"],g);const y=u(t,["candidateCount"]);y!=null&&c(a,["candidateCount"],y);const m=u(t,["maxOutputTokens"]);m!=null&&c(a,["maxOutputTokens"],m);const v=u(t,["stopSequences"]);v!=null&&c(a,["stopSequences"],v);const T=u(t,["responseLogprobs"]);T!=null&&c(a,["responseLogprobs"],T);const E=u(t,["logprobs"]);E!=null&&c(a,["logprobs"],E);const A=u(t,["presencePenalty"]);A!=null&&c(a,["presencePenalty"],A);const D=u(t,["frequencyPenalty"]);D!=null&&c(a,["frequencyPenalty"],D);const k=u(t,["seed"]);k!=null&&c(a,["seed"],k);const U=u(t,["responseMimeType"]);U!=null&&c(a,["responseMimeType"],U);const B=u(t,["responseSchema"]);B!=null&&c(a,["responseSchema"],Ou(B));const X=u(t,["responseJsonSchema"]);X!=null&&c(a,["responseJsonSchema"],X);const F=u(t,["routingConfig"]);F!=null&&c(a,["routingConfig"],F);const $=u(t,["modelSelectionConfig"]);$!=null&&c(a,["modelConfig"],$);const O=u(t,["safetySettings"]);if(l!==void 0&&O!=null){let H=O;Array.isArray(H)&&(H=H.map(W=>W)),c(l,["safetySettings"],H)}const ne=u(t,["tools"]);if(l!==void 0&&ne!=null){let H=di(ne);Array.isArray(H)&&(H=H.map(W=>mg(fi(W)))),c(l,["tools"],H)}const Y=u(t,["toolConfig"]);l!==void 0&&Y!=null&&c(l,["toolConfig"],Y);const de=u(t,["labels"]);l!==void 0&&de!=null&&c(l,["labels"],de);const Z=u(t,["cachedContent"]);l!==void 0&&Z!=null&&c(l,["cachedContent"],An(o,Z));const ce=u(t,["responseModalities"]);ce!=null&&c(a,["responseModalities"],ce);const _e=u(t,["mediaResolution"]);_e!=null&&c(a,["mediaResolution"],_e);const Ie=u(t,["speechConfig"]);Ie!=null&&c(a,["speechConfig"],Fu(Ie));const Ae=u(t,["audioTimestamp"]);Ae!=null&&c(a,["audioTimestamp"],Ae);const ze=u(t,["thinkingConfig"]);ze!=null&&c(a,["thinkingConfig"],ze);const et=u(t,["imageConfig"]);if(et!=null&&c(a,["imageConfig"],I_(et)),u(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return a}function Rm(o,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],we(o,a));const r=u(t,["contents"]);if(r!=null){let p=Pt(r);Array.isArray(p)&&(p=p.map(g=>Ka(g))),c(l,["contents"],p)}const f=u(t,["config"]);return f!=null&&c(l,["generationConfig"],o_(o,f,l)),l}function wm(o,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],we(o,a));const r=u(t,["contents"]);if(r!=null){let p=Pt(r);Array.isArray(p)&&(p=p.map(g=>g)),c(l,["contents"],p)}const f=u(t,["config"]);return f!=null&&c(l,["generationConfig"],i_(o,f,l)),l}function Mm(o){const t={},l=u(o,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(o,["candidates"]);if(a!=null){let y=a;Array.isArray(y)&&(y=y.map(m=>bE(m))),c(t,["candidates"],y)}const r=u(o,["modelVersion"]);r!=null&&c(t,["modelVersion"],r);const f=u(o,["promptFeedback"]);f!=null&&c(t,["promptFeedback"],f);const p=u(o,["responseId"]);p!=null&&c(t,["responseId"],p);const g=u(o,["usageMetadata"]);return g!=null&&c(t,["usageMetadata"],g),t}function Im(o){const t={},l=u(o,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(o,["candidates"]);if(a!=null){let m=a;Array.isArray(m)&&(m=m.map(v=>v)),c(t,["candidates"],m)}const r=u(o,["createTime"]);r!=null&&c(t,["createTime"],r);const f=u(o,["modelVersion"]);f!=null&&c(t,["modelVersion"],f);const p=u(o,["promptFeedback"]);p!=null&&c(t,["promptFeedback"],p);const g=u(o,["responseId"]);g!=null&&c(t,["responseId"],g);const y=u(o,["usageMetadata"]);return y!=null&&c(t,["usageMetadata"],y),t}function l_(o,t){const l={};if(u(o,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(o,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const a=u(o,["numberOfImages"]);t!==void 0&&a!=null&&c(t,["parameters","sampleCount"],a);const r=u(o,["aspectRatio"]);t!==void 0&&r!=null&&c(t,["parameters","aspectRatio"],r);const f=u(o,["guidanceScale"]);if(t!==void 0&&f!=null&&c(t,["parameters","guidanceScale"],f),u(o,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const p=u(o,["safetyFilterLevel"]);t!==void 0&&p!=null&&c(t,["parameters","safetySetting"],p);const g=u(o,["personGeneration"]);t!==void 0&&g!=null&&c(t,["parameters","personGeneration"],g);const y=u(o,["includeSafetyAttributes"]);t!==void 0&&y!=null&&c(t,["parameters","includeSafetyAttributes"],y);const m=u(o,["includeRaiReason"]);t!==void 0&&m!=null&&c(t,["parameters","includeRaiReason"],m);const v=u(o,["language"]);t!==void 0&&v!=null&&c(t,["parameters","language"],v);const T=u(o,["outputMimeType"]);t!==void 0&&T!=null&&c(t,["parameters","outputOptions","mimeType"],T);const E=u(o,["outputCompressionQuality"]);if(t!==void 0&&E!=null&&c(t,["parameters","outputOptions","compressionQuality"],E),u(o,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(u(o,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const A=u(o,["imageSize"]);if(t!==void 0&&A!=null&&c(t,["parameters","sampleImageSize"],A),u(o,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return l}function a_(o,t){const l={},a=u(o,["outputGcsUri"]);t!==void 0&&a!=null&&c(t,["parameters","storageUri"],a);const r=u(o,["negativePrompt"]);t!==void 0&&r!=null&&c(t,["parameters","negativePrompt"],r);const f=u(o,["numberOfImages"]);t!==void 0&&f!=null&&c(t,["parameters","sampleCount"],f);const p=u(o,["aspectRatio"]);t!==void 0&&p!=null&&c(t,["parameters","aspectRatio"],p);const g=u(o,["guidanceScale"]);t!==void 0&&g!=null&&c(t,["parameters","guidanceScale"],g);const y=u(o,["seed"]);t!==void 0&&y!=null&&c(t,["parameters","seed"],y);const m=u(o,["safetyFilterLevel"]);t!==void 0&&m!=null&&c(t,["parameters","safetySetting"],m);const v=u(o,["personGeneration"]);t!==void 0&&v!=null&&c(t,["parameters","personGeneration"],v);const T=u(o,["includeSafetyAttributes"]);t!==void 0&&T!=null&&c(t,["parameters","includeSafetyAttributes"],T);const E=u(o,["includeRaiReason"]);t!==void 0&&E!=null&&c(t,["parameters","includeRaiReason"],E);const A=u(o,["language"]);t!==void 0&&A!=null&&c(t,["parameters","language"],A);const D=u(o,["outputMimeType"]);t!==void 0&&D!=null&&c(t,["parameters","outputOptions","mimeType"],D);const k=u(o,["outputCompressionQuality"]);t!==void 0&&k!=null&&c(t,["parameters","outputOptions","compressionQuality"],k);const U=u(o,["addWatermark"]);t!==void 0&&U!=null&&c(t,["parameters","addWatermark"],U);const B=u(o,["labels"]);t!==void 0&&B!=null&&c(t,["labels"],B);const X=u(o,["imageSize"]);t!==void 0&&X!=null&&c(t,["parameters","sampleImageSize"],X);const F=u(o,["enhancePrompt"]);return t!==void 0&&F!=null&&c(t,["parameters","enhancePrompt"],F),l}function s_(o,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],we(o,a));const r=u(t,["prompt"]);r!=null&&c(l,["instances[0]","prompt"],r);const f=u(t,["config"]);return f!=null&&l_(f,l),l}function r_(o,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],we(o,a));const r=u(t,["prompt"]);r!=null&&c(l,["instances[0]","prompt"],r);const f=u(t,["config"]);return f!=null&&a_(f,l),l}function u_(o){const t={},l=u(o,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(o,["predictions"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(p=>E_(p))),c(t,["generatedImages"],f)}const r=u(o,["positivePromptSafetyAttributes"]);return r!=null&&c(t,["positivePromptSafetyAttributes"],pg(r)),t}function c_(o){const t={},l=u(o,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(o,["predictions"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(p=>Xa(p))),c(t,["generatedImages"],f)}const r=u(o,["positivePromptSafetyAttributes"]);return r!=null&&c(t,["positivePromptSafetyAttributes"],hg(r)),t}function f_(o,t){const l={},a=u(o,["numberOfVideos"]);if(t!==void 0&&a!=null&&c(t,["parameters","sampleCount"],a),u(o,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(o,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const r=u(o,["durationSeconds"]);if(t!==void 0&&r!=null&&c(t,["parameters","durationSeconds"],r),u(o,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const f=u(o,["aspectRatio"]);t!==void 0&&f!=null&&c(t,["parameters","aspectRatio"],f);const p=u(o,["resolution"]);t!==void 0&&p!=null&&c(t,["parameters","resolution"],p);const g=u(o,["personGeneration"]);if(t!==void 0&&g!=null&&c(t,["parameters","personGeneration"],g),u(o,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const y=u(o,["negativePrompt"]);t!==void 0&&y!=null&&c(t,["parameters","negativePrompt"],y);const m=u(o,["enhancePrompt"]);if(t!==void 0&&m!=null&&c(t,["parameters","enhancePrompt"],m),u(o,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const v=u(o,["lastFrame"]);t!==void 0&&v!=null&&c(t,["instances[0]","lastFrame"],Qa(v));const T=u(o,["referenceImages"]);if(t!==void 0&&T!=null){let E=T;Array.isArray(E)&&(E=E.map(A=>pC(A))),c(t,["instances[0]","referenceImages"],E)}if(u(o,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(u(o,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return l}function d_(o,t){const l={},a=u(o,["numberOfVideos"]);t!==void 0&&a!=null&&c(t,["parameters","sampleCount"],a);const r=u(o,["outputGcsUri"]);t!==void 0&&r!=null&&c(t,["parameters","storageUri"],r);const f=u(o,["fps"]);t!==void 0&&f!=null&&c(t,["parameters","fps"],f);const p=u(o,["durationSeconds"]);t!==void 0&&p!=null&&c(t,["parameters","durationSeconds"],p);const g=u(o,["seed"]);t!==void 0&&g!=null&&c(t,["parameters","seed"],g);const y=u(o,["aspectRatio"]);t!==void 0&&y!=null&&c(t,["parameters","aspectRatio"],y);const m=u(o,["resolution"]);t!==void 0&&m!=null&&c(t,["parameters","resolution"],m);const v=u(o,["personGeneration"]);t!==void 0&&v!=null&&c(t,["parameters","personGeneration"],v);const T=u(o,["pubsubTopic"]);t!==void 0&&T!=null&&c(t,["parameters","pubsubTopic"],T);const E=u(o,["negativePrompt"]);t!==void 0&&E!=null&&c(t,["parameters","negativePrompt"],E);const A=u(o,["enhancePrompt"]);t!==void 0&&A!=null&&c(t,["parameters","enhancePrompt"],A);const D=u(o,["generateAudio"]);t!==void 0&&D!=null&&c(t,["parameters","generateAudio"],D);const k=u(o,["lastFrame"]);t!==void 0&&k!=null&&c(t,["instances[0]","lastFrame"],Xt(k));const U=u(o,["referenceImages"]);if(t!==void 0&&U!=null){let F=U;Array.isArray(F)&&(F=F.map($=>hC($))),c(t,["instances[0]","referenceImages"],F)}const B=u(o,["mask"]);t!==void 0&&B!=null&&c(t,["instances[0]","mask"],dC(B));const X=u(o,["compressionQuality"]);return t!==void 0&&X!=null&&c(t,["parameters","compressionQuality"],X),l}function p_(o){const t={},l=u(o,["name"]);l!=null&&c(t,["name"],l);const a=u(o,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(o,["done"]);r!=null&&c(t,["done"],r);const f=u(o,["error"]);f!=null&&c(t,["error"],f);const p=u(o,["response","generateVideoResponse"]);return p!=null&&c(t,["response"],y_(p)),t}function h_(o){const t={},l=u(o,["name"]);l!=null&&c(t,["name"],l);const a=u(o,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(o,["done"]);r!=null&&c(t,["done"],r);const f=u(o,["error"]);f!=null&&c(t,["error"],f);const p=u(o,["response"]);return p!=null&&c(t,["response"],v_(p)),t}function m_(o,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],we(o,a));const r=u(t,["prompt"]);r!=null&&c(l,["instances[0]","prompt"],r);const f=u(t,["image"]);f!=null&&c(l,["instances[0]","image"],Qa(f));const p=u(t,["video"]);p!=null&&c(l,["instances[0]","video"],gg(p));const g=u(t,["source"]);g!=null&&S_(g,l);const y=u(t,["config"]);return y!=null&&f_(y,l),l}function g_(o,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],we(o,a));const r=u(t,["prompt"]);r!=null&&c(l,["instances[0]","prompt"],r);const f=u(t,["image"]);f!=null&&c(l,["instances[0]","image"],Xt(f));const p=u(t,["video"]);p!=null&&c(l,["instances[0]","video"],yg(p));const g=u(t,["source"]);g!=null&&T_(g,l);const y=u(t,["config"]);return y!=null&&d_(y,l),l}function y_(o){const t={},l=u(o,["generatedSamples"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(p=>C_(p))),c(t,["generatedVideos"],f)}const a=u(o,["raiMediaFilteredCount"]);a!=null&&c(t,["raiMediaFilteredCount"],a);const r=u(o,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function v_(o){const t={},l=u(o,["videos"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(p=>A_(p))),c(t,["generatedVideos"],f)}const a=u(o,["raiMediaFilteredCount"]);a!=null&&c(t,["raiMediaFilteredCount"],a);const r=u(o,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function S_(o,t){const l={},a=u(o,["prompt"]);t!==void 0&&a!=null&&c(t,["instances[0]","prompt"],a);const r=u(o,["image"]);t!==void 0&&r!=null&&c(t,["instances[0]","image"],Qa(r));const f=u(o,["video"]);return t!==void 0&&f!=null&&c(t,["instances[0]","video"],gg(f)),l}function T_(o,t){const l={},a=u(o,["prompt"]);t!==void 0&&a!=null&&c(t,["instances[0]","prompt"],a);const r=u(o,["image"]);t!==void 0&&r!=null&&c(t,["instances[0]","image"],Xt(r));const f=u(o,["video"]);return t!==void 0&&f!=null&&c(t,["instances[0]","video"],yg(f)),l}function E_(o){const t={},l=u(o,["_self"]);l!=null&&c(t,["image"],D_(l));const a=u(o,["raiFilteredReason"]);a!=null&&c(t,["raiFilteredReason"],a);const r=u(o,["_self"]);return r!=null&&c(t,["safetyAttributes"],pg(r)),t}function Xa(o){const t={},l=u(o,["_self"]);l!=null&&c(t,["image"],dg(l));const a=u(o,["raiFilteredReason"]);a!=null&&c(t,["raiFilteredReason"],a);const r=u(o,["_self"]);r!=null&&c(t,["safetyAttributes"],hg(r));const f=u(o,["prompt"]);return f!=null&&c(t,["enhancedPrompt"],f),t}function __(o){const t={},l=u(o,["_self"]);l!=null&&c(t,["mask"],dg(l));const a=u(o,["labels"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(f=>f)),c(t,["labels"],r)}return t}function C_(o){const t={},l=u(o,["video"]);return l!=null&&c(t,["video"],cC(l)),t}function A_(o){const t={},l=u(o,["_self"]);return l!=null&&c(t,["video"],fC(l)),t}function x_(o){const t={},l=u(o,["modelSelectionConfig"]);l!=null&&c(t,["modelConfig"],l);const a=u(o,["responseJsonSchema"]);a!=null&&c(t,["responseJsonSchema"],a);const r=u(o,["audioTimestamp"]);r!=null&&c(t,["audioTimestamp"],r);const f=u(o,["candidateCount"]);f!=null&&c(t,["candidateCount"],f);const p=u(o,["enableAffectiveDialog"]);p!=null&&c(t,["enableAffectiveDialog"],p);const g=u(o,["frequencyPenalty"]);g!=null&&c(t,["frequencyPenalty"],g);const y=u(o,["logprobs"]);y!=null&&c(t,["logprobs"],y);const m=u(o,["maxOutputTokens"]);m!=null&&c(t,["maxOutputTokens"],m);const v=u(o,["mediaResolution"]);v!=null&&c(t,["mediaResolution"],v);const T=u(o,["presencePenalty"]);T!=null&&c(t,["presencePenalty"],T);const E=u(o,["responseLogprobs"]);E!=null&&c(t,["responseLogprobs"],E);const A=u(o,["responseMimeType"]);A!=null&&c(t,["responseMimeType"],A);const D=u(o,["responseModalities"]);D!=null&&c(t,["responseModalities"],D);const k=u(o,["responseSchema"]);k!=null&&c(t,["responseSchema"],k);const U=u(o,["routingConfig"]);U!=null&&c(t,["routingConfig"],U);const B=u(o,["seed"]);B!=null&&c(t,["seed"],B);const X=u(o,["speechConfig"]);X!=null&&c(t,["speechConfig"],X);const F=u(o,["stopSequences"]);F!=null&&c(t,["stopSequences"],F);const $=u(o,["temperature"]);$!=null&&c(t,["temperature"],$);const O=u(o,["thinkingConfig"]);O!=null&&c(t,["thinkingConfig"],O);const ne=u(o,["topK"]);ne!=null&&c(t,["topK"],ne);const Y=u(o,["topP"]);if(Y!=null&&c(t,["topP"],Y),u(o,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function b_(o,t){const l={},a=u(t,["model"]);return a!=null&&c(l,["_url","name"],we(o,a)),l}function N_(o,t){const l={},a=u(t,["model"]);return a!=null&&c(l,["_url","name"],we(o,a)),l}function R_(o){const t={};if(u(o,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(o,["enableWidget"]);return l!=null&&c(t,["enableWidget"],l),t}function w_(o){const t={};if(u(o,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(o,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(o,["timeRangeFilter"]);return l!=null&&c(t,["timeRangeFilter"],l),t}function M_(o){const t={},l=u(o,["aspectRatio"]);l!=null&&c(t,["aspectRatio"],l);const a=u(o,["imageSize"]);if(a!=null&&c(t,["imageSize"],a),u(o,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(u(o,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(o,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function I_(o){const t={},l=u(o,["aspectRatio"]);l!=null&&c(t,["aspectRatio"],l);const a=u(o,["imageSize"]);a!=null&&c(t,["imageSize"],a);const r=u(o,["personGeneration"]);r!=null&&c(t,["personGeneration"],r);const f=u(o,["outputMimeType"]);f!=null&&c(t,["imageOutputOptions","mimeType"],f);const p=u(o,["outputCompressionQuality"]);return p!=null&&c(t,["imageOutputOptions","compressionQuality"],p),t}function D_(o){const t={},l=u(o,["bytesBase64Encoded"]);l!=null&&c(t,["imageBytes"],Zn(l));const a=u(o,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function dg(o){const t={},l=u(o,["gcsUri"]);l!=null&&c(t,["gcsUri"],l);const a=u(o,["bytesBase64Encoded"]);a!=null&&c(t,["imageBytes"],Zn(a));const r=u(o,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}function Qa(o){const t={};if(u(o,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const l=u(o,["imageBytes"]);l!=null&&c(t,["bytesBase64Encoded"],Zn(l));const a=u(o,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function Xt(o){const t={},l=u(o,["gcsUri"]);l!=null&&c(t,["gcsUri"],l);const a=u(o,["imageBytes"]);a!=null&&c(t,["bytesBase64Encoded"],Zn(a));const r=u(o,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}function U_(o,t,l){const a={},r=u(t,["pageSize"]);l!==void 0&&r!=null&&c(l,["_query","pageSize"],r);const f=u(t,["pageToken"]);l!==void 0&&f!=null&&c(l,["_query","pageToken"],f);const p=u(t,["filter"]);l!==void 0&&p!=null&&c(l,["_query","filter"],p);const g=u(t,["queryBase"]);return l!==void 0&&g!=null&&c(l,["_url","models_url"],lg(o,g)),a}function L_(o,t,l){const a={},r=u(t,["pageSize"]);l!==void 0&&r!=null&&c(l,["_query","pageSize"],r);const f=u(t,["pageToken"]);l!==void 0&&f!=null&&c(l,["_query","pageToken"],f);const p=u(t,["filter"]);l!==void 0&&p!=null&&c(l,["_query","filter"],p);const g=u(t,["queryBase"]);return l!==void 0&&g!=null&&c(l,["_url","models_url"],lg(o,g)),a}function H_(o,t){const l={},a=u(t,["config"]);return a!=null&&U_(o,a,l),l}function k_(o,t){const l={},a=u(t,["config"]);return a!=null&&L_(o,a,l),l}function G_(o){const t={},l=u(o,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(o,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(o,["_self"]);if(r!=null){let f=ag(r);Array.isArray(f)&&(f=f.map(p=>wu(p))),c(t,["models"],f)}return t}function V_(o){const t={},l=u(o,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(o,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(o,["_self"]);if(r!=null){let f=ag(r);Array.isArray(f)&&(f=f.map(p=>Mu(p))),c(t,["models"],f)}return t}function q_(o){const t={},l=u(o,["maskMode"]);l!=null&&c(t,["maskMode"],l);const a=u(o,["segmentationClasses"]);a!=null&&c(t,["maskClasses"],a);const r=u(o,["maskDilation"]);return r!=null&&c(t,["dilation"],r),t}function wu(o){const t={},l=u(o,["name"]);l!=null&&c(t,["name"],l);const a=u(o,["displayName"]);a!=null&&c(t,["displayName"],a);const r=u(o,["description"]);r!=null&&c(t,["description"],r);const f=u(o,["version"]);f!=null&&c(t,["version"],f);const p=u(o,["_self"]);p!=null&&c(t,["tunedModelInfo"],tC(p));const g=u(o,["inputTokenLimit"]);g!=null&&c(t,["inputTokenLimit"],g);const y=u(o,["outputTokenLimit"]);y!=null&&c(t,["outputTokenLimit"],y);const m=u(o,["supportedGenerationMethods"]);m!=null&&c(t,["supportedActions"],m);const v=u(o,["temperature"]);v!=null&&c(t,["temperature"],v);const T=u(o,["maxTemperature"]);T!=null&&c(t,["maxTemperature"],T);const E=u(o,["topP"]);E!=null&&c(t,["topP"],E);const A=u(o,["topK"]);A!=null&&c(t,["topK"],A);const D=u(o,["thinking"]);return D!=null&&c(t,["thinking"],D),t}function Mu(o){const t={},l=u(o,["name"]);l!=null&&c(t,["name"],l);const a=u(o,["displayName"]);a!=null&&c(t,["displayName"],a);const r=u(o,["description"]);r!=null&&c(t,["description"],r);const f=u(o,["versionId"]);f!=null&&c(t,["version"],f);const p=u(o,["deployedModels"]);if(p!=null){let T=p;Array.isArray(T)&&(T=T.map(E=>$E(E))),c(t,["endpoints"],T)}const g=u(o,["labels"]);g!=null&&c(t,["labels"],g);const y=u(o,["_self"]);y!=null&&c(t,["tunedModelInfo"],nC(y));const m=u(o,["defaultCheckpointId"]);m!=null&&c(t,["defaultCheckpointId"],m);const v=u(o,["checkpoints"]);if(v!=null){let T=v;Array.isArray(T)&&(T=T.map(E=>E)),c(t,["checkpoints"],T)}return t}function z_(o){const t={},l=u(o,["mediaResolution"]);l!=null&&c(t,["mediaResolution"],l);const a=u(o,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(o,["executableCode"]);r!=null&&c(t,["executableCode"],r);const f=u(o,["fileData"]);f!=null&&c(t,["fileData"],jE(f));const p=u(o,["functionCall"]);p!=null&&c(t,["functionCall"],e_(p));const g=u(o,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const y=u(o,["inlineData"]);y!=null&&c(t,["inlineData"],xE(y));const m=u(o,["text"]);m!=null&&c(t,["text"],m);const v=u(o,["thought"]);v!=null&&c(t,["thought"],v);const T=u(o,["thoughtSignature"]);T!=null&&c(t,["thoughtSignature"],T);const E=u(o,["videoMetadata"]);return E!=null&&c(t,["videoMetadata"],E),t}function B_(o){const t={},l=u(o,["productImage"]);return l!=null&&c(t,["image"],Xt(l)),t}function P_(o,t){const l={},a=u(o,["numberOfImages"]);t!==void 0&&a!=null&&c(t,["parameters","sampleCount"],a);const r=u(o,["baseSteps"]);t!==void 0&&r!=null&&c(t,["parameters","baseSteps"],r);const f=u(o,["outputGcsUri"]);t!==void 0&&f!=null&&c(t,["parameters","storageUri"],f);const p=u(o,["seed"]);t!==void 0&&p!=null&&c(t,["parameters","seed"],p);const g=u(o,["safetyFilterLevel"]);t!==void 0&&g!=null&&c(t,["parameters","safetySetting"],g);const y=u(o,["personGeneration"]);t!==void 0&&y!=null&&c(t,["parameters","personGeneration"],y);const m=u(o,["addWatermark"]);t!==void 0&&m!=null&&c(t,["parameters","addWatermark"],m);const v=u(o,["outputMimeType"]);t!==void 0&&v!=null&&c(t,["parameters","outputOptions","mimeType"],v);const T=u(o,["outputCompressionQuality"]);t!==void 0&&T!=null&&c(t,["parameters","outputOptions","compressionQuality"],T);const E=u(o,["enhancePrompt"]);t!==void 0&&E!=null&&c(t,["parameters","enhancePrompt"],E);const A=u(o,["labels"]);return t!==void 0&&A!=null&&c(t,["labels"],A),l}function O_(o,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],we(o,a));const r=u(t,["source"]);r!=null&&J_(r,l);const f=u(t,["config"]);return f!=null&&P_(f,l),l}function F_(o){const t={},l=u(o,["predictions"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(r=>Xa(r))),c(t,["generatedImages"],a)}return t}function J_(o,t){const l={},a=u(o,["prompt"]);t!==void 0&&a!=null&&c(t,["instances[0]","prompt"],a);const r=u(o,["personImage"]);t!==void 0&&r!=null&&c(t,["instances[0]","personImage","image"],Xt(r));const f=u(o,["productImages"]);if(t!==void 0&&f!=null){let p=f;Array.isArray(p)&&(p=p.map(g=>B_(g))),c(t,["instances[0]","productImages"],p)}return l}function Y_(o){const t={},l=u(o,["referenceImage"]);l!=null&&c(t,["referenceImage"],Xt(l));const a=u(o,["referenceId"]);a!=null&&c(t,["referenceId"],a);const r=u(o,["referenceType"]);r!=null&&c(t,["referenceType"],r);const f=u(o,["maskImageConfig"]);f!=null&&c(t,["maskImageConfig"],q_(f));const p=u(o,["controlImageConfig"]);p!=null&&c(t,["controlImageConfig"],DE(p));const g=u(o,["styleImageConfig"]);g!=null&&c(t,["styleImageConfig"],g);const y=u(o,["subjectImageConfig"]);return y!=null&&c(t,["subjectImageConfig"],y),t}function pg(o){const t={},l=u(o,["safetyAttributes","categories"]);l!=null&&c(t,["categories"],l);const a=u(o,["safetyAttributes","scores"]);a!=null&&c(t,["scores"],a);const r=u(o,["contentType"]);return r!=null&&c(t,["contentType"],r),t}function hg(o){const t={},l=u(o,["safetyAttributes","categories"]);l!=null&&c(t,["categories"],l);const a=u(o,["safetyAttributes","scores"]);a!=null&&c(t,["scores"],a);const r=u(o,["contentType"]);return r!=null&&c(t,["contentType"],r),t}function W_(o){const t={},l=u(o,["category"]);if(l!=null&&c(t,["category"],l),u(o,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const a=u(o,["threshold"]);return a!=null&&c(t,["threshold"],a),t}function K_(o){const t={},l=u(o,["image"]);return l!=null&&c(t,["image"],Xt(l)),t}function X_(o,t){const l={},a=u(o,["mode"]);t!==void 0&&a!=null&&c(t,["parameters","mode"],a);const r=u(o,["maxPredictions"]);t!==void 0&&r!=null&&c(t,["parameters","maxPredictions"],r);const f=u(o,["confidenceThreshold"]);t!==void 0&&f!=null&&c(t,["parameters","confidenceThreshold"],f);const p=u(o,["maskDilation"]);t!==void 0&&p!=null&&c(t,["parameters","maskDilation"],p);const g=u(o,["binaryColorThreshold"]);t!==void 0&&g!=null&&c(t,["parameters","binaryColorThreshold"],g);const y=u(o,["labels"]);return t!==void 0&&y!=null&&c(t,["labels"],y),l}function Q_(o,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],we(o,a));const r=u(t,["source"]);r!=null&&$_(r,l);const f=u(t,["config"]);return f!=null&&X_(f,l),l}function Z_(o){const t={},l=u(o,["predictions"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(r=>__(r))),c(t,["generatedMasks"],a)}return t}function $_(o,t){const l={},a=u(o,["prompt"]);t!==void 0&&a!=null&&c(t,["instances[0]","prompt"],a);const r=u(o,["image"]);t!==void 0&&r!=null&&c(t,["instances[0]","image"],Xt(r));const f=u(o,["scribbleImage"]);return t!==void 0&&f!=null&&c(t,["instances[0]","scribble"],K_(f)),l}function j_(o){const t={},l=u(o,["retrievalConfig"]);l!=null&&c(t,["retrievalConfig"],l);const a=u(o,["functionCallingConfig"]);return a!=null&&c(t,["functionCallingConfig"],t_(a)),t}function eC(o){const t={};if(u(o,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=u(o,["computerUse"]);l!=null&&c(t,["computerUse"],l);const a=u(o,["fileSearch"]);a!=null&&c(t,["fileSearch"],a);const r=u(o,["codeExecution"]);if(r!=null&&c(t,["codeExecution"],r),u(o,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=u(o,["functionDeclarations"]);if(f!=null){let v=f;Array.isArray(v)&&(v=v.map(T=>T)),c(t,["functionDeclarations"],v)}const p=u(o,["googleMaps"]);p!=null&&c(t,["googleMaps"],R_(p));const g=u(o,["googleSearch"]);g!=null&&c(t,["googleSearch"],w_(g));const y=u(o,["googleSearchRetrieval"]);y!=null&&c(t,["googleSearchRetrieval"],y);const m=u(o,["urlContext"]);return m!=null&&c(t,["urlContext"],m),t}function mg(o){const t={},l=u(o,["retrieval"]);l!=null&&c(t,["retrieval"],l);const a=u(o,["computerUse"]);if(a!=null&&c(t,["computerUse"],a),u(o,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=u(o,["codeExecution"]);r!=null&&c(t,["codeExecution"],r);const f=u(o,["enterpriseWebSearch"]);f!=null&&c(t,["enterpriseWebSearch"],f);const p=u(o,["functionDeclarations"]);if(p!=null){let T=p;Array.isArray(T)&&(T=T.map(E=>n_(E))),c(t,["functionDeclarations"],T)}const g=u(o,["googleMaps"]);g!=null&&c(t,["googleMaps"],g);const y=u(o,["googleSearch"]);y!=null&&c(t,["googleSearch"],y);const m=u(o,["googleSearchRetrieval"]);m!=null&&c(t,["googleSearchRetrieval"],m);const v=u(o,["urlContext"]);return v!=null&&c(t,["urlContext"],v),t}function tC(o){const t={},l=u(o,["baseModel"]);l!=null&&c(t,["baseModel"],l);const a=u(o,["createTime"]);a!=null&&c(t,["createTime"],a);const r=u(o,["updateTime"]);return r!=null&&c(t,["updateTime"],r),t}function nC(o){const t={},l=u(o,["labels","google-vertex-llm-tuning-base-model-id"]);l!=null&&c(t,["baseModel"],l);const a=u(o,["createTime"]);a!=null&&c(t,["createTime"],a);const r=u(o,["updateTime"]);return r!=null&&c(t,["updateTime"],r),t}function oC(o,t){const l={},a=u(o,["displayName"]);t!==void 0&&a!=null&&c(t,["displayName"],a);const r=u(o,["description"]);t!==void 0&&r!=null&&c(t,["description"],r);const f=u(o,["defaultCheckpointId"]);return t!==void 0&&f!=null&&c(t,["defaultCheckpointId"],f),l}function iC(o,t){const l={},a=u(o,["displayName"]);t!==void 0&&a!=null&&c(t,["displayName"],a);const r=u(o,["description"]);t!==void 0&&r!=null&&c(t,["description"],r);const f=u(o,["defaultCheckpointId"]);return t!==void 0&&f!=null&&c(t,["defaultCheckpointId"],f),l}function lC(o,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","name"],we(o,a));const r=u(t,["config"]);return r!=null&&oC(r,l),l}function aC(o,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],we(o,a));const r=u(t,["config"]);return r!=null&&iC(r,l),l}function sC(o,t){const l={},a=u(o,["outputGcsUri"]);t!==void 0&&a!=null&&c(t,["parameters","storageUri"],a);const r=u(o,["safetyFilterLevel"]);t!==void 0&&r!=null&&c(t,["parameters","safetySetting"],r);const f=u(o,["personGeneration"]);t!==void 0&&f!=null&&c(t,["parameters","personGeneration"],f);const p=u(o,["includeRaiReason"]);t!==void 0&&p!=null&&c(t,["parameters","includeRaiReason"],p);const g=u(o,["outputMimeType"]);t!==void 0&&g!=null&&c(t,["parameters","outputOptions","mimeType"],g);const y=u(o,["outputCompressionQuality"]);t!==void 0&&y!=null&&c(t,["parameters","outputOptions","compressionQuality"],y);const m=u(o,["enhanceInputImage"]);t!==void 0&&m!=null&&c(t,["parameters","upscaleConfig","enhanceInputImage"],m);const v=u(o,["imagePreservationFactor"]);t!==void 0&&v!=null&&c(t,["parameters","upscaleConfig","imagePreservationFactor"],v);const T=u(o,["labels"]);t!==void 0&&T!=null&&c(t,["labels"],T);const E=u(o,["numberOfImages"]);t!==void 0&&E!=null&&c(t,["parameters","sampleCount"],E);const A=u(o,["mode"]);return t!==void 0&&A!=null&&c(t,["parameters","mode"],A),l}function rC(o,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],we(o,a));const r=u(t,["image"]);r!=null&&c(l,["instances[0]","image"],Xt(r));const f=u(t,["upscaleFactor"]);f!=null&&c(l,["parameters","upscaleConfig","upscaleFactor"],f);const p=u(t,["config"]);return p!=null&&sC(p,l),l}function uC(o){const t={},l=u(o,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(o,["predictions"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(f=>Xa(f))),c(t,["generatedImages"],r)}return t}function cC(o){const t={},l=u(o,["uri"]);l!=null&&c(t,["uri"],l);const a=u(o,["encodedVideo"]);a!=null&&c(t,["videoBytes"],Zn(a));const r=u(o,["encoding"]);return r!=null&&c(t,["mimeType"],r),t}function fC(o){const t={},l=u(o,["gcsUri"]);l!=null&&c(t,["uri"],l);const a=u(o,["bytesBase64Encoded"]);a!=null&&c(t,["videoBytes"],Zn(a));const r=u(o,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}function dC(o){const t={},l=u(o,["image"]);l!=null&&c(t,["_self"],Xt(l));const a=u(o,["maskMode"]);return a!=null&&c(t,["maskMode"],a),t}function pC(o){const t={},l=u(o,["image"]);l!=null&&c(t,["image"],Qa(l));const a=u(o,["referenceType"]);return a!=null&&c(t,["referenceType"],a),t}function hC(o){const t={},l=u(o,["image"]);l!=null&&c(t,["image"],Xt(l));const a=u(o,["referenceType"]);return a!=null&&c(t,["referenceType"],a),t}function gg(o){const t={},l=u(o,["uri"]);l!=null&&c(t,["uri"],l);const a=u(o,["videoBytes"]);a!=null&&c(t,["encodedVideo"],Zn(a));const r=u(o,["mimeType"]);return r!=null&&c(t,["encoding"],r),t}function yg(o){const t={},l=u(o,["uri"]);l!=null&&c(t,["gcsUri"],l);const a=u(o,["videoBytes"]);a!=null&&c(t,["bytesBase64Encoded"],Zn(a));const r=u(o,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mC(o,t){const l={},a=u(o,["displayName"]);return t!==void 0&&a!=null&&c(t,["displayName"],a),l}function gC(o){const t={},l=u(o,["config"]);return l!=null&&mC(l,t),t}function yC(o,t){const l={},a=u(o,["force"]);return t!==void 0&&a!=null&&c(t,["_query","force"],a),l}function vC(o){const t={},l=u(o,["name"]);l!=null&&c(t,["_url","name"],l);const a=u(o,["config"]);return a!=null&&yC(a,t),t}function SC(o){const t={},l=u(o,["name"]);return l!=null&&c(t,["_url","name"],l),t}function TC(o,t){const l={},a=u(o,["customMetadata"]);if(t!==void 0&&a!=null){let f=a;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["customMetadata"],f)}const r=u(o,["chunkingConfig"]);return t!==void 0&&r!=null&&c(t,["chunkingConfig"],r),l}function EC(o){const t={},l=u(o,["name"]);l!=null&&c(t,["name"],l);const a=u(o,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(o,["done"]);r!=null&&c(t,["done"],r);const f=u(o,["error"]);f!=null&&c(t,["error"],f);const p=u(o,["response"]);return p!=null&&c(t,["response"],CC(p)),t}function _C(o){const t={},l=u(o,["fileSearchStoreName"]);l!=null&&c(t,["_url","file_search_store_name"],l);const a=u(o,["fileName"]);a!=null&&c(t,["fileName"],a);const r=u(o,["config"]);return r!=null&&TC(r,t),t}function CC(o){const t={},l=u(o,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(o,["parent"]);a!=null&&c(t,["parent"],a);const r=u(o,["documentName"]);return r!=null&&c(t,["documentName"],r),t}function AC(o,t){const l={},a=u(o,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(o,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),l}function xC(o){const t={},l=u(o,["config"]);return l!=null&&AC(l,t),t}function bC(o){const t={},l=u(o,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(o,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(o,["fileSearchStores"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["fileSearchStores"],f)}return t}function vg(o,t){const l={},a=u(o,["mimeType"]);t!==void 0&&a!=null&&c(t,["mimeType"],a);const r=u(o,["displayName"]);t!==void 0&&r!=null&&c(t,["displayName"],r);const f=u(o,["customMetadata"]);if(t!==void 0&&f!=null){let g=f;Array.isArray(g)&&(g=g.map(y=>y)),c(t,["customMetadata"],g)}const p=u(o,["chunkingConfig"]);return t!==void 0&&p!=null&&c(t,["chunkingConfig"],p),l}function NC(o){const t={},l=u(o,["fileSearchStoreName"]);l!=null&&c(t,["_url","file_search_store_name"],l);const a=u(o,["config"]);return a!=null&&vg(a,t),t}function RC(o){const t={},l=u(o,["sdkHttpResponse"]);return l!=null&&c(t,["sdkHttpResponse"],l),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const wC="Content-Type",MC="X-Server-Timeout",IC="User-Agent",Iu="x-goog-api-client",DC="1.36.0",UC=`google-genai-sdk/${DC}`,LC="v1beta1",HC="v1beta";class kC{constructor(t){var l,a;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=(l=this.clientOptions.apiVersion)!==null&&l!==void 0?l:LC,r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=(a=this.clientOptions.apiVersion)!==null&&a!==void 0?a:HC,r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,t.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const t=new Headers;return await this.clientOptions.auth.addAuthHeaders(t),t}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const a=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&a.push(t.apiVersion),a.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),l=new URL(t);return l.protocol=l.protocol=="http:"?"ws":"wss",l.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,l,a){const r=[this.getRequestUrlInternal(l)];return a&&r.push(this.getBaseResourcePath()),t!==""&&r.push(t),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(t){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let l=this.clientOptions.httpOptions;t.httpOptions&&(l=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const a=this.shouldPrependVertexProjectPath(t),r=this.constructUrl(t.path,l,a);if(t.queryParams)for(const[p,g]of Object.entries(t.queryParams))r.searchParams.append(p,String(g));let f={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else f.body=t.body;return f=await this.includeExtraHttpOptionsToRequestInit(f,l,r.toString(),t.abortSignal),this.unaryApiCall(r,f,t.httpMethod)}patchHttpOptions(t,l){const a=JSON.parse(JSON.stringify(t));for(const[r,f]of Object.entries(l))typeof f=="object"?a[r]=Object.assign(Object.assign({},a[r]),f):f!==void 0&&(a[r]=f);return a}async requestStream(t){let l=this.clientOptions.httpOptions;t.httpOptions&&(l=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const a=this.shouldPrependVertexProjectPath(t),r=this.constructUrl(t.path,l,a);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let f={};return f.body=t.body,f=await this.includeExtraHttpOptionsToRequestInit(f,l,r.toString(),t.abortSignal),this.streamApiCall(r,f,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,l,a,r){if(l&&l.timeout||r){const f=new AbortController,p=f.signal;if(l.timeout&&(l==null?void 0:l.timeout)>0){const g=setTimeout(()=>f.abort(),l.timeout);g&&typeof g.unref=="function"&&g.unref()}r&&r.addEventListener("abort",()=>{f.abort()}),t.signal=p}return l&&l.extraBody!==null&&GC(t,l.extraBody),t.headers=await this.getHeadersInternal(l,a),t}async unaryApiCall(t,l,a){return this.apiCall(t.toString(),Object.assign(Object.assign({},l),{method:a})).then(async r=>(await Dm(r),new bu(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(t,l,a){return this.apiCall(t.toString(),Object.assign(Object.assign({},l),{method:a})).then(async r=>(await Dm(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(t){return Wt(this,arguments,function*(){var a;const r=(a=t==null?void 0:t.body)===null||a===void 0?void 0:a.getReader(),f=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let p="";const g="data:",y=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:m,value:v}=yield ue(r.read());if(m){if(p.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const T=f.decode(v,{stream:!0});try{const D=JSON.parse(T);if("error"in D){const k=JSON.parse(JSON.stringify(D.error)),U=k.status,B=k.code,X=`got status: ${U}. ${JSON.stringify(D)}`;if(B>=400&&B<600)throw new Wa({message:X,status:B})}}catch(D){if(D.name==="ApiError")throw D}p+=T;let E=-1,A=0;for(;;){E=-1,A=0;for(const U of y){const B=p.indexOf(U);B!==-1&&(E===-1||B<E)&&(E=B,A=U.length)}if(E===-1)break;const D=p.substring(0,E);p=p.substring(E+A);const k=D.trim();if(k.startsWith(g)){const U=k.substring(g.length).trim();try{const B=new Response(U,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield ue(new bu(B))}catch(B){throw new Error(`exception parsing stream chunk ${U}. ${B}`)}}}}}finally{r.releaseLock()}})}async apiCall(t,l){return fetch(t,l).catch(a=>{throw new Error(`exception ${a} sending request`)})}getDefaultHeaders(){const t={},l=UC+" "+this.clientOptions.userAgentExtra;return t[IC]=l,t[Iu]=l,t[wC]="application/json",t}async getHeadersInternal(t,l){const a=new Headers;if(t&&t.headers){for(const[r,f]of Object.entries(t.headers))a.append(r,f);t.timeout&&t.timeout>0&&a.append(MC,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(a,l),a}getFileName(t){var l;let a="";return typeof t=="string"&&(a=t.replace(/[/\\]+$/,""),a=(l=a.split(/[/\\]/).pop())!==null&&l!==void 0?l:""),a}async uploadFile(t,l){var a;const r={};l!=null&&(r.mimeType=l.mimeType,r.name=l.name,r.displayName=l.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const f=this.clientOptions.uploader,p=await f.stat(t);r.sizeBytes=String(p.size);const g=(a=l==null?void 0:l.mimeType)!==null&&a!==void 0?a:p.type;if(g===void 0||g==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=g;const y={file:r},m=this.getFileName(t),v=Q("upload/v1beta/files",y._url),T=await this.fetchUploadUrl(v,r.sizeBytes,r.mimeType,m,y,l==null?void 0:l.httpOptions);return f.upload(t,T,this)}async uploadFileToFileSearchStore(t,l,a){var r;const f=this.clientOptions.uploader,p=await f.stat(l),g=String(p.size),y=(r=a==null?void 0:a.mimeType)!==null&&r!==void 0?r:p.type;if(y===void 0||y==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const m=`upload/v1beta/${t}:uploadToFileSearchStore`,v=this.getFileName(l),T={};a!=null&&vg(a,T);const E=await this.fetchUploadUrl(m,g,y,v,T,a==null?void 0:a.httpOptions);return f.uploadToFileSearchStore(l,E,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,l,a,r,f,p){var g;let y={};p?y=p:y={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${l}`,"X-Goog-Upload-Header-Content-Type":`${a}`},r?{"X-Goog-Upload-File-Name":r}:{})};const m=await this.request({path:t,body:JSON.stringify(f),httpMethod:"POST",httpOptions:y});if(!m||!(m!=null&&m.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const v=(g=m==null?void 0:m.headers)===null||g===void 0?void 0:g["x-goog-upload-url"];if(v===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return v}}async function Dm(o){var t;if(o===void 0)throw new Error("response is undefined");if(!o.ok){const l=o.status;let a;!((t=o.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?a=await o.json():a={error:{message:await o.text(),code:o.status,status:o.statusText}};const r=JSON.stringify(a);throw l>=400&&l<600?new Wa({message:r,status:l}):new Error(r)}}function GC(o,t){if(!t||Object.keys(t).length===0)return;if(o.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let l={};if(typeof o.body=="string"&&o.body.length>0)try{const f=JSON.parse(o.body);if(typeof f=="object"&&f!==null&&!Array.isArray(f))l=f;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function a(f,p){const g=Object.assign({},f);for(const y in p)if(Object.prototype.hasOwnProperty.call(p,y)){const m=p[y],v=g[y];m&&typeof m=="object"&&!Array.isArray(m)&&v&&typeof v=="object"&&!Array.isArray(v)?g[y]=a(v,m):(v&&m&&typeof v!=typeof m&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${y}". Original type: ${typeof v}, New type: ${typeof m}. Overwriting.`),g[y]=m)}return g}const r=a(l,t);o.body=JSON.stringify(r)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const VC="mcp_used/unknown";let qC=!1;function Sg(o){for(const t of o)if(zC(t)||typeof t=="object"&&"inputSchema"in t)return!0;return qC}function Tg(o){var t;const l=(t=o[Iu])!==null&&t!==void 0?t:"";o[Iu]=(l+` ${VC}`).trimStart()}function zC(o){return o!==null&&typeof o=="object"&&o instanceof Yu}function BC(o){return Wt(this,arguments,function*(l,a=100){let r,f=0;for(;f<a;){const p=yield ue(l.listTools({cursor:r}));for(const g of p.tools)yield yield ue(g),f++;if(!p.nextCursor)break;r=p.nextCursor}})}class Yu{constructor(t=[],l){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=l}static create(t,l){return new Yu(t,l)}async initialize(){var t,l,a,r;if(this.mcpTools.length>0)return;const f={},p=[];for(const v of this.mcpClients)try{for(var g=!0,y=(l=void 0,Kt(BC(v))),m;m=await y.next(),t=m.done,!t;g=!0){r=m.value,g=!1;const T=r;p.push(T);const E=T.name;if(f[E])throw new Error(`Duplicate function name ${E} found in MCP tools. Please ensure function names are unique.`);f[E]=v}}catch(T){l={error:T}}finally{try{!g&&!t&&(a=y.return)&&await a.call(y)}finally{if(l)throw l.error}}this.mcpTools=p,this.functionNameToMcpClient=f}async tool(){return await this.initialize(),vS(this.mcpTools,this.config)}async callTool(t){await this.initialize();const l=[];for(const a of t)if(a.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[a.name];let f;this.config.timeout&&(f={timeout:this.config.timeout});const p=await r.callTool({name:a.name,arguments:a.args},void 0,f);l.push({functionResponse:{name:a.name,response:p.isError?{error:p}:p}})}return l}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function PC(o,t,l){const a=new cS;let r;l.data instanceof Blob?r=JSON.parse(await l.data.text()):r=JSON.parse(l.data),Object.assign(a,r),t(a)}class OC{constructor(t,l,a){this.apiClient=t,this.auth=l,this.webSocketFactory=a}async connect(t){var l,a;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion(),p=YC(this.apiClient.getDefaultHeaders()),g=this.apiClient.getApiKey(),y=`${r}/ws/google.ai.generativelanguage.${f}.GenerativeService.BidiGenerateMusic?key=${g}`;let m=()=>{};const v=new Promise(F=>{m=F}),T=t.callbacks,E=function(){m({})},A=this.apiClient,D={onopen:E,onmessage:F=>{PC(A,T.onmessage,F)},onerror:(l=T==null?void 0:T.onerror)!==null&&l!==void 0?l:function(F){},onclose:(a=T==null?void 0:T.onclose)!==null&&a!==void 0?a:function(F){}},k=this.webSocketFactory.create(y,JC(p),D);k.connect(),await v;const X={setup:{model:we(this.apiClient,t.model)}};return k.send(JSON.stringify(X)),new FC(k,this.apiClient)}}class FC{constructor(t,l){this.conn=t,this.apiClient=l}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const l=mE(t);this.conn.send(JSON.stringify({clientContent:l}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const l=hE(t);this.conn.send(JSON.stringify(l))}sendPlaybackControl(t){const l={playbackControl:t};this.conn.send(JSON.stringify(l))}play(){this.sendPlaybackControl(si.PLAY)}pause(){this.sendPlaybackControl(si.PAUSE)}stop(){this.sendPlaybackControl(si.STOP)}resetContext(){this.sendPlaybackControl(si.RESET_CONTEXT)}close(){this.conn.close()}}function JC(o){const t={};return o.forEach((l,a)=>{t[a]=l}),t}function YC(o){const t=new Headers;for(const[l,a]of Object.entries(o))t.append(l,a);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const WC="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function KC(o,t,l){const a=new uS;let r;l.data instanceof Blob?r=await l.data.text():l.data instanceof ArrayBuffer?r=new TextDecoder().decode(l.data):r=l.data;const f=JSON.parse(r);if(o.isVertexAI()){const p=vE(f);Object.assign(a,p)}else Object.assign(a,f);t(a)}class XC{constructor(t,l,a){this.apiClient=t,this.auth=l,this.webSocketFactory=a,this.music=new OC(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var l,a,r,f,p,g;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const y=this.apiClient.getWebsocketBaseUrl(),m=this.apiClient.getApiVersion();let v;const T=this.apiClient.getHeaders();t.config&&t.config.tools&&Sg(t.config.tools)&&Tg(T);const E=jC(T);if(this.apiClient.isVertexAI())v=`${y}/ws/google.cloud.aiplatform.${m}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(E,v);else{const Z=this.apiClient.getApiKey();let ce="BidiGenerateContent",_e="key";Z!=null&&Z.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),m!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),ce="BidiGenerateContentConstrained",_e="access_token"),v=`${y}/ws/google.ai.generativelanguage.${m}.GenerativeService.${ce}?${_e}=${Z}`}let A=()=>{};const D=new Promise(Z=>{A=Z}),k=t.callbacks,U=function(){var Z;(Z=k==null?void 0:k.onopen)===null||Z===void 0||Z.call(k),A({})},B=this.apiClient,X={onopen:U,onmessage:Z=>{KC(B,k.onmessage,Z)},onerror:(l=k==null?void 0:k.onerror)!==null&&l!==void 0?l:function(Z){},onclose:(a=k==null?void 0:k.onclose)!==null&&a!==void 0?a:function(Z){}},F=this.webSocketFactory.create(v,$C(E),X);F.connect(),await D;let $=we(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&$.startsWith("publishers/")){const Z=this.apiClient.getProject(),ce=this.apiClient.getLocation();$=`projects/${Z}/locations/${ce}/`+$}let O={};this.apiClient.isVertexAI()&&((r=t.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[Ba.AUDIO]}:t.config.responseModalities=[Ba.AUDIO]),!((f=t.config)===null||f===void 0)&&f.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const ne=(g=(p=t.config)===null||p===void 0?void 0:p.tools)!==null&&g!==void 0?g:[],Y=[];for(const Z of ne)if(this.isCallableTool(Z)){const ce=Z;Y.push(await ce.tool())}else Y.push(Z);Y.length>0&&(t.config.tools=Y);const de={model:$,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?O=pE(this.apiClient,de):O=dE(this.apiClient,de),delete O.config,F.send(JSON.stringify(O)),new ZC(F,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const QC={turnComplete:!0};class ZC{constructor(t,l){this.conn=t,this.apiClient=l}tLiveClientContent(t,l){if(l.turns!==null&&l.turns!==void 0){let a=[];try{a=Pt(l.turns),t.isVertexAI()||(a=a.map(r=>Ka(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof l.turns}'`)}return{clientContent:{turns:a,turnComplete:l.turnComplete}}}return{clientContent:{turnComplete:l.turnComplete}}}tLiveClienttToolResponse(t,l){let a=[];if(l.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(l.functionResponses)?a=l.functionResponses:a=[l.functionResponses],a.length===0)throw new Error("functionResponses is required.");for(const f of a){if(typeof f!="object"||f===null||!("name"in f)||!("response"in f))throw new Error(`Could not parse function response, type '${typeof f}'.`);if(!t.isVertexAI()&&!("id"in f))throw new Error(WC)}return{toolResponse:{functionResponses:a}}}sendClientContent(t){t=Object.assign(Object.assign({},QC),t);const l=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(l))}sendRealtimeInput(t){let l={};this.apiClient.isVertexAI()?l={realtimeInput:yE(t)}:l={realtimeInput:gE(t)},this.conn.send(JSON.stringify(l))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const l=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(l))}close(){this.conn.close()}}function $C(o){const t={};return o.forEach((l,a)=>{t[a]=l}),t}function jC(o){const t=new Headers;for(const[l,a]of Object.entries(o))t.append(l,a);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Um=10;function Lm(o){var t,l,a;if(!((t=o==null?void 0:o.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let r=!1;for(const p of(l=o==null?void 0:o.tools)!==null&&l!==void 0?l:[])if(ci(p)){r=!0;break}if(!r)return!0;const f=(a=o==null?void 0:o.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls;return f&&(f<0||!Number.isInteger(f))||f==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",f),!0):!1}function ci(o){return"callTool"in o&&typeof o.callTool=="function"}function eA(o){var t,l,a;return(a=(l=(t=o.config)===null||t===void 0?void 0:t.tools)===null||l===void 0?void 0:l.some(r=>ci(r)))!==null&&a!==void 0?a:!1}function Hm(o){var t;const l=[];return!((t=o==null?void 0:o.config)===null||t===void 0)&&t.tools&&o.config.tools.forEach((a,r)=>{if(ci(a))return;const f=a;f.functionDeclarations&&f.functionDeclarations.length>0&&l.push(r)}),l}function km(o){var t;return!(!((t=o==null?void 0:o.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class tA extends Cn{constructor(t){super(),this.apiClient=t,this.generateContent=async l=>{var a,r,f,p,g;const y=await this.processParamsMaybeAddMcpUsage(l);if(this.maybeMoveToResponseJsonSchem(l),!eA(l)||Lm(l.config))return await this.generateContentInternal(y);const m=Hm(l);if(m.length>0){const k=m.map(U=>`tools[${U}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${k}.`)}let v,T;const E=Pt(y.contents),A=(f=(r=(a=y.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&f!==void 0?f:Um;let D=0;for(;D<A&&(v=await this.generateContentInternal(y),!(!v.functionCalls||v.functionCalls.length===0));){const k=v.candidates[0].content,U=[];for(const B of(g=(p=l.config)===null||p===void 0?void 0:p.tools)!==null&&g!==void 0?g:[])if(ci(B)){const F=await B.callTool(v.functionCalls);U.push(...F)}D++,T={role:"user",parts:U},y.contents=Pt(y.contents),y.contents.push(k),y.contents.push(T),km(y.config)&&(E.push(k),E.push(T))}return km(y.config)&&(v.automaticFunctionCallingHistory=E),v},this.generateContentStream=async l=>{var a,r,f,p,g;if(this.maybeMoveToResponseJsonSchem(l),Lm(l.config)){const T=await this.processParamsMaybeAddMcpUsage(l);return await this.generateContentStreamInternal(T)}const y=Hm(l);if(y.length>0){const T=y.map(E=>`tools[${E}]`).join(", ");throw new Error(`Incompatible tools found at ${T}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const m=(f=(r=(a=l==null?void 0:l.config)===null||a===void 0?void 0:a.toolConfig)===null||r===void 0?void 0:r.functionCallingConfig)===null||f===void 0?void 0:f.streamFunctionCallArguments,v=(g=(p=l==null?void 0:l.config)===null||p===void 0?void 0:p.automaticFunctionCalling)===null||g===void 0?void 0:g.disable;if(m&&!v)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(l)},this.generateImages=async l=>await this.generateImagesInternal(l).then(a=>{var r;let f;const p=[];if(a!=null&&a.generatedImages)for(const y of a.generatedImages)y&&(y!=null&&y.safetyAttributes)&&((r=y==null?void 0:y.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?f=y==null?void 0:y.safetyAttributes:p.push(y);let g;return f?g={generatedImages:p,positivePromptSafetyAttributes:f,sdkHttpResponse:a.sdkHttpResponse}:g={generatedImages:p,sdkHttpResponse:a.sdkHttpResponse},g}),this.list=async l=>{var a;const p={config:Object.assign(Object.assign({},{queryBase:!0}),l==null?void 0:l.config)};if(this.apiClient.isVertexAI()&&!p.config.queryBase){if(!((a=p.config)===null||a===void 0)&&a.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");p.config.filter="labels.tune-type:*"}return new vo(_n.PAGED_ITEM_MODELS,g=>this.listInternal(g),await this.listInternal(p),p)},this.editImage=async l=>{const a={model:l.model,prompt:l.prompt,referenceImages:[],config:l.config};return l.referenceImages&&l.referenceImages&&(a.referenceImages=l.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(a)},this.upscaleImage=async l=>{let a={numberOfImages:1,mode:"upscale"};l.config&&(a=Object.assign(Object.assign({},a),l.config));const r={model:l.model,image:l.image,upscaleFactor:l.upscaleFactor,config:a};return await this.upscaleImageInternal(r)},this.generateVideos=async l=>{var a,r,f,p,g,y;if((l.prompt||l.image||l.video)&&l.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((a=l.video)===null||a===void 0)&&a.uri&&(!((r=l.video)===null||r===void 0)&&r.videoBytes)?l.video={uri:l.video.uri,mimeType:l.video.mimeType}:!((p=(f=l.source)===null||f===void 0?void 0:f.video)===null||p===void 0)&&p.uri&&(!((y=(g=l.source)===null||g===void 0?void 0:g.video)===null||y===void 0)&&y.videoBytes)&&(l.source.video={uri:l.source.video.uri,mimeType:l.source.video.mimeType})),await this.generateVideosInternal(l)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var l,a,r;const f=(l=t.config)===null||l===void 0?void 0:l.tools;if(!f)return t;const p=await Promise.all(f.map(async y=>ci(y)?await y.tool():y)),g={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:p})};if(g.config.tools=p,t.config&&t.config.tools&&Sg(t.config.tools)){const y=(r=(a=t.config.httpOptions)===null||a===void 0?void 0:a.headers)!==null&&r!==void 0?r:{};let m=Object.assign({},y);Object.keys(m).length===0&&(m=this.apiClient.getDefaultHeaders()),Tg(m),g.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:m})}return g}async initAfcToolsMap(t){var l,a,r;const f=new Map;for(const p of(a=(l=t.config)===null||l===void 0?void 0:l.tools)!==null&&a!==void 0?a:[])if(ci(p)){const g=p,y=await g.tool();for(const m of(r=y.functionDeclarations)!==null&&r!==void 0?r:[]){if(!m.name)throw new Error("Function declaration name is required.");if(f.has(m.name))throw new Error(`Duplicate tool declaration name: ${m.name}`);f.set(m.name,g)}}return f}async processAfcStream(t){var l,a,r;const f=(r=(a=(l=t.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&r!==void 0?r:Um;let p=!1,g=0;const y=await this.initAfcToolsMap(t);return(function(m,v,T){return Wt(this,arguments,function*(){for(var E,A,D,k,U,B;g<f;){p&&(g++,p=!1);const O=yield ue(m.processParamsMaybeAddMcpUsage(T)),ne=yield ue(m.generateContentStreamInternal(O)),Y=[],de=[];try{for(var X=!0,F=(A=void 0,Kt(ne)),$;$=yield ue(F.next()),E=$.done,!E;X=!0){k=$.value,X=!1;const Z=k;if(yield yield ue(Z),Z.candidates&&(!((U=Z.candidates[0])===null||U===void 0)&&U.content)){de.push(Z.candidates[0].content);for(const ce of(B=Z.candidates[0].content.parts)!==null&&B!==void 0?B:[])if(g<f&&ce.functionCall){if(!ce.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(ce.functionCall.name)){const _e=yield ue(v.get(ce.functionCall.name).callTool([ce.functionCall]));Y.push(..._e)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${ce.functionCall.name}`)}}}}catch(Z){A={error:Z}}finally{try{!X&&!E&&(D=F.return)&&(yield ue(D.call(F)))}finally{if(A)throw A.error}}if(Y.length>0){p=!0;const Z=new fl;Z.candidates=[{content:{role:"user",parts:Y}}],yield yield ue(Z);const ce=[];ce.push(...de),ce.push({role:"user",parts:Y});const _e=Pt(T.contents).concat(ce);T.contents=_e}else break}})})(this,y,t)}async generateContentInternal(t){var l,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=wm(this.apiClient,t);return g=Q("{model}:generateContent",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=Im(v),E=new fl;return Object.assign(E,T),E})}else{const m=Rm(this.apiClient,t);return g=Q("{model}:generateContent",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=Mm(v),E=new fl;return Object.assign(E,T),E})}}async generateContentStreamInternal(t){var l,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=wm(this.apiClient,t);return g=Q("{model}:streamGenerateContent?alt=sse",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.requestStream({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}),p.then(function(T){return Wt(this,arguments,function*(){var E,A,D,k;try{for(var U=!0,B=Kt(T),X;X=yield ue(B.next()),E=X.done,!E;U=!0){k=X.value,U=!1;const F=k,$=Im(yield ue(F.json()));$.sdkHttpResponse={headers:F.headers};const O=new fl;Object.assign(O,$),yield yield ue(O)}}catch(F){A={error:F}}finally{try{!U&&!E&&(D=B.return)&&(yield ue(D.call(B)))}finally{if(A)throw A.error}}})})}else{const m=Rm(this.apiClient,t);return g=Q("{model}:streamGenerateContent?alt=sse",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.requestStream({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}),p.then(function(T){return Wt(this,arguments,function*(){var E,A,D,k;try{for(var U=!0,B=Kt(T),X;X=yield ue(B.next()),E=X.done,!E;U=!0){k=X.value,U=!1;const F=k,$=Mm(yield ue(F.json()));$.sdkHttpResponse={headers:F.headers};const O=new fl;Object.assign(O,$),yield yield ue(O)}}catch(F){A={error:F}}finally{try{!U&&!E&&(D=B.return)&&(yield ue(D.call(B)))}finally{if(A)throw A.error}}})})}}async embedContent(t){var l,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=XE(this.apiClient,t);return g=Q("{model}:predict",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=ZE(v),E=new fm;return Object.assign(E,T),E})}else{const m=KE(this.apiClient,t);return g=Q("{model}:batchEmbedContents",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=QE(v),E=new fm;return Object.assign(E,T),E})}}async generateImagesInternal(t){var l,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=r_(this.apiClient,t);return g=Q("{model}:predict",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=c_(v),E=new dm;return Object.assign(E,T),E})}else{const m=s_(this.apiClient,t);return g=Q("{model}:predict",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=u_(v),E=new dm;return Object.assign(E,T),E})}}async editImageInternal(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI()){const g=FE(this.apiClient,t);return f=Q("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const m=JE(y),v=new $v;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI()){const g=rC(this.apiClient,t);return f=Q("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const m=uC(y),v=new jv;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI()){const g=O_(this.apiClient,t);return f=Q("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const m=F_(y),v=new eS;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI()){const g=Q_(this.apiClient,t);return f=Q("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const m=Z_(y),v=new tS;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var l,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=N_(this.apiClient,t);return g=Q("{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>Mu(v))}else{const m=b_(this.apiClient,t);return g=Q("{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>wu(v))}}async listInternal(t){var l,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=k_(this.apiClient,t);return g=Q("{models_url}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=V_(v),E=new pm;return Object.assign(E,T),E})}else{const m=H_(this.apiClient,t);return g=Q("{models_url}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=G_(v),E=new pm;return Object.assign(E,T),E})}}async update(t){var l,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=aC(this.apiClient,t);return g=Q("{model}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>Mu(v))}else{const m=lC(this.apiClient,t);return g=Q("{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>wu(v))}}async delete(t){var l,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=zE(this.apiClient,t);return g=Q("{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=PE(v),E=new hm;return Object.assign(E,T),E})}else{const m=qE(this.apiClient,t);return g=Q("{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=BE(v),E=new hm;return Object.assign(E,T),E})}}async countTokens(t){var l,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=kE(this.apiClient,t);return g=Q("{model}:countTokens",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=VE(v),E=new mm;return Object.assign(E,T),E})}else{const m=HE(this.apiClient,t);return g=Q("{model}:countTokens",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=GE(v),E=new mm;return Object.assign(E,T),E})}}async computeTokens(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI()){const g=RE(this.apiClient,t);return f=Q("{model}:computeTokens",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const m=wE(y),v=new nS;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var l,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=g_(this.apiClient,t);return g=Q("{model}:predictLongRunning",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>{const T=h_(v),E=new Pa;return Object.assign(E,T),E})}else{const m=m_(this.apiClient,t);return g=Q("{model}:predictLongRunning",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>{const T=p_(v),E=new Pa;return Object.assign(E,T),E})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class nA extends Cn{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const l=t.operation,a=t.config;if(l.name===void 0||l.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=l.name.split("/operations/")[0];let f;a&&"httpOptions"in a&&(f=a.httpOptions);const p=await this.fetchPredictVideosOperationInternal({operationName:l.name,resourceName:r,config:{httpOptions:f}});return l._fromAPIResponse({apiResponse:p,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:l.name,config:a});return l._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async get(t){const l=t.operation,a=t.config;if(l.name===void 0||l.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=l.name.split("/operations/")[0];let f;a&&"httpOptions"in a&&(f=a.httpOptions);const p=await this.fetchPredictVideosOperationInternal({operationName:l.name,resourceName:r,config:{httpOptions:f}});return l._fromAPIResponse({apiResponse:p,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:l.name,config:a});return l._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async getVideosOperationInternal(t){var l,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=Yv(t);return g=Q("{operationName}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p}else{const m=Jv(t);return g=Q("{operationName}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p}}async fetchPredictVideosOperationInternal(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI()){const g=Vv(t);return f=Q("{resourceName}:fetchPredictOperation",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function oA(o){const t={},l=u(o,["data"]);if(l!=null&&c(t,["data"],l),u(o,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(o,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function iA(o){const t={},l=u(o,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(f=>pA(f))),c(t,["parts"],r)}const a=u(o,["role"]);return a!=null&&c(t,["role"],a),t}function lA(o,t,l){const a={},r=u(t,["expireTime"]);l!==void 0&&r!=null&&c(l,["expireTime"],r);const f=u(t,["newSessionExpireTime"]);l!==void 0&&f!=null&&c(l,["newSessionExpireTime"],f);const p=u(t,["uses"]);l!==void 0&&p!=null&&c(l,["uses"],p);const g=u(t,["liveConnectConstraints"]);l!==void 0&&g!=null&&c(l,["bidiGenerateContentSetup"],dA(o,g));const y=u(t,["lockAdditionalFields"]);return l!==void 0&&y!=null&&c(l,["fieldMask"],y),a}function aA(o,t){const l={},a=u(t,["config"]);return a!=null&&c(l,["config"],lA(o,a,l)),l}function sA(o){const t={};if(u(o,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(o,["fileUri"]);l!=null&&c(t,["fileUri"],l);const a=u(o,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function rA(o){const t={},l=u(o,["id"]);l!=null&&c(t,["id"],l);const a=u(o,["args"]);a!=null&&c(t,["args"],a);const r=u(o,["name"]);if(r!=null&&c(t,["name"],r),u(o,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(o,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function uA(o){const t={};if(u(o,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(o,["enableWidget"]);return l!=null&&c(t,["enableWidget"],l),t}function cA(o){const t={};if(u(o,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(o,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(o,["timeRangeFilter"]);return l!=null&&c(t,["timeRangeFilter"],l),t}function fA(o,t){const l={},a=u(o,["generationConfig"]);t!==void 0&&a!=null&&c(t,["setup","generationConfig"],a);const r=u(o,["responseModalities"]);t!==void 0&&r!=null&&c(t,["setup","generationConfig","responseModalities"],r);const f=u(o,["temperature"]);t!==void 0&&f!=null&&c(t,["setup","generationConfig","temperature"],f);const p=u(o,["topP"]);t!==void 0&&p!=null&&c(t,["setup","generationConfig","topP"],p);const g=u(o,["topK"]);t!==void 0&&g!=null&&c(t,["setup","generationConfig","topK"],g);const y=u(o,["maxOutputTokens"]);t!==void 0&&y!=null&&c(t,["setup","generationConfig","maxOutputTokens"],y);const m=u(o,["mediaResolution"]);t!==void 0&&m!=null&&c(t,["setup","generationConfig","mediaResolution"],m);const v=u(o,["seed"]);t!==void 0&&v!=null&&c(t,["setup","generationConfig","seed"],v);const T=u(o,["speechConfig"]);t!==void 0&&T!=null&&c(t,["setup","generationConfig","speechConfig"],Ju(T));const E=u(o,["thinkingConfig"]);t!==void 0&&E!=null&&c(t,["setup","generationConfig","thinkingConfig"],E);const A=u(o,["enableAffectiveDialog"]);t!==void 0&&A!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],A);const D=u(o,["systemInstruction"]);t!==void 0&&D!=null&&c(t,["setup","systemInstruction"],iA(dt(D)));const k=u(o,["tools"]);if(t!==void 0&&k!=null){let ne=di(k);Array.isArray(ne)&&(ne=ne.map(Y=>mA(fi(Y)))),c(t,["setup","tools"],ne)}const U=u(o,["sessionResumption"]);t!==void 0&&U!=null&&c(t,["setup","sessionResumption"],hA(U));const B=u(o,["inputAudioTranscription"]);t!==void 0&&B!=null&&c(t,["setup","inputAudioTranscription"],B);const X=u(o,["outputAudioTranscription"]);t!==void 0&&X!=null&&c(t,["setup","outputAudioTranscription"],X);const F=u(o,["realtimeInputConfig"]);t!==void 0&&F!=null&&c(t,["setup","realtimeInputConfig"],F);const $=u(o,["contextWindowCompression"]);t!==void 0&&$!=null&&c(t,["setup","contextWindowCompression"],$);const O=u(o,["proactivity"]);if(t!==void 0&&O!=null&&c(t,["setup","proactivity"],O),u(o,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return l}function dA(o,t){const l={},a=u(t,["model"]);a!=null&&c(l,["setup","model"],we(o,a));const r=u(t,["config"]);return r!=null&&c(l,["config"],fA(r,l)),l}function pA(o){const t={},l=u(o,["mediaResolution"]);l!=null&&c(t,["mediaResolution"],l);const a=u(o,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(o,["executableCode"]);r!=null&&c(t,["executableCode"],r);const f=u(o,["fileData"]);f!=null&&c(t,["fileData"],sA(f));const p=u(o,["functionCall"]);p!=null&&c(t,["functionCall"],rA(p));const g=u(o,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const y=u(o,["inlineData"]);y!=null&&c(t,["inlineData"],oA(y));const m=u(o,["text"]);m!=null&&c(t,["text"],m);const v=u(o,["thought"]);v!=null&&c(t,["thought"],v);const T=u(o,["thoughtSignature"]);T!=null&&c(t,["thoughtSignature"],T);const E=u(o,["videoMetadata"]);return E!=null&&c(t,["videoMetadata"],E),t}function hA(o){const t={},l=u(o,["handle"]);if(l!=null&&c(t,["handle"],l),u(o,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function mA(o){const t={};if(u(o,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=u(o,["computerUse"]);l!=null&&c(t,["computerUse"],l);const a=u(o,["fileSearch"]);a!=null&&c(t,["fileSearch"],a);const r=u(o,["codeExecution"]);if(r!=null&&c(t,["codeExecution"],r),u(o,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=u(o,["functionDeclarations"]);if(f!=null){let v=f;Array.isArray(v)&&(v=v.map(T=>T)),c(t,["functionDeclarations"],v)}const p=u(o,["googleMaps"]);p!=null&&c(t,["googleMaps"],uA(p));const g=u(o,["googleSearch"]);g!=null&&c(t,["googleSearch"],cA(g));const y=u(o,["googleSearchRetrieval"]);y!=null&&c(t,["googleSearchRetrieval"],y);const m=u(o,["urlContext"]);return m!=null&&c(t,["urlContext"],m),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function gA(o){const t=[];for(const l in o)if(Object.prototype.hasOwnProperty.call(o,l)){const a=o[l];if(typeof a=="object"&&a!=null&&Object.keys(a).length>0){const r=Object.keys(a).map(f=>`${l}.${f}`);t.push(...r)}else t.push(l)}return t.join(",")}function yA(o,t){let l=null;const a=o.bidiGenerateContentSetup;if(typeof a=="object"&&a!==null&&"setup"in a){const f=a.setup;typeof f=="object"&&f!==null?(o.bidiGenerateContentSetup=f,l=f):delete o.bidiGenerateContentSetup}else a!==void 0&&delete o.bidiGenerateContentSetup;const r=o.fieldMask;if(l){const f=gA(l);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)f?o.fieldMask=f:delete o.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const p=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let g=[];r.length>0&&(g=r.map(m=>p.includes(m)?`generationConfig.${m}`:m));const y=[];f&&y.push(f),g.length>0&&y.push(...g),y.length>0?o.fieldMask=y.join(","):delete o.fieldMask}else delete o.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?o.fieldMask=r.join(","):delete o.fieldMask;return o}class vA extends Cn{constructor(t){super(),this.apiClient=t}async create(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const g=aA(this.apiClient,t);f=Q("auth_tokens",g._url),p=g._query,delete g.config,delete g._url,delete g._query;const y=yA(g,t.config);return r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),r.then(m=>m)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function SA(o,t){const l={},a=u(o,["force"]);return t!==void 0&&a!=null&&c(t,["_query","force"],a),l}function TA(o){const t={},l=u(o,["name"]);l!=null&&c(t,["_url","name"],l);const a=u(o,["config"]);return a!=null&&SA(a,t),t}function EA(o){const t={},l=u(o,["name"]);return l!=null&&c(t,["_url","name"],l),t}function _A(o,t){const l={},a=u(o,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(o,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),l}function CA(o){const t={},l=u(o,["parent"]);l!=null&&c(t,["_url","parent"],l);const a=u(o,["config"]);return a!=null&&_A(a,t),t}function AA(o){const t={},l=u(o,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(o,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(o,["documents"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["documents"],f)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class xA extends Cn{constructor(t){super(),this.apiClient=t,this.list=async l=>new vo(_n.PAGED_ITEM_DOCUMENTS,a=>this.listInternal({parent:l.parent,config:a.config}),await this.listInternal(l),l)}async get(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=EA(t);return f=Q("{name}",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(t){var l,a;let r="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=TA(t);r=Q("{name}",p._url),f=p._query,delete p._url,delete p._query,await this.apiClient.request({path:r,queryParams:f,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=CA(t);return f=Q("{parent}/documents",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const m=AA(y),v=new oS;return Object.assign(v,m),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bA extends Cn{constructor(t,l=new xA(t)){super(),this.apiClient=t,this.documents=l,this.list=async(a={})=>new vo(_n.PAGED_ITEM_FILE_SEARCH_STORES,r=>this.listInternal(r),await this.listInternal(a),a)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=gC(t);return f=Q("fileSearchStores",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async get(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=SC(t);return f=Q("{name}",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(t){var l,a;let r="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=vC(t);r=Q("{name}",p._url),f=p._query,delete p._url,delete p._query,await this.apiClient.request({path:r,queryParams:f,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=xC(t);return f=Q("fileSearchStores",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const m=bC(y),v=new iS;return Object.assign(v,m),v})}}async uploadToFileSearchStoreInternal(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=NC(t);return f=Q("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const m=RC(y),v=new lS;return Object.assign(v,m),v})}}async importFile(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=_C(t);return f=Q("{file_search_store_name}:importFile",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const m=EC(y),v=new zu;return Object.assign(v,m),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Eg=function(){const{crypto:o}=globalThis;if(o!=null&&o.randomUUID)return Eg=o.randomUUID.bind(o),o.randomUUID();const t=new Uint8Array(1),l=o?()=>o.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,a=>(+a^l()&15>>+a/4).toString(16))};const NA=()=>Eg();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Du(o){return typeof o=="object"&&o!==null&&("name"in o&&o.name==="AbortError"||"message"in o&&String(o.message).includes("FetchRequestCanceledException"))}const Uu=o=>{if(o instanceof Error)return o;if(typeof o=="object"&&o!==null){try{if(Object.prototype.toString.call(o)==="[object Error]"){const t=new Error(o.message,o.cause?{cause:o.cause}:{});return o.stack&&(t.stack=o.stack),o.cause&&!t.cause&&(t.cause=o.cause),o.name&&(t.name=o.name),t}}catch{}try{return new Error(JSON.stringify(o))}catch{}}return new Error(o)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ot extends Error{}class mt extends Ot{constructor(t,l,a,r){super(`${mt.makeMessage(t,l,a)}`),this.status=t,this.headers=r,this.error=l}static makeMessage(t,l,a){const r=l!=null&&l.message?typeof l.message=="string"?l.message:JSON.stringify(l.message):l?JSON.stringify(l):a;return t&&r?`${t} ${r}`:t?`${t} status code (no body)`:r||"(no status code or body)"}static generate(t,l,a,r){if(!t||!r)return new Za({message:a,cause:Uu(l)});const f=l;return t===400?new Cg(t,f,a,r):t===401?new Ag(t,f,a,r):t===403?new xg(t,f,a,r):t===404?new bg(t,f,a,r):t===409?new Ng(t,f,a,r):t===422?new Rg(t,f,a,r):t===429?new wg(t,f,a,r):t>=500?new Mg(t,f,a,r):new mt(t,f,a,r)}}class Lu extends mt{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class Za extends mt{constructor({message:t,cause:l}){super(void 0,void 0,t||"Connection error.",void 0),l&&(this.cause=l)}}class _g extends Za{constructor({message:t}={}){super({message:t??"Request timed out."})}}class Cg extends mt{}class Ag extends mt{}class xg extends mt{}class bg extends mt{}class Ng extends mt{}class Rg extends mt{}class wg extends mt{}class Mg extends mt{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const RA=/^[a-z][a-z0-9+.-]*:/i,wA=o=>RA.test(o);let Hu=o=>(Hu=Array.isArray,Hu(o));const MA=Hu;let IA=MA;const Gm=IA;function DA(o){if(!o)return!0;for(const t in o)return!1;return!0}function UA(o,t){return Object.prototype.hasOwnProperty.call(o,t)}const LA=(o,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new Ot(`${o} must be an integer`);if(t<0)throw new Ot(`${o} must be a positive integer`);return t},HA=o=>{try{return JSON.parse(o)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const kA=o=>new Promise(t=>setTimeout(t,o));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ai="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function GA(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const VA=()=>{var o,t,l,a,r;const f=GA();if(f==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ai,"X-Stainless-OS":qm(Deno.build.os),"X-Stainless-Arch":Vm(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(t=(o=Deno.version)===null||o===void 0?void 0:o.deno)!==null&&t!==void 0?t:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ai,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(f==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ai,"X-Stainless-OS":qm((l=globalThis.process.platform)!==null&&l!==void 0?l:"unknown"),"X-Stainless-Arch":Vm((a=globalThis.process.arch)!==null&&a!==void 0?a:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(r=globalThis.process.version)!==null&&r!==void 0?r:"unknown"};const p=qA();return p?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ai,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${p.browser}`,"X-Stainless-Runtime-Version":p.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ai,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function qA(){if(typeof navigator>"u"||!navigator)return null;const o=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:l}of o){const a=l.exec(navigator.userAgent);if(a){const r=a[1]||0,f=a[2]||0,p=a[3]||0;return{browser:t,version:`${r}.${f}.${p}`}}}return null}const Vm=o=>o==="x32"?"x32":o==="x86_64"||o==="x64"?"x64":o==="arm"?"arm":o==="aarch64"||o==="arm64"?"arm64":o?`other:${o}`:"unknown",qm=o=>(o=o.toLowerCase(),o.includes("ios")?"iOS":o==="android"?"Android":o==="darwin"?"MacOS":o==="win32"?"Windows":o==="freebsd"?"FreeBSD":o==="openbsd"?"OpenBSD":o==="linux"?"Linux":o?`Other:${o}`:"Unknown");let La;const zA=()=>La??(La=VA());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function BA(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function Ig(...o){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...o)}function PA(o){let t=Symbol.asyncIterator in o?o[Symbol.asyncIterator]():o[Symbol.iterator]();return Ig({start(){},async pull(l){const{done:a,value:r}=await t.next();a?l.close():l.enqueue(r)},async cancel(){var l;await((l=t.return)===null||l===void 0?void 0:l.call(t))}})}function Dg(o){if(o[Symbol.asyncIterator])return o;const t=o.getReader();return{async next(){try{const l=await t.read();return l!=null&&l.done&&t.releaseLock(),l}catch(l){throw t.releaseLock(),l}},async return(){const l=t.cancel();return t.releaseLock(),await l,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function OA(o){var t,l;if(o===null||typeof o!="object")return;if(o[Symbol.asyncIterator]){await((l=(t=o[Symbol.asyncIterator]()).return)===null||l===void 0?void 0:l.call(t));return}const a=o.getReader(),r=a.cancel();a.releaseLock(),await r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const FA=({headers:o,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ug=()=>{var o;if(typeof File>"u"){const{process:t}=globalThis,l=typeof((o=t==null?void 0:t.versions)===null||o===void 0?void 0:o.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(l?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Eu(o,t,l){return Ug(),new File(o,t??"unknown_file",l)}function JA(o){return(typeof o=="object"&&o!==null&&("name"in o&&o.name&&String(o.name)||"url"in o&&o.url&&String(o.url)||"filename"in o&&o.filename&&String(o.filename)||"path"in o&&o.path&&String(o.path))||"").split(/[\\/]/).pop()||void 0}const YA=o=>o!=null&&typeof o=="object"&&typeof o[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Lg=o=>o!=null&&typeof o=="object"&&typeof o.size=="number"&&typeof o.type=="string"&&typeof o.text=="function"&&typeof o.slice=="function"&&typeof o.arrayBuffer=="function",WA=o=>o!=null&&typeof o=="object"&&typeof o.name=="string"&&typeof o.lastModified=="number"&&Lg(o),KA=o=>o!=null&&typeof o=="object"&&typeof o.url=="string"&&typeof o.blob=="function";async function XA(o,t,l){if(Ug(),o=await o,WA(o))return o instanceof File?o:Eu([await o.arrayBuffer()],o.name);if(KA(o)){const r=await o.blob();return t||(t=new URL(o.url).pathname.split(/[\\/]/).pop()),Eu(await ku(r),t,l)}const a=await ku(o);if(t||(t=JA(o)),!(l!=null&&l.type)){const r=a.find(f=>typeof f=="object"&&"type"in f&&f.type);typeof r=="string"&&(l=Object.assign(Object.assign({},l),{type:r}))}return Eu(a,t,l)}async function ku(o){var t,l,a,r,f;let p=[];if(typeof o=="string"||ArrayBuffer.isView(o)||o instanceof ArrayBuffer)p.push(o);else if(Lg(o))p.push(o instanceof Blob?o:await o.arrayBuffer());else if(YA(o))try{for(var g=!0,y=Kt(o),m;m=await y.next(),t=m.done,!t;g=!0){r=m.value,g=!1;const v=r;p.push(...await ku(v))}}catch(v){l={error:v}}finally{try{!g&&!t&&(a=y.return)&&await a.call(y)}finally{if(l)throw l.error}}else{const v=(f=o==null?void 0:o.constructor)===null||f===void 0?void 0:f.name;throw new Error(`Unexpected data type: ${typeof o}${v?`; constructor: ${v}`:""}${QA(o)}`)}return p}function QA(o){return typeof o!="object"||o===null?"":`; props: [${Object.getOwnPropertyNames(o).map(l=>`"${l}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Hg{constructor(t){this._client=t}}Hg._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kg(o){return o.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const zm=Object.freeze(Object.create(null)),ZA=(o=kg)=>(function(l,...a){if(l.length===1)return l[0];let r=!1;const f=[],p=l.reduce((v,T,E)=>{var A,D,k;/[?#]/.test(T)&&(r=!0);const U=a[E];let B=(r?encodeURIComponent:o)(""+U);return E!==a.length&&(U==null||typeof U=="object"&&U.toString===((k=Object.getPrototypeOf((D=Object.getPrototypeOf((A=U.hasOwnProperty)!==null&&A!==void 0?A:zm))!==null&&D!==void 0?D:zm))===null||k===void 0?void 0:k.toString))&&(B=U+"",f.push({start:v.length+T.length,length:B.length,error:`Value of type ${Object.prototype.toString.call(U).slice(8,-1)} is not a valid path parameter`})),v+T+(E===a.length?"":B)},""),g=p.split(/[?#]/,1)[0],y=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let m;for(;(m=y.exec(g))!==null;)f.push({start:m.index,length:m[0].length,error:`Value "${m[0]}" can't be safely passed as a path parameter`});if(f.sort((v,T)=>v.start-T.start),f.length>0){let v=0;const T=f.reduce((E,A)=>{const D=" ".repeat(A.start-v),k="^".repeat(A.length);return v=A.start+A.length,E+D+k},"");throw new Ot(`Path parameters result in path with invalid segments:
${f.map(E=>E.error).join(`
`)}
${p}
${T}`)}return p}),Ha=ZA(kg);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Gg extends Hg{create(t,l){var a;const{api_version:r=this._client.apiVersion}=t,f=Fa(t,["api_version"]);if("model"in f&&"agent_config"in f)throw new Ot("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in f&&"generation_config"in f)throw new Ot("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Ha`/${r}/interactions`,Object.assign(Object.assign({body:f},l),{stream:(a=t.stream)!==null&&a!==void 0?a:!1}))}delete(t,l={},a){const{api_version:r=this._client.apiVersion}=l??{};return this._client.delete(Ha`/${r}/interactions/${t}`,a)}cancel(t,l={},a){const{api_version:r=this._client.apiVersion}=l??{};return this._client.post(Ha`/${r}/interactions/${t}/cancel`,a)}get(t,l={},a){var r;const f=l??{},{api_version:p=this._client.apiVersion}=f,g=Fa(f,["api_version"]);return this._client.get(Ha`/${p}/interactions/${t}`,Object.assign(Object.assign({query:g},a),{stream:(r=l==null?void 0:l.stream)!==null&&r!==void 0?r:!1}))}}Gg._key=Object.freeze(["interactions"]);class Vg extends Gg{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $A(o){let t=0;for(const r of o)t+=r.length;const l=new Uint8Array(t);let a=0;for(const r of o)l.set(r,a),a+=r.length;return l}let ka;function Wu(o){let t;return(ka??(t=new globalThis.TextEncoder,ka=t.encode.bind(t)))(o)}let Ga;function Bm(o){let t;return(Ga??(t=new globalThis.TextDecoder,Ga=t.decode.bind(t)))(o)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $a{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(t){if(t==null)return[];const l=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?Wu(t):t;this.buffer=$A([this.buffer,l]);const a=[];let r;for(;(r=jA(this.buffer,this.carriageReturnIndex))!=null;){if(r.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=r.index;continue}if(this.carriageReturnIndex!=null&&(r.index!==this.carriageReturnIndex+1||r.carriage)){a.push(Bm(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const f=this.carriageReturnIndex!==null?r.preceding-1:r.preceding,p=Bm(this.buffer.subarray(0,f));a.push(p),this.buffer=this.buffer.subarray(r.index),this.carriageReturnIndex=null}return a}flush(){return this.buffer.length?this.decode(`
`):[]}}$a.NEWLINE_CHARS=new Set([`
`,"\r"]);$a.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function jA(o,t){for(let r=t??0;r<o.length;r++){if(o[r]===10)return{preceding:r,index:r+1,carriage:!1};if(o[r]===13)return{preceding:r,index:r+1,carriage:!0}}return null}function ex(o){for(let a=0;a<o.length-1;a++){if(o[a]===10&&o[a+1]===10||o[a]===13&&o[a+1]===13)return a+2;if(o[a]===13&&o[a+1]===10&&a+3<o.length&&o[a+2]===13&&o[a+3]===10)return a+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ja={off:0,error:200,warn:300,info:400,debug:500},Pm=(o,t,l)=>{if(o){if(UA(Ja,o))return o;ht(l).warn(`${t} was set to ${JSON.stringify(o)}, expected one of ${JSON.stringify(Object.keys(Ja))}`)}};function pl(){}function Va(o,t,l){return!t||Ja[o]>Ja[l]?pl:t[o].bind(t)}const tx={error:pl,warn:pl,info:pl,debug:pl};let Om=new WeakMap;function ht(o){var t;const l=o.logger,a=(t=o.logLevel)!==null&&t!==void 0?t:"off";if(!l)return tx;const r=Om.get(l);if(r&&r[0]===a)return r[1];const f={error:Va("error",l,a),warn:Va("warn",l,a),info:Va("info",l,a),debug:Va("debug",l,a)};return Om.set(l,[a,f]),f}const yo=o=>(o.options&&(o.options=Object.assign({},o.options),delete o.options.headers),o.headers&&(o.headers=Object.fromEntries((o.headers instanceof Headers?[...o.headers]:Object.entries(o.headers)).map(([t,l])=>[t,t.toLowerCase()==="x-goog-api-key"||t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":l]))),"retryOfRequestLogID"in o&&(o.retryOfRequestLogID&&(o.retryOf=o.retryOfRequestLogID),delete o.retryOfRequestLogID),o);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ri{constructor(t,l,a){this.iterator=t,this.controller=l,this.client=a}static fromSSEResponse(t,l,a){let r=!1;const f=a?ht(a):console;function p(){return Wt(this,arguments,function*(){var y,m,v,T;if(r)throw new Ot("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let E=!1;try{try{for(var A=!0,D=Kt(nx(t,l)),k;k=yield ue(D.next()),y=k.done,!y;A=!0){T=k.value,A=!1;const U=T;if(!E)if(U.data.startsWith("[DONE]")){E=!0;continue}else try{yield yield ue(JSON.parse(U.data))}catch(B){throw f.error("Could not parse message into JSON:",U.data),f.error("From chunk:",U.raw),B}}}catch(U){m={error:U}}finally{try{!A&&!y&&(v=D.return)&&(yield ue(v.call(D)))}finally{if(m)throw m.error}}E=!0}catch(U){if(Du(U))return yield ue(void 0);throw U}finally{E||l.abort()}})}return new ri(p,l,a)}static fromReadableStream(t,l,a){let r=!1;function f(){return Wt(this,arguments,function*(){var y,m,v,T;const E=new $a,A=Dg(t);try{for(var D=!0,k=Kt(A),U;U=yield ue(k.next()),y=U.done,!y;D=!0){T=U.value,D=!1;const B=T;for(const X of E.decode(B))yield yield ue(X)}}catch(B){m={error:B}}finally{try{!D&&!y&&(v=k.return)&&(yield ue(v.call(k)))}finally{if(m)throw m.error}}for(const B of E.flush())yield yield ue(B)})}function p(){return Wt(this,arguments,function*(){var y,m,v,T;if(r)throw new Ot("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let E=!1;try{try{for(var A=!0,D=Kt(f()),k;k=yield ue(D.next()),y=k.done,!y;A=!0){T=k.value,A=!1;const U=T;E||U&&(yield yield ue(JSON.parse(U)))}}catch(U){m={error:U}}finally{try{!A&&!y&&(v=D.return)&&(yield ue(v.call(D)))}finally{if(m)throw m.error}}E=!0}catch(U){if(Du(U))return yield ue(void 0);throw U}finally{E||l.abort()}})}return new ri(p,l,a)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],l=[],a=this.iterator(),r=f=>({next:()=>{if(f.length===0){const p=a.next();t.push(p),l.push(p)}return f.shift()}});return[new ri(()=>r(t),this.controller,this.client),new ri(()=>r(l),this.controller,this.client)]}toReadableStream(){const t=this;let l;return Ig({async start(){l=t[Symbol.asyncIterator]()},async pull(a){try{const{value:r,done:f}=await l.next();if(f)return a.close();const p=Wu(JSON.stringify(r)+`
`);a.enqueue(p)}catch(r){a.error(r)}},async cancel(){var a;await((a=l.return)===null||a===void 0?void 0:a.call(l))}})}}function nx(o,t){return Wt(this,arguments,function*(){var a,r,f,p;if(!o.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Ot("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Ot("Attempted to iterate over a response with no body");const g=new ix,y=new $a,m=Dg(o.body);try{for(var v=!0,T=Kt(ox(m)),E;E=yield ue(T.next()),a=E.done,!a;v=!0){p=E.value,v=!1;const A=p;for(const D of y.decode(A)){const k=g.decode(D);k&&(yield yield ue(k))}}}catch(A){r={error:A}}finally{try{!v&&!a&&(f=T.return)&&(yield ue(f.call(T)))}finally{if(r)throw r.error}}for(const A of y.flush()){const D=g.decode(A);D&&(yield yield ue(D))}})}function ox(o){return Wt(this,arguments,function*(){var l,a,r,f;let p=new Uint8Array;try{for(var g=!0,y=Kt(o),m;m=yield ue(y.next()),l=m.done,!l;g=!0){f=m.value,g=!1;const v=f;if(v==null)continue;const T=v instanceof ArrayBuffer?new Uint8Array(v):typeof v=="string"?Wu(v):v;let E=new Uint8Array(p.length+T.length);E.set(p),E.set(T,p.length),p=E;let A;for(;(A=ex(p))!==-1;)yield yield ue(p.slice(0,A)),p=p.slice(A)}}catch(v){a={error:v}}finally{try{!g&&!l&&(r=y.return)&&(yield ue(r.call(y)))}finally{if(a)throw a.error}}p.length>0&&(yield yield ue(p))})}class ix{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const f={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],f}if(this.chunks.push(t),t.startsWith(":"))return null;let[l,a,r]=lx(t,":");return r.startsWith(" ")&&(r=r.substring(1)),l==="event"?this.event=r:l==="data"&&this.data.push(r),null}}function lx(o,t){const l=o.indexOf(t);return l!==-1?[o.substring(0,l),t,o.substring(l+t.length)]:[o,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function ax(o,t){const{response:l,requestLogID:a,retryOfRequestLogID:r,startTime:f}=t,p=await(async()=>{var g;if(t.options.stream)return ht(o).debug("response",l.status,l.url,l.headers,l.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(l,t.controller,o):ri.fromSSEResponse(l,t.controller,o);if(l.status===204)return null;if(t.options.__binaryResponse)return l;const y=l.headers.get("content-type"),m=(g=y==null?void 0:y.split(";")[0])===null||g===void 0?void 0:g.trim();return(m==null?void 0:m.includes("application/json"))||(m==null?void 0:m.endsWith("+json"))?await l.json():await l.text()})();return ht(o).debug(`[${a}] response parsed`,yo({retryOfRequestLogID:r,url:l.url,status:l.status,body:p,durationMs:Date.now()-f})),p}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ku extends Promise{constructor(t,l,a=ax){super(r=>{r(null)}),this.responsePromise=l,this.parseResponse=a,this.client=t}_thenUnwrap(t){return new Ku(this.client,this.responsePromise,async(l,a)=>t(await this.parseResponse(l,a),a))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,l]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:l}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(this.client,t))),this.parsedPromise}then(t,l){return this.parse().then(t,l)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const qg=Symbol("brand.privateNullableHeaders");function*sx(o){if(!o)return;if(qg in o){const{values:a,nulls:r}=o;yield*a.entries();for(const f of r)yield[f,null];return}let t=!1,l;o instanceof Headers?l=o.entries():Gm(o)?l=o:(t=!0,l=Object.entries(o??{}));for(let a of l){const r=a[0];if(typeof r!="string")throw new TypeError("expected header name to be a string");const f=Gm(a[1])?a[1]:[a[1]];let p=!1;for(const g of f)g!==void 0&&(t&&!p&&(p=!0,yield[r,null]),yield[r,g])}}const dl=o=>{const t=new Headers,l=new Set;for(const a of o){const r=new Set;for(const[f,p]of sx(a)){const g=f.toLowerCase();r.has(g)||(t.delete(f),r.add(g)),p===null?(t.delete(f),l.add(g)):(t.append(f,p),l.delete(g))}}return{[qg]:!0,values:t,nulls:l}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const _u=o=>{var t,l,a,r,f,p;if(typeof globalThis.process<"u")return(a=(l=(t=Dv)===null||t===void 0?void 0:t[o])===null||l===void 0?void 0:l.trim())!==null&&a!==void 0?a:void 0;if(typeof globalThis.Deno<"u")return(p=(f=(r=globalThis.Deno.env)===null||r===void 0?void 0:r.get)===null||f===void 0?void 0:f.call(r,o))===null||p===void 0?void 0:p.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var zg;class ja{constructor(t){var l,a,r,f,p,g,y,{baseURL:m=_u("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:v=(l=_u("GEMINI_API_KEY"))!==null&&l!==void 0?l:null,apiVersion:T="v1beta"}=t,E=Fa(t,["baseURL","apiKey","apiVersion"]);const A=Object.assign(Object.assign({apiKey:v,apiVersion:T},E),{baseURL:m||"https://generativelanguage.googleapis.com"});this.baseURL=A.baseURL,this.timeout=(a=A.timeout)!==null&&a!==void 0?a:ja.DEFAULT_TIMEOUT,this.logger=(r=A.logger)!==null&&r!==void 0?r:console;const D="warn";this.logLevel=D,this.logLevel=(p=(f=Pm(A.logLevel,"ClientOptions.logLevel",this))!==null&&f!==void 0?f:Pm(_u("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&p!==void 0?p:D,this.fetchOptions=A.fetchOptions,this.maxRetries=(g=A.maxRetries)!==null&&g!==void 0?g:2,this.fetch=(y=A.fetch)!==null&&y!==void 0?y:BA(),this.encoder=FA,this._options=A,this.apiKey=v,this.apiVersion=T,this.clientAdapter=A.clientAdapter}withOptions(t){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),t))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:l}){if(!(t.has("authorization")||t.has("x-goog-api-key"))&&!(this.apiKey&&t.get("x-goog-api-key"))&&!l.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(t){const l=dl([t.headers]);if(!(l.values.has("authorization")||l.values.has("x-goog-api-key"))){if(this.apiKey)return dl([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return dl([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(t){return Object.entries(t).filter(([l,a])=>typeof a<"u").map(([l,a])=>{if(typeof a=="string"||typeof a=="number"||typeof a=="boolean")return`${encodeURIComponent(l)}=${encodeURIComponent(a)}`;if(a===null)return`${encodeURIComponent(l)}=`;throw new Ot(`Cannot stringify type ${typeof a}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${ai}`}defaultIdempotencyKey(){return`stainless-node-retry-${NA()}`}makeStatusError(t,l,a,r){return mt.generate(t,l,a,r)}buildURL(t,l,a){const r=!this.baseURLOverridden()&&a||this.baseURL,f=wA(t)?new URL(t):new URL(r+(r.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),p=this.defaultQuery();return DA(p)||(l=Object.assign(Object.assign({},p),l)),typeof l=="object"&&l&&!Array.isArray(l)&&(f.search=this.stringifyQuery(l)),f.toString()}async prepareOptions(t){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!t.path.startsWith(`/${this.apiVersion}/projects/`)){const l=t.path.slice(this.apiVersion.length+1);t.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${l}`}}async prepareRequest(t,{url:l,options:a}){}get(t,l){return this.methodRequest("get",t,l)}post(t,l){return this.methodRequest("post",t,l)}patch(t,l){return this.methodRequest("patch",t,l)}put(t,l){return this.methodRequest("put",t,l)}delete(t,l){return this.methodRequest("delete",t,l)}methodRequest(t,l,a){return this.request(Promise.resolve(a).then(r=>Object.assign({method:t,path:l},r)))}request(t,l=null){return new Ku(this,this.makeRequest(t,l,void 0))}async makeRequest(t,l,a){var r,f,p;const g=await t,y=(r=g.maxRetries)!==null&&r!==void 0?r:this.maxRetries;l==null&&(l=y),await this.prepareOptions(g);const{req:m,url:v,timeout:T}=await this.buildRequest(g,{retryCount:y-l});await this.prepareRequest(m,{url:v,options:g});const E="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),A=a===void 0?"":`, retryOf: ${a}`,D=Date.now();if(ht(this).debug(`[${E}] sending request`,yo({retryOfRequestLogID:a,method:g.method,url:v,options:g,headers:m.headers})),!((f=g.signal)===null||f===void 0)&&f.aborted)throw new Lu;const k=new AbortController,U=await this.fetchWithTimeout(v,m,T,k).catch(Uu),B=Date.now();if(U instanceof globalThis.Error){const F=`retrying, ${l} attempts remaining`;if(!((p=g.signal)===null||p===void 0)&&p.aborted)throw new Lu;const $=Du(U)||/timed? ?out/i.test(String(U)+("cause"in U?String(U.cause):""));if(l)return ht(this).info(`[${E}] connection ${$?"timed out":"failed"} - ${F}`),ht(this).debug(`[${E}] connection ${$?"timed out":"failed"} (${F})`,yo({retryOfRequestLogID:a,url:v,durationMs:B-D,message:U.message})),this.retryRequest(g,l,a??E);throw ht(this).info(`[${E}] connection ${$?"timed out":"failed"} - error; no more retries left`),ht(this).debug(`[${E}] connection ${$?"timed out":"failed"} (error; no more retries left)`,yo({retryOfRequestLogID:a,url:v,durationMs:B-D,message:U.message})),$?new _g:new Za({cause:U})}const X=`[${E}${A}] ${m.method} ${v} ${U.ok?"succeeded":"failed"} with status ${U.status} in ${B-D}ms`;if(!U.ok){const F=await this.shouldRetry(U);if(l&&F){const Z=`retrying, ${l} attempts remaining`;return await OA(U.body),ht(this).info(`${X} - ${Z}`),ht(this).debug(`[${E}] response error (${Z})`,yo({retryOfRequestLogID:a,url:U.url,status:U.status,headers:U.headers,durationMs:B-D})),this.retryRequest(g,l,a??E,U.headers)}const $=F?"error; no more retries left":"error; not retryable";ht(this).info(`${X} - ${$}`);const O=await U.text().catch(Z=>Uu(Z).message),ne=HA(O),Y=ne?void 0:O;throw ht(this).debug(`[${E}] response error (${$})`,yo({retryOfRequestLogID:a,url:U.url,status:U.status,headers:U.headers,message:Y,durationMs:Date.now()-D})),this.makeStatusError(U.status,ne,Y,U.headers)}return ht(this).info(X),ht(this).debug(`[${E}] response start`,yo({retryOfRequestLogID:a,url:U.url,status:U.status,headers:U.headers,durationMs:B-D})),{response:U,options:g,controller:k,requestLogID:E,retryOfRequestLogID:a,startTime:D}}async fetchWithTimeout(t,l,a,r){const f=l||{},{signal:p,method:g}=f,y=Fa(f,["signal","method"]);p&&p.addEventListener("abort",()=>r.abort());const m=setTimeout(()=>r.abort(),a),v=globalThis.ReadableStream&&y.body instanceof globalThis.ReadableStream||typeof y.body=="object"&&y.body!==null&&Symbol.asyncIterator in y.body,T=Object.assign(Object.assign(Object.assign({signal:r.signal},v?{duplex:"half"}:{}),{method:"GET"}),y);g&&(T.method=g.toUpperCase());try{return await this.fetch.call(void 0,t,T)}finally{clearTimeout(m)}}async shouldRetry(t){const l=t.headers.get("x-should-retry");return l==="true"?!0:l==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,l,a,r){var f;let p;const g=r==null?void 0:r.get("retry-after-ms");if(g){const m=parseFloat(g);Number.isNaN(m)||(p=m)}const y=r==null?void 0:r.get("retry-after");if(y&&!p){const m=parseFloat(y);Number.isNaN(m)?p=Date.parse(y)-Date.now():p=m*1e3}if(!(p&&0<=p&&p<60*1e3)){const m=(f=t.maxRetries)!==null&&f!==void 0?f:this.maxRetries;p=this.calculateDefaultRetryTimeoutMillis(l,m)}return await kA(p),this.makeRequest(t,l-1,a)}calculateDefaultRetryTimeoutMillis(t,l){const f=l-t,p=Math.min(.5*Math.pow(2,f),8),g=1-Math.random()*.25;return p*g*1e3}async buildRequest(t,{retryCount:l=0}={}){var a,r,f;const p=Object.assign({},t),{method:g,path:y,query:m,defaultBaseURL:v}=p,T=this.buildURL(y,m,v);"timeout"in p&&LA("timeout",p.timeout),p.timeout=(a=p.timeout)!==null&&a!==void 0?a:this.timeout;const{bodyHeaders:E,body:A}=this.buildBody({options:p}),D=await this.buildHeaders({options:t,method:g,bodyHeaders:E,retryCount:l});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:g,headers:D},p.signal&&{signal:p.signal}),globalThis.ReadableStream&&A instanceof globalThis.ReadableStream&&{duplex:"half"}),A&&{body:A}),(r=this.fetchOptions)!==null&&r!==void 0?r:{}),(f=p.fetchOptions)!==null&&f!==void 0?f:{}),url:T,timeout:p.timeout}}async buildHeaders({options:t,method:l,bodyHeaders:a,retryCount:r}){let f={};this.idempotencyHeader&&l!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),f[this.idempotencyHeader]=t.idempotencyKey);const p=await this.authHeaders(t);let g=dl([f,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(r)},t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{}),zA()),this._options.defaultHeaders,a,t.headers,p]);return this.validateHeaders(g),g.values}buildBody({options:{body:t,headers:l}}){if(!t)return{bodyHeaders:void 0,body:void 0};const a=dl([l]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&a.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:PA(t)}:this.encoder({body:t,headers:a})}}ja.DEFAULT_TIMEOUT=6e4;class it extends ja{constructor(){super(...arguments),this.interactions=new Vg(this)}}zg=it;it.GeminiNextGenAPIClient=zg;it.GeminiNextGenAPIClientError=Ot;it.APIError=mt;it.APIConnectionError=Za;it.APIConnectionTimeoutError=_g;it.APIUserAbortError=Lu;it.NotFoundError=bg;it.ConflictError=Ng;it.RateLimitError=wg;it.BadRequestError=Cg;it.AuthenticationError=Ag;it.InternalServerError=Mg;it.PermissionDeniedError=xg;it.UnprocessableEntityError=Rg;it.toFile=XA;it.Interactions=Vg;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function rx(o,t){const l={},a=u(o,["name"]);return a!=null&&c(l,["_url","name"],a),l}function ux(o,t){const l={},a=u(o,["name"]);return a!=null&&c(l,["_url","name"],a),l}function cx(o,t){const l={},a=u(o,["sdkHttpResponse"]);return a!=null&&c(l,["sdkHttpResponse"],a),l}function fx(o,t){const l={},a=u(o,["sdkHttpResponse"]);return a!=null&&c(l,["sdkHttpResponse"],a),l}function dx(o,t,l){const a={};if(u(o,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=u(o,["tunedModelDisplayName"]);if(t!==void 0&&r!=null&&c(t,["displayName"],r),u(o,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const f=u(o,["epochCount"]);t!==void 0&&f!=null&&c(t,["tuningTask","hyperparameters","epochCount"],f);const p=u(o,["learningRateMultiplier"]);if(p!=null&&c(a,["tuningTask","hyperparameters","learningRateMultiplier"],p),u(o,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(u(o,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(u(o,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const g=u(o,["batchSize"]);t!==void 0&&g!=null&&c(t,["tuningTask","hyperparameters","batchSize"],g);const y=u(o,["learningRate"]);if(t!==void 0&&y!=null&&c(t,["tuningTask","hyperparameters","learningRate"],y),u(o,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(u(o,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return a}function px(o,t,l){const a={};let r=u(l,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const A=u(o,["validationDataset"]);t!==void 0&&A!=null&&c(t,["supervisedTuningSpec"],Fm(A))}else if(r==="PREFERENCE_TUNING"){const A=u(o,["validationDataset"]);t!==void 0&&A!=null&&c(t,["preferenceOptimizationSpec"],Fm(A))}const f=u(o,["tunedModelDisplayName"]);t!==void 0&&f!=null&&c(t,["tunedModelDisplayName"],f);const p=u(o,["description"]);t!==void 0&&p!=null&&c(t,["description"],p);let g=u(l,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const A=u(o,["epochCount"]);t!==void 0&&A!=null&&c(t,["supervisedTuningSpec","hyperParameters","epochCount"],A)}else if(g==="PREFERENCE_TUNING"){const A=u(o,["epochCount"]);t!==void 0&&A!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],A)}let y=u(l,["config","method"]);if(y===void 0&&(y="SUPERVISED_FINE_TUNING"),y==="SUPERVISED_FINE_TUNING"){const A=u(o,["learningRateMultiplier"]);t!==void 0&&A!=null&&c(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],A)}else if(y==="PREFERENCE_TUNING"){const A=u(o,["learningRateMultiplier"]);t!==void 0&&A!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],A)}let m=u(l,["config","method"]);if(m===void 0&&(m="SUPERVISED_FINE_TUNING"),m==="SUPERVISED_FINE_TUNING"){const A=u(o,["exportLastCheckpointOnly"]);t!==void 0&&A!=null&&c(t,["supervisedTuningSpec","exportLastCheckpointOnly"],A)}else if(m==="PREFERENCE_TUNING"){const A=u(o,["exportLastCheckpointOnly"]);t!==void 0&&A!=null&&c(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],A)}let v=u(l,["config","method"]);if(v===void 0&&(v="SUPERVISED_FINE_TUNING"),v==="SUPERVISED_FINE_TUNING"){const A=u(o,["adapterSize"]);t!==void 0&&A!=null&&c(t,["supervisedTuningSpec","hyperParameters","adapterSize"],A)}else if(v==="PREFERENCE_TUNING"){const A=u(o,["adapterSize"]);t!==void 0&&A!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],A)}if(u(o,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(u(o,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const T=u(o,["labels"]);t!==void 0&&T!=null&&c(t,["labels"],T);const E=u(o,["beta"]);return t!==void 0&&E!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","beta"],E),a}function hx(o,t){const l={},a=u(o,["baseModel"]);a!=null&&c(l,["baseModel"],a);const r=u(o,["preTunedModel"]);r!=null&&c(l,["preTunedModel"],r);const f=u(o,["trainingDataset"]);f!=null&&xx(f);const p=u(o,["config"]);return p!=null&&dx(p,l),l}function mx(o,t){const l={},a=u(o,["baseModel"]);a!=null&&c(l,["baseModel"],a);const r=u(o,["preTunedModel"]);r!=null&&c(l,["preTunedModel"],r);const f=u(o,["trainingDataset"]);f!=null&&bx(f,l,t);const p=u(o,["config"]);return p!=null&&px(p,l,t),l}function gx(o,t){const l={},a=u(o,["name"]);return a!=null&&c(l,["_url","name"],a),l}function yx(o,t){const l={},a=u(o,["name"]);return a!=null&&c(l,["_url","name"],a),l}function vx(o,t,l){const a={},r=u(o,["pageSize"]);t!==void 0&&r!=null&&c(t,["_query","pageSize"],r);const f=u(o,["pageToken"]);t!==void 0&&f!=null&&c(t,["_query","pageToken"],f);const p=u(o,["filter"]);return t!==void 0&&p!=null&&c(t,["_query","filter"],p),a}function Sx(o,t,l){const a={},r=u(o,["pageSize"]);t!==void 0&&r!=null&&c(t,["_query","pageSize"],r);const f=u(o,["pageToken"]);t!==void 0&&f!=null&&c(t,["_query","pageToken"],f);const p=u(o,["filter"]);return t!==void 0&&p!=null&&c(t,["_query","filter"],p),a}function Tx(o,t){const l={},a=u(o,["config"]);return a!=null&&vx(a,l),l}function Ex(o,t){const l={},a=u(o,["config"]);return a!=null&&Sx(a,l),l}function _x(o,t){const l={},a=u(o,["sdkHttpResponse"]);a!=null&&c(l,["sdkHttpResponse"],a);const r=u(o,["nextPageToken"]);r!=null&&c(l,["nextPageToken"],r);const f=u(o,["tunedModels"]);if(f!=null){let p=f;Array.isArray(p)&&(p=p.map(g=>Bg(g))),c(l,["tuningJobs"],p)}return l}function Cx(o,t){const l={},a=u(o,["sdkHttpResponse"]);a!=null&&c(l,["sdkHttpResponse"],a);const r=u(o,["nextPageToken"]);r!=null&&c(l,["nextPageToken"],r);const f=u(o,["tuningJobs"]);if(f!=null){let p=f;Array.isArray(p)&&(p=p.map(g=>Gu(g))),c(l,["tuningJobs"],p)}return l}function Ax(o,t){const l={},a=u(o,["name"]);a!=null&&c(l,["model"],a);const r=u(o,["name"]);return r!=null&&c(l,["endpoint"],r),l}function xx(o,t){const l={};if(u(o,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(o,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const a=u(o,["examples"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(f=>f)),c(l,["examples","examples"],r)}return l}function bx(o,t,l){const a={};let r=u(l,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const p=u(o,["gcsUri"]);t!==void 0&&p!=null&&c(t,["supervisedTuningSpec","trainingDatasetUri"],p)}else if(r==="PREFERENCE_TUNING"){const p=u(o,["gcsUri"]);t!==void 0&&p!=null&&c(t,["preferenceOptimizationSpec","trainingDatasetUri"],p)}let f=u(l,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const p=u(o,["vertexDatasetResource"]);t!==void 0&&p!=null&&c(t,["supervisedTuningSpec","trainingDatasetUri"],p)}else if(f==="PREFERENCE_TUNING"){const p=u(o,["vertexDatasetResource"]);t!==void 0&&p!=null&&c(t,["preferenceOptimizationSpec","trainingDatasetUri"],p)}if(u(o,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return a}function Bg(o,t){const l={},a=u(o,["sdkHttpResponse"]);a!=null&&c(l,["sdkHttpResponse"],a);const r=u(o,["name"]);r!=null&&c(l,["name"],r);const f=u(o,["state"]);f!=null&&c(l,["state"],og(f));const p=u(o,["createTime"]);p!=null&&c(l,["createTime"],p);const g=u(o,["tuningTask","startTime"]);g!=null&&c(l,["startTime"],g);const y=u(o,["tuningTask","completeTime"]);y!=null&&c(l,["endTime"],y);const m=u(o,["updateTime"]);m!=null&&c(l,["updateTime"],m);const v=u(o,["description"]);v!=null&&c(l,["description"],v);const T=u(o,["baseModel"]);T!=null&&c(l,["baseModel"],T);const E=u(o,["_self"]);return E!=null&&c(l,["tunedModel"],Ax(E)),l}function Gu(o,t){const l={},a=u(o,["sdkHttpResponse"]);a!=null&&c(l,["sdkHttpResponse"],a);const r=u(o,["name"]);r!=null&&c(l,["name"],r);const f=u(o,["state"]);f!=null&&c(l,["state"],og(f));const p=u(o,["createTime"]);p!=null&&c(l,["createTime"],p);const g=u(o,["startTime"]);g!=null&&c(l,["startTime"],g);const y=u(o,["endTime"]);y!=null&&c(l,["endTime"],y);const m=u(o,["updateTime"]);m!=null&&c(l,["updateTime"],m);const v=u(o,["error"]);v!=null&&c(l,["error"],v);const T=u(o,["description"]);T!=null&&c(l,["description"],T);const E=u(o,["baseModel"]);E!=null&&c(l,["baseModel"],E);const A=u(o,["tunedModel"]);A!=null&&c(l,["tunedModel"],A);const D=u(o,["preTunedModel"]);D!=null&&c(l,["preTunedModel"],D);const k=u(o,["supervisedTuningSpec"]);k!=null&&c(l,["supervisedTuningSpec"],k);const U=u(o,["preferenceOptimizationSpec"]);U!=null&&c(l,["preferenceOptimizationSpec"],U);const B=u(o,["tuningDataStats"]);B!=null&&c(l,["tuningDataStats"],B);const X=u(o,["encryptionSpec"]);X!=null&&c(l,["encryptionSpec"],X);const F=u(o,["partnerModelTuningSpec"]);F!=null&&c(l,["partnerModelTuningSpec"],F);const $=u(o,["customBaseModel"]);$!=null&&c(l,["customBaseModel"],$);const O=u(o,["experiment"]);O!=null&&c(l,["experiment"],O);const ne=u(o,["labels"]);ne!=null&&c(l,["labels"],ne);const Y=u(o,["outputUri"]);Y!=null&&c(l,["outputUri"],Y);const de=u(o,["pipelineJob"]);de!=null&&c(l,["pipelineJob"],de);const Z=u(o,["serviceAccount"]);Z!=null&&c(l,["serviceAccount"],Z);const ce=u(o,["tunedModelDisplayName"]);ce!=null&&c(l,["tunedModelDisplayName"],ce);const _e=u(o,["veoTuningSpec"]);return _e!=null&&c(l,["veoTuningSpec"],_e),l}function Nx(o,t){const l={},a=u(o,["sdkHttpResponse"]);a!=null&&c(l,["sdkHttpResponse"],a);const r=u(o,["name"]);r!=null&&c(l,["name"],r);const f=u(o,["metadata"]);f!=null&&c(l,["metadata"],f);const p=u(o,["done"]);p!=null&&c(l,["done"],p);const g=u(o,["error"]);return g!=null&&c(l,["error"],g),l}function Fm(o,t){const l={},a=u(o,["gcsUri"]);a!=null&&c(l,["validationDatasetUri"],a);const r=u(o,["vertexDatasetResource"]);return r!=null&&c(l,["validationDatasetUri"],r),l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Rx extends Cn{constructor(t){super(),this.apiClient=t,this.list=async(l={})=>new vo(_n.PAGED_ITEM_TUNING_JOBS,a=>this.listInternal(a),await this.listInternal(l),l),this.get=async l=>await this.getInternal(l),this.tune=async l=>{var a;if(this.apiClient.isVertexAI())if(l.baseModel.startsWith("projects/")){const r={tunedModelName:l.baseModel};!((a=l.config)===null||a===void 0)&&a.preTunedModelCheckpointId&&(r.checkpointId=l.config.preTunedModelCheckpointId);const f=Object.assign(Object.assign({},l),{preTunedModel:r});return f.baseModel=void 0,await this.tuneInternal(f)}else{const r=Object.assign({},l);return await this.tuneInternal(r)}else{const r=Object.assign({},l),f=await this.tuneMldevInternal(r);let p="";return f.metadata!==void 0&&f.metadata.tunedModel!==void 0?p=f.metadata.tunedModel:f.name!==void 0&&f.name.includes("/operations/")&&(p=f.name.split("/operations/")[0]),{name:p,state:xu.JOB_STATE_QUEUED}}}}async getInternal(t){var l,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=yx(t);return g=Q("{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>Gu(v))}else{const m=gx(t);return g=Q("{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>Bg(v))}}async listInternal(t){var l,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=Ex(t);return g=Q("tuningJobs",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=Cx(v),E=new gm;return Object.assign(E,T),E})}else{const m=Tx(t);return g=Q("tunedModels",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=_x(v),E=new gm;return Object.assign(E,T),E})}}async cancel(t){var l,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=ux(t);return g=Q("{name}:cancel",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=fx(v),E=new ym;return Object.assign(E,T),E})}else{const m=rx(t);return g=Q("{name}:cancel",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=cx(v),E=new ym;return Object.assign(E,T),E})}}async tuneInternal(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI()){const g=mx(t,t);return f=Q("tuningJobs",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>Gu(y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var l,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=hx(t);return f=Q("tunedModels",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>Nx(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class wx{async download(t,l){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const Mx=1024*1024*8,Ix=3,Dx=1e3,Ux=2,Ya="x-goog-upload-status";async function Lx(o,t,l){var a;const r=await Pg(o,t,l),f=await(r==null?void 0:r.json());if(((a=r==null?void 0:r.headers)===null||a===void 0?void 0:a[Ya])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return f.file}async function Hx(o,t,l){var a;const r=await Pg(o,t,l),f=await(r==null?void 0:r.json());if(((a=r==null?void 0:r.headers)===null||a===void 0?void 0:a[Ya])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const p=Zm(f),g=new Bu;return Object.assign(g,p),g}async function Pg(o,t,l){var a,r;let f=0,p=0,g=new bu(new Response),y="upload";for(f=o.size;p<f;){const m=Math.min(Mx,f-p),v=o.slice(p,p+m);p+m>=f&&(y+=", finalize");let T=0,E=Dx;for(;T<Ix&&(g=await l.request({path:"",body:v,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":String(p),"Content-Length":String(m)}}}),!(!((a=g==null?void 0:g.headers)===null||a===void 0)&&a[Ya]));)T++,await Gx(E),E=E*Ux;if(p+=m,((r=g==null?void 0:g.headers)===null||r===void 0?void 0:r[Ya])!=="active")break;if(f<=p)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return g}async function kx(o){return{size:o.size,type:o.type}}function Gx(o){return new Promise(t=>setTimeout(t,o))}class Vx{async upload(t,l,a){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await Lx(t,l,a)}async uploadToFileSearchStore(t,l,a){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await Hx(t,l,a)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await kx(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class qx{create(t,l,a){return new zx(t,l,a)}}class zx{constructor(t,l,a){this.url=t,this.headers=l,this.callbacks=a}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Jm="x-goog-api-key";class Bx{constructor(t){this.apiKey=t}async addAuthHeaders(t,l){if(t.get(Jm)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(Jm,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Px="gl-node/";class Xu{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const t=this.httpOptions;t!=null&&t.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const l=new it({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:t==null?void 0:t.timeout});return this._interactions=l.interactions,this._interactions}constructor(t){var l;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(l=t.vertexai)!==null&&l!==void 0?l:!1,this.apiKey=t.apiKey;const a=kv(t.httpOptions,t.vertexai,void 0,void 0);a&&(t.httpOptions?t.httpOptions.baseUrl=a:t.httpOptions={baseUrl:a}),this.apiVersion=t.apiVersion,this.httpOptions=t.httpOptions;const r=new Bx(this.apiKey);this.apiClient=new kC({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:Px+"web",uploader:new Vx,downloader:new wx}),this.models=new tA(this.apiClient),this.live=new XC(this.apiClient,r,new qx),this.batches=new fT(this.apiClient),this.chats=new YT(this.models,this.apiClient),this.caches=new OT(this.apiClient),this.files=new nE(this.apiClient),this.operations=new nA(this.apiClient),this.authTokens=new vA(this.apiClient),this.tunings=new Rx(this.apiClient),this.fileSearchStores=new bA(this.apiClient)}}const Ox=10,Fx=(o,t)=>{const l=Math.max(0,t-Ox+1);return o.slice(l,t+1).map(a=>`${a.sender}: ${a.text}`).join(`
`)},Jx=async(o,t,l,a,r="English")=>{const p=await new Xu({apiKey:o}).models.generateContent({model:t,contents:`Analyze this ${r} learner's sentence: "${l}" within the context of this conversation: "${a}". Provide a detailed linguistic analysis.`,config:{systemInstruction:`You are an expert ${r} language coach helping a ${r} learner practice small talk. Analyze the learner's sentence for grammar, naturalness, and small talk effectiveness in ${r}. 
      Return JSON format. 
      - grammarErrors: Detail any mistakes or awkward phrasing.
      - grammarScore: A score from 1 (poor) to 10 (perfect).
      - naturalnessRating: Evaluate how a native ${r} speaker would perceive this.
      - naturalnessScore: A score from 1 (robotic/awkward) to 10 (completely native).
      - improvement: Provide a simpler, more natural way to say the same thing in ${r}.
      - extensions: Suggest what the LEARNER could say next to keep the conversation going in ${r}. This should be follow-up phrases, questions, or comments the learner can add to expand the topic or echo the other person. Do NOT suggest how the conversation partner would reply.
      - isNatural: true if no changes needed, false otherwise.`,responseMimeType:"application/json",responseSchema:{type:me.OBJECT,properties:{grammarErrors:{type:me.STRING},grammarScore:{type:me.NUMBER},naturalnessRating:{type:me.STRING},naturalnessScore:{type:me.NUMBER},improvement:{type:me.STRING},extensions:{type:me.STRING},isNatural:{type:me.BOOLEAN}},required:["grammarErrors","grammarScore","naturalnessRating","naturalnessScore","improvement","extensions","isNatural"]}}});return JSON.parse(p.text)},Yx=async(o,t,l,a,r="English")=>{if(a.length===0)return[];const f=new Xu({apiKey:o}),p=a.map(m=>({id:m.id,text:m.text,context:Fx(l,m.index)})),g=await f.models.generateContent({model:t,contents:`Analyze the following ${r} learner sentences. Each has its own context. Return an array of analysis objects, one for each message, keyed by "id".

Messages to analyze:
${JSON.stringify(p,null,2)}`,config:{systemInstruction:`You are an expert ${r} language coach helping a ${r} learner practice small talk. For EACH message provided, analyze for grammar, naturalness, and small talk effectiveness in ${r}.
      Return a JSON array where each object has:
      - id: The message id provided.
      - grammarErrors: Detail any mistakes or awkward phrasing.
      - grammarScore: A score from 1 (poor) to 10 (perfect).
      - naturalnessRating: Evaluate how a native ${r} speaker would perceive this.
      - naturalnessScore: A score from 1 (robotic/awkward) to 10 (completely native).
      - improvement: Provide a simpler, more natural way to say the same thing in ${r}.
      - extensions: Suggest what the LEARNER could say next to keep the conversation going in ${r}. This should be follow-up phrases, questions, or comments the learner can add to expand the topic or echo the other person. Do NOT suggest how the conversation partner would reply.
      - isNatural: true if no changes needed, false otherwise.`,responseMimeType:"application/json",responseSchema:{type:me.ARRAY,items:{type:me.OBJECT,properties:{id:{type:me.STRING},grammarErrors:{type:me.STRING},grammarScore:{type:me.NUMBER},naturalnessRating:{type:me.STRING},naturalnessScore:{type:me.NUMBER},improvement:{type:me.STRING},extensions:{type:me.STRING},isNatural:{type:me.BOOLEAN}},required:["id","grammarErrors","grammarScore","naturalnessRating","naturalnessScore","improvement","extensions","isNatural"]}}}});return JSON.parse(g.text).map(m=>({messageId:m.id,analysis:{grammarErrors:m.grammarErrors,grammarScore:m.grammarScore,naturalnessRating:m.naturalnessRating,naturalnessScore:m.naturalnessScore,improvement:m.improvement,extensions:m.extensions,isNatural:m.isNatural}}))},Wx=async(o,t,l,a="English")=>{const f=await new Xu({apiKey:o}).models.generateContent({model:t,contents:`Summarize the overall ${a} performance, provide advanced vocabulary, and create a 3-5 word title for this conversation:

${l}`,config:{systemInstruction:`You are a professional linguist and ${a} coach. 
      Evaluate the overall conversation performance in ${a} and provide 8-10 specific vocabulary items in ${a}.
      Also generate a short descriptive title (3-5 words) that captures the topic.
      Return JSON format.
      - title: A short string title.
      - grammarPerformance: Overall grammar summary.
      - grammarScore: A score from 1 (poor) to 10 (perfect).
      - clarityEvaluation: Clarity analysis.
      - clarityScore: A score from 1 (unclear) to 10 (crystal clear).
      - flowAnalysis: Flow analysis.
      - flowScore: A score from 1 (choppy/disconnected) to 10 (smooth/natural).
      - keySuggestions: Array of improvement points.
      - suggestedVocabulary: Array of {phrase, reason, example}.`,responseMimeType:"application/json",responseSchema:{type:me.OBJECT,properties:{title:{type:me.STRING},grammarPerformance:{type:me.STRING},grammarScore:{type:me.NUMBER},clarityEvaluation:{type:me.STRING},clarityScore:{type:me.NUMBER},flowAnalysis:{type:me.STRING},flowScore:{type:me.NUMBER},keySuggestions:{type:me.ARRAY,items:{type:me.STRING}},suggestedVocabulary:{type:me.ARRAY,items:{type:me.OBJECT,properties:{phrase:{type:me.STRING},reason:{type:me.STRING},example:{type:me.STRING}},required:["phrase","reason","example"]}}},required:["title","grammarPerformance","grammarScore","clarityEvaluation","clarityScore","flowAnalysis","flowScore","keySuggestions","suggestedVocabulary"]}}}),p=JSON.parse(f.text),{title:g,...y}=p;return{summary:y,title:g}},Kx=o=>{if(!o.trim())return[];const t=o.split(`
`).filter(f=>f.trim().length>0),l=[];let a="",r="user";return t.forEach((f,p)=>{const g=f.match(/^\[(.*?)\](?:\s*\((.*?)\))?:\s*(.*)/);if(g){a=g[1];const y=a.toLowerCase();r=y.includes("chatgpt")||y.includes("ai")?"assistant":"user";let m=g[3].trim();m.startsWith('"')&&m.endsWith('"')&&(m=m.slice(1,-1)),m.startsWith('"')&&m.endsWith('"')&&(m=m.slice(1,-1)),l.push({id:`msg-${Date.now()}-${p}`,sender:a,role:r,text:m,timestamp:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})}else if(l.length>0){let y=f.trim();y.startsWith('"')&&y.endsWith('"')&&(y=y.slice(1,-1)),l[l.length-1].text+=`
`+y}}),l},Xx={Afrikaans:"AF",Albanian:"SQ",Amharic:"AM",Arabic:"AR",Armenian:"HY",Azerbaijani:"AZ",Basque:"EU",Belarusian:"BE",Bengali:"BN",Bosnian:"BS",Bulgarian:"BG",Catalan:"CA",Chinese:"ZH",Croatian:"HR",Czech:"CS",Danish:"DA",Dutch:"NL",English:"EN",Estonian:"ET",Filipino:"TL",Finnish:"FI",French:"FR",Galician:"GL",Georgian:"KA",German:"DE",Greek:"EL",Gujarati:"GU",Hebrew:"HE",Hindi:"HI",Hungarian:"HU",Icelandic:"IS",Indonesian:"ID",Irish:"GA",Italian:"IT",Japanese:"JA",Kannada:"KN",Kazakh:"KK",Khmer:"KM",Korean:"KO",Kurdish:"KU",Lao:"LO",Latvian:"LV",Lithuanian:"LT",Macedonian:"MK",Malay:"MS",Malayalam:"ML",Marathi:"MR",Mongolian:"MN",Nepali:"NE",Norwegian:"NO",Persian:"FA",Polish:"PL",Portuguese:"PT",Punjabi:"PA",Romanian:"RO",Russian:"RU",Serbian:"SR",Sinhala:"SI",Slovak:"SK",Slovenian:"SL",Spanish:"ES",Swahili:"SW",Swedish:"SV",Tamil:"TA",Telugu:"TE",Thai:"TH",Turkish:"TR",Ukrainian:"UK",Urdu:"UR",Uzbek:"UZ",Vietnamese:"VI",Welsh:"CY",Yiddish:"YI",Zulu:"ZU"},Qx={EN:"#3B82F6",JA:"#EF4444",ES:"#F59E0B",ZH:"#10B981",FR:"#8B5CF6",DE:"#EC4899",KO:"#14B8A6",PT:"#22C55E",IT:"#06B6D4",RU:"#6366F1",AR:"#84CC16",HI:"#F97316"},Zx="#6B7280",Ym=o=>{if(!o)return"EN";const t=o.trim();return Xx[t]||t.substring(0,2).toUpperCase()},$x=o=>Qx[o]||Zx,Cu="gab_guide_conversations",Wm="gab_guide_settings",Km="gab_guide_default_language",Xm={apiKey:"",model:En.GEMINI_3_FLASH_PREVIEW,colorByScoring:Qn.AFTER_READ},jx=()=>{const[o,t]=Ee.useState(()=>{const P=localStorage.getItem(Cu);return P?JSON.parse(P):[]}),[l,a]=Ee.useState(()=>{const P=localStorage.getItem(Wm);if(P){const re=JSON.parse(P);return{...Xm,...re}}return Xm}),[r,f]=Ee.useState(null),[p,g]=Ee.useState(""),[y,m]=Ee.useState(null),[v,T]=Ee.useState(null),[E,A]=Ee.useState(ot.IDLE),[D,k]=Ee.useState(!1),[U,B]=Ee.useState(!1),[X,F]=Ee.useState(!1),[$,O]=Ee.useState(!1),[ne,Y]=Ee.useState(!1),[de,Z]=Ee.useState(!1),[ce,_e]=Ee.useState(!1),[Ie,Ae]=Ee.useState(new Set),[ze,et]=Ee.useState(null),[H,W]=Ee.useState(!1),[le,xe]=Ee.useState(!1),[De,N]=Ee.useState(null),[V,K]=Ee.useState(()=>localStorage.getItem(Km)||"English"),J=o.find(P=>P.id===r),te=(J==null?void 0:J.messages)||[],ae=(J==null?void 0:J.summary)||null;Ee.useEffect(()=>{localStorage.setItem(Cu,JSON.stringify(o))},[o]),Ee.useEffect(()=>{localStorage.setItem(Wm,JSON.stringify(l))},[l]),Ee.useEffect(()=>{localStorage.setItem(Km,V)},[V]);const ge=Ee.useCallback(P=>{r&&t(re=>re.map(Ue=>Ue.id===r?{...Ue,...P,updatedAt:Date.now()}:Ue))},[r]),lt=()=>{const P=`conv-${Date.now()}`,re={id:P,title:"New Conversation",createdAt:Date.now(),updatedAt:Date.now(),messages:[],summary:null};t(Ue=>[re,...Ue]),f(P),g(""),T(null),A(ot.IDLE),Y(!1),_e(!1)},Fe=()=>{const P=Kx(p);if(P.length!==0){if(r)ge({messages:[...te,...P]});else{const re=`conv-${Date.now()}`,Ue={id:re,title:"Imported Chat",createdAt:Date.now(),updatedAt:Date.now(),messages:P,summary:null,language:V};t(be=>[Ue,...be]),f(re)}g("")}},Qt=()=>l.apiKey?!0:(O(!0),!1),So=async P=>{if(!(P.role!=="user"||!Qt()||ce)){if(m(P.id),P.analysis){T(P.analysis),A(ot.SUCCESS),ge({messages:te.map(re=>re.id===P.id?{...re,viewed:!0}:re)});return}A(ot.LOADING),T(null);try{const re=te.findIndex(se=>se.id===P.id),Ue=te.slice(Math.max(0,re-9),re+1).map(se=>`${se.sender}: ${se.text}`).join(`
`),be=await Jx(l.apiKey,l.model,P.text,Ue,(J==null?void 0:J.language)||"English");ge({messages:te.map(se=>se.id===P.id?{...se,analysis:be,viewed:!0}:se)}),T(be),A(ot.SUCCESS)}catch(re){console.error(re);const Ue=(re==null?void 0:re.message)||"An unexpected error occurred during analysis.";N(Ue),A(ot.ERROR)}}},hi=P=>{Ae(re=>{const Ue=new Set(re);return Ue.has(P)?Ue.delete(P):Ue.add(P),Ue})},hl=()=>{if(Ie.size===0)return;const P=te.filter(re=>!Ie.has(re.id));ge({messages:P}),_e(!1),Ae(new Set),W(!1)},tn=async()=>{if(!(X||te.length===0||!Qt())){F(!0);try{const P=te.map((se,Eo)=>({...se,index:Eo})).filter(se=>se.role==="user"&&!se.analysis);if(P.length===0){F(!1);return}const re=await Yx(l.apiKey,l.model,te,P.map(se=>({id:se.id,text:se.text,index:se.index})),(J==null?void 0:J.language)||"English"),Ue=new Map(re.map(se=>[se.messageId,se.analysis])),be=te.map(se=>{const Eo=Ue.get(se.id);return Eo?{...se,analysis:Eo}:se});ge({messages:be})}catch(P){console.error(P),N((P==null?void 0:P.message)||"An unexpected error occurred during batch analysis.")}F(!1)}},To=async()=>{if(te.length===0||!Qt())return null;if(ae)return k(!0),ae;B(!0);try{const P=te.map(be=>`${be.sender}: ${be.text}`).join(`
`),{summary:re,title:Ue}=await Wx(l.apiKey,l.model,P,(J==null?void 0:J.language)||"English");return ge({summary:re,title:Ue}),k(!0),re}catch(P){return console.error(P),N((P==null?void 0:P.message)||"An unexpected error occurred while generating summary."),null}finally{B(!1)}},mi=async()=>{if(!Qt())return;let P=ae;if(P||(P=await To()),!P)return;const re=window.open("","_blank");if(!re)return;const Ue=`
      <html>
        <head>
          <title>Gab Guide - Report: ${J==null?void 0:J.title}</title>
          <script src="https://cdn.tailwindcss.com"><\/script>
          <style>
            @media print { .no-print { display: none; } body { background: white; } .page-break { page-break-after: always; } }
          </style>
        </head>
        <body class="bg-gray-50 p-8">
          <div class="max-w-4xl mx-auto bg-white p-10 shadow-lg rounded-xl border border-gray-100">
            <div class="flex justify-between items-center mb-10 pb-6 border-b-2 border-blue-600">
              <div>
                <h1 class="text-3xl font-black text-gray-900">Gab Guide Report</h1>
                <p class="text-gray-500 font-medium">Session: ${J==null?void 0:J.title}</p>
              </div>
              <div class="text-right text-sm text-gray-400">
                Generated: ${new Date().toLocaleDateString()}<br/>
                ${new Date().toLocaleTimeString()}
              </div>
            </div>

            <section class="mb-12">
              <h2 class="text-xl font-bold text-blue-700 mb-6 uppercase tracking-widest border-l-4 border-blue-600 pl-4">Overall Performance</h2>
              <div class="grid grid-cols-2 gap-8 mb-8">
                <div class="p-5 bg-blue-50 rounded-xl border border-blue-100">
                  <h3 class="text-xs font-black text-blue-800 uppercase mb-2">Grammar</h3>
                  <p class="text-gray-700 text-sm leading-relaxed">${P.grammarPerformance}</p>
                </div>
                <div class="p-5 bg-indigo-50 rounded-xl border border-indigo-100">
                  <h3 class="text-xs font-black text-indigo-800 uppercase mb-2">Clarity</h3>
                  <p class="text-gray-700 text-sm leading-relaxed">${P.clarityEvaluation}</p>
                </div>
              </div>
              <div class="p-5 bg-gray-50 rounded-xl mb-8 border border-gray-200">
                <h3 class="text-xs font-black text-gray-800 uppercase mb-2">Flow</h3>
                <p class="text-gray-700 text-sm leading-relaxed">${P.flowAnalysis}</p>
              </div>
              <div>
                <h3 class="text-sm font-bold text-gray-800 mb-4">Strategic Tips:</h3>
                <ul class="space-y-3">
                  ${P.keySuggestions.map(be=>`
                    <li class="flex items-start text-sm text-gray-700">
                      <span class="text-blue-600 font-bold mr-2"></span> ${be}
                    </li>
                  `).join("")}
                </ul>
              </div>
            </section>

            <section class="mb-12">
              <h2 class="text-xl font-bold text-indigo-700 mb-6 uppercase tracking-widest border-l-4 border-indigo-600 pl-4">Vocabulary Boosters</h2>
              <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                ${P.suggestedVocabulary.map(be=>`
                  <div class="bg-gray-50 p-4 rounded-xl border border-gray-100">
                    <div class="font-bold text-indigo-700 text-base mb-1">${be.phrase}</div>
                    <p class="text-[10px] text-gray-500 mb-2 italic">${be.reason}</p>
                    <p class="text-xs text-indigo-900 border-t border-indigo-50 pt-2"><span class="font-bold">Ex:</span> "${be.example}"</p>
                  </div>
                `).join("")}
              </div>
            </section>

            <div class="page-break"></div>

            <section>
              <h2 class="text-xl font-bold text-blue-700 mb-6 uppercase tracking-widest border-l-4 border-blue-600 pl-4">Analysis Details</h2>
              <div class="space-y-8">
                ${te.map(be=>`
                  <div class="pb-6 border-b border-gray-100 last:border-0">
                    <div class="flex items-center mb-2">
                      <span class="font-black text-xs uppercase tracking-tighter ${be.role==="user"?"text-blue-600":"text-gray-500"}">${be.sender}</span>
                      <span class="mx-2 text-gray-300"></span>
                      <span class="text-[10px] text-gray-400 font-mono">${be.timestamp}</span>
                    </div>
                    <p class="text-gray-800 text-sm bg-gray-50 p-3 rounded-lg border border-gray-100 italic mb-4">"${be.text}"</p>
                    ${be.analysis?`
                      <div class="ml-6 border-l-2 border-amber-200 pl-4 space-y-4">
                        <div class="flex gap-4">
                          <div class="px-3 py-1 bg-green-50 text-green-700 rounded text-xs font-bold border border-green-100">Score: ${be.analysis.grammarScore}/10</div>
                          <div class="px-3 py-1 bg-blue-50 text-blue-700 rounded text-xs font-bold border border-blue-100">Naturalness: ${be.analysis.naturalnessScore}/10</div>
                        </div>
                        <div>
                          <p class="text-xs font-black text-gray-500 uppercase mb-1">Correction:</p>
                          <p class="text-sm text-blue-800 font-semibold bg-blue-50 p-2 rounded border border-blue-100">"${be.analysis.improvement}"</p>
                        </div>
                      </div>
                    `:""}
                  </div>
                `).join("")}
              </div>
            </section>
            
            <div class="mt-12 pt-6 border-t border-gray-100 text-center text-[10px] text-gray-400 uppercase tracking-widest no-print">
              End of Gab Guide Report
              <button onclick="window.print()" class="block mx-auto mt-4 px-6 py-2 bg-blue-600 text-white rounded-lg font-bold hover:bg-blue-700 transition-colors">Print to PDF</button>
            </div>
          </div>
        </body>
      </html>
    `;re.document.write(Ue),re.document.close()},es=()=>{let P=`GAB GUIDE SESSION: ${(J==null?void 0:J.title)||"Export"}
`;P+=`========================================

`,ae&&(P+=`PERFORMANCE SUMMARY
`,P+=`-------------------
`,P+=`Grammar: ${ae.grammarPerformance}
`,P+=`Clarity: ${ae.clarityEvaluation}
`,P+=`Flow: ${ae.flowAnalysis}

`,P+=`VOCABULARY BOOSTERS
`,ae.suggestedVocabulary.forEach(se=>{P+=`- ${se.phrase} (${se.reason}): "${se.example}"
`}),P+=`
`),P+=`CONVERSATION DETAILS
`,P+=`--------------------
`,te.forEach(se=>{P+=`[${se.sender}]: ${se.text}
`,se.analysis&&(P+=`  Correction: ${se.analysis.improvement}
`),P+=`
`});const re=new Blob([P],{type:"text/plain"}),Ue=URL.createObjectURL(re),be=document.createElement("a");be.href=Ue,be.download=`gab_guide_${(J==null?void 0:J.title.replace(/\s+/g,"_"))||"export"}.txt`,document.body.appendChild(be),be.click(),document.body.removeChild(be),URL.revokeObjectURL(Ue)},ml=()=>{ze&&(t(P=>P.filter(re=>re.id!==ze)),r===ze&&(f(null),T(null),A(ot.IDLE)),et(null))},gi=()=>{t([]),T(null),A(ot.IDLE),f(null),localStorage.removeItem(Cu),xe(!1)};return C.jsxs("div",{className:"flex flex-col h-screen max-h-screen bg-gray-50 overflow-hidden",children:[C.jsxs("header",{className:"bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between shadow-sm z-10",children:[C.jsxs("div",{className:"flex items-center space-x-3",children:[C.jsx("button",{onClick:()=>Y(!ne),className:"p-2 hover:bg-gray-100 rounded-lg lg:hidden",children:C.jsx("svg",{className:"w-6 h-6 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})})}),C.jsx("div",{className:"flex-shrink-0",children:C.jsx("img",{src:"/gab-guide/logo.png",alt:"Gab Guide Logo",className:"w-10 h-10 rounded-xl shadow-sm"})}),C.jsxs("div",{className:"hidden sm:block",children:[C.jsx("h1",{className:"text-xl font-bold text-gray-900 leading-tight",children:"Gab Guide"}),C.jsx("p",{className:"text-xs text-gray-500 font-medium",children:"Your Local English Coach"})]})]}),C.jsxs("div",{className:"flex items-center space-x-2",children:[J&&te.length>0&&C.jsx(C.Fragment,{children:ce?C.jsxs("div",{className:"flex items-center space-x-2 animate-in slide-in-from-top duration-300",children:[C.jsxs("span",{className:"text-xs font-bold text-blue-600 px-2 py-1 bg-blue-50 rounded-lg",children:[Ie.size," Selected"]}),C.jsx("button",{onClick:()=>W(!0),disabled:Ie.size===0,className:"flex items-center space-x-2 px-3 py-2 bg-red-50 text-red-600 font-bold rounded-lg hover:bg-red-100 transition-colors disabled:opacity-50 text-xs",children:"Delete Selected"}),C.jsx("button",{onClick:()=>{_e(!1),Ae(new Set)},className:"flex items-center space-x-2 px-3 py-2 bg-gray-100 text-gray-700 font-bold rounded-lg hover:bg-gray-200 transition-colors text-xs",children:"Cancel"})]}):C.jsxs(C.Fragment,{children:[C.jsxs("button",{onClick:()=>_e(!0),className:"hidden sm:flex items-center space-x-2 px-3 py-2 text-gray-500 hover:text-gray-700 font-bold rounded-lg transition-colors text-xs border border-gray-100 bg-white",children:[C.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),C.jsx("span",{children:"Edit Chat"})]}),C.jsxs("button",{onClick:tn,disabled:X,className:"hidden md:flex items-center space-x-2 px-3 py-2 bg-gray-100 text-gray-700 font-bold rounded-lg hover:bg-gray-200 transition-colors disabled:opacity-50 text-xs",children:[X?C.jsx("span",{className:"w-3 h-3 border-2 border-gray-700 border-t-transparent animate-spin rounded-full"}):null,C.jsx("span",{children:"Analyze All"})]}),C.jsxs("button",{onClick:To,disabled:U,className:"flex items-center space-x-2 px-3 py-2 bg-blue-50 text-blue-700 font-bold rounded-lg hover:bg-blue-100 transition-colors disabled:opacity-50 text-xs",children:[U?C.jsx("span",{className:"w-3 h-3 border-2 border-blue-700 border-t-transparent animate-spin rounded-full"}):null,C.jsx("span",{children:ae?"View Summary":"Summarize"})]}),C.jsxs("div",{className:"flex bg-gray-100 p-1 rounded-lg space-x-1",children:[C.jsx("button",{onClick:es,className:"p-1.5 text-gray-500 hover:text-blue-600 hover:bg-white rounded transition-all",title:"Export as TXT",children:C.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),C.jsx("button",{onClick:mi,className:"p-1.5 text-gray-500 hover:text-red-600 hover:bg-white rounded transition-all",title:"Export for PDF/Print",children:C.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"}),C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 17h6M9 13h6"})]})})]}),C.jsx("button",{onClick:()=>xe(!0),className:"p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-lg transition-all",title:"Clear All History",children:C.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})}),C.jsx("button",{onClick:()=>O(!0),className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-50 rounded-lg",children:C.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})})]})]}),C.jsxs("main",{className:"flex-1 flex overflow-hidden relative",children:[C.jsx("aside",{className:`
            fixed inset-y-0 left-0 z-40 w-72 bg-white border-r border-gray-100 transform transition-transform duration-300 lg:relative lg:translate-x-0
            ${ne?"translate-x-0":"-translate-x-full"}
          `,children:C.jsxs("div",{className:"h-full flex flex-col p-4 pt-[80px] lg:pt-4",children:[C.jsxs("button",{onClick:lt,className:"w-full flex items-center justify-center space-x-2 py-3 bg-blue-600 text-white font-bold rounded-xl hover:bg-blue-700 transition-all mb-3 shadow-md shadow-blue-100",children:[C.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})}),C.jsx("span",{children:"New Analysis"})]}),C.jsxs("button",{onClick:()=>Z(!0),className:"w-full flex items-center justify-center space-x-2 py-3 bg-gradient-to-r from-purple-500 to-indigo-500 text-white font-bold rounded-xl hover:from-purple-600 hover:to-indigo-600 transition-all mb-6 shadow-md shadow-purple-100",children:[C.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),C.jsx("span",{children:"Topic Idea"})]}),C.jsxs("div",{className:"flex-1 overflow-y-auto space-y-2 custom-scrollbar",children:[C.jsx("h3",{className:"px-2 text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-2",children:"History"}),o.length===0&&C.jsx("div",{className:"p-4 text-center text-xs text-gray-400 italic",children:"No history yet"}),o.map(P=>C.jsxs("div",{onClick:()=>{f(P.id),Y(!1),_e(!1)},className:`
                    group flex items-center justify-between p-3 rounded-xl cursor-pointer transition-all
                    ${r===P.id?"bg-blue-50 border border-blue-100":"hover:bg-gray-50 border border-transparent"}
                  `,children:[C.jsxs("div",{className:"flex-1 min-w-0 mr-2",children:[C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx("p",{className:`text-sm font-semibold truncate ${r===P.id?"text-blue-700":"text-gray-700"}`,children:P.title}),P.language&&C.jsx("span",{className:"flex-shrink-0 px-1.5 py-0.5 text-[10px] font-bold rounded",style:{backgroundColor:$x(Ym(P.language)),color:"white",textShadow:"0 0 2px rgba(0,0,0,0.8), 0 0 2px rgba(0,0,0,0.8)"},children:Ym(P.language)})]}),C.jsx("p",{className:"text-[10px] text-gray-400",children:new Date(P.updatedAt).toLocaleDateString()})]}),C.jsx("button",{onClick:re=>{re.stopPropagation(),et(P.id)},className:"p-1.5 text-gray-300 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-opacity",children:C.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]},P.id))]})]})}),ne&&C.jsx("div",{onClick:()=>Y(!1),className:"lg:hidden fixed inset-0 bg-black/20 z-30"}),C.jsx("div",{className:`flex-1 flex flex-col transition-all duration-300 ${E!==ot.IDLE?"md:mr-[380px]":""}`,children:!J||te.length===0?C.jsx("div",{className:"flex-1 flex flex-col items-center justify-center p-8 text-center bg-gray-50",children:C.jsx("div",{className:"max-w-md w-full animate-in fade-in zoom-in duration-500",children:C.jsxs("div",{className:"bg-white p-8 rounded-3xl shadow-xl border border-gray-100 mb-6",children:[C.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Ready to Guide Your Gab?"}),C.jsx("p",{className:"text-gray-500 mb-8 text-sm leading-relaxed",children:"Paste your chat history to start your linguistic analysis journey."}),C.jsx("textarea",{value:p,onChange:P=>g(P.target.value),placeholder:`[Steven]: "Hi there!"
[Coach]: "Hello Steven, how are you?"`,className:"w-full h-48 p-4 text-sm bg-gray-50 border border-gray-200 rounded-2xl focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all font-mono"}),C.jsxs("div",{className:"mt-4 space-y-2",children:[C.jsx("label",{className:"text-xs font-bold text-gray-600 block",children:"Analysis Language"}),C.jsxs("select",{value:["English","Japanese","Spanish"].includes(V)?V:"Other",onChange:P=>{P.target.value!=="Other"?K(P.target.value):K("")},className:"w-full px-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none text-sm",children:[C.jsx("option",{value:"English",children:"English"}),C.jsx("option",{value:"Japanese",children:"Japanese"}),C.jsx("option",{value:"Spanish",children:"Spanish"}),C.jsx("option",{value:"Other",children:"Other..."})]}),!["English","Japanese","Spanish"].includes(V)&&C.jsx("input",{type:"text",value:V,onChange:P=>K(P.target.value),placeholder:"Enter language name (e.g., German, French)",className:"w-full px-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none text-sm"})]}),C.jsx("button",{onClick:Fe,disabled:!p.trim(),className:"w-full mt-6 bg-blue-600 text-white font-bold py-3 rounded-xl hover:bg-blue-700 transition-all disabled:opacity-50 shadow-lg shadow-blue-100",children:"Load Transcript"})]})})}):C.jsx("div",{className:"flex-1 overflow-y-auto p-4 md:p-8 custom-scrollbar",children:C.jsxs("div",{className:"max-w-3xl mx-auto pb-20",children:[C.jsx("div",{className:"mb-8 flex items-center justify-between",children:C.jsx("input",{value:J.title,onChange:P=>ge({title:P.target.value}),className:"text-xl font-bold text-gray-800 bg-transparent border-none outline-none focus:ring-2 focus:ring-blue-100 rounded px-2 -ml-2"})}),te.map(P=>C.jsx(_v,{message:P,isSelected:y===P.id,isEditMode:ce,isChecked:Ie.has(P.id),onToggleCheck:hi,onClick:So,colorByScoring:l.colorByScoring},P.id))]})})}),C.jsx("aside",{className:`
            hidden md:block fixed right-0 top-[73px] bottom-0 w-[380px] z-20 transition-transform duration-300 transform
            ${E===ot.IDLE?"translate-x-full":"translate-x-0"}
          `,children:C.jsx(rh,{state:E,analysis:v,onClose:()=>{A(ot.IDLE),m(null)}})}),E!==ot.IDLE&&C.jsx("div",{className:"md:hidden fixed inset-0 z-50 flex flex-col bg-white",children:C.jsx(rh,{state:E,analysis:v,onClose:()=>{A(ot.IDLE),m(null)}})})]}),D&&C.jsx(Av,{summary:ae,onClose:()=>k(!1)}),$&&C.jsx(Nv,{currentKey:l.apiKey,currentModel:l.model,currentColorByScoring:l.colorByScoring,onSave:(P,re,Ue)=>{a({apiKey:P,model:re,colorByScoring:Ue}),O(!1)},onClose:()=>O(!1)}),de&&C.jsx(Iv,{onClose:()=>Z(!1),language:V}),ze&&C.jsx(Ua,{title:"Delete Conversation",message:"Are you sure you want to delete this conversation? This action cannot be undone.",confirmLabel:"Delete",confirmVariant:"danger",onConfirm:ml,onCancel:()=>et(null)}),H&&C.jsx(Ua,{title:"Delete Messages",message:`Are you sure you want to delete ${Ie.size} selected messages?`,confirmLabel:"Delete",confirmVariant:"danger",onConfirm:hl,onCancel:()=>W(!1)}),le&&C.jsx(Ua,{title:"Reset Everything",message:"Are you sure you want to clear your entire conversation history? This cannot be undone.",confirmLabel:"Clear All",confirmVariant:"danger",onConfirm:gi,onCancel:()=>xe(!1)}),De&&C.jsx(Ua,{title:"AI Analysis Error",message:De,confirmLabel:"Close",confirmVariant:"primary",onConfirm:()=>N(null),onCancel:()=>N(null)}),C.jsx("style",{children:`
        .custom-scrollbar::-webkit-scrollbar { width: 6px; }
        .custom-scrollbar::-webkit-scrollbar-track { background: transparent; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background: #e2e8f0; border-radius: 10px; }
      `})]})},Og=document.getElementById("root");if(!Og)throw new Error("Could not find root element to mount to");const e1=Tv.createRoot(Og);e1.render(C.jsx(dv.StrictMode,{children:C.jsx(jx,{})}));
