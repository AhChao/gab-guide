(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const f of r)if(f.type==="childList")for(const h of f.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&a(h)}).observe(document,{childList:!0,subtree:!0});function l(r){const f={};return r.integrity&&(f.integrity=r.integrity),r.referrerPolicy&&(f.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?f.credentials="include":r.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function a(r){if(r.ep)return;r.ep=!0;const f=l(r);fetch(r.href,f)}})();function $m(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}var gu={exports:{}},dl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zh;function dv(){if(Zh)return dl;Zh=1;var o=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function l(a,r,f){var h=null;if(f!==void 0&&(h=""+f),r.key!==void 0&&(h=""+r.key),"key"in r){f={};for(var g in r)g!=="key"&&(f[g]=r[g])}else f=r;return r=f.ref,{$$typeof:o,type:a,key:h,ref:r!==void 0?r:null,props:f}}return dl.Fragment=t,dl.jsx=l,dl.jsxs=l,dl}var $h;function hv(){return $h||($h=1,gu.exports=dv()),gu.exports}var _=hv(),yu={exports:{}},he={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jh;function pv(){if(jh)return he;jh=1;var o=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),h=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),E=Symbol.iterator;function x(b){return b===null||typeof b!="object"?null:(b=E&&b[E]||b["@@iterator"],typeof b=="function"?b:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},H=Object.assign,U={};function P(b,V,X){this.props=b,this.context=V,this.refs=U,this.updater=X||D}P.prototype.isReactComponent={},P.prototype.setState=function(b,V){if(typeof b!="object"&&typeof b!="function"&&b!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,b,V,"setState")},P.prototype.forceUpdate=function(b){this.updater.enqueueForceUpdate(this,b,"forceUpdate")};function K(){}K.prototype=P.prototype;function F(b,V,X){this.props=b,this.context=V,this.refs=U,this.updater=X||D}var Q=F.prototype=new K;Q.constructor=F,H(Q,P.prototype),Q.isPureReactComponent=!0;var Y=Array.isArray;function ne(){}var W={H:null,A:null,T:null,S:null},ye=Object.prototype.hasOwnProperty;function j(b,V,X){var ee=X.ref;return{$$typeof:o,type:b,key:V,ref:ee!==void 0?ee:null,props:X}}function de(b,V){return j(b.type,V,b.props)}function ve(b){return typeof b=="object"&&b!==null&&b.$$typeof===o}function be(b){var V={"=":"=0",":":"=2"};return"$"+b.replace(/[=:]/g,function(X){return V[X]})}var Te=/\/+/g;function He(b,V){return typeof b=="object"&&b!==null&&b.key!=null?be(""+b.key):V.toString(36)}function Ke(b){switch(b.status){case"fulfilled":return b.value;case"rejected":throw b.reason;default:switch(typeof b.status=="string"?b.then(ne,ne):(b.status="pending",b.then(function(V){b.status==="pending"&&(b.status="fulfilled",b.value=V)},function(V){b.status==="pending"&&(b.status="rejected",b.reason=V)})),b.status){case"fulfilled":return b.value;case"rejected":throw b.reason}}throw b}function k(b,V,X,ee,se){var $=typeof b;($==="undefined"||$==="boolean")&&(b=null);var O=!1;if(b===null)O=!0;else switch($){case"bigint":case"string":case"number":O=!0;break;case"object":switch(b.$$typeof){case o:case t:O=!0;break;case v:return O=b._init,k(O(b._payload),V,X,ee,se)}}if(O)return se=se(b),O=ee===""?"."+He(b,0):ee,Y(se)?(X="",O!=null&&(X=O.replace(Te,"$&/")+"/"),k(se,V,X,"",function(Ut){return Ut})):se!=null&&(ve(se)&&(se=de(se,X+(se.key==null||b&&b.key===se.key?"":(""+se.key).replace(Te,"$&/")+"/")+O)),V.push(se)),1;O=0;var Le=ee===""?".":ee+":";if(Y(b))for(var Se=0;Se<b.length;Se++)ee=b[Se],$=Le+He(ee,Se),O+=k(ee,V,X,$,se);else if(Se=x(b),typeof Se=="function")for(b=Se.call(b),Se=0;!(ee=b.next()).done;)ee=ee.value,$=Le+He(ee,Se++),O+=k(ee,V,X,$,se);else if($==="object"){if(typeof b.then=="function")return k(Ke(b),V,X,ee,se);throw V=String(b),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.")}return O}function J(b,V,X){if(b==null)return b;var ee=[],se=0;return k(b,ee,"","",function($){return V.call(X,$,se++)}),ee}function le(b){if(b._status===-1){var V=b._result;V=V(),V.then(function(X){(b._status===0||b._status===-1)&&(b._status=1,b._result=X)},function(X){(b._status===0||b._status===-1)&&(b._status=2,b._result=X)}),b._status===-1&&(b._status=0,b._result=V)}if(b._status===1)return b._result.default;throw b._result}var Ne=typeof reportError=="function"?reportError:function(b){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var V=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof b=="object"&&b!==null&&typeof b.message=="string"?String(b.message):String(b),error:b});if(!window.dispatchEvent(V))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",b);return}console.error(b)},Me={map:J,forEach:function(b,V,X){J(b,function(){V.apply(this,arguments)},X)},count:function(b){var V=0;return J(b,function(){V++}),V},toArray:function(b){return J(b,function(V){return V})||[]},only:function(b){if(!ve(b))throw Error("React.Children.only expected to receive a single React element child.");return b}};return he.Activity=T,he.Children=Me,he.Component=P,he.Fragment=l,he.Profiler=r,he.PureComponent=F,he.StrictMode=a,he.Suspense=y,he.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=W,he.__COMPILER_RUNTIME={__proto__:null,c:function(b){return W.H.useMemoCache(b)}},he.cache=function(b){return function(){return b.apply(null,arguments)}},he.cacheSignal=function(){return null},he.cloneElement=function(b,V,X){if(b==null)throw Error("The argument must be a React element, but you passed "+b+".");var ee=H({},b.props),se=b.key;if(V!=null)for($ in V.key!==void 0&&(se=""+V.key),V)!ye.call(V,$)||$==="key"||$==="__self"||$==="__source"||$==="ref"&&V.ref===void 0||(ee[$]=V[$]);var $=arguments.length-2;if($===1)ee.children=X;else if(1<$){for(var O=Array($),Le=0;Le<$;Le++)O[Le]=arguments[Le+2];ee.children=O}return j(b.type,se,ee)},he.createContext=function(b){return b={$$typeof:h,_currentValue:b,_currentValue2:b,_threadCount:0,Provider:null,Consumer:null},b.Provider=b,b.Consumer={$$typeof:f,_context:b},b},he.createElement=function(b,V,X){var ee,se={},$=null;if(V!=null)for(ee in V.key!==void 0&&($=""+V.key),V)ye.call(V,ee)&&ee!=="key"&&ee!=="__self"&&ee!=="__source"&&(se[ee]=V[ee]);var O=arguments.length-2;if(O===1)se.children=X;else if(1<O){for(var Le=Array(O),Se=0;Se<O;Se++)Le[Se]=arguments[Se+2];se.children=Le}if(b&&b.defaultProps)for(ee in O=b.defaultProps,O)se[ee]===void 0&&(se[ee]=O[ee]);return j(b,$,se)},he.createRef=function(){return{current:null}},he.forwardRef=function(b){return{$$typeof:g,render:b}},he.isValidElement=ve,he.lazy=function(b){return{$$typeof:v,_payload:{_status:-1,_result:b},_init:le}},he.memo=function(b,V){return{$$typeof:m,type:b,compare:V===void 0?null:V}},he.startTransition=function(b){var V=W.T,X={};W.T=X;try{var ee=b(),se=W.S;se!==null&&se(X,ee),typeof ee=="object"&&ee!==null&&typeof ee.then=="function"&&ee.then(ne,Ne)}catch($){Ne($)}finally{V!==null&&X.types!==null&&(V.types=X.types),W.T=V}},he.unstable_useCacheRefresh=function(){return W.H.useCacheRefresh()},he.use=function(b){return W.H.use(b)},he.useActionState=function(b,V,X){return W.H.useActionState(b,V,X)},he.useCallback=function(b,V){return W.H.useCallback(b,V)},he.useContext=function(b){return W.H.useContext(b)},he.useDebugValue=function(){},he.useDeferredValue=function(b,V){return W.H.useDeferredValue(b,V)},he.useEffect=function(b,V){return W.H.useEffect(b,V)},he.useEffectEvent=function(b){return W.H.useEffectEvent(b)},he.useId=function(){return W.H.useId()},he.useImperativeHandle=function(b,V,X){return W.H.useImperativeHandle(b,V,X)},he.useInsertionEffect=function(b,V){return W.H.useInsertionEffect(b,V)},he.useLayoutEffect=function(b,V){return W.H.useLayoutEffect(b,V)},he.useMemo=function(b,V){return W.H.useMemo(b,V)},he.useOptimistic=function(b,V){return W.H.useOptimistic(b,V)},he.useReducer=function(b,V,X){return W.H.useReducer(b,V,X)},he.useRef=function(b){return W.H.useRef(b)},he.useState=function(b){return W.H.useState(b)},he.useSyncExternalStore=function(b,V,X){return W.H.useSyncExternalStore(b,V,X)},he.useTransition=function(){return W.H.useTransition()},he.version="19.2.3",he}var ep;function Pu(){return ep||(ep=1,yu.exports=pv()),yu.exports}var re=Pu();const mv=$m(re);var vu={exports:{}},hl={},Su={exports:{}},Tu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tp;function gv(){return tp||(tp=1,(function(o){function t(k,J){var le=k.length;k.push(J);e:for(;0<le;){var Ne=le-1>>>1,Me=k[Ne];if(0<r(Me,J))k[Ne]=J,k[le]=Me,le=Ne;else break e}}function l(k){return k.length===0?null:k[0]}function a(k){if(k.length===0)return null;var J=k[0],le=k.pop();if(le!==J){k[0]=le;e:for(var Ne=0,Me=k.length,b=Me>>>1;Ne<b;){var V=2*(Ne+1)-1,X=k[V],ee=V+1,se=k[ee];if(0>r(X,le))ee<Me&&0>r(se,X)?(k[Ne]=se,k[ee]=le,Ne=ee):(k[Ne]=X,k[V]=le,Ne=V);else if(ee<Me&&0>r(se,le))k[Ne]=se,k[ee]=le,Ne=ee;else break e}}return J}function r(k,J){var le=k.sortIndex-J.sortIndex;return le!==0?le:k.id-J.id}if(o.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;o.unstable_now=function(){return f.now()}}else{var h=Date,g=h.now();o.unstable_now=function(){return h.now()-g}}var y=[],m=[],v=1,T=null,E=3,x=!1,D=!1,H=!1,U=!1,P=typeof setTimeout=="function"?setTimeout:null,K=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function Q(k){for(var J=l(m);J!==null;){if(J.callback===null)a(m);else if(J.startTime<=k)a(m),J.sortIndex=J.expirationTime,t(y,J);else break;J=l(m)}}function Y(k){if(H=!1,Q(k),!D)if(l(y)!==null)D=!0,ne||(ne=!0,be());else{var J=l(m);J!==null&&Ke(Y,J.startTime-k)}}var ne=!1,W=-1,ye=5,j=-1;function de(){return U?!0:!(o.unstable_now()-j<ye)}function ve(){if(U=!1,ne){var k=o.unstable_now();j=k;var J=!0;try{e:{D=!1,H&&(H=!1,K(W),W=-1),x=!0;var le=E;try{t:{for(Q(k),T=l(y);T!==null&&!(T.expirationTime>k&&de());){var Ne=T.callback;if(typeof Ne=="function"){T.callback=null,E=T.priorityLevel;var Me=Ne(T.expirationTime<=k);if(k=o.unstable_now(),typeof Me=="function"){T.callback=Me,Q(k),J=!0;break t}T===l(y)&&a(y),Q(k)}else a(y);T=l(y)}if(T!==null)J=!0;else{var b=l(m);b!==null&&Ke(Y,b.startTime-k),J=!1}}break e}finally{T=null,E=le,x=!1}J=void 0}}finally{J?be():ne=!1}}}var be;if(typeof F=="function")be=function(){F(ve)};else if(typeof MessageChannel<"u"){var Te=new MessageChannel,He=Te.port2;Te.port1.onmessage=ve,be=function(){He.postMessage(null)}}else be=function(){P(ve,0)};function Ke(k,J){W=P(function(){k(o.unstable_now())},J)}o.unstable_IdlePriority=5,o.unstable_ImmediatePriority=1,o.unstable_LowPriority=4,o.unstable_NormalPriority=3,o.unstable_Profiling=null,o.unstable_UserBlockingPriority=2,o.unstable_cancelCallback=function(k){k.callback=null},o.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ye=0<k?Math.floor(1e3/k):5},o.unstable_getCurrentPriorityLevel=function(){return E},o.unstable_next=function(k){switch(E){case 1:case 2:case 3:var J=3;break;default:J=E}var le=E;E=J;try{return k()}finally{E=le}},o.unstable_requestPaint=function(){U=!0},o.unstable_runWithPriority=function(k,J){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var le=E;E=k;try{return J()}finally{E=le}},o.unstable_scheduleCallback=function(k,J,le){var Ne=o.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?Ne+le:Ne):le=Ne,k){case 1:var Me=-1;break;case 2:Me=250;break;case 5:Me=1073741823;break;case 4:Me=1e4;break;default:Me=5e3}return Me=le+Me,k={id:v++,callback:J,priorityLevel:k,startTime:le,expirationTime:Me,sortIndex:-1},le>Ne?(k.sortIndex=le,t(m,k),l(y)===null&&k===l(m)&&(H?(K(W),W=-1):H=!0,Ke(Y,le-Ne))):(k.sortIndex=Me,t(y,k),D||x||(D=!0,ne||(ne=!0,be()))),k},o.unstable_shouldYield=de,o.unstable_wrapCallback=function(k){var J=E;return function(){var le=E;E=J;try{return k.apply(this,arguments)}finally{E=le}}}})(Tu)),Tu}var np;function yv(){return np||(np=1,Su.exports=gv()),Su.exports}var Eu={exports:{}},dt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var op;function vv(){if(op)return dt;op=1;var o=Pu();function t(y){var m="https://react.dev/errors/"+y;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)m+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+y+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var a={d:{f:l,r:function(){throw Error(t(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},r=Symbol.for("react.portal");function f(y,m,v){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:T==null?null:""+T,children:y,containerInfo:m,implementation:v}}var h=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,m){if(y==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return dt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,dt.createPortal=function(y,m){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return f(y,m,null,v)},dt.flushSync=function(y){var m=h.T,v=a.p;try{if(h.T=null,a.p=2,y)return y()}finally{h.T=m,a.p=v,a.d.f()}},dt.preconnect=function(y,m){typeof y=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,a.d.C(y,m))},dt.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},dt.preinit=function(y,m){if(typeof y=="string"&&m&&typeof m.as=="string"){var v=m.as,T=g(v,m.crossOrigin),E=typeof m.integrity=="string"?m.integrity:void 0,x=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;v==="style"?a.d.S(y,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:T,integrity:E,fetchPriority:x}):v==="script"&&a.d.X(y,{crossOrigin:T,integrity:E,fetchPriority:x,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},dt.preinitModule=function(y,m){if(typeof y=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var v=g(m.as,m.crossOrigin);a.d.M(y,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&a.d.M(y)},dt.preload=function(y,m){if(typeof y=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var v=m.as,T=g(v,m.crossOrigin);a.d.L(y,v,{crossOrigin:T,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},dt.preloadModule=function(y,m){if(typeof y=="string")if(m){var v=g(m.as,m.crossOrigin);a.d.m(y,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else a.d.m(y)},dt.requestFormReset=function(y){a.d.r(y)},dt.unstable_batchedUpdates=function(y,m){return y(m)},dt.useFormState=function(y,m,v){return h.H.useFormState(y,m,v)},dt.useFormStatus=function(){return h.H.useHostTransitionStatus()},dt.version="19.2.3",dt}var ip;function Sv(){if(ip)return Eu.exports;ip=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(t){console.error(t)}}return o(),Eu.exports=vv(),Eu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lp;function Tv(){if(lp)return hl;lp=1;var o=yv(),t=Pu(),l=Sv();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)n+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var n=e,i=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(i=n.return),e=n.return;while(e)}return n.tag===3?i:null}function h(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(f(e)!==e)throw Error(a(188))}function m(e){var n=e.alternate;if(!n){if(n=f(e),n===null)throw Error(a(188));return n!==e?null:e}for(var i=e,s=n;;){var d=i.return;if(d===null)break;var p=d.alternate;if(p===null){if(s=d.return,s!==null){i=s;continue}break}if(d.child===p.child){for(p=d.child;p;){if(p===i)return y(d),e;if(p===s)return y(d),n;p=p.sibling}throw Error(a(188))}if(i.return!==s.return)i=d,s=p;else{for(var S=!1,C=d.child;C;){if(C===i){S=!0,i=d,s=p;break}if(C===s){S=!0,s=d,i=p;break}C=C.sibling}if(!S){for(C=p.child;C;){if(C===i){S=!0,i=p,s=d;break}if(C===s){S=!0,s=p,i=d;break}C=C.sibling}if(!S)throw Error(a(189))}}if(i.alternate!==s)throw Error(a(190))}if(i.tag!==3)throw Error(a(188));return i.stateNode.current===i?e:n}function v(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=v(e),n!==null)return n;e=e.sibling}return null}var T=Object.assign,E=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),H=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),K=Symbol.for("react.consumer"),F=Symbol.for("react.context"),Q=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),ne=Symbol.for("react.suspense_list"),W=Symbol.for("react.memo"),ye=Symbol.for("react.lazy"),j=Symbol.for("react.activity"),de=Symbol.for("react.memo_cache_sentinel"),ve=Symbol.iterator;function be(e){return e===null||typeof e!="object"?null:(e=ve&&e[ve]||e["@@iterator"],typeof e=="function"?e:null)}var Te=Symbol.for("react.client.reference");function He(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Te?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case H:return"Fragment";case P:return"Profiler";case U:return"StrictMode";case Y:return"Suspense";case ne:return"SuspenseList";case j:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case D:return"Portal";case F:return e.displayName||"Context";case K:return(e._context.displayName||"Context")+".Consumer";case Q:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case W:return n=e.displayName||null,n!==null?n:He(e.type)||"Memo";case ye:n=e._payload,e=e._init;try{return He(e(n))}catch{}}return null}var Ke=Array.isArray,k=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le={pending:!1,data:null,method:null,action:null},Ne=[],Me=-1;function b(e){return{current:e}}function V(e){0>Me||(e.current=Ne[Me],Ne[Me]=null,Me--)}function X(e,n){Me++,Ne[Me]=e.current,e.current=n}var ee=b(null),se=b(null),$=b(null),O=b(null);function Le(e,n){switch(X($,n),X(se,e),X(ee,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Th(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Th(n),e=Eh(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}V(ee),X(ee,e)}function Se(){V(ee),V(se),V($)}function Ut(e){e.memoizedState!==null&&X(O,e);var n=ee.current,i=Eh(n,e.type);n!==i&&(X(se,e),X(ee,i))}function Lt(e){se.current===e&&(V(ee),V(se)),O.current===e&&(V(O),rl._currentValue=le)}var ft,Nn;function on(e){if(ft===void 0)try{throw Error()}catch(i){var n=i.stack.trim().match(/\n( *(at )?)/);ft=n&&n[1]||"",Nn=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ft+e+Nn}var mi=!1;function gi(e,n){if(!e||mi)return"";mi=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(n){var B=function(){throw Error()};if(Object.defineProperty(B.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(B,[])}catch(L){var I=L}Reflect.construct(e,[],B)}else{try{B.call()}catch(L){I=L}e.call(B.prototype)}}else{try{throw Error()}catch(L){I=L}(B=e())&&typeof B.catch=="function"&&B.catch(function(){})}}catch(L){if(L&&I&&typeof L.stack=="string")return[L.stack,I.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=s.DetermineComponentFrameRoot(),S=p[0],C=p[1];if(S&&C){var A=S.split(`
`),M=C.split(`
`);for(d=s=0;s<A.length&&!A[s].includes("DetermineComponentFrameRoot");)s++;for(;d<M.length&&!M[d].includes("DetermineComponentFrameRoot");)d++;if(s===A.length||d===M.length)for(s=A.length-1,d=M.length-1;1<=s&&0<=d&&A[s]!==M[d];)d--;for(;1<=s&&0<=d;s--,d--)if(A[s]!==M[d]){if(s!==1||d!==1)do if(s--,d--,0>d||A[s]!==M[d]){var G=`
`+A[s].replace(" at new "," at ");return e.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",e.displayName)),G}while(1<=s&&0<=d);break}}}finally{mi=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?on(i):""}function vl(e,n){switch(e.tag){case 26:case 27:case 5:return on(e.type);case 16:return on("Lazy");case 13:return e.child!==n&&n!==null?on("Suspense Fallback"):on("Suspense");case 19:return on("SuspenseList");case 0:case 15:return gi(e.type,!1);case 11:return gi(e.type.render,!1);case 1:return gi(e.type,!0);case 31:return on("Activity");default:return""}}function Sl(e){try{var n="",i=null;do n+=vl(e,i),i=e,e=e.return;while(e);return n}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var yi=Object.prototype.hasOwnProperty,vi=o.unstable_scheduleCallback,Si=o.unstable_cancelCallback,q=o.unstable_shouldYield,ce=o.unstable_requestPaint,pe=o.unstable_now,we=o.unstable_getCurrentPriorityLevel,Ce=o.unstable_ImmediatePriority,to=o.unstable_UserBlockingPriority,Tl=o.unstable_NormalPriority,Wg=o.unstable_LowPriority,ju=o.unstable_IdlePriority,Kg=o.log,Xg=o.unstable_setDisableYieldValue,Ti=null,xt=null;function wn(e){if(typeof Kg=="function"&&Xg(e),xt&&typeof xt.setStrictMode=="function")try{xt.setStrictMode(Ti,e)}catch{}}var At=Math.clz32?Math.clz32:$g,Qg=Math.log,Zg=Math.LN2;function $g(e){return e>>>=0,e===0?32:31-(Qg(e)/Zg|0)|0}var El=256,_l=262144,Cl=4194304;function no(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function xl(e,n,i){var s=e.pendingLanes;if(s===0)return 0;var d=0,p=e.suspendedLanes,S=e.pingedLanes;e=e.warmLanes;var C=s&134217727;return C!==0?(s=C&~p,s!==0?d=no(s):(S&=C,S!==0?d=no(S):i||(i=C&~e,i!==0&&(d=no(i))))):(C=s&~p,C!==0?d=no(C):S!==0?d=no(S):i||(i=s&~e,i!==0&&(d=no(i)))),d===0?0:n!==0&&n!==d&&(n&p)===0&&(p=d&-d,i=n&-n,p>=i||p===32&&(i&4194048)!==0)?n:d}function Ei(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function jg(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ec(){var e=Cl;return Cl<<=1,(Cl&62914560)===0&&(Cl=4194304),e}function is(e){for(var n=[],i=0;31>i;i++)n.push(e);return n}function _i(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function ey(e,n,i,s,d,p){var S=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var C=e.entanglements,A=e.expirationTimes,M=e.hiddenUpdates;for(i=S&~i;0<i;){var G=31-At(i),B=1<<G;C[G]=0,A[G]=-1;var I=M[G];if(I!==null)for(M[G]=null,G=0;G<I.length;G++){var L=I[G];L!==null&&(L.lane&=-536870913)}i&=~B}s!==0&&tc(e,s,0),p!==0&&d===0&&e.tag!==0&&(e.suspendedLanes|=p&~(S&~n))}function tc(e,n,i){e.pendingLanes|=n,e.suspendedLanes&=~n;var s=31-At(n);e.entangledLanes|=n,e.entanglements[s]=e.entanglements[s]|1073741824|i&261930}function nc(e,n){var i=e.entangledLanes|=n;for(e=e.entanglements;i;){var s=31-At(i),d=1<<s;d&n|e[s]&n&&(e[s]|=n),i&=~d}}function oc(e,n){var i=n&-n;return i=(i&42)!==0?1:ls(i),(i&(e.suspendedLanes|n))!==0?0:i}function ls(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function as(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ic(){var e=J.p;return e!==0?e:(e=window.event,e===void 0?32:Fh(e.type))}function lc(e,n){var i=J.p;try{return J.p=e,n()}finally{J.p=i}}var Rn=Math.random().toString(36).slice(2),at="__reactFiber$"+Rn,yt="__reactProps$"+Rn,Co="__reactContainer$"+Rn,ss="__reactEvents$"+Rn,ty="__reactListeners$"+Rn,ny="__reactHandles$"+Rn,ac="__reactResources$"+Rn,Ci="__reactMarker$"+Rn;function rs(e){delete e[at],delete e[yt],delete e[ss],delete e[ty],delete e[ny]}function xo(e){var n=e[at];if(n)return n;for(var i=e.parentNode;i;){if(n=i[Co]||i[at]){if(i=n.alternate,n.child!==null||i!==null&&i.child!==null)for(e=wh(e);e!==null;){if(i=e[at])return i;e=wh(e)}return n}e=i,i=e.parentNode}return null}function Ao(e){if(e=e[at]||e[Co]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function xi(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function bo(e){var n=e[ac];return n||(n=e[ac]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function nt(e){e[Ci]=!0}var sc=new Set,rc={};function oo(e,n){No(e,n),No(e+"Capture",n)}function No(e,n){for(rc[e]=n,e=0;e<n.length;e++)sc.add(n[e])}var oy=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),uc={},cc={};function iy(e){return yi.call(cc,e)?!0:yi.call(uc,e)?!1:oy.test(e)?cc[e]=!0:(uc[e]=!0,!1)}function Al(e,n,i){if(iy(n))if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var s=n.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+i)}}function bl(e,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+i)}}function ln(e,n,i,s){if(s===null)e.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(n,i,""+s)}}function kt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function fc(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function ly(e,n,i){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var d=s.get,p=s.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return d.call(this)},set:function(S){i=""+S,p.call(this,S)}}),Object.defineProperty(e,n,{enumerable:s.enumerable}),{getValue:function(){return i},setValue:function(S){i=""+S},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function us(e){if(!e._valueTracker){var n=fc(e)?"checked":"value";e._valueTracker=ly(e,n,""+e[n])}}function dc(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var i=n.getValue(),s="";return e&&(s=fc(e)?e.checked?"true":"false":e.value),e=s,e!==i?(n.setValue(e),!0):!1}function Nl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ay=/[\n"\\]/g;function Ht(e){return e.replace(ay,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function cs(e,n,i,s,d,p,S,C){e.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?e.type=S:e.removeAttribute("type"),n!=null?S==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+kt(n)):e.value!==""+kt(n)&&(e.value=""+kt(n)):S!=="submit"&&S!=="reset"||e.removeAttribute("value"),n!=null?fs(e,S,kt(n)):i!=null?fs(e,S,kt(i)):s!=null&&e.removeAttribute("value"),d==null&&p!=null&&(e.defaultChecked=!!p),d!=null&&(e.checked=d&&typeof d!="function"&&typeof d!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?e.name=""+kt(C):e.removeAttribute("name")}function hc(e,n,i,s,d,p,S,C){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.type=p),n!=null||i!=null){if(!(p!=="submit"&&p!=="reset"||n!=null)){us(e);return}i=i!=null?""+kt(i):"",n=n!=null?""+kt(n):i,C||n===e.value||(e.value=n),e.defaultValue=n}s=s??d,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=C?e.checked:!!s,e.defaultChecked=!!s,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(e.name=S),us(e)}function fs(e,n,i){n==="number"&&Nl(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function wo(e,n,i,s){if(e=e.options,n){n={};for(var d=0;d<i.length;d++)n["$"+i[d]]=!0;for(i=0;i<e.length;i++)d=n.hasOwnProperty("$"+e[i].value),e[i].selected!==d&&(e[i].selected=d),d&&s&&(e[i].defaultSelected=!0)}else{for(i=""+kt(i),n=null,d=0;d<e.length;d++){if(e[d].value===i){e[d].selected=!0,s&&(e[d].defaultSelected=!0);return}n!==null||e[d].disabled||(n=e[d])}n!==null&&(n.selected=!0)}}function pc(e,n,i){if(n!=null&&(n=""+kt(n),n!==e.value&&(e.value=n),i==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=i!=null?""+kt(i):""}function mc(e,n,i,s){if(n==null){if(s!=null){if(i!=null)throw Error(a(92));if(Ke(s)){if(1<s.length)throw Error(a(93));s=s[0]}i=s}i==null&&(i=""),n=i}i=kt(n),e.defaultValue=i,s=e.textContent,s===i&&s!==""&&s!==null&&(e.value=s),us(e)}function Ro(e,n){if(n){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=n;return}}e.textContent=n}var sy=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function gc(e,n,i){var s=n.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?s?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":s?e.setProperty(n,i):typeof i!="number"||i===0||sy.has(n)?n==="float"?e.cssFloat=i:e[n]=(""+i).trim():e[n]=i+"px"}function yc(e,n,i){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,i!=null){for(var s in i)!i.hasOwnProperty(s)||n!=null&&n.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var d in n)s=n[d],n.hasOwnProperty(d)&&i[d]!==s&&gc(e,d,s)}else for(var p in n)n.hasOwnProperty(p)&&gc(e,p,n[p])}function ds(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ry=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),uy=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function wl(e){return uy.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function an(){}var hs=null;function ps(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Mo=null,Io=null;function vc(e){var n=Ao(e);if(n&&(e=n.stateNode)){var i=e[yt]||null;e:switch(e=n.stateNode,n.type){case"input":if(cs(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),n=i.name,i.type==="radio"&&n!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+Ht(""+n)+'"][type="radio"]'),n=0;n<i.length;n++){var s=i[n];if(s!==e&&s.form===e.form){var d=s[yt]||null;if(!d)throw Error(a(90));cs(s,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(n=0;n<i.length;n++)s=i[n],s.form===e.form&&dc(s)}break e;case"textarea":pc(e,i.value,i.defaultValue);break e;case"select":n=i.value,n!=null&&wo(e,!!i.multiple,n,!1)}}}var ms=!1;function Sc(e,n,i){if(ms)return e(n,i);ms=!0;try{var s=e(n);return s}finally{if(ms=!1,(Mo!==null||Io!==null)&&(ma(),Mo&&(n=Mo,e=Io,Io=Mo=null,vc(n),e)))for(n=0;n<e.length;n++)vc(e[n])}}function Ai(e,n){var i=e.stateNode;if(i===null)return null;var s=i[yt]||null;if(s===null)return null;i=s[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(a(231,n,typeof i));return i}var sn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gs=!1;if(sn)try{var bi={};Object.defineProperty(bi,"passive",{get:function(){gs=!0}}),window.addEventListener("test",bi,bi),window.removeEventListener("test",bi,bi)}catch{gs=!1}var Mn=null,ys=null,Rl=null;function Tc(){if(Rl)return Rl;var e,n=ys,i=n.length,s,d="value"in Mn?Mn.value:Mn.textContent,p=d.length;for(e=0;e<i&&n[e]===d[e];e++);var S=i-e;for(s=1;s<=S&&n[i-s]===d[p-s];s++);return Rl=d.slice(e,1<s?1-s:void 0)}function Ml(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Il(){return!0}function Ec(){return!1}function vt(e){function n(i,s,d,p,S){this._reactName=i,this._targetInst=d,this.type=s,this.nativeEvent=p,this.target=S,this.currentTarget=null;for(var C in e)e.hasOwnProperty(C)&&(i=e[C],this[C]=i?i(p):p[C]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Il:Ec,this.isPropagationStopped=Ec,this}return T(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Il)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Il)},persist:function(){},isPersistent:Il}),n}var io={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Dl=vt(io),Ni=T({},io,{view:0,detail:0}),cy=vt(Ni),vs,Ss,wi,Ul=T({},Ni,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Es,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==wi&&(wi&&e.type==="mousemove"?(vs=e.screenX-wi.screenX,Ss=e.screenY-wi.screenY):Ss=vs=0,wi=e),vs)},movementY:function(e){return"movementY"in e?e.movementY:Ss}}),_c=vt(Ul),fy=T({},Ul,{dataTransfer:0}),dy=vt(fy),hy=T({},Ni,{relatedTarget:0}),Ts=vt(hy),py=T({},io,{animationName:0,elapsedTime:0,pseudoElement:0}),my=vt(py),gy=T({},io,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yy=vt(gy),vy=T({},io,{data:0}),Cc=vt(vy),Sy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ty={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ey={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _y(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Ey[e])?!!n[e]:!1}function Es(){return _y}var Cy=T({},Ni,{key:function(e){if(e.key){var n=Sy[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Ml(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ty[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Es,charCode:function(e){return e.type==="keypress"?Ml(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ml(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),xy=vt(Cy),Ay=T({},Ul,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xc=vt(Ay),by=T({},Ni,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Es}),Ny=vt(by),wy=T({},io,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ry=vt(wy),My=T({},Ul,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Iy=vt(My),Dy=T({},io,{newState:0,oldState:0}),Uy=vt(Dy),Ly=[9,13,27,32],_s=sn&&"CompositionEvent"in window,Ri=null;sn&&"documentMode"in document&&(Ri=document.documentMode);var ky=sn&&"TextEvent"in window&&!Ri,Ac=sn&&(!_s||Ri&&8<Ri&&11>=Ri),bc=" ",Nc=!1;function wc(e,n){switch(e){case"keyup":return Ly.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Do=!1;function Hy(e,n){switch(e){case"compositionend":return Rc(n);case"keypress":return n.which!==32?null:(Nc=!0,bc);case"textInput":return e=n.data,e===bc&&Nc?null:e;default:return null}}function Gy(e,n){if(Do)return e==="compositionend"||!_s&&wc(e,n)?(e=Tc(),Rl=ys=Mn=null,Do=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ac&&n.locale!=="ko"?null:n.data;default:return null}}var Vy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mc(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Vy[e.type]:n==="textarea"}function Ic(e,n,i,s){Mo?Io?Io.push(s):Io=[s]:Mo=s,n=_a(n,"onChange"),0<n.length&&(i=new Dl("onChange","change",null,i,s),e.push({event:i,listeners:n}))}var Mi=null,Ii=null;function qy(e){ph(e,0)}function Ll(e){var n=xi(e);if(dc(n))return e}function Dc(e,n){if(e==="change")return n}var Uc=!1;if(sn){var Cs;if(sn){var xs="oninput"in document;if(!xs){var Lc=document.createElement("div");Lc.setAttribute("oninput","return;"),xs=typeof Lc.oninput=="function"}Cs=xs}else Cs=!1;Uc=Cs&&(!document.documentMode||9<document.documentMode)}function kc(){Mi&&(Mi.detachEvent("onpropertychange",Hc),Ii=Mi=null)}function Hc(e){if(e.propertyName==="value"&&Ll(Ii)){var n=[];Ic(n,Ii,e,ps(e)),Sc(qy,n)}}function zy(e,n,i){e==="focusin"?(kc(),Mi=n,Ii=i,Mi.attachEvent("onpropertychange",Hc)):e==="focusout"&&kc()}function By(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ll(Ii)}function Py(e,n){if(e==="click")return Ll(n)}function Oy(e,n){if(e==="input"||e==="change")return Ll(n)}function Fy(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var bt=typeof Object.is=="function"?Object.is:Fy;function Di(e,n){if(bt(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var i=Object.keys(e),s=Object.keys(n);if(i.length!==s.length)return!1;for(s=0;s<i.length;s++){var d=i[s];if(!yi.call(n,d)||!bt(e[d],n[d]))return!1}return!0}function Gc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Vc(e,n){var i=Gc(e);e=0;for(var s;i;){if(i.nodeType===3){if(s=e+i.textContent.length,e<=n&&s>=n)return{node:i,offset:n-e};e=s}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Gc(i)}}function qc(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?qc(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function zc(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Nl(e.document);n instanceof e.HTMLIFrameElement;){try{var i=typeof n.contentWindow.location.href=="string"}catch{i=!1}if(i)e=n.contentWindow;else break;n=Nl(e.document)}return n}function As(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var Jy=sn&&"documentMode"in document&&11>=document.documentMode,Uo=null,bs=null,Ui=null,Ns=!1;function Bc(e,n,i){var s=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Ns||Uo==null||Uo!==Nl(s)||(s=Uo,"selectionStart"in s&&As(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Ui&&Di(Ui,s)||(Ui=s,s=_a(bs,"onSelect"),0<s.length&&(n=new Dl("onSelect","select",null,n,i),e.push({event:n,listeners:s}),n.target=Uo)))}function lo(e,n){var i={};return i[e.toLowerCase()]=n.toLowerCase(),i["Webkit"+e]="webkit"+n,i["Moz"+e]="moz"+n,i}var Lo={animationend:lo("Animation","AnimationEnd"),animationiteration:lo("Animation","AnimationIteration"),animationstart:lo("Animation","AnimationStart"),transitionrun:lo("Transition","TransitionRun"),transitionstart:lo("Transition","TransitionStart"),transitioncancel:lo("Transition","TransitionCancel"),transitionend:lo("Transition","TransitionEnd")},ws={},Pc={};sn&&(Pc=document.createElement("div").style,"AnimationEvent"in window||(delete Lo.animationend.animation,delete Lo.animationiteration.animation,delete Lo.animationstart.animation),"TransitionEvent"in window||delete Lo.transitionend.transition);function ao(e){if(ws[e])return ws[e];if(!Lo[e])return e;var n=Lo[e],i;for(i in n)if(n.hasOwnProperty(i)&&i in Pc)return ws[e]=n[i];return e}var Oc=ao("animationend"),Fc=ao("animationiteration"),Jc=ao("animationstart"),Yy=ao("transitionrun"),Wy=ao("transitionstart"),Ky=ao("transitioncancel"),Yc=ao("transitionend"),Wc=new Map,Rs="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Rs.push("scrollEnd");function Wt(e,n){Wc.set(e,n),oo(n,[e])}var kl=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Gt=[],ko=0,Ms=0;function Hl(){for(var e=ko,n=Ms=ko=0;n<e;){var i=Gt[n];Gt[n++]=null;var s=Gt[n];Gt[n++]=null;var d=Gt[n];Gt[n++]=null;var p=Gt[n];if(Gt[n++]=null,s!==null&&d!==null){var S=s.pending;S===null?d.next=d:(d.next=S.next,S.next=d),s.pending=d}p!==0&&Kc(i,d,p)}}function Gl(e,n,i,s){Gt[ko++]=e,Gt[ko++]=n,Gt[ko++]=i,Gt[ko++]=s,Ms|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function Is(e,n,i,s){return Gl(e,n,i,s),Vl(e)}function so(e,n){return Gl(e,null,null,n),Vl(e)}function Kc(e,n,i){e.lanes|=i;var s=e.alternate;s!==null&&(s.lanes|=i);for(var d=!1,p=e.return;p!==null;)p.childLanes|=i,s=p.alternate,s!==null&&(s.childLanes|=i),p.tag===22&&(e=p.stateNode,e===null||e._visibility&1||(d=!0)),e=p,p=p.return;return e.tag===3?(p=e.stateNode,d&&n!==null&&(d=31-At(i),e=p.hiddenUpdates,s=e[d],s===null?e[d]=[n]:s.push(n),n.lane=i|536870912),p):null}function Vl(e){if(50<tl)throw tl=0,zr=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Ho={};function Xy(e,n,i,s){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nt(e,n,i,s){return new Xy(e,n,i,s)}function Ds(e){return e=e.prototype,!(!e||!e.isReactComponent)}function rn(e,n){var i=e.alternate;return i===null?(i=Nt(e.tag,n,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=n,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&65011712,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,n=e.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function Xc(e,n){e.flags&=65011714;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,n=i.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function ql(e,n,i,s,d,p){var S=0;if(s=e,typeof e=="function")Ds(e)&&(S=1);else if(typeof e=="string")S=ev(e,i,ee.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case j:return e=Nt(31,i,n,d),e.elementType=j,e.lanes=p,e;case H:return ro(i.children,d,p,n);case U:S=8,d|=24;break;case P:return e=Nt(12,i,n,d|2),e.elementType=P,e.lanes=p,e;case Y:return e=Nt(13,i,n,d),e.elementType=Y,e.lanes=p,e;case ne:return e=Nt(19,i,n,d),e.elementType=ne,e.lanes=p,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case F:S=10;break e;case K:S=9;break e;case Q:S=11;break e;case W:S=14;break e;case ye:S=16,s=null;break e}S=29,i=Error(a(130,e===null?"null":typeof e,"")),s=null}return n=Nt(S,i,n,d),n.elementType=e,n.type=s,n.lanes=p,n}function ro(e,n,i,s){return e=Nt(7,e,s,n),e.lanes=i,e}function Us(e,n,i){return e=Nt(6,e,null,n),e.lanes=i,e}function Qc(e){var n=Nt(18,null,null,0);return n.stateNode=e,n}function Ls(e,n,i){return n=Nt(4,e.children!==null?e.children:[],e.key,n),n.lanes=i,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Zc=new WeakMap;function Vt(e,n){if(typeof e=="object"&&e!==null){var i=Zc.get(e);return i!==void 0?i:(n={value:e,source:n,stack:Sl(n)},Zc.set(e,n),n)}return{value:e,source:n,stack:Sl(n)}}var Go=[],Vo=0,zl=null,Li=0,qt=[],zt=0,In=null,jt=1,en="";function un(e,n){Go[Vo++]=Li,Go[Vo++]=zl,zl=e,Li=n}function $c(e,n,i){qt[zt++]=jt,qt[zt++]=en,qt[zt++]=In,In=e;var s=jt;e=en;var d=32-At(s)-1;s&=~(1<<d),i+=1;var p=32-At(n)+d;if(30<p){var S=d-d%5;p=(s&(1<<S)-1).toString(32),s>>=S,d-=S,jt=1<<32-At(n)+d|i<<d|s,en=p+e}else jt=1<<p|i<<d|s,en=e}function ks(e){e.return!==null&&(un(e,1),$c(e,1,0))}function Hs(e){for(;e===zl;)zl=Go[--Vo],Go[Vo]=null,Li=Go[--Vo],Go[Vo]=null;for(;e===In;)In=qt[--zt],qt[zt]=null,en=qt[--zt],qt[zt]=null,jt=qt[--zt],qt[zt]=null}function jc(e,n){qt[zt++]=jt,qt[zt++]=en,qt[zt++]=In,jt=n.id,en=n.overflow,In=e}var st=null,Oe=null,Re=!1,Dn=null,Bt=!1,Gs=Error(a(519));function Un(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ki(Vt(n,e)),Gs}function ef(e){var n=e.stateNode,i=e.type,s=e.memoizedProps;switch(n[at]=e,n[yt]=s,i){case"dialog":_e("cancel",n),_e("close",n);break;case"iframe":case"object":case"embed":_e("load",n);break;case"video":case"audio":for(i=0;i<ol.length;i++)_e(ol[i],n);break;case"source":_e("error",n);break;case"img":case"image":case"link":_e("error",n),_e("load",n);break;case"details":_e("toggle",n);break;case"input":_e("invalid",n),hc(n,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":_e("invalid",n);break;case"textarea":_e("invalid",n),mc(n,s.value,s.defaultValue,s.children)}i=s.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||n.textContent===""+i||s.suppressHydrationWarning===!0||vh(n.textContent,i)?(s.popover!=null&&(_e("beforetoggle",n),_e("toggle",n)),s.onScroll!=null&&_e("scroll",n),s.onScrollEnd!=null&&_e("scrollend",n),s.onClick!=null&&(n.onclick=an),n=!0):n=!1,n||Un(e,!0)}function tf(e){for(st=e.return;st;)switch(st.tag){case 5:case 31:case 13:Bt=!1;return;case 27:case 3:Bt=!0;return;default:st=st.return}}function qo(e){if(e!==st)return!1;if(!Re)return tf(e),Re=!0,!1;var n=e.tag,i;if((i=n!==3&&n!==27)&&((i=n===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||tu(e.type,e.memoizedProps)),i=!i),i&&Oe&&Un(e),tf(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));Oe=Nh(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));Oe=Nh(e)}else n===27?(n=Oe,Wn(e.type)?(e=au,au=null,Oe=e):Oe=n):Oe=st?Ot(e.stateNode.nextSibling):null;return!0}function uo(){Oe=st=null,Re=!1}function Vs(){var e=Dn;return e!==null&&(_t===null?_t=e:_t.push.apply(_t,e),Dn=null),e}function ki(e){Dn===null?Dn=[e]:Dn.push(e)}var qs=b(null),co=null,cn=null;function Ln(e,n,i){X(qs,n._currentValue),n._currentValue=i}function fn(e){e._currentValue=qs.current,V(qs)}function zs(e,n,i){for(;e!==null;){var s=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,s!==null&&(s.childLanes|=n)):s!==null&&(s.childLanes&n)!==n&&(s.childLanes|=n),e===i)break;e=e.return}}function Bs(e,n,i,s){var d=e.child;for(d!==null&&(d.return=e);d!==null;){var p=d.dependencies;if(p!==null){var S=d.child;p=p.firstContext;e:for(;p!==null;){var C=p;p=d;for(var A=0;A<n.length;A++)if(C.context===n[A]){p.lanes|=i,C=p.alternate,C!==null&&(C.lanes|=i),zs(p.return,i,e),s||(S=null);break e}p=C.next}}else if(d.tag===18){if(S=d.return,S===null)throw Error(a(341));S.lanes|=i,p=S.alternate,p!==null&&(p.lanes|=i),zs(S,i,e),S=null}else S=d.child;if(S!==null)S.return=d;else for(S=d;S!==null;){if(S===e){S=null;break}if(d=S.sibling,d!==null){d.return=S.return,S=d;break}S=S.return}d=S}}function zo(e,n,i,s){e=null;for(var d=n,p=!1;d!==null;){if(!p){if((d.flags&524288)!==0)p=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var S=d.alternate;if(S===null)throw Error(a(387));if(S=S.memoizedProps,S!==null){var C=d.type;bt(d.pendingProps.value,S.value)||(e!==null?e.push(C):e=[C])}}else if(d===O.current){if(S=d.alternate,S===null)throw Error(a(387));S.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(e!==null?e.push(rl):e=[rl])}d=d.return}e!==null&&Bs(n,e,i,s),n.flags|=262144}function Bl(e){for(e=e.firstContext;e!==null;){if(!bt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function fo(e){co=e,cn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function rt(e){return nf(co,e)}function Pl(e,n){return co===null&&fo(e),nf(e,n)}function nf(e,n){var i=n._currentValue;if(n={context:n,memoizedValue:i,next:null},cn===null){if(e===null)throw Error(a(308));cn=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else cn=cn.next=n;return i}var Qy=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(i,s){e.push(s)}};this.abort=function(){n.aborted=!0,e.forEach(function(i){return i()})}},Zy=o.unstable_scheduleCallback,$y=o.unstable_NormalPriority,Ze={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ps(){return{controller:new Qy,data:new Map,refCount:0}}function Hi(e){e.refCount--,e.refCount===0&&Zy($y,function(){e.controller.abort()})}var Gi=null,Os=0,Bo=0,Po=null;function jy(e,n){if(Gi===null){var i=Gi=[];Os=0,Bo=Yr(),Po={status:"pending",value:void 0,then:function(s){i.push(s)}}}return Os++,n.then(of,of),n}function of(){if(--Os===0&&Gi!==null){Po!==null&&(Po.status="fulfilled");var e=Gi;Gi=null,Bo=0,Po=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function e0(e,n){var i=[],s={status:"pending",value:null,reason:null,then:function(d){i.push(d)}};return e.then(function(){s.status="fulfilled",s.value=n;for(var d=0;d<i.length;d++)(0,i[d])(n)},function(d){for(s.status="rejected",s.reason=d,d=0;d<i.length;d++)(0,i[d])(void 0)}),s}var lf=k.S;k.S=function(e,n){Pd=pe(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&jy(e,n),lf!==null&&lf(e,n)};var ho=b(null);function Fs(){var e=ho.current;return e!==null?e:Pe.pooledCache}function Ol(e,n){n===null?X(ho,ho.current):X(ho,n.pool)}function af(){var e=Fs();return e===null?null:{parent:Ze._currentValue,pool:e}}var Oo=Error(a(460)),Js=Error(a(474)),Fl=Error(a(542)),Jl={then:function(){}};function sf(e){return e=e.status,e==="fulfilled"||e==="rejected"}function rf(e,n,i){switch(i=e[i],i===void 0?e.push(n):i!==n&&(n.then(an,an),n=i),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,cf(e),e;default:if(typeof n.status=="string")n.then(an,an);else{if(e=Pe,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(s){if(n.status==="pending"){var d=n;d.status="fulfilled",d.value=s}},function(s){if(n.status==="pending"){var d=n;d.status="rejected",d.reason=s}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,cf(e),e}throw mo=n,Oo}}function po(e){try{var n=e._init;return n(e._payload)}catch(i){throw i!==null&&typeof i=="object"&&typeof i.then=="function"?(mo=i,Oo):i}}var mo=null;function uf(){if(mo===null)throw Error(a(459));var e=mo;return mo=null,e}function cf(e){if(e===Oo||e===Fl)throw Error(a(483))}var Fo=null,Vi=0;function Yl(e){var n=Vi;return Vi+=1,Fo===null&&(Fo=[]),rf(Fo,e,n)}function qi(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Wl(e,n){throw n.$$typeof===E?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function ff(e){function n(w,N){if(e){var R=w.deletions;R===null?(w.deletions=[N],w.flags|=16):R.push(N)}}function i(w,N){if(!e)return null;for(;N!==null;)n(w,N),N=N.sibling;return null}function s(w){for(var N=new Map;w!==null;)w.key!==null?N.set(w.key,w):N.set(w.index,w),w=w.sibling;return N}function d(w,N){return w=rn(w,N),w.index=0,w.sibling=null,w}function p(w,N,R){return w.index=R,e?(R=w.alternate,R!==null?(R=R.index,R<N?(w.flags|=67108866,N):R):(w.flags|=67108866,N)):(w.flags|=1048576,N)}function S(w){return e&&w.alternate===null&&(w.flags|=67108866),w}function C(w,N,R,z){return N===null||N.tag!==6?(N=Us(R,w.mode,z),N.return=w,N):(N=d(N,R),N.return=w,N)}function A(w,N,R,z){var ie=R.type;return ie===H?G(w,N,R.props.children,z,R.key):N!==null&&(N.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===ye&&po(ie)===N.type)?(N=d(N,R.props),qi(N,R),N.return=w,N):(N=ql(R.type,R.key,R.props,null,w.mode,z),qi(N,R),N.return=w,N)}function M(w,N,R,z){return N===null||N.tag!==4||N.stateNode.containerInfo!==R.containerInfo||N.stateNode.implementation!==R.implementation?(N=Ls(R,w.mode,z),N.return=w,N):(N=d(N,R.children||[]),N.return=w,N)}function G(w,N,R,z,ie){return N===null||N.tag!==7?(N=ro(R,w.mode,z,ie),N.return=w,N):(N=d(N,R),N.return=w,N)}function B(w,N,R){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Us(""+N,w.mode,R),N.return=w,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case x:return R=ql(N.type,N.key,N.props,null,w.mode,R),qi(R,N),R.return=w,R;case D:return N=Ls(N,w.mode,R),N.return=w,N;case ye:return N=po(N),B(w,N,R)}if(Ke(N)||be(N))return N=ro(N,w.mode,R,null),N.return=w,N;if(typeof N.then=="function")return B(w,Yl(N),R);if(N.$$typeof===F)return B(w,Pl(w,N),R);Wl(w,N)}return null}function I(w,N,R,z){var ie=N!==null?N.key:null;if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return ie!==null?null:C(w,N,""+R,z);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case x:return R.key===ie?A(w,N,R,z):null;case D:return R.key===ie?M(w,N,R,z):null;case ye:return R=po(R),I(w,N,R,z)}if(Ke(R)||be(R))return ie!==null?null:G(w,N,R,z,null);if(typeof R.then=="function")return I(w,N,Yl(R),z);if(R.$$typeof===F)return I(w,N,Pl(w,R),z);Wl(w,R)}return null}function L(w,N,R,z,ie){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return w=w.get(R)||null,C(N,w,""+z,ie);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case x:return w=w.get(z.key===null?R:z.key)||null,A(N,w,z,ie);case D:return w=w.get(z.key===null?R:z.key)||null,M(N,w,z,ie);case ye:return z=po(z),L(w,N,R,z,ie)}if(Ke(z)||be(z))return w=w.get(R)||null,G(N,w,z,ie,null);if(typeof z.then=="function")return L(w,N,R,Yl(z),ie);if(z.$$typeof===F)return L(w,N,R,Pl(N,z),ie);Wl(N,z)}return null}function te(w,N,R,z){for(var ie=null,Ie=null,oe=N,ge=N=0,Ae=null;oe!==null&&ge<R.length;ge++){oe.index>ge?(Ae=oe,oe=null):Ae=oe.sibling;var De=I(w,oe,R[ge],z);if(De===null){oe===null&&(oe=Ae);break}e&&oe&&De.alternate===null&&n(w,oe),N=p(De,N,ge),Ie===null?ie=De:Ie.sibling=De,Ie=De,oe=Ae}if(ge===R.length)return i(w,oe),Re&&un(w,ge),ie;if(oe===null){for(;ge<R.length;ge++)oe=B(w,R[ge],z),oe!==null&&(N=p(oe,N,ge),Ie===null?ie=oe:Ie.sibling=oe,Ie=oe);return Re&&un(w,ge),ie}for(oe=s(oe);ge<R.length;ge++)Ae=L(oe,w,ge,R[ge],z),Ae!==null&&(e&&Ae.alternate!==null&&oe.delete(Ae.key===null?ge:Ae.key),N=p(Ae,N,ge),Ie===null?ie=Ae:Ie.sibling=Ae,Ie=Ae);return e&&oe.forEach(function($n){return n(w,$n)}),Re&&un(w,ge),ie}function ae(w,N,R,z){if(R==null)throw Error(a(151));for(var ie=null,Ie=null,oe=N,ge=N=0,Ae=null,De=R.next();oe!==null&&!De.done;ge++,De=R.next()){oe.index>ge?(Ae=oe,oe=null):Ae=oe.sibling;var $n=I(w,oe,De.value,z);if($n===null){oe===null&&(oe=Ae);break}e&&oe&&$n.alternate===null&&n(w,oe),N=p($n,N,ge),Ie===null?ie=$n:Ie.sibling=$n,Ie=$n,oe=Ae}if(De.done)return i(w,oe),Re&&un(w,ge),ie;if(oe===null){for(;!De.done;ge++,De=R.next())De=B(w,De.value,z),De!==null&&(N=p(De,N,ge),Ie===null?ie=De:Ie.sibling=De,Ie=De);return Re&&un(w,ge),ie}for(oe=s(oe);!De.done;ge++,De=R.next())De=L(oe,w,ge,De.value,z),De!==null&&(e&&De.alternate!==null&&oe.delete(De.key===null?ge:De.key),N=p(De,N,ge),Ie===null?ie=De:Ie.sibling=De,Ie=De);return e&&oe.forEach(function(fv){return n(w,fv)}),Re&&un(w,ge),ie}function Be(w,N,R,z){if(typeof R=="object"&&R!==null&&R.type===H&&R.key===null&&(R=R.props.children),typeof R=="object"&&R!==null){switch(R.$$typeof){case x:e:{for(var ie=R.key;N!==null;){if(N.key===ie){if(ie=R.type,ie===H){if(N.tag===7){i(w,N.sibling),z=d(N,R.props.children),z.return=w,w=z;break e}}else if(N.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===ye&&po(ie)===N.type){i(w,N.sibling),z=d(N,R.props),qi(z,R),z.return=w,w=z;break e}i(w,N);break}else n(w,N);N=N.sibling}R.type===H?(z=ro(R.props.children,w.mode,z,R.key),z.return=w,w=z):(z=ql(R.type,R.key,R.props,null,w.mode,z),qi(z,R),z.return=w,w=z)}return S(w);case D:e:{for(ie=R.key;N!==null;){if(N.key===ie)if(N.tag===4&&N.stateNode.containerInfo===R.containerInfo&&N.stateNode.implementation===R.implementation){i(w,N.sibling),z=d(N,R.children||[]),z.return=w,w=z;break e}else{i(w,N);break}else n(w,N);N=N.sibling}z=Ls(R,w.mode,z),z.return=w,w=z}return S(w);case ye:return R=po(R),Be(w,N,R,z)}if(Ke(R))return te(w,N,R,z);if(be(R)){if(ie=be(R),typeof ie!="function")throw Error(a(150));return R=ie.call(R),ae(w,N,R,z)}if(typeof R.then=="function")return Be(w,N,Yl(R),z);if(R.$$typeof===F)return Be(w,N,Pl(w,R),z);Wl(w,R)}return typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint"?(R=""+R,N!==null&&N.tag===6?(i(w,N.sibling),z=d(N,R),z.return=w,w=z):(i(w,N),z=Us(R,w.mode,z),z.return=w,w=z),S(w)):i(w,N)}return function(w,N,R,z){try{Vi=0;var ie=Be(w,N,R,z);return Fo=null,ie}catch(oe){if(oe===Oo||oe===Fl)throw oe;var Ie=Nt(29,oe,null,w.mode);return Ie.lanes=z,Ie.return=w,Ie}finally{}}}var go=ff(!0),df=ff(!1),kn=!1;function Ys(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ws(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Hn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Gn(e,n,i){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(ke&2)!==0){var d=s.pending;return d===null?n.next=n:(n.next=d.next,d.next=n),s.pending=n,n=Vl(e),Kc(e,null,i),n}return Gl(e,s,n,i),Vl(e)}function zi(e,n,i){if(n=n.updateQueue,n!==null&&(n=n.shared,(i&4194048)!==0)){var s=n.lanes;s&=e.pendingLanes,i|=s,n.lanes=i,nc(e,i)}}function Ks(e,n){var i=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,i===s)){var d=null,p=null;if(i=i.firstBaseUpdate,i!==null){do{var S={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};p===null?d=p=S:p=p.next=S,i=i.next}while(i!==null);p===null?d=p=n:p=p.next=n}else d=p=n;i={baseState:s.baseState,firstBaseUpdate:d,lastBaseUpdate:p,shared:s.shared,callbacks:s.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=n:e.next=n,i.lastBaseUpdate=n}var Xs=!1;function Bi(){if(Xs){var e=Po;if(e!==null)throw e}}function Pi(e,n,i,s){Xs=!1;var d=e.updateQueue;kn=!1;var p=d.firstBaseUpdate,S=d.lastBaseUpdate,C=d.shared.pending;if(C!==null){d.shared.pending=null;var A=C,M=A.next;A.next=null,S===null?p=M:S.next=M,S=A;var G=e.alternate;G!==null&&(G=G.updateQueue,C=G.lastBaseUpdate,C!==S&&(C===null?G.firstBaseUpdate=M:C.next=M,G.lastBaseUpdate=A))}if(p!==null){var B=d.baseState;S=0,G=M=A=null,C=p;do{var I=C.lane&-536870913,L=I!==C.lane;if(L?(xe&I)===I:(s&I)===I){I!==0&&I===Bo&&(Xs=!0),G!==null&&(G=G.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});e:{var te=e,ae=C;I=n;var Be=i;switch(ae.tag){case 1:if(te=ae.payload,typeof te=="function"){B=te.call(Be,B,I);break e}B=te;break e;case 3:te.flags=te.flags&-65537|128;case 0:if(te=ae.payload,I=typeof te=="function"?te.call(Be,B,I):te,I==null)break e;B=T({},B,I);break e;case 2:kn=!0}}I=C.callback,I!==null&&(e.flags|=64,L&&(e.flags|=8192),L=d.callbacks,L===null?d.callbacks=[I]:L.push(I))}else L={lane:I,tag:C.tag,payload:C.payload,callback:C.callback,next:null},G===null?(M=G=L,A=B):G=G.next=L,S|=I;if(C=C.next,C===null){if(C=d.shared.pending,C===null)break;L=C,C=L.next,L.next=null,d.lastBaseUpdate=L,d.shared.pending=null}}while(!0);G===null&&(A=B),d.baseState=A,d.firstBaseUpdate=M,d.lastBaseUpdate=G,p===null&&(d.shared.lanes=0),Pn|=S,e.lanes=S,e.memoizedState=B}}function hf(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function pf(e,n){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)hf(i[e],n)}var Jo=b(null),Kl=b(0);function mf(e,n){e=Tn,X(Kl,e),X(Jo,n),Tn=e|n.baseLanes}function Qs(){X(Kl,Tn),X(Jo,Jo.current)}function Zs(){Tn=Kl.current,V(Jo),V(Kl)}var wt=b(null),Pt=null;function Vn(e){var n=e.alternate;X(Xe,Xe.current&1),X(wt,e),Pt===null&&(n===null||Jo.current!==null||n.memoizedState!==null)&&(Pt=e)}function $s(e){X(Xe,Xe.current),X(wt,e),Pt===null&&(Pt=e)}function gf(e){e.tag===22?(X(Xe,Xe.current),X(wt,e),Pt===null&&(Pt=e)):qn()}function qn(){X(Xe,Xe.current),X(wt,wt.current)}function Rt(e){V(wt),Pt===e&&(Pt=null),V(Xe)}var Xe=b(0);function Xl(e){for(var n=e;n!==null;){if(n.tag===13){var i=n.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||iu(i)||lu(i)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var dn=0,me=null,qe=null,$e=null,Ql=!1,Yo=!1,yo=!1,Zl=0,Oi=0,Wo=null,t0=0;function Ye(){throw Error(a(321))}function js(e,n){if(n===null)return!1;for(var i=0;i<n.length&&i<e.length;i++)if(!bt(e[i],n[i]))return!1;return!0}function er(e,n,i,s,d,p){return dn=p,me=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,k.H=e===null||e.memoizedState===null?jf:mr,yo=!1,p=i(s,d),yo=!1,Yo&&(p=vf(n,i,s,d)),yf(e),p}function yf(e){k.H=Yi;var n=qe!==null&&qe.next!==null;if(dn=0,$e=qe=me=null,Ql=!1,Oi=0,Wo=null,n)throw Error(a(300));e===null||je||(e=e.dependencies,e!==null&&Bl(e)&&(je=!0))}function vf(e,n,i,s){me=e;var d=0;do{if(Yo&&(Wo=null),Oi=0,Yo=!1,25<=d)throw Error(a(301));if(d+=1,$e=qe=null,e.updateQueue!=null){var p=e.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}k.H=ed,p=n(i,s)}while(Yo);return p}function n0(){var e=k.H,n=e.useState()[0];return n=typeof n.then=="function"?Fi(n):n,e=e.useState()[0],(qe!==null?qe.memoizedState:null)!==e&&(me.flags|=1024),n}function tr(){var e=Zl!==0;return Zl=0,e}function nr(e,n,i){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~i}function or(e){if(Ql){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Ql=!1}dn=0,$e=qe=me=null,Yo=!1,Oi=Zl=0,Wo=null}function pt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $e===null?me.memoizedState=$e=e:$e=$e.next=e,$e}function Qe(){if(qe===null){var e=me.alternate;e=e!==null?e.memoizedState:null}else e=qe.next;var n=$e===null?me.memoizedState:$e.next;if(n!==null)$e=n,qe=e;else{if(e===null)throw me.alternate===null?Error(a(467)):Error(a(310));qe=e,e={memoizedState:qe.memoizedState,baseState:qe.baseState,baseQueue:qe.baseQueue,queue:qe.queue,next:null},$e===null?me.memoizedState=$e=e:$e=$e.next=e}return $e}function $l(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Fi(e){var n=Oi;return Oi+=1,Wo===null&&(Wo=[]),e=rf(Wo,e,n),n=me,($e===null?n.memoizedState:$e.next)===null&&(n=n.alternate,k.H=n===null||n.memoizedState===null?jf:mr),e}function jl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Fi(e);if(e.$$typeof===F)return rt(e)}throw Error(a(438,String(e)))}function ir(e){var n=null,i=me.updateQueue;if(i!==null&&(n=i.memoCache),n==null){var s=me.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(n={data:s.data.map(function(d){return d.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),i===null&&(i=$l(),me.updateQueue=i),i.memoCache=n,i=n.data[n.index],i===void 0)for(i=n.data[n.index]=Array(e),s=0;s<e;s++)i[s]=de;return n.index++,i}function hn(e,n){return typeof n=="function"?n(e):n}function ea(e){var n=Qe();return lr(n,qe,e)}function lr(e,n,i){var s=e.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=i;var d=e.baseQueue,p=s.pending;if(p!==null){if(d!==null){var S=d.next;d.next=p.next,p.next=S}n.baseQueue=d=p,s.pending=null}if(p=e.baseState,d===null)e.memoizedState=p;else{n=d.next;var C=S=null,A=null,M=n,G=!1;do{var B=M.lane&-536870913;if(B!==M.lane?(xe&B)===B:(dn&B)===B){var I=M.revertLane;if(I===0)A!==null&&(A=A.next={lane:0,revertLane:0,gesture:null,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null}),B===Bo&&(G=!0);else if((dn&I)===I){M=M.next,I===Bo&&(G=!0);continue}else B={lane:0,revertLane:M.revertLane,gesture:null,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null},A===null?(C=A=B,S=p):A=A.next=B,me.lanes|=I,Pn|=I;B=M.action,yo&&i(p,B),p=M.hasEagerState?M.eagerState:i(p,B)}else I={lane:B,revertLane:M.revertLane,gesture:M.gesture,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null},A===null?(C=A=I,S=p):A=A.next=I,me.lanes|=B,Pn|=B;M=M.next}while(M!==null&&M!==n);if(A===null?S=p:A.next=C,!bt(p,e.memoizedState)&&(je=!0,G&&(i=Po,i!==null)))throw i;e.memoizedState=p,e.baseState=S,e.baseQueue=A,s.lastRenderedState=p}return d===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function ar(e){var n=Qe(),i=n.queue;if(i===null)throw Error(a(311));i.lastRenderedReducer=e;var s=i.dispatch,d=i.pending,p=n.memoizedState;if(d!==null){i.pending=null;var S=d=d.next;do p=e(p,S.action),S=S.next;while(S!==d);bt(p,n.memoizedState)||(je=!0),n.memoizedState=p,n.baseQueue===null&&(n.baseState=p),i.lastRenderedState=p}return[p,s]}function Sf(e,n,i){var s=me,d=Qe(),p=Re;if(p){if(i===void 0)throw Error(a(407));i=i()}else i=n();var S=!bt((qe||d).memoizedState,i);if(S&&(d.memoizedState=i,je=!0),d=d.queue,ur(_f.bind(null,s,d,e),[e]),d.getSnapshot!==n||S||$e!==null&&$e.memoizedState.tag&1){if(s.flags|=2048,Ko(9,{destroy:void 0},Ef.bind(null,s,d,i,n),null),Pe===null)throw Error(a(349));p||(dn&127)!==0||Tf(s,n,i)}return i}function Tf(e,n,i){e.flags|=16384,e={getSnapshot:n,value:i},n=me.updateQueue,n===null?(n=$l(),me.updateQueue=n,n.stores=[e]):(i=n.stores,i===null?n.stores=[e]:i.push(e))}function Ef(e,n,i,s){n.value=i,n.getSnapshot=s,Cf(n)&&xf(e)}function _f(e,n,i){return i(function(){Cf(n)&&xf(e)})}function Cf(e){var n=e.getSnapshot;e=e.value;try{var i=n();return!bt(e,i)}catch{return!0}}function xf(e){var n=so(e,2);n!==null&&Ct(n,e,2)}function sr(e){var n=pt();if(typeof e=="function"){var i=e;if(e=i(),yo){wn(!0);try{i()}finally{wn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hn,lastRenderedState:e},n}function Af(e,n,i,s){return e.baseState=i,lr(e,qe,typeof s=="function"?s:hn)}function o0(e,n,i,s,d){if(oa(e))throw Error(a(485));if(e=n.action,e!==null){var p={payload:d,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){p.listeners.push(S)}};k.T!==null?i(!0):p.isTransition=!1,s(p),i=n.pending,i===null?(p.next=n.pending=p,bf(n,p)):(p.next=i.next,n.pending=i.next=p)}}function bf(e,n){var i=n.action,s=n.payload,d=e.state;if(n.isTransition){var p=k.T,S={};k.T=S;try{var C=i(d,s),A=k.S;A!==null&&A(S,C),Nf(e,n,C)}catch(M){rr(e,n,M)}finally{p!==null&&S.types!==null&&(p.types=S.types),k.T=p}}else try{p=i(d,s),Nf(e,n,p)}catch(M){rr(e,n,M)}}function Nf(e,n,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(s){wf(e,n,s)},function(s){return rr(e,n,s)}):wf(e,n,i)}function wf(e,n,i){n.status="fulfilled",n.value=i,Rf(n),e.state=i,n=e.pending,n!==null&&(i=n.next,i===n?e.pending=null:(i=i.next,n.next=i,bf(e,i)))}function rr(e,n,i){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do n.status="rejected",n.reason=i,Rf(n),n=n.next;while(n!==s)}e.action=null}function Rf(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Mf(e,n){return n}function If(e,n){if(Re){var i=Pe.formState;if(i!==null){e:{var s=me;if(Re){if(Oe){t:{for(var d=Oe,p=Bt;d.nodeType!==8;){if(!p){d=null;break t}if(d=Ot(d.nextSibling),d===null){d=null;break t}}p=d.data,d=p==="F!"||p==="F"?d:null}if(d){Oe=Ot(d.nextSibling),s=d.data==="F!";break e}}Un(s)}s=!1}s&&(n=i[0])}}return i=pt(),i.memoizedState=i.baseState=n,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mf,lastRenderedState:n},i.queue=s,i=Qf.bind(null,me,s),s.dispatch=i,s=sr(!1),p=pr.bind(null,me,!1,s.queue),s=pt(),d={state:n,dispatch:null,action:e,pending:null},s.queue=d,i=o0.bind(null,me,d,p,i),d.dispatch=i,s.memoizedState=e,[n,i,!1]}function Df(e){var n=Qe();return Uf(n,qe,e)}function Uf(e,n,i){if(n=lr(e,n,Mf)[0],e=ea(hn)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var s=Fi(n)}catch(S){throw S===Oo?Fl:S}else s=n;n=Qe();var d=n.queue,p=d.dispatch;return i!==n.memoizedState&&(me.flags|=2048,Ko(9,{destroy:void 0},i0.bind(null,d,i),null)),[s,p,e]}function i0(e,n){e.action=n}function Lf(e){var n=Qe(),i=qe;if(i!==null)return Uf(n,i,e);Qe(),n=n.memoizedState,i=Qe();var s=i.queue.dispatch;return i.memoizedState=e,[n,s,!1]}function Ko(e,n,i,s){return e={tag:e,create:i,deps:s,inst:n,next:null},n=me.updateQueue,n===null&&(n=$l(),me.updateQueue=n),i=n.lastEffect,i===null?n.lastEffect=e.next=e:(s=i.next,i.next=e,e.next=s,n.lastEffect=e),e}function kf(){return Qe().memoizedState}function ta(e,n,i,s){var d=pt();me.flags|=e,d.memoizedState=Ko(1|n,{destroy:void 0},i,s===void 0?null:s)}function na(e,n,i,s){var d=Qe();s=s===void 0?null:s;var p=d.memoizedState.inst;qe!==null&&s!==null&&js(s,qe.memoizedState.deps)?d.memoizedState=Ko(n,p,i,s):(me.flags|=e,d.memoizedState=Ko(1|n,p,i,s))}function Hf(e,n){ta(8390656,8,e,n)}function ur(e,n){na(2048,8,e,n)}function l0(e){me.flags|=4;var n=me.updateQueue;if(n===null)n=$l(),me.updateQueue=n,n.events=[e];else{var i=n.events;i===null?n.events=[e]:i.push(e)}}function Gf(e){var n=Qe().memoizedState;return l0({ref:n,nextImpl:e}),function(){if((ke&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Vf(e,n){return na(4,2,e,n)}function qf(e,n){return na(4,4,e,n)}function zf(e,n){if(typeof n=="function"){e=e();var i=n(e);return function(){typeof i=="function"?i():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Bf(e,n,i){i=i!=null?i.concat([e]):null,na(4,4,zf.bind(null,n,e),i)}function cr(){}function Pf(e,n){var i=Qe();n=n===void 0?null:n;var s=i.memoizedState;return n!==null&&js(n,s[1])?s[0]:(i.memoizedState=[e,n],e)}function Of(e,n){var i=Qe();n=n===void 0?null:n;var s=i.memoizedState;if(n!==null&&js(n,s[1]))return s[0];if(s=e(),yo){wn(!0);try{e()}finally{wn(!1)}}return i.memoizedState=[s,n],s}function fr(e,n,i){return i===void 0||(dn&1073741824)!==0&&(xe&261930)===0?e.memoizedState=n:(e.memoizedState=i,e=Fd(),me.lanes|=e,Pn|=e,i)}function Ff(e,n,i,s){return bt(i,n)?i:Jo.current!==null?(e=fr(e,i,s),bt(e,n)||(je=!0),e):(dn&42)===0||(dn&1073741824)!==0&&(xe&261930)===0?(je=!0,e.memoizedState=i):(e=Fd(),me.lanes|=e,Pn|=e,n)}function Jf(e,n,i,s,d){var p=J.p;J.p=p!==0&&8>p?p:8;var S=k.T,C={};k.T=C,pr(e,!1,n,i);try{var A=d(),M=k.S;if(M!==null&&M(C,A),A!==null&&typeof A=="object"&&typeof A.then=="function"){var G=e0(A,s);Ji(e,n,G,Dt(e))}else Ji(e,n,s,Dt(e))}catch(B){Ji(e,n,{then:function(){},status:"rejected",reason:B},Dt())}finally{J.p=p,S!==null&&C.types!==null&&(S.types=C.types),k.T=S}}function a0(){}function dr(e,n,i,s){if(e.tag!==5)throw Error(a(476));var d=Yf(e).queue;Jf(e,d,n,le,i===null?a0:function(){return Wf(e),i(s)})}function Yf(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:le,baseState:le,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hn,lastRenderedState:le},next:null};var i={};return n.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hn,lastRenderedState:i},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Wf(e){var n=Yf(e);n.next===null&&(n=e.alternate.memoizedState),Ji(e,n.next.queue,{},Dt())}function hr(){return rt(rl)}function Kf(){return Qe().memoizedState}function Xf(){return Qe().memoizedState}function s0(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var i=Dt();e=Hn(i);var s=Gn(n,e,i);s!==null&&(Ct(s,n,i),zi(s,n,i)),n={cache:Ps()},e.payload=n;return}n=n.return}}function r0(e,n,i){var s=Dt();i={lane:s,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},oa(e)?Zf(n,i):(i=Is(e,n,i,s),i!==null&&(Ct(i,e,s),$f(i,n,s)))}function Qf(e,n,i){var s=Dt();Ji(e,n,i,s)}function Ji(e,n,i,s){var d={lane:s,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null};if(oa(e))Zf(n,d);else{var p=e.alternate;if(e.lanes===0&&(p===null||p.lanes===0)&&(p=n.lastRenderedReducer,p!==null))try{var S=n.lastRenderedState,C=p(S,i);if(d.hasEagerState=!0,d.eagerState=C,bt(C,S))return Gl(e,n,d,0),Pe===null&&Hl(),!1}catch{}finally{}if(i=Is(e,n,d,s),i!==null)return Ct(i,e,s),$f(i,n,s),!0}return!1}function pr(e,n,i,s){if(s={lane:2,revertLane:Yr(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},oa(e)){if(n)throw Error(a(479))}else n=Is(e,i,s,2),n!==null&&Ct(n,e,2)}function oa(e){var n=e.alternate;return e===me||n!==null&&n===me}function Zf(e,n){Yo=Ql=!0;var i=e.pending;i===null?n.next=n:(n.next=i.next,i.next=n),e.pending=n}function $f(e,n,i){if((i&4194048)!==0){var s=n.lanes;s&=e.pendingLanes,i|=s,n.lanes=i,nc(e,i)}}var Yi={readContext:rt,use:jl,useCallback:Ye,useContext:Ye,useEffect:Ye,useImperativeHandle:Ye,useLayoutEffect:Ye,useInsertionEffect:Ye,useMemo:Ye,useReducer:Ye,useRef:Ye,useState:Ye,useDebugValue:Ye,useDeferredValue:Ye,useTransition:Ye,useSyncExternalStore:Ye,useId:Ye,useHostTransitionStatus:Ye,useFormState:Ye,useActionState:Ye,useOptimistic:Ye,useMemoCache:Ye,useCacheRefresh:Ye};Yi.useEffectEvent=Ye;var jf={readContext:rt,use:jl,useCallback:function(e,n){return pt().memoizedState=[e,n===void 0?null:n],e},useContext:rt,useEffect:Hf,useImperativeHandle:function(e,n,i){i=i!=null?i.concat([e]):null,ta(4194308,4,zf.bind(null,n,e),i)},useLayoutEffect:function(e,n){return ta(4194308,4,e,n)},useInsertionEffect:function(e,n){ta(4,2,e,n)},useMemo:function(e,n){var i=pt();n=n===void 0?null:n;var s=e();if(yo){wn(!0);try{e()}finally{wn(!1)}}return i.memoizedState=[s,n],s},useReducer:function(e,n,i){var s=pt();if(i!==void 0){var d=i(n);if(yo){wn(!0);try{i(n)}finally{wn(!1)}}}else d=n;return s.memoizedState=s.baseState=d,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:d},s.queue=e,e=e.dispatch=r0.bind(null,me,e),[s.memoizedState,e]},useRef:function(e){var n=pt();return e={current:e},n.memoizedState=e},useState:function(e){e=sr(e);var n=e.queue,i=Qf.bind(null,me,n);return n.dispatch=i,[e.memoizedState,i]},useDebugValue:cr,useDeferredValue:function(e,n){var i=pt();return fr(i,e,n)},useTransition:function(){var e=sr(!1);return e=Jf.bind(null,me,e.queue,!0,!1),pt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,i){var s=me,d=pt();if(Re){if(i===void 0)throw Error(a(407));i=i()}else{if(i=n(),Pe===null)throw Error(a(349));(xe&127)!==0||Tf(s,n,i)}d.memoizedState=i;var p={value:i,getSnapshot:n};return d.queue=p,Hf(_f.bind(null,s,p,e),[e]),s.flags|=2048,Ko(9,{destroy:void 0},Ef.bind(null,s,p,i,n),null),i},useId:function(){var e=pt(),n=Pe.identifierPrefix;if(Re){var i=en,s=jt;i=(s&~(1<<32-At(s)-1)).toString(32)+i,n="_"+n+"R_"+i,i=Zl++,0<i&&(n+="H"+i.toString(32)),n+="_"}else i=t0++,n="_"+n+"r_"+i.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:hr,useFormState:If,useActionState:If,useOptimistic:function(e){var n=pt();n.memoizedState=n.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=i,n=pr.bind(null,me,!0,i),i.dispatch=n,[e,n]},useMemoCache:ir,useCacheRefresh:function(){return pt().memoizedState=s0.bind(null,me)},useEffectEvent:function(e){var n=pt(),i={impl:e};return n.memoizedState=i,function(){if((ke&2)!==0)throw Error(a(440));return i.impl.apply(void 0,arguments)}}},mr={readContext:rt,use:jl,useCallback:Pf,useContext:rt,useEffect:ur,useImperativeHandle:Bf,useInsertionEffect:Vf,useLayoutEffect:qf,useMemo:Of,useReducer:ea,useRef:kf,useState:function(){return ea(hn)},useDebugValue:cr,useDeferredValue:function(e,n){var i=Qe();return Ff(i,qe.memoizedState,e,n)},useTransition:function(){var e=ea(hn)[0],n=Qe().memoizedState;return[typeof e=="boolean"?e:Fi(e),n]},useSyncExternalStore:Sf,useId:Kf,useHostTransitionStatus:hr,useFormState:Df,useActionState:Df,useOptimistic:function(e,n){var i=Qe();return Af(i,qe,e,n)},useMemoCache:ir,useCacheRefresh:Xf};mr.useEffectEvent=Gf;var ed={readContext:rt,use:jl,useCallback:Pf,useContext:rt,useEffect:ur,useImperativeHandle:Bf,useInsertionEffect:Vf,useLayoutEffect:qf,useMemo:Of,useReducer:ar,useRef:kf,useState:function(){return ar(hn)},useDebugValue:cr,useDeferredValue:function(e,n){var i=Qe();return qe===null?fr(i,e,n):Ff(i,qe.memoizedState,e,n)},useTransition:function(){var e=ar(hn)[0],n=Qe().memoizedState;return[typeof e=="boolean"?e:Fi(e),n]},useSyncExternalStore:Sf,useId:Kf,useHostTransitionStatus:hr,useFormState:Lf,useActionState:Lf,useOptimistic:function(e,n){var i=Qe();return qe!==null?Af(i,qe,e,n):(i.baseState=e,[e,i.queue.dispatch])},useMemoCache:ir,useCacheRefresh:Xf};ed.useEffectEvent=Gf;function gr(e,n,i,s){n=e.memoizedState,i=i(s,n),i=i==null?n:T({},n,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var yr={enqueueSetState:function(e,n,i){e=e._reactInternals;var s=Dt(),d=Hn(s);d.payload=n,i!=null&&(d.callback=i),n=Gn(e,d,s),n!==null&&(Ct(n,e,s),zi(n,e,s))},enqueueReplaceState:function(e,n,i){e=e._reactInternals;var s=Dt(),d=Hn(s);d.tag=1,d.payload=n,i!=null&&(d.callback=i),n=Gn(e,d,s),n!==null&&(Ct(n,e,s),zi(n,e,s))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var i=Dt(),s=Hn(i);s.tag=2,n!=null&&(s.callback=n),n=Gn(e,s,i),n!==null&&(Ct(n,e,i),zi(n,e,i))}};function td(e,n,i,s,d,p,S){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,p,S):n.prototype&&n.prototype.isPureReactComponent?!Di(i,s)||!Di(d,p):!0}function nd(e,n,i,s){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(i,s),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(i,s),n.state!==e&&yr.enqueueReplaceState(n,n.state,null)}function vo(e,n){var i=n;if("ref"in n){i={};for(var s in n)s!=="ref"&&(i[s]=n[s])}if(e=e.defaultProps){i===n&&(i=T({},i));for(var d in e)i[d]===void 0&&(i[d]=e[d])}return i}function od(e){kl(e)}function id(e){console.error(e)}function ld(e){kl(e)}function ia(e,n){try{var i=e.onUncaughtError;i(n.value,{componentStack:n.stack})}catch(s){setTimeout(function(){throw s})}}function ad(e,n,i){try{var s=e.onCaughtError;s(i.value,{componentStack:i.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function vr(e,n,i){return i=Hn(i),i.tag=3,i.payload={element:null},i.callback=function(){ia(e,n)},i}function sd(e){return e=Hn(e),e.tag=3,e}function rd(e,n,i,s){var d=i.type.getDerivedStateFromError;if(typeof d=="function"){var p=s.value;e.payload=function(){return d(p)},e.callback=function(){ad(n,i,s)}}var S=i.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(e.callback=function(){ad(n,i,s),typeof d!="function"&&(On===null?On=new Set([this]):On.add(this));var C=s.stack;this.componentDidCatch(s.value,{componentStack:C!==null?C:""})})}function u0(e,n,i,s,d){if(i.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(n=i.alternate,n!==null&&zo(n,i,d,!0),i=wt.current,i!==null){switch(i.tag){case 31:case 13:return Pt===null?ga():i.alternate===null&&We===0&&(We=3),i.flags&=-257,i.flags|=65536,i.lanes=d,s===Jl?i.flags|=16384:(n=i.updateQueue,n===null?i.updateQueue=new Set([s]):n.add(s),Or(e,s,d)),!1;case 22:return i.flags|=65536,s===Jl?i.flags|=16384:(n=i.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([s])},i.updateQueue=n):(i=n.retryQueue,i===null?n.retryQueue=new Set([s]):i.add(s)),Or(e,s,d)),!1}throw Error(a(435,i.tag))}return Or(e,s,d),ga(),!1}if(Re)return n=wt.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=d,s!==Gs&&(e=Error(a(422),{cause:s}),ki(Vt(e,i)))):(s!==Gs&&(n=Error(a(423),{cause:s}),ki(Vt(n,i))),e=e.current.alternate,e.flags|=65536,d&=-d,e.lanes|=d,s=Vt(s,i),d=vr(e.stateNode,s,d),Ks(e,d),We!==4&&(We=2)),!1;var p=Error(a(520),{cause:s});if(p=Vt(p,i),el===null?el=[p]:el.push(p),We!==4&&(We=2),n===null)return!0;s=Vt(s,i),i=n;do{switch(i.tag){case 3:return i.flags|=65536,e=d&-d,i.lanes|=e,e=vr(i.stateNode,s,e),Ks(i,e),!1;case 1:if(n=i.type,p=i.stateNode,(i.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(On===null||!On.has(p))))return i.flags|=65536,d&=-d,i.lanes|=d,d=sd(d),rd(d,e,i,s),Ks(i,d),!1}i=i.return}while(i!==null);return!1}var Sr=Error(a(461)),je=!1;function ut(e,n,i,s){n.child=e===null?df(n,null,i,s):go(n,e.child,i,s)}function ud(e,n,i,s,d){i=i.render;var p=n.ref;if("ref"in s){var S={};for(var C in s)C!=="ref"&&(S[C]=s[C])}else S=s;return fo(n),s=er(e,n,i,S,p,d),C=tr(),e!==null&&!je?(nr(e,n,d),pn(e,n,d)):(Re&&C&&ks(n),n.flags|=1,ut(e,n,s,d),n.child)}function cd(e,n,i,s,d){if(e===null){var p=i.type;return typeof p=="function"&&!Ds(p)&&p.defaultProps===void 0&&i.compare===null?(n.tag=15,n.type=p,fd(e,n,p,s,d)):(e=ql(i.type,null,s,n,n.mode,d),e.ref=n.ref,e.return=n,n.child=e)}if(p=e.child,!Nr(e,d)){var S=p.memoizedProps;if(i=i.compare,i=i!==null?i:Di,i(S,s)&&e.ref===n.ref)return pn(e,n,d)}return n.flags|=1,e=rn(p,s),e.ref=n.ref,e.return=n,n.child=e}function fd(e,n,i,s,d){if(e!==null){var p=e.memoizedProps;if(Di(p,s)&&e.ref===n.ref)if(je=!1,n.pendingProps=s=p,Nr(e,d))(e.flags&131072)!==0&&(je=!0);else return n.lanes=e.lanes,pn(e,n,d)}return Tr(e,n,i,s,d)}function dd(e,n,i,s){var d=s.children,p=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((n.flags&128)!==0){if(p=p!==null?p.baseLanes|i:i,e!==null){for(s=n.child=e.child,d=0;s!==null;)d=d|s.lanes|s.childLanes,s=s.sibling;s=d&~p}else s=0,n.child=null;return hd(e,n,p,i,s)}if((i&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ol(n,p!==null?p.cachePool:null),p!==null?mf(n,p):Qs(),gf(n);else return s=n.lanes=536870912,hd(e,n,p!==null?p.baseLanes|i:i,i,s)}else p!==null?(Ol(n,p.cachePool),mf(n,p),qn(),n.memoizedState=null):(e!==null&&Ol(n,null),Qs(),qn());return ut(e,n,d,i),n.child}function Wi(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function hd(e,n,i,s,d){var p=Fs();return p=p===null?null:{parent:Ze._currentValue,pool:p},n.memoizedState={baseLanes:i,cachePool:p},e!==null&&Ol(n,null),Qs(),gf(n),e!==null&&zo(e,n,s,!0),n.childLanes=d,null}function la(e,n){return n=sa({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function pd(e,n,i){return go(n,e.child,null,i),e=la(n,n.pendingProps),e.flags|=2,Rt(n),n.memoizedState=null,e}function c0(e,n,i){var s=n.pendingProps,d=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Re){if(s.mode==="hidden")return e=la(n,s),n.lanes=536870912,Wi(null,e);if($s(n),(e=Oe)?(e=bh(e,Bt),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:In!==null?{id:jt,overflow:en}:null,retryLane:536870912,hydrationErrors:null},i=Qc(e),i.return=n,n.child=i,st=n,Oe=null)):e=null,e===null)throw Un(n);return n.lanes=536870912,null}return la(n,s)}var p=e.memoizedState;if(p!==null){var S=p.dehydrated;if($s(n),d)if(n.flags&256)n.flags&=-257,n=pd(e,n,i);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(je||zo(e,n,i,!1),d=(i&e.childLanes)!==0,je||d){if(s=Pe,s!==null&&(S=oc(s,i),S!==0&&S!==p.retryLane))throw p.retryLane=S,so(e,S),Ct(s,e,S),Sr;ga(),n=pd(e,n,i)}else e=p.treeContext,Oe=Ot(S.nextSibling),st=n,Re=!0,Dn=null,Bt=!1,e!==null&&jc(n,e),n=la(n,s),n.flags|=4096;return n}return e=rn(e.child,{mode:s.mode,children:s.children}),e.ref=n.ref,n.child=e,e.return=n,e}function aa(e,n){var i=n.ref;if(i===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(a(284));(e===null||e.ref!==i)&&(n.flags|=4194816)}}function Tr(e,n,i,s,d){return fo(n),i=er(e,n,i,s,void 0,d),s=tr(),e!==null&&!je?(nr(e,n,d),pn(e,n,d)):(Re&&s&&ks(n),n.flags|=1,ut(e,n,i,d),n.child)}function md(e,n,i,s,d,p){return fo(n),n.updateQueue=null,i=vf(n,s,i,d),yf(e),s=tr(),e!==null&&!je?(nr(e,n,p),pn(e,n,p)):(Re&&s&&ks(n),n.flags|=1,ut(e,n,i,p),n.child)}function gd(e,n,i,s,d){if(fo(n),n.stateNode===null){var p=Ho,S=i.contextType;typeof S=="object"&&S!==null&&(p=rt(S)),p=new i(s,p),n.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=yr,n.stateNode=p,p._reactInternals=n,p=n.stateNode,p.props=s,p.state=n.memoizedState,p.refs={},Ys(n),S=i.contextType,p.context=typeof S=="object"&&S!==null?rt(S):Ho,p.state=n.memoizedState,S=i.getDerivedStateFromProps,typeof S=="function"&&(gr(n,i,S,s),p.state=n.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(S=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),S!==p.state&&yr.enqueueReplaceState(p,p.state,null),Pi(n,s,p,d),Bi(),p.state=n.memoizedState),typeof p.componentDidMount=="function"&&(n.flags|=4194308),s=!0}else if(e===null){p=n.stateNode;var C=n.memoizedProps,A=vo(i,C);p.props=A;var M=p.context,G=i.contextType;S=Ho,typeof G=="object"&&G!==null&&(S=rt(G));var B=i.getDerivedStateFromProps;G=typeof B=="function"||typeof p.getSnapshotBeforeUpdate=="function",C=n.pendingProps!==C,G||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(C||M!==S)&&nd(n,p,s,S),kn=!1;var I=n.memoizedState;p.state=I,Pi(n,s,p,d),Bi(),M=n.memoizedState,C||I!==M||kn?(typeof B=="function"&&(gr(n,i,B,s),M=n.memoizedState),(A=kn||td(n,i,A,s,I,M,S))?(G||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(n.flags|=4194308)):(typeof p.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=s,n.memoizedState=M),p.props=s,p.state=M,p.context=S,s=A):(typeof p.componentDidMount=="function"&&(n.flags|=4194308),s=!1)}else{p=n.stateNode,Ws(e,n),S=n.memoizedProps,G=vo(i,S),p.props=G,B=n.pendingProps,I=p.context,M=i.contextType,A=Ho,typeof M=="object"&&M!==null&&(A=rt(M)),C=i.getDerivedStateFromProps,(M=typeof C=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(S!==B||I!==A)&&nd(n,p,s,A),kn=!1,I=n.memoizedState,p.state=I,Pi(n,s,p,d),Bi();var L=n.memoizedState;S!==B||I!==L||kn||e!==null&&e.dependencies!==null&&Bl(e.dependencies)?(typeof C=="function"&&(gr(n,i,C,s),L=n.memoizedState),(G=kn||td(n,i,G,s,I,L,A)||e!==null&&e.dependencies!==null&&Bl(e.dependencies))?(M||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(s,L,A),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(s,L,A)),typeof p.componentDidUpdate=="function"&&(n.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof p.componentDidUpdate!="function"||S===e.memoizedProps&&I===e.memoizedState||(n.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&I===e.memoizedState||(n.flags|=1024),n.memoizedProps=s,n.memoizedState=L),p.props=s,p.state=L,p.context=A,s=G):(typeof p.componentDidUpdate!="function"||S===e.memoizedProps&&I===e.memoizedState||(n.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&I===e.memoizedState||(n.flags|=1024),s=!1)}return p=s,aa(e,n),s=(n.flags&128)!==0,p||s?(p=n.stateNode,i=s&&typeof i.getDerivedStateFromError!="function"?null:p.render(),n.flags|=1,e!==null&&s?(n.child=go(n,e.child,null,d),n.child=go(n,null,i,d)):ut(e,n,i,d),n.memoizedState=p.state,e=n.child):e=pn(e,n,d),e}function yd(e,n,i,s){return uo(),n.flags|=256,ut(e,n,i,s),n.child}var Er={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function _r(e){return{baseLanes:e,cachePool:af()}}function Cr(e,n,i){return e=e!==null?e.childLanes&~i:0,n&&(e|=It),e}function vd(e,n,i){var s=n.pendingProps,d=!1,p=(n.flags&128)!==0,S;if((S=p)||(S=e!==null&&e.memoizedState===null?!1:(Xe.current&2)!==0),S&&(d=!0,n.flags&=-129),S=(n.flags&32)!==0,n.flags&=-33,e===null){if(Re){if(d?Vn(n):qn(),(e=Oe)?(e=bh(e,Bt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:In!==null?{id:jt,overflow:en}:null,retryLane:536870912,hydrationErrors:null},i=Qc(e),i.return=n,n.child=i,st=n,Oe=null)):e=null,e===null)throw Un(n);return lu(e)?n.lanes=32:n.lanes=536870912,null}var C=s.children;return s=s.fallback,d?(qn(),d=n.mode,C=sa({mode:"hidden",children:C},d),s=ro(s,d,i,null),C.return=n,s.return=n,C.sibling=s,n.child=C,s=n.child,s.memoizedState=_r(i),s.childLanes=Cr(e,S,i),n.memoizedState=Er,Wi(null,s)):(Vn(n),xr(n,C))}var A=e.memoizedState;if(A!==null&&(C=A.dehydrated,C!==null)){if(p)n.flags&256?(Vn(n),n.flags&=-257,n=Ar(e,n,i)):n.memoizedState!==null?(qn(),n.child=e.child,n.flags|=128,n=null):(qn(),C=s.fallback,d=n.mode,s=sa({mode:"visible",children:s.children},d),C=ro(C,d,i,null),C.flags|=2,s.return=n,C.return=n,s.sibling=C,n.child=s,go(n,e.child,null,i),s=n.child,s.memoizedState=_r(i),s.childLanes=Cr(e,S,i),n.memoizedState=Er,n=Wi(null,s));else if(Vn(n),lu(C)){if(S=C.nextSibling&&C.nextSibling.dataset,S)var M=S.dgst;S=M,s=Error(a(419)),s.stack="",s.digest=S,ki({value:s,source:null,stack:null}),n=Ar(e,n,i)}else if(je||zo(e,n,i,!1),S=(i&e.childLanes)!==0,je||S){if(S=Pe,S!==null&&(s=oc(S,i),s!==0&&s!==A.retryLane))throw A.retryLane=s,so(e,s),Ct(S,e,s),Sr;iu(C)||ga(),n=Ar(e,n,i)}else iu(C)?(n.flags|=192,n.child=e.child,n=null):(e=A.treeContext,Oe=Ot(C.nextSibling),st=n,Re=!0,Dn=null,Bt=!1,e!==null&&jc(n,e),n=xr(n,s.children),n.flags|=4096);return n}return d?(qn(),C=s.fallback,d=n.mode,A=e.child,M=A.sibling,s=rn(A,{mode:"hidden",children:s.children}),s.subtreeFlags=A.subtreeFlags&65011712,M!==null?C=rn(M,C):(C=ro(C,d,i,null),C.flags|=2),C.return=n,s.return=n,s.sibling=C,n.child=s,Wi(null,s),s=n.child,C=e.child.memoizedState,C===null?C=_r(i):(d=C.cachePool,d!==null?(A=Ze._currentValue,d=d.parent!==A?{parent:A,pool:A}:d):d=af(),C={baseLanes:C.baseLanes|i,cachePool:d}),s.memoizedState=C,s.childLanes=Cr(e,S,i),n.memoizedState=Er,Wi(e.child,s)):(Vn(n),i=e.child,e=i.sibling,i=rn(i,{mode:"visible",children:s.children}),i.return=n,i.sibling=null,e!==null&&(S=n.deletions,S===null?(n.deletions=[e],n.flags|=16):S.push(e)),n.child=i,n.memoizedState=null,i)}function xr(e,n){return n=sa({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function sa(e,n){return e=Nt(22,e,null,n),e.lanes=0,e}function Ar(e,n,i){return go(n,e.child,null,i),e=xr(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Sd(e,n,i){e.lanes|=n;var s=e.alternate;s!==null&&(s.lanes|=n),zs(e.return,n,i)}function br(e,n,i,s,d,p){var S=e.memoizedState;S===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:s,tail:i,tailMode:d,treeForkCount:p}:(S.isBackwards=n,S.rendering=null,S.renderingStartTime=0,S.last=s,S.tail=i,S.tailMode=d,S.treeForkCount=p)}function Td(e,n,i){var s=n.pendingProps,d=s.revealOrder,p=s.tail;s=s.children;var S=Xe.current,C=(S&2)!==0;if(C?(S=S&1|2,n.flags|=128):S&=1,X(Xe,S),ut(e,n,s,i),s=Re?Li:0,!C&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Sd(e,i,n);else if(e.tag===19)Sd(e,i,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(d){case"forwards":for(i=n.child,d=null;i!==null;)e=i.alternate,e!==null&&Xl(e)===null&&(d=i),i=i.sibling;i=d,i===null?(d=n.child,n.child=null):(d=i.sibling,i.sibling=null),br(n,!1,d,i,p,s);break;case"backwards":case"unstable_legacy-backwards":for(i=null,d=n.child,n.child=null;d!==null;){if(e=d.alternate,e!==null&&Xl(e)===null){n.child=d;break}e=d.sibling,d.sibling=i,i=d,d=e}br(n,!0,i,null,p,s);break;case"together":br(n,!1,null,null,void 0,s);break;default:n.memoizedState=null}return n.child}function pn(e,n,i){if(e!==null&&(n.dependencies=e.dependencies),Pn|=n.lanes,(i&n.childLanes)===0)if(e!==null){if(zo(e,n,i,!1),(i&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,i=rn(e,e.pendingProps),n.child=i,i.return=n;e.sibling!==null;)e=e.sibling,i=i.sibling=rn(e,e.pendingProps),i.return=n;i.sibling=null}return n.child}function Nr(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Bl(e)))}function f0(e,n,i){switch(n.tag){case 3:Le(n,n.stateNode.containerInfo),Ln(n,Ze,e.memoizedState.cache),uo();break;case 27:case 5:Ut(n);break;case 4:Le(n,n.stateNode.containerInfo);break;case 10:Ln(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,$s(n),null;break;case 13:var s=n.memoizedState;if(s!==null)return s.dehydrated!==null?(Vn(n),n.flags|=128,null):(i&n.child.childLanes)!==0?vd(e,n,i):(Vn(n),e=pn(e,n,i),e!==null?e.sibling:null);Vn(n);break;case 19:var d=(e.flags&128)!==0;if(s=(i&n.childLanes)!==0,s||(zo(e,n,i,!1),s=(i&n.childLanes)!==0),d){if(s)return Td(e,n,i);n.flags|=128}if(d=n.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),X(Xe,Xe.current),s)break;return null;case 22:return n.lanes=0,dd(e,n,i,n.pendingProps);case 24:Ln(n,Ze,e.memoizedState.cache)}return pn(e,n,i)}function Ed(e,n,i){if(e!==null)if(e.memoizedProps!==n.pendingProps)je=!0;else{if(!Nr(e,i)&&(n.flags&128)===0)return je=!1,f0(e,n,i);je=(e.flags&131072)!==0}else je=!1,Re&&(n.flags&1048576)!==0&&$c(n,Li,n.index);switch(n.lanes=0,n.tag){case 16:e:{var s=n.pendingProps;if(e=po(n.elementType),n.type=e,typeof e=="function")Ds(e)?(s=vo(e,s),n.tag=1,n=gd(null,n,e,s,i)):(n.tag=0,n=Tr(null,n,e,s,i));else{if(e!=null){var d=e.$$typeof;if(d===Q){n.tag=11,n=ud(null,n,e,s,i);break e}else if(d===W){n.tag=14,n=cd(null,n,e,s,i);break e}}throw n=He(e)||e,Error(a(306,n,""))}}return n;case 0:return Tr(e,n,n.type,n.pendingProps,i);case 1:return s=n.type,d=vo(s,n.pendingProps),gd(e,n,s,d,i);case 3:e:{if(Le(n,n.stateNode.containerInfo),e===null)throw Error(a(387));s=n.pendingProps;var p=n.memoizedState;d=p.element,Ws(e,n),Pi(n,s,null,i);var S=n.memoizedState;if(s=S.cache,Ln(n,Ze,s),s!==p.cache&&Bs(n,[Ze],i,!0),Bi(),s=S.element,p.isDehydrated)if(p={element:s,isDehydrated:!1,cache:S.cache},n.updateQueue.baseState=p,n.memoizedState=p,n.flags&256){n=yd(e,n,s,i);break e}else if(s!==d){d=Vt(Error(a(424)),n),ki(d),n=yd(e,n,s,i);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Oe=Ot(e.firstChild),st=n,Re=!0,Dn=null,Bt=!0,i=df(n,null,s,i),n.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(uo(),s===d){n=pn(e,n,i);break e}ut(e,n,s,i)}n=n.child}return n;case 26:return aa(e,n),e===null?(i=Dh(n.type,null,n.pendingProps,null))?n.memoizedState=i:Re||(i=n.type,e=n.pendingProps,s=Ca($.current).createElement(i),s[at]=n,s[yt]=e,ct(s,i,e),nt(s),n.stateNode=s):n.memoizedState=Dh(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Ut(n),e===null&&Re&&(s=n.stateNode=Rh(n.type,n.pendingProps,$.current),st=n,Bt=!0,d=Oe,Wn(n.type)?(au=d,Oe=Ot(s.firstChild)):Oe=d),ut(e,n,n.pendingProps.children,i),aa(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Re&&((d=s=Oe)&&(s=B0(s,n.type,n.pendingProps,Bt),s!==null?(n.stateNode=s,st=n,Oe=Ot(s.firstChild),Bt=!1,d=!0):d=!1),d||Un(n)),Ut(n),d=n.type,p=n.pendingProps,S=e!==null?e.memoizedProps:null,s=p.children,tu(d,p)?s=null:S!==null&&tu(d,S)&&(n.flags|=32),n.memoizedState!==null&&(d=er(e,n,n0,null,null,i),rl._currentValue=d),aa(e,n),ut(e,n,s,i),n.child;case 6:return e===null&&Re&&((e=i=Oe)&&(i=P0(i,n.pendingProps,Bt),i!==null?(n.stateNode=i,st=n,Oe=null,e=!0):e=!1),e||Un(n)),null;case 13:return vd(e,n,i);case 4:return Le(n,n.stateNode.containerInfo),s=n.pendingProps,e===null?n.child=go(n,null,s,i):ut(e,n,s,i),n.child;case 11:return ud(e,n,n.type,n.pendingProps,i);case 7:return ut(e,n,n.pendingProps,i),n.child;case 8:return ut(e,n,n.pendingProps.children,i),n.child;case 12:return ut(e,n,n.pendingProps.children,i),n.child;case 10:return s=n.pendingProps,Ln(n,n.type,s.value),ut(e,n,s.children,i),n.child;case 9:return d=n.type._context,s=n.pendingProps.children,fo(n),d=rt(d),s=s(d),n.flags|=1,ut(e,n,s,i),n.child;case 14:return cd(e,n,n.type,n.pendingProps,i);case 15:return fd(e,n,n.type,n.pendingProps,i);case 19:return Td(e,n,i);case 31:return c0(e,n,i);case 22:return dd(e,n,i,n.pendingProps);case 24:return fo(n),s=rt(Ze),e===null?(d=Fs(),d===null&&(d=Pe,p=Ps(),d.pooledCache=p,p.refCount++,p!==null&&(d.pooledCacheLanes|=i),d=p),n.memoizedState={parent:s,cache:d},Ys(n),Ln(n,Ze,d)):((e.lanes&i)!==0&&(Ws(e,n),Pi(n,null,null,i),Bi()),d=e.memoizedState,p=n.memoizedState,d.parent!==s?(d={parent:s,cache:s},n.memoizedState=d,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=d),Ln(n,Ze,s)):(s=p.cache,Ln(n,Ze,s),s!==d.cache&&Bs(n,[Ze],i,!0))),ut(e,n,n.pendingProps.children,i),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function mn(e){e.flags|=4}function wr(e,n,i,s,d){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(d&335544128)===d)if(e.stateNode.complete)e.flags|=8192;else if(Kd())e.flags|=8192;else throw mo=Jl,Js}else e.flags&=-16777217}function _d(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Gh(n))if(Kd())e.flags|=8192;else throw mo=Jl,Js}function ra(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?ec():536870912,e.lanes|=n,$o|=n)}function Ki(e,n){if(!Re)switch(e.tailMode){case"hidden":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Fe(e){var n=e.alternate!==null&&e.alternate.child===e.child,i=0,s=0;if(n)for(var d=e.child;d!==null;)i|=d.lanes|d.childLanes,s|=d.subtreeFlags&65011712,s|=d.flags&65011712,d.return=e,d=d.sibling;else for(d=e.child;d!==null;)i|=d.lanes|d.childLanes,s|=d.subtreeFlags,s|=d.flags,d.return=e,d=d.sibling;return e.subtreeFlags|=s,e.childLanes=i,n}function d0(e,n,i){var s=n.pendingProps;switch(Hs(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Fe(n),null;case 1:return Fe(n),null;case 3:return i=n.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),fn(Ze),Se(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(qo(n)?mn(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Vs())),Fe(n),null;case 26:var d=n.type,p=n.memoizedState;return e===null?(mn(n),p!==null?(Fe(n),_d(n,p)):(Fe(n),wr(n,d,null,s,i))):p?p!==e.memoizedState?(mn(n),Fe(n),_d(n,p)):(Fe(n),n.flags&=-16777217):(e=e.memoizedProps,e!==s&&mn(n),Fe(n),wr(n,d,e,s,i)),null;case 27:if(Lt(n),i=$.current,d=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==s&&mn(n);else{if(!s){if(n.stateNode===null)throw Error(a(166));return Fe(n),null}e=ee.current,qo(n)?ef(n):(e=Rh(d,s,i),n.stateNode=e,mn(n))}return Fe(n),null;case 5:if(Lt(n),d=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==s&&mn(n);else{if(!s){if(n.stateNode===null)throw Error(a(166));return Fe(n),null}if(p=ee.current,qo(n))ef(n);else{var S=Ca($.current);switch(p){case 1:p=S.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:p=S.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":p=S.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":p=S.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":p=S.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof s.is=="string"?S.createElement("select",{is:s.is}):S.createElement("select"),s.multiple?p.multiple=!0:s.size&&(p.size=s.size);break;default:p=typeof s.is=="string"?S.createElement(d,{is:s.is}):S.createElement(d)}}p[at]=n,p[yt]=s;e:for(S=n.child;S!==null;){if(S.tag===5||S.tag===6)p.appendChild(S.stateNode);else if(S.tag!==4&&S.tag!==27&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===n)break e;for(;S.sibling===null;){if(S.return===null||S.return===n)break e;S=S.return}S.sibling.return=S.return,S=S.sibling}n.stateNode=p;e:switch(ct(p,d,s),d){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&mn(n)}}return Fe(n),wr(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,i),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==s&&mn(n);else{if(typeof s!="string"&&n.stateNode===null)throw Error(a(166));if(e=$.current,qo(n)){if(e=n.stateNode,i=n.memoizedProps,s=null,d=st,d!==null)switch(d.tag){case 27:case 5:s=d.memoizedProps}e[at]=n,e=!!(e.nodeValue===i||s!==null&&s.suppressHydrationWarning===!0||vh(e.nodeValue,i)),e||Un(n,!0)}else e=Ca(e).createTextNode(s),e[at]=n,n.stateNode=e}return Fe(n),null;case 31:if(i=n.memoizedState,e===null||e.memoizedState!==null){if(s=qo(n),i!==null){if(e===null){if(!s)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[at]=n}else uo(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Fe(n),e=!1}else i=Vs(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),e=!0;if(!e)return n.flags&256?(Rt(n),n):(Rt(n),null);if((n.flags&128)!==0)throw Error(a(558))}return Fe(n),null;case 13:if(s=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(d=qo(n),s!==null&&s.dehydrated!==null){if(e===null){if(!d)throw Error(a(318));if(d=n.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(a(317));d[at]=n}else uo(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Fe(n),d=!1}else d=Vs(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=d),d=!0;if(!d)return n.flags&256?(Rt(n),n):(Rt(n),null)}return Rt(n),(n.flags&128)!==0?(n.lanes=i,n):(i=s!==null,e=e!==null&&e.memoizedState!==null,i&&(s=n.child,d=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(d=s.alternate.memoizedState.cachePool.pool),p=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(p=s.memoizedState.cachePool.pool),p!==d&&(s.flags|=2048)),i!==e&&i&&(n.child.flags|=8192),ra(n,n.updateQueue),Fe(n),null);case 4:return Se(),e===null&&Qr(n.stateNode.containerInfo),Fe(n),null;case 10:return fn(n.type),Fe(n),null;case 19:if(V(Xe),s=n.memoizedState,s===null)return Fe(n),null;if(d=(n.flags&128)!==0,p=s.rendering,p===null)if(d)Ki(s,!1);else{if(We!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(p=Xl(e),p!==null){for(n.flags|=128,Ki(s,!1),e=p.updateQueue,n.updateQueue=e,ra(n,e),n.subtreeFlags=0,e=i,i=n.child;i!==null;)Xc(i,e),i=i.sibling;return X(Xe,Xe.current&1|2),Re&&un(n,s.treeForkCount),n.child}e=e.sibling}s.tail!==null&&pe()>ha&&(n.flags|=128,d=!0,Ki(s,!1),n.lanes=4194304)}else{if(!d)if(e=Xl(p),e!==null){if(n.flags|=128,d=!0,e=e.updateQueue,n.updateQueue=e,ra(n,e),Ki(s,!0),s.tail===null&&s.tailMode==="hidden"&&!p.alternate&&!Re)return Fe(n),null}else 2*pe()-s.renderingStartTime>ha&&i!==536870912&&(n.flags|=128,d=!0,Ki(s,!1),n.lanes=4194304);s.isBackwards?(p.sibling=n.child,n.child=p):(e=s.last,e!==null?e.sibling=p:n.child=p,s.last=p)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=pe(),e.sibling=null,i=Xe.current,X(Xe,d?i&1|2:i&1),Re&&un(n,s.treeForkCount),e):(Fe(n),null);case 22:case 23:return Rt(n),Zs(),s=n.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(n.flags|=8192):s&&(n.flags|=8192),s?(i&536870912)!==0&&(n.flags&128)===0&&(Fe(n),n.subtreeFlags&6&&(n.flags|=8192)):Fe(n),i=n.updateQueue,i!==null&&ra(n,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),s=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),s!==i&&(n.flags|=2048),e!==null&&V(ho),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),n.memoizedState.cache!==i&&(n.flags|=2048),fn(Ze),Fe(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function h0(e,n){switch(Hs(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return fn(Ze),Se(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Lt(n),null;case 31:if(n.memoizedState!==null){if(Rt(n),n.alternate===null)throw Error(a(340));uo()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(Rt(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));uo()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return V(Xe),null;case 4:return Se(),null;case 10:return fn(n.type),null;case 22:case 23:return Rt(n),Zs(),e!==null&&V(ho),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return fn(Ze),null;case 25:return null;default:return null}}function Cd(e,n){switch(Hs(n),n.tag){case 3:fn(Ze),Se();break;case 26:case 27:case 5:Lt(n);break;case 4:Se();break;case 31:n.memoizedState!==null&&Rt(n);break;case 13:Rt(n);break;case 19:V(Xe);break;case 10:fn(n.type);break;case 22:case 23:Rt(n),Zs(),e!==null&&V(ho);break;case 24:fn(Ze)}}function Xi(e,n){try{var i=n.updateQueue,s=i!==null?i.lastEffect:null;if(s!==null){var d=s.next;i=d;do{if((i.tag&e)===e){s=void 0;var p=i.create,S=i.inst;s=p(),S.destroy=s}i=i.next}while(i!==d)}}catch(C){Ve(n,n.return,C)}}function zn(e,n,i){try{var s=n.updateQueue,d=s!==null?s.lastEffect:null;if(d!==null){var p=d.next;s=p;do{if((s.tag&e)===e){var S=s.inst,C=S.destroy;if(C!==void 0){S.destroy=void 0,d=n;var A=i,M=C;try{M()}catch(G){Ve(d,A,G)}}}s=s.next}while(s!==p)}}catch(G){Ve(n,n.return,G)}}function xd(e){var n=e.updateQueue;if(n!==null){var i=e.stateNode;try{pf(n,i)}catch(s){Ve(e,e.return,s)}}}function Ad(e,n,i){i.props=vo(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(s){Ve(e,n,s)}}function Qi(e,n){try{var i=e.ref;if(i!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof i=="function"?e.refCleanup=i(s):i.current=s}}catch(d){Ve(e,n,d)}}function tn(e,n){var i=e.ref,s=e.refCleanup;if(i!==null)if(typeof s=="function")try{s()}catch(d){Ve(e,n,d)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(d){Ve(e,n,d)}else i.current=null}function bd(e){var n=e.type,i=e.memoizedProps,s=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":i.autoFocus&&s.focus();break e;case"img":i.src?s.src=i.src:i.srcSet&&(s.srcset=i.srcSet)}}catch(d){Ve(e,e.return,d)}}function Rr(e,n,i){try{var s=e.stateNode;k0(s,e.type,i,n),s[yt]=n}catch(d){Ve(e,e.return,d)}}function Nd(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Wn(e.type)||e.tag===4}function Mr(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Nd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Wn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ir(e,n,i){var s=e.tag;if(s===5||s===6)e=e.stateNode,n?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(e,n):(n=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,n.appendChild(e),i=i._reactRootContainer,i!=null||n.onclick!==null||(n.onclick=an));else if(s!==4&&(s===27&&Wn(e.type)&&(i=e.stateNode,n=null),e=e.child,e!==null))for(Ir(e,n,i),e=e.sibling;e!==null;)Ir(e,n,i),e=e.sibling}function ua(e,n,i){var s=e.tag;if(s===5||s===6)e=e.stateNode,n?i.insertBefore(e,n):i.appendChild(e);else if(s!==4&&(s===27&&Wn(e.type)&&(i=e.stateNode),e=e.child,e!==null))for(ua(e,n,i),e=e.sibling;e!==null;)ua(e,n,i),e=e.sibling}function wd(e){var n=e.stateNode,i=e.memoizedProps;try{for(var s=e.type,d=n.attributes;d.length;)n.removeAttributeNode(d[0]);ct(n,s,i),n[at]=e,n[yt]=i}catch(p){Ve(e,e.return,p)}}var gn=!1,et=!1,Dr=!1,Rd=typeof WeakSet=="function"?WeakSet:Set,ot=null;function p0(e,n){if(e=e.containerInfo,jr=Ma,e=zc(e),As(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var s=i.getSelection&&i.getSelection();if(s&&s.rangeCount!==0){i=s.anchorNode;var d=s.anchorOffset,p=s.focusNode;s=s.focusOffset;try{i.nodeType,p.nodeType}catch{i=null;break e}var S=0,C=-1,A=-1,M=0,G=0,B=e,I=null;t:for(;;){for(var L;B!==i||d!==0&&B.nodeType!==3||(C=S+d),B!==p||s!==0&&B.nodeType!==3||(A=S+s),B.nodeType===3&&(S+=B.nodeValue.length),(L=B.firstChild)!==null;)I=B,B=L;for(;;){if(B===e)break t;if(I===i&&++M===d&&(C=S),I===p&&++G===s&&(A=S),(L=B.nextSibling)!==null)break;B=I,I=B.parentNode}B=L}i=C===-1||A===-1?null:{start:C,end:A}}else i=null}i=i||{start:0,end:0}}else i=null;for(eu={focusedElem:e,selectionRange:i},Ma=!1,ot=n;ot!==null;)if(n=ot,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,ot=e;else for(;ot!==null;){switch(n=ot,p=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(i=0;i<e.length;i++)d=e[i],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&p!==null){e=void 0,i=n,d=p.memoizedProps,p=p.memoizedState,s=i.stateNode;try{var te=vo(i.type,d);e=s.getSnapshotBeforeUpdate(te,p),s.__reactInternalSnapshotBeforeUpdate=e}catch(ae){Ve(i,i.return,ae)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,i=e.nodeType,i===9)ou(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":ou(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,ot=e;break}ot=n.return}}function Md(e,n,i){var s=i.flags;switch(i.tag){case 0:case 11:case 15:vn(e,i),s&4&&Xi(5,i);break;case 1:if(vn(e,i),s&4)if(e=i.stateNode,n===null)try{e.componentDidMount()}catch(S){Ve(i,i.return,S)}else{var d=vo(i.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(d,n,e.__reactInternalSnapshotBeforeUpdate)}catch(S){Ve(i,i.return,S)}}s&64&&xd(i),s&512&&Qi(i,i.return);break;case 3:if(vn(e,i),s&64&&(e=i.updateQueue,e!==null)){if(n=null,i.child!==null)switch(i.child.tag){case 27:case 5:n=i.child.stateNode;break;case 1:n=i.child.stateNode}try{pf(e,n)}catch(S){Ve(i,i.return,S)}}break;case 27:n===null&&s&4&&wd(i);case 26:case 5:vn(e,i),n===null&&s&4&&bd(i),s&512&&Qi(i,i.return);break;case 12:vn(e,i);break;case 31:vn(e,i),s&4&&Ud(e,i);break;case 13:vn(e,i),s&4&&Ld(e,i),s&64&&(e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(i=C0.bind(null,i),O0(e,i))));break;case 22:if(s=i.memoizedState!==null||gn,!s){n=n!==null&&n.memoizedState!==null||et,d=gn;var p=et;gn=s,(et=n)&&!p?Sn(e,i,(i.subtreeFlags&8772)!==0):vn(e,i),gn=d,et=p}break;case 30:break;default:vn(e,i)}}function Id(e){var n=e.alternate;n!==null&&(e.alternate=null,Id(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&rs(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Je=null,St=!1;function yn(e,n,i){for(i=i.child;i!==null;)Dd(e,n,i),i=i.sibling}function Dd(e,n,i){if(xt&&typeof xt.onCommitFiberUnmount=="function")try{xt.onCommitFiberUnmount(Ti,i)}catch{}switch(i.tag){case 26:et||tn(i,n),yn(e,n,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:et||tn(i,n);var s=Je,d=St;Wn(i.type)&&(Je=i.stateNode,St=!1),yn(e,n,i),ll(i.stateNode),Je=s,St=d;break;case 5:et||tn(i,n);case 6:if(s=Je,d=St,Je=null,yn(e,n,i),Je=s,St=d,Je!==null)if(St)try{(Je.nodeType===9?Je.body:Je.nodeName==="HTML"?Je.ownerDocument.body:Je).removeChild(i.stateNode)}catch(p){Ve(i,n,p)}else try{Je.removeChild(i.stateNode)}catch(p){Ve(i,n,p)}break;case 18:Je!==null&&(St?(e=Je,xh(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,i.stateNode),ai(e)):xh(Je,i.stateNode));break;case 4:s=Je,d=St,Je=i.stateNode.containerInfo,St=!0,yn(e,n,i),Je=s,St=d;break;case 0:case 11:case 14:case 15:zn(2,i,n),et||zn(4,i,n),yn(e,n,i);break;case 1:et||(tn(i,n),s=i.stateNode,typeof s.componentWillUnmount=="function"&&Ad(i,n,s)),yn(e,n,i);break;case 21:yn(e,n,i);break;case 22:et=(s=et)||i.memoizedState!==null,yn(e,n,i),et=s;break;default:yn(e,n,i)}}function Ud(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ai(e)}catch(i){Ve(n,n.return,i)}}}function Ld(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ai(e)}catch(i){Ve(n,n.return,i)}}function m0(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Rd),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Rd),n;default:throw Error(a(435,e.tag))}}function ca(e,n){var i=m0(e);n.forEach(function(s){if(!i.has(s)){i.add(s);var d=x0.bind(null,e,s);s.then(d,d)}})}function Tt(e,n){var i=n.deletions;if(i!==null)for(var s=0;s<i.length;s++){var d=i[s],p=e,S=n,C=S;e:for(;C!==null;){switch(C.tag){case 27:if(Wn(C.type)){Je=C.stateNode,St=!1;break e}break;case 5:Je=C.stateNode,St=!1;break e;case 3:case 4:Je=C.stateNode.containerInfo,St=!0;break e}C=C.return}if(Je===null)throw Error(a(160));Dd(p,S,d),Je=null,St=!1,p=d.alternate,p!==null&&(p.return=null),d.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)kd(n,e),n=n.sibling}var Kt=null;function kd(e,n){var i=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Tt(n,e),Et(e),s&4&&(zn(3,e,e.return),Xi(3,e),zn(5,e,e.return));break;case 1:Tt(n,e),Et(e),s&512&&(et||i===null||tn(i,i.return)),s&64&&gn&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?s:i.concat(s))));break;case 26:var d=Kt;if(Tt(n,e),Et(e),s&512&&(et||i===null||tn(i,i.return)),s&4){var p=i!==null?i.memoizedState:null;if(s=e.memoizedState,i===null)if(s===null)if(e.stateNode===null){e:{s=e.type,i=e.memoizedProps,d=d.ownerDocument||d;t:switch(s){case"title":p=d.getElementsByTagName("title")[0],(!p||p[Ci]||p[at]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=d.createElement(s),d.head.insertBefore(p,d.querySelector("head > title"))),ct(p,s,i),p[at]=e,nt(p),s=p;break e;case"link":var S=kh("link","href",d).get(s+(i.href||""));if(S){for(var C=0;C<S.length;C++)if(p=S[C],p.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&p.getAttribute("rel")===(i.rel==null?null:i.rel)&&p.getAttribute("title")===(i.title==null?null:i.title)&&p.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){S.splice(C,1);break t}}p=d.createElement(s),ct(p,s,i),d.head.appendChild(p);break;case"meta":if(S=kh("meta","content",d).get(s+(i.content||""))){for(C=0;C<S.length;C++)if(p=S[C],p.getAttribute("content")===(i.content==null?null:""+i.content)&&p.getAttribute("name")===(i.name==null?null:i.name)&&p.getAttribute("property")===(i.property==null?null:i.property)&&p.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&p.getAttribute("charset")===(i.charSet==null?null:i.charSet)){S.splice(C,1);break t}}p=d.createElement(s),ct(p,s,i),d.head.appendChild(p);break;default:throw Error(a(468,s))}p[at]=e,nt(p),s=p}e.stateNode=s}else Hh(d,e.type,e.stateNode);else e.stateNode=Lh(d,s,e.memoizedProps);else p!==s?(p===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):p.count--,s===null?Hh(d,e.type,e.stateNode):Lh(d,s,e.memoizedProps)):s===null&&e.stateNode!==null&&Rr(e,e.memoizedProps,i.memoizedProps)}break;case 27:Tt(n,e),Et(e),s&512&&(et||i===null||tn(i,i.return)),i!==null&&s&4&&Rr(e,e.memoizedProps,i.memoizedProps);break;case 5:if(Tt(n,e),Et(e),s&512&&(et||i===null||tn(i,i.return)),e.flags&32){d=e.stateNode;try{Ro(d,"")}catch(te){Ve(e,e.return,te)}}s&4&&e.stateNode!=null&&(d=e.memoizedProps,Rr(e,d,i!==null?i.memoizedProps:d)),s&1024&&(Dr=!0);break;case 6:if(Tt(n,e),Et(e),s&4){if(e.stateNode===null)throw Error(a(162));s=e.memoizedProps,i=e.stateNode;try{i.nodeValue=s}catch(te){Ve(e,e.return,te)}}break;case 3:if(ba=null,d=Kt,Kt=xa(n.containerInfo),Tt(n,e),Kt=d,Et(e),s&4&&i!==null&&i.memoizedState.isDehydrated)try{ai(n.containerInfo)}catch(te){Ve(e,e.return,te)}Dr&&(Dr=!1,Hd(e));break;case 4:s=Kt,Kt=xa(e.stateNode.containerInfo),Tt(n,e),Et(e),Kt=s;break;case 12:Tt(n,e),Et(e);break;case 31:Tt(n,e),Et(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,ca(e,s)));break;case 13:Tt(n,e),Et(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(da=pe()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,ca(e,s)));break;case 22:d=e.memoizedState!==null;var A=i!==null&&i.memoizedState!==null,M=gn,G=et;if(gn=M||d,et=G||A,Tt(n,e),et=G,gn=M,Et(e),s&8192)e:for(n=e.stateNode,n._visibility=d?n._visibility&-2:n._visibility|1,d&&(i===null||A||gn||et||So(e)),i=null,n=e;;){if(n.tag===5||n.tag===26){if(i===null){A=i=n;try{if(p=A.stateNode,d)S=p.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{C=A.stateNode;var B=A.memoizedProps.style,I=B!=null&&B.hasOwnProperty("display")?B.display:null;C.style.display=I==null||typeof I=="boolean"?"":(""+I).trim()}}catch(te){Ve(A,A.return,te)}}}else if(n.tag===6){if(i===null){A=n;try{A.stateNode.nodeValue=d?"":A.memoizedProps}catch(te){Ve(A,A.return,te)}}}else if(n.tag===18){if(i===null){A=n;try{var L=A.stateNode;d?Ah(L,!0):Ah(A.stateNode,!1)}catch(te){Ve(A,A.return,te)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;i===n&&(i=null),n=n.return}i===n&&(i=null),n.sibling.return=n.return,n=n.sibling}s&4&&(s=e.updateQueue,s!==null&&(i=s.retryQueue,i!==null&&(s.retryQueue=null,ca(e,i))));break;case 19:Tt(n,e),Et(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,ca(e,s)));break;case 30:break;case 21:break;default:Tt(n,e),Et(e)}}function Et(e){var n=e.flags;if(n&2){try{for(var i,s=e.return;s!==null;){if(Nd(s)){i=s;break}s=s.return}if(i==null)throw Error(a(160));switch(i.tag){case 27:var d=i.stateNode,p=Mr(e);ua(e,p,d);break;case 5:var S=i.stateNode;i.flags&32&&(Ro(S,""),i.flags&=-33);var C=Mr(e);ua(e,C,S);break;case 3:case 4:var A=i.stateNode.containerInfo,M=Mr(e);Ir(e,M,A);break;default:throw Error(a(161))}}catch(G){Ve(e,e.return,G)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Hd(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Hd(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function vn(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Md(e,n.alternate,n),n=n.sibling}function So(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:zn(4,n,n.return),So(n);break;case 1:tn(n,n.return);var i=n.stateNode;typeof i.componentWillUnmount=="function"&&Ad(n,n.return,i),So(n);break;case 27:ll(n.stateNode);case 26:case 5:tn(n,n.return),So(n);break;case 22:n.memoizedState===null&&So(n);break;case 30:So(n);break;default:So(n)}e=e.sibling}}function Sn(e,n,i){for(i=i&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var s=n.alternate,d=e,p=n,S=p.flags;switch(p.tag){case 0:case 11:case 15:Sn(d,p,i),Xi(4,p);break;case 1:if(Sn(d,p,i),s=p,d=s.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(M){Ve(s,s.return,M)}if(s=p,d=s.updateQueue,d!==null){var C=s.stateNode;try{var A=d.shared.hiddenCallbacks;if(A!==null)for(d.shared.hiddenCallbacks=null,d=0;d<A.length;d++)hf(A[d],C)}catch(M){Ve(s,s.return,M)}}i&&S&64&&xd(p),Qi(p,p.return);break;case 27:wd(p);case 26:case 5:Sn(d,p,i),i&&s===null&&S&4&&bd(p),Qi(p,p.return);break;case 12:Sn(d,p,i);break;case 31:Sn(d,p,i),i&&S&4&&Ud(d,p);break;case 13:Sn(d,p,i),i&&S&4&&Ld(d,p);break;case 22:p.memoizedState===null&&Sn(d,p,i),Qi(p,p.return);break;case 30:break;default:Sn(d,p,i)}n=n.sibling}}function Ur(e,n){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&Hi(i))}function Lr(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Hi(e))}function Xt(e,n,i,s){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Gd(e,n,i,s),n=n.sibling}function Gd(e,n,i,s){var d=n.flags;switch(n.tag){case 0:case 11:case 15:Xt(e,n,i,s),d&2048&&Xi(9,n);break;case 1:Xt(e,n,i,s);break;case 3:Xt(e,n,i,s),d&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Hi(e)));break;case 12:if(d&2048){Xt(e,n,i,s),e=n.stateNode;try{var p=n.memoizedProps,S=p.id,C=p.onPostCommit;typeof C=="function"&&C(S,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(A){Ve(n,n.return,A)}}else Xt(e,n,i,s);break;case 31:Xt(e,n,i,s);break;case 13:Xt(e,n,i,s);break;case 23:break;case 22:p=n.stateNode,S=n.alternate,n.memoizedState!==null?p._visibility&2?Xt(e,n,i,s):Zi(e,n):p._visibility&2?Xt(e,n,i,s):(p._visibility|=2,Xo(e,n,i,s,(n.subtreeFlags&10256)!==0||!1)),d&2048&&Ur(S,n);break;case 24:Xt(e,n,i,s),d&2048&&Lr(n.alternate,n);break;default:Xt(e,n,i,s)}}function Xo(e,n,i,s,d){for(d=d&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var p=e,S=n,C=i,A=s,M=S.flags;switch(S.tag){case 0:case 11:case 15:Xo(p,S,C,A,d),Xi(8,S);break;case 23:break;case 22:var G=S.stateNode;S.memoizedState!==null?G._visibility&2?Xo(p,S,C,A,d):Zi(p,S):(G._visibility|=2,Xo(p,S,C,A,d)),d&&M&2048&&Ur(S.alternate,S);break;case 24:Xo(p,S,C,A,d),d&&M&2048&&Lr(S.alternate,S);break;default:Xo(p,S,C,A,d)}n=n.sibling}}function Zi(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var i=e,s=n,d=s.flags;switch(s.tag){case 22:Zi(i,s),d&2048&&Ur(s.alternate,s);break;case 24:Zi(i,s),d&2048&&Lr(s.alternate,s);break;default:Zi(i,s)}n=n.sibling}}var $i=8192;function Qo(e,n,i){if(e.subtreeFlags&$i)for(e=e.child;e!==null;)Vd(e,n,i),e=e.sibling}function Vd(e,n,i){switch(e.tag){case 26:Qo(e,n,i),e.flags&$i&&e.memoizedState!==null&&tv(i,Kt,e.memoizedState,e.memoizedProps);break;case 5:Qo(e,n,i);break;case 3:case 4:var s=Kt;Kt=xa(e.stateNode.containerInfo),Qo(e,n,i),Kt=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=$i,$i=16777216,Qo(e,n,i),$i=s):Qo(e,n,i));break;default:Qo(e,n,i)}}function qd(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function ji(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var i=0;i<n.length;i++){var s=n[i];ot=s,Bd(s,e)}qd(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)zd(e),e=e.sibling}function zd(e){switch(e.tag){case 0:case 11:case 15:ji(e),e.flags&2048&&zn(9,e,e.return);break;case 3:ji(e);break;case 12:ji(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,fa(e)):ji(e);break;default:ji(e)}}function fa(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var i=0;i<n.length;i++){var s=n[i];ot=s,Bd(s,e)}qd(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:zn(8,n,n.return),fa(n);break;case 22:i=n.stateNode,i._visibility&2&&(i._visibility&=-3,fa(n));break;default:fa(n)}e=e.sibling}}function Bd(e,n){for(;ot!==null;){var i=ot;switch(i.tag){case 0:case 11:case 15:zn(8,i,n);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var s=i.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:Hi(i.memoizedState.cache)}if(s=i.child,s!==null)s.return=i,ot=s;else e:for(i=e;ot!==null;){s=ot;var d=s.sibling,p=s.return;if(Id(s),s===i){ot=null;break e}if(d!==null){d.return=p,ot=d;break e}ot=p}}}var g0={getCacheForType:function(e){var n=rt(Ze),i=n.data.get(e);return i===void 0&&(i=e(),n.data.set(e,i)),i},cacheSignal:function(){return rt(Ze).controller.signal}},y0=typeof WeakMap=="function"?WeakMap:Map,ke=0,Pe=null,Ee=null,xe=0,Ge=0,Mt=null,Bn=!1,Zo=!1,kr=!1,Tn=0,We=0,Pn=0,To=0,Hr=0,It=0,$o=0,el=null,_t=null,Gr=!1,da=0,Pd=0,ha=1/0,pa=null,On=null,tt=0,Fn=null,jo=null,En=0,Vr=0,qr=null,Od=null,tl=0,zr=null;function Dt(){return(ke&2)!==0&&xe!==0?xe&-xe:k.T!==null?Yr():ic()}function Fd(){if(It===0)if((xe&536870912)===0||Re){var e=_l;_l<<=1,(_l&3932160)===0&&(_l=262144),It=e}else It=536870912;return e=wt.current,e!==null&&(e.flags|=32),It}function Ct(e,n,i){(e===Pe&&(Ge===2||Ge===9)||e.cancelPendingCommit!==null)&&(ei(e,0),Jn(e,xe,It,!1)),_i(e,i),((ke&2)===0||e!==Pe)&&(e===Pe&&((ke&2)===0&&(To|=i),We===4&&Jn(e,xe,It,!1)),nn(e))}function Jd(e,n,i){if((ke&6)!==0)throw Error(a(327));var s=!i&&(n&127)===0&&(n&e.expiredLanes)===0||Ei(e,n),d=s?T0(e,n):Pr(e,n,!0),p=s;do{if(d===0){Zo&&!s&&Jn(e,n,0,!1);break}else{if(i=e.current.alternate,p&&!v0(i)){d=Pr(e,n,!1),p=!1;continue}if(d===2){if(p=n,e.errorRecoveryDisabledLanes&p)var S=0;else S=e.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){n=S;e:{var C=e;d=el;var A=C.current.memoizedState.isDehydrated;if(A&&(ei(C,S).flags|=256),S=Pr(C,S,!1),S!==2){if(kr&&!A){C.errorRecoveryDisabledLanes|=p,To|=p,d=4;break e}p=_t,_t=d,p!==null&&(_t===null?_t=p:_t.push.apply(_t,p))}d=S}if(p=!1,d!==2)continue}}if(d===1){ei(e,0),Jn(e,n,0,!0);break}e:{switch(s=e,p=d,p){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Jn(s,n,It,!Bn);break e;case 2:_t=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(d=da+300-pe(),10<d)){if(Jn(s,n,It,!Bn),xl(s,0,!0)!==0)break e;En=n,s.timeoutHandle=_h(Yd.bind(null,s,i,_t,pa,Gr,n,It,To,$o,Bn,p,"Throttled",-0,0),d);break e}Yd(s,i,_t,pa,Gr,n,It,To,$o,Bn,p,null,-0,0)}}break}while(!0);nn(e)}function Yd(e,n,i,s,d,p,S,C,A,M,G,B,I,L){if(e.timeoutHandle=-1,B=n.subtreeFlags,B&8192||(B&16785408)===16785408){B={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:an},Vd(n,p,B);var te=(p&62914560)===p?da-pe():(p&4194048)===p?Pd-pe():0;if(te=nv(B,te),te!==null){En=p,e.cancelPendingCommit=te(eh.bind(null,e,n,p,i,s,d,S,C,A,G,B,null,I,L)),Jn(e,p,S,!M);return}}eh(e,n,p,i,s,d,S,C,A)}function v0(e){for(var n=e;;){var i=n.tag;if((i===0||i===11||i===15)&&n.flags&16384&&(i=n.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var s=0;s<i.length;s++){var d=i[s],p=d.getSnapshot;d=d.value;try{if(!bt(p(),d))return!1}catch{return!1}}if(i=n.child,n.subtreeFlags&16384&&i!==null)i.return=n,n=i;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Jn(e,n,i,s){n&=~Hr,n&=~To,e.suspendedLanes|=n,e.pingedLanes&=~n,s&&(e.warmLanes|=n),s=e.expirationTimes;for(var d=n;0<d;){var p=31-At(d),S=1<<p;s[p]=-1,d&=~S}i!==0&&tc(e,i,n)}function ma(){return(ke&6)===0?(nl(0),!1):!0}function Br(){if(Ee!==null){if(Ge===0)var e=Ee.return;else e=Ee,cn=co=null,or(e),Fo=null,Vi=0,e=Ee;for(;e!==null;)Cd(e.alternate,e),e=e.return;Ee=null}}function ei(e,n){var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,V0(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),En=0,Br(),Pe=e,Ee=i=rn(e.current,null),xe=n,Ge=0,Mt=null,Bn=!1,Zo=Ei(e,n),kr=!1,$o=It=Hr=To=Pn=We=0,_t=el=null,Gr=!1,(n&8)!==0&&(n|=n&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=n;0<s;){var d=31-At(s),p=1<<d;n|=e[d],s&=~p}return Tn=n,Hl(),i}function Wd(e,n){me=null,k.H=Yi,n===Oo||n===Fl?(n=uf(),Ge=3):n===Js?(n=uf(),Ge=4):Ge=n===Sr?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Mt=n,Ee===null&&(We=1,ia(e,Vt(n,e.current)))}function Kd(){var e=wt.current;return e===null?!0:(xe&4194048)===xe?Pt===null:(xe&62914560)===xe||(xe&536870912)!==0?e===Pt:!1}function Xd(){var e=k.H;return k.H=Yi,e===null?Yi:e}function Qd(){var e=k.A;return k.A=g0,e}function ga(){We=4,Bn||(xe&4194048)!==xe&&wt.current!==null||(Zo=!0),(Pn&134217727)===0&&(To&134217727)===0||Pe===null||Jn(Pe,xe,It,!1)}function Pr(e,n,i){var s=ke;ke|=2;var d=Xd(),p=Qd();(Pe!==e||xe!==n)&&(pa=null,ei(e,n)),n=!1;var S=We;e:do try{if(Ge!==0&&Ee!==null){var C=Ee,A=Mt;switch(Ge){case 8:Br(),S=6;break e;case 3:case 2:case 9:case 6:wt.current===null&&(n=!0);var M=Ge;if(Ge=0,Mt=null,ti(e,C,A,M),i&&Zo){S=0;break e}break;default:M=Ge,Ge=0,Mt=null,ti(e,C,A,M)}}S0(),S=We;break}catch(G){Wd(e,G)}while(!0);return n&&e.shellSuspendCounter++,cn=co=null,ke=s,k.H=d,k.A=p,Ee===null&&(Pe=null,xe=0,Hl()),S}function S0(){for(;Ee!==null;)Zd(Ee)}function T0(e,n){var i=ke;ke|=2;var s=Xd(),d=Qd();Pe!==e||xe!==n?(pa=null,ha=pe()+500,ei(e,n)):Zo=Ei(e,n);e:do try{if(Ge!==0&&Ee!==null){n=Ee;var p=Mt;t:switch(Ge){case 1:Ge=0,Mt=null,ti(e,n,p,1);break;case 2:case 9:if(sf(p)){Ge=0,Mt=null,$d(n);break}n=function(){Ge!==2&&Ge!==9||Pe!==e||(Ge=7),nn(e)},p.then(n,n);break e;case 3:Ge=7;break e;case 4:Ge=5;break e;case 7:sf(p)?(Ge=0,Mt=null,$d(n)):(Ge=0,Mt=null,ti(e,n,p,7));break;case 5:var S=null;switch(Ee.tag){case 26:S=Ee.memoizedState;case 5:case 27:var C=Ee;if(S?Gh(S):C.stateNode.complete){Ge=0,Mt=null;var A=C.sibling;if(A!==null)Ee=A;else{var M=C.return;M!==null?(Ee=M,ya(M)):Ee=null}break t}}Ge=0,Mt=null,ti(e,n,p,5);break;case 6:Ge=0,Mt=null,ti(e,n,p,6);break;case 8:Br(),We=6;break e;default:throw Error(a(462))}}E0();break}catch(G){Wd(e,G)}while(!0);return cn=co=null,k.H=s,k.A=d,ke=i,Ee!==null?0:(Pe=null,xe=0,Hl(),We)}function E0(){for(;Ee!==null&&!q();)Zd(Ee)}function Zd(e){var n=Ed(e.alternate,e,Tn);e.memoizedProps=e.pendingProps,n===null?ya(e):Ee=n}function $d(e){var n=e,i=n.alternate;switch(n.tag){case 15:case 0:n=md(i,n,n.pendingProps,n.type,void 0,xe);break;case 11:n=md(i,n,n.pendingProps,n.type.render,n.ref,xe);break;case 5:or(n);default:Cd(i,n),n=Ee=Xc(n,Tn),n=Ed(i,n,Tn)}e.memoizedProps=e.pendingProps,n===null?ya(e):Ee=n}function ti(e,n,i,s){cn=co=null,or(n),Fo=null,Vi=0;var d=n.return;try{if(u0(e,d,n,i,xe)){We=1,ia(e,Vt(i,e.current)),Ee=null;return}}catch(p){if(d!==null)throw Ee=d,p;We=1,ia(e,Vt(i,e.current)),Ee=null;return}n.flags&32768?(Re||s===1?e=!0:Zo||(xe&536870912)!==0?e=!1:(Bn=e=!0,(s===2||s===9||s===3||s===6)&&(s=wt.current,s!==null&&s.tag===13&&(s.flags|=16384))),jd(n,e)):ya(n)}function ya(e){var n=e;do{if((n.flags&32768)!==0){jd(n,Bn);return}e=n.return;var i=d0(n.alternate,n,Tn);if(i!==null){Ee=i;return}if(n=n.sibling,n!==null){Ee=n;return}Ee=n=e}while(n!==null);We===0&&(We=5)}function jd(e,n){do{var i=h0(e.alternate,e);if(i!==null){i.flags&=32767,Ee=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!n&&(e=e.sibling,e!==null)){Ee=e;return}Ee=e=i}while(e!==null);We=6,Ee=null}function eh(e,n,i,s,d,p,S,C,A){e.cancelPendingCommit=null;do va();while(tt!==0);if((ke&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(p=n.lanes|n.childLanes,p|=Ms,ey(e,i,p,S,C,A),e===Pe&&(Ee=Pe=null,xe=0),jo=n,Fn=e,En=i,Vr=p,qr=d,Od=s,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,A0(Tl,function(){return lh(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||s){s=k.T,k.T=null,d=J.p,J.p=2,S=ke,ke|=4;try{p0(e,n,i)}finally{ke=S,J.p=d,k.T=s}}tt=1,th(),nh(),oh()}}function th(){if(tt===1){tt=0;var e=Fn,n=jo,i=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||i){i=k.T,k.T=null;var s=J.p;J.p=2;var d=ke;ke|=4;try{kd(n,e);var p=eu,S=zc(e.containerInfo),C=p.focusedElem,A=p.selectionRange;if(S!==C&&C&&C.ownerDocument&&qc(C.ownerDocument.documentElement,C)){if(A!==null&&As(C)){var M=A.start,G=A.end;if(G===void 0&&(G=M),"selectionStart"in C)C.selectionStart=M,C.selectionEnd=Math.min(G,C.value.length);else{var B=C.ownerDocument||document,I=B&&B.defaultView||window;if(I.getSelection){var L=I.getSelection(),te=C.textContent.length,ae=Math.min(A.start,te),Be=A.end===void 0?ae:Math.min(A.end,te);!L.extend&&ae>Be&&(S=Be,Be=ae,ae=S);var w=Vc(C,ae),N=Vc(C,Be);if(w&&N&&(L.rangeCount!==1||L.anchorNode!==w.node||L.anchorOffset!==w.offset||L.focusNode!==N.node||L.focusOffset!==N.offset)){var R=B.createRange();R.setStart(w.node,w.offset),L.removeAllRanges(),ae>Be?(L.addRange(R),L.extend(N.node,N.offset)):(R.setEnd(N.node,N.offset),L.addRange(R))}}}}for(B=[],L=C;L=L.parentNode;)L.nodeType===1&&B.push({element:L,left:L.scrollLeft,top:L.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<B.length;C++){var z=B[C];z.element.scrollLeft=z.left,z.element.scrollTop=z.top}}Ma=!!jr,eu=jr=null}finally{ke=d,J.p=s,k.T=i}}e.current=n,tt=2}}function nh(){if(tt===2){tt=0;var e=Fn,n=jo,i=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||i){i=k.T,k.T=null;var s=J.p;J.p=2;var d=ke;ke|=4;try{Md(e,n.alternate,n)}finally{ke=d,J.p=s,k.T=i}}tt=3}}function oh(){if(tt===4||tt===3){tt=0,ce();var e=Fn,n=jo,i=En,s=Od;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?tt=5:(tt=0,jo=Fn=null,ih(e,e.pendingLanes));var d=e.pendingLanes;if(d===0&&(On=null),as(i),n=n.stateNode,xt&&typeof xt.onCommitFiberRoot=="function")try{xt.onCommitFiberRoot(Ti,n,void 0,(n.current.flags&128)===128)}catch{}if(s!==null){n=k.T,d=J.p,J.p=2,k.T=null;try{for(var p=e.onRecoverableError,S=0;S<s.length;S++){var C=s[S];p(C.value,{componentStack:C.stack})}}finally{k.T=n,J.p=d}}(En&3)!==0&&va(),nn(e),d=e.pendingLanes,(i&261930)!==0&&(d&42)!==0?e===zr?tl++:(tl=0,zr=e):tl=0,nl(0)}}function ih(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Hi(n)))}function va(){return th(),nh(),oh(),lh()}function lh(){if(tt!==5)return!1;var e=Fn,n=Vr;Vr=0;var i=as(En),s=k.T,d=J.p;try{J.p=32>i?32:i,k.T=null,i=qr,qr=null;var p=Fn,S=En;if(tt=0,jo=Fn=null,En=0,(ke&6)!==0)throw Error(a(331));var C=ke;if(ke|=4,zd(p.current),Gd(p,p.current,S,i),ke=C,nl(0,!1),xt&&typeof xt.onPostCommitFiberRoot=="function")try{xt.onPostCommitFiberRoot(Ti,p)}catch{}return!0}finally{J.p=d,k.T=s,ih(e,n)}}function ah(e,n,i){n=Vt(i,n),n=vr(e.stateNode,n,2),e=Gn(e,n,2),e!==null&&(_i(e,2),nn(e))}function Ve(e,n,i){if(e.tag===3)ah(e,e,i);else for(;n!==null;){if(n.tag===3){ah(n,e,i);break}else if(n.tag===1){var s=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(On===null||!On.has(s))){e=Vt(i,e),i=sd(2),s=Gn(n,i,2),s!==null&&(rd(i,s,n,e),_i(s,2),nn(s));break}}n=n.return}}function Or(e,n,i){var s=e.pingCache;if(s===null){s=e.pingCache=new y0;var d=new Set;s.set(n,d)}else d=s.get(n),d===void 0&&(d=new Set,s.set(n,d));d.has(i)||(kr=!0,d.add(i),e=_0.bind(null,e,n,i),n.then(e,e))}function _0(e,n,i){var s=e.pingCache;s!==null&&s.delete(n),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,Pe===e&&(xe&i)===i&&(We===4||We===3&&(xe&62914560)===xe&&300>pe()-da?(ke&2)===0&&ei(e,0):Hr|=i,$o===xe&&($o=0)),nn(e)}function sh(e,n){n===0&&(n=ec()),e=so(e,n),e!==null&&(_i(e,n),nn(e))}function C0(e){var n=e.memoizedState,i=0;n!==null&&(i=n.retryLane),sh(e,i)}function x0(e,n){var i=0;switch(e.tag){case 31:case 13:var s=e.stateNode,d=e.memoizedState;d!==null&&(i=d.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(a(314))}s!==null&&s.delete(n),sh(e,i)}function A0(e,n){return vi(e,n)}var Sa=null,ni=null,Fr=!1,Ta=!1,Jr=!1,Yn=0;function nn(e){e!==ni&&e.next===null&&(ni===null?Sa=ni=e:ni=ni.next=e),Ta=!0,Fr||(Fr=!0,N0())}function nl(e,n){if(!Jr&&Ta){Jr=!0;do for(var i=!1,s=Sa;s!==null;){if(e!==0){var d=s.pendingLanes;if(d===0)var p=0;else{var S=s.suspendedLanes,C=s.pingedLanes;p=(1<<31-At(42|e)+1)-1,p&=d&~(S&~C),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(i=!0,fh(s,p))}else p=xe,p=xl(s,s===Pe?p:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(p&3)===0||Ei(s,p)||(i=!0,fh(s,p));s=s.next}while(i);Jr=!1}}function b0(){rh()}function rh(){Ta=Fr=!1;var e=0;Yn!==0&&G0()&&(e=Yn);for(var n=pe(),i=null,s=Sa;s!==null;){var d=s.next,p=uh(s,n);p===0?(s.next=null,i===null?Sa=d:i.next=d,d===null&&(ni=i)):(i=s,(e!==0||(p&3)!==0)&&(Ta=!0)),s=d}tt!==0&&tt!==5||nl(e),Yn!==0&&(Yn=0)}function uh(e,n){for(var i=e.suspendedLanes,s=e.pingedLanes,d=e.expirationTimes,p=e.pendingLanes&-62914561;0<p;){var S=31-At(p),C=1<<S,A=d[S];A===-1?((C&i)===0||(C&s)!==0)&&(d[S]=jg(C,n)):A<=n&&(e.expiredLanes|=C),p&=~C}if(n=Pe,i=xe,i=xl(e,e===n?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,i===0||e===n&&(Ge===2||Ge===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&Si(s),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||Ei(e,i)){if(n=i&-i,n===e.callbackPriority)return n;switch(s!==null&&Si(s),as(i)){case 2:case 8:i=to;break;case 32:i=Tl;break;case 268435456:i=ju;break;default:i=Tl}return s=ch.bind(null,e),i=vi(i,s),e.callbackPriority=n,e.callbackNode=i,n}return s!==null&&s!==null&&Si(s),e.callbackPriority=2,e.callbackNode=null,2}function ch(e,n){if(tt!==0&&tt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var i=e.callbackNode;if(va()&&e.callbackNode!==i)return null;var s=xe;return s=xl(e,e===Pe?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(Jd(e,s,n),uh(e,pe()),e.callbackNode!=null&&e.callbackNode===i?ch.bind(null,e):null)}function fh(e,n){if(va())return null;Jd(e,n,!0)}function N0(){q0(function(){(ke&6)!==0?vi(Ce,b0):rh()})}function Yr(){if(Yn===0){var e=Bo;e===0&&(e=El,El<<=1,(El&261888)===0&&(El=256)),Yn=e}return Yn}function dh(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:wl(""+e)}function hh(e,n){var i=n.ownerDocument.createElement("input");return i.name=n.name,i.value=n.value,e.id&&i.setAttribute("form",e.id),n.parentNode.insertBefore(i,n),e=new FormData(e),i.parentNode.removeChild(i),e}function w0(e,n,i,s,d){if(n==="submit"&&i&&i.stateNode===d){var p=dh((d[yt]||null).action),S=s.submitter;S&&(n=(n=S[yt]||null)?dh(n.formAction):S.getAttribute("formAction"),n!==null&&(p=n,S=null));var C=new Dl("action","action",null,s,d);e.push({event:C,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(Yn!==0){var A=S?hh(d,S):new FormData(d);dr(i,{pending:!0,data:A,method:d.method,action:p},null,A)}}else typeof p=="function"&&(C.preventDefault(),A=S?hh(d,S):new FormData(d),dr(i,{pending:!0,data:A,method:d.method,action:p},p,A))},currentTarget:d}]})}}for(var Wr=0;Wr<Rs.length;Wr++){var Kr=Rs[Wr],R0=Kr.toLowerCase(),M0=Kr[0].toUpperCase()+Kr.slice(1);Wt(R0,"on"+M0)}Wt(Oc,"onAnimationEnd"),Wt(Fc,"onAnimationIteration"),Wt(Jc,"onAnimationStart"),Wt("dblclick","onDoubleClick"),Wt("focusin","onFocus"),Wt("focusout","onBlur"),Wt(Yy,"onTransitionRun"),Wt(Wy,"onTransitionStart"),Wt(Ky,"onTransitionCancel"),Wt(Yc,"onTransitionEnd"),No("onMouseEnter",["mouseout","mouseover"]),No("onMouseLeave",["mouseout","mouseover"]),No("onPointerEnter",["pointerout","pointerover"]),No("onPointerLeave",["pointerout","pointerover"]),oo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),oo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),oo("onBeforeInput",["compositionend","keypress","textInput","paste"]),oo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),oo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),oo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ol="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),I0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ol));function ph(e,n){n=(n&4)!==0;for(var i=0;i<e.length;i++){var s=e[i],d=s.event;s=s.listeners;e:{var p=void 0;if(n)for(var S=s.length-1;0<=S;S--){var C=s[S],A=C.instance,M=C.currentTarget;if(C=C.listener,A!==p&&d.isPropagationStopped())break e;p=C,d.currentTarget=M;try{p(d)}catch(G){kl(G)}d.currentTarget=null,p=A}else for(S=0;S<s.length;S++){if(C=s[S],A=C.instance,M=C.currentTarget,C=C.listener,A!==p&&d.isPropagationStopped())break e;p=C,d.currentTarget=M;try{p(d)}catch(G){kl(G)}d.currentTarget=null,p=A}}}}function _e(e,n){var i=n[ss];i===void 0&&(i=n[ss]=new Set);var s=e+"__bubble";i.has(s)||(mh(n,e,2,!1),i.add(s))}function Xr(e,n,i){var s=0;n&&(s|=4),mh(i,e,s,n)}var Ea="_reactListening"+Math.random().toString(36).slice(2);function Qr(e){if(!e[Ea]){e[Ea]=!0,sc.forEach(function(i){i!=="selectionchange"&&(I0.has(i)||Xr(i,!1,e),Xr(i,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Ea]||(n[Ea]=!0,Xr("selectionchange",!1,n))}}function mh(e,n,i,s){switch(Fh(n)){case 2:var d=lv;break;case 8:d=av;break;default:d=fu}i=d.bind(null,n,i,e),d=void 0,!gs||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(d=!0),s?d!==void 0?e.addEventListener(n,i,{capture:!0,passive:d}):e.addEventListener(n,i,!0):d!==void 0?e.addEventListener(n,i,{passive:d}):e.addEventListener(n,i,!1)}function Zr(e,n,i,s,d){var p=s;if((n&1)===0&&(n&2)===0&&s!==null)e:for(;;){if(s===null)return;var S=s.tag;if(S===3||S===4){var C=s.stateNode.containerInfo;if(C===d)break;if(S===4)for(S=s.return;S!==null;){var A=S.tag;if((A===3||A===4)&&S.stateNode.containerInfo===d)return;S=S.return}for(;C!==null;){if(S=xo(C),S===null)return;if(A=S.tag,A===5||A===6||A===26||A===27){s=p=S;continue e}C=C.parentNode}}s=s.return}Sc(function(){var M=p,G=ps(i),B=[];e:{var I=Wc.get(e);if(I!==void 0){var L=Dl,te=e;switch(e){case"keypress":if(Ml(i)===0)break e;case"keydown":case"keyup":L=xy;break;case"focusin":te="focus",L=Ts;break;case"focusout":te="blur",L=Ts;break;case"beforeblur":case"afterblur":L=Ts;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":L=_c;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":L=dy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":L=Ny;break;case Oc:case Fc:case Jc:L=my;break;case Yc:L=Ry;break;case"scroll":case"scrollend":L=cy;break;case"wheel":L=Iy;break;case"copy":case"cut":case"paste":L=yy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":L=xc;break;case"toggle":case"beforetoggle":L=Uy}var ae=(n&4)!==0,Be=!ae&&(e==="scroll"||e==="scrollend"),w=ae?I!==null?I+"Capture":null:I;ae=[];for(var N=M,R;N!==null;){var z=N;if(R=z.stateNode,z=z.tag,z!==5&&z!==26&&z!==27||R===null||w===null||(z=Ai(N,w),z!=null&&ae.push(il(N,z,R))),Be)break;N=N.return}0<ae.length&&(I=new L(I,te,null,i,G),B.push({event:I,listeners:ae}))}}if((n&7)===0){e:{if(I=e==="mouseover"||e==="pointerover",L=e==="mouseout"||e==="pointerout",I&&i!==hs&&(te=i.relatedTarget||i.fromElement)&&(xo(te)||te[Co]))break e;if((L||I)&&(I=G.window===G?G:(I=G.ownerDocument)?I.defaultView||I.parentWindow:window,L?(te=i.relatedTarget||i.toElement,L=M,te=te?xo(te):null,te!==null&&(Be=f(te),ae=te.tag,te!==Be||ae!==5&&ae!==27&&ae!==6)&&(te=null)):(L=null,te=M),L!==te)){if(ae=_c,z="onMouseLeave",w="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(ae=xc,z="onPointerLeave",w="onPointerEnter",N="pointer"),Be=L==null?I:xi(L),R=te==null?I:xi(te),I=new ae(z,N+"leave",L,i,G),I.target=Be,I.relatedTarget=R,z=null,xo(G)===M&&(ae=new ae(w,N+"enter",te,i,G),ae.target=R,ae.relatedTarget=Be,z=ae),Be=z,L&&te)t:{for(ae=D0,w=L,N=te,R=0,z=w;z;z=ae(z))R++;z=0;for(var ie=N;ie;ie=ae(ie))z++;for(;0<R-z;)w=ae(w),R--;for(;0<z-R;)N=ae(N),z--;for(;R--;){if(w===N||N!==null&&w===N.alternate){ae=w;break t}w=ae(w),N=ae(N)}ae=null}else ae=null;L!==null&&gh(B,I,L,ae,!1),te!==null&&Be!==null&&gh(B,Be,te,ae,!0)}}e:{if(I=M?xi(M):window,L=I.nodeName&&I.nodeName.toLowerCase(),L==="select"||L==="input"&&I.type==="file")var Ie=Dc;else if(Mc(I))if(Uc)Ie=Oy;else{Ie=By;var oe=zy}else L=I.nodeName,!L||L.toLowerCase()!=="input"||I.type!=="checkbox"&&I.type!=="radio"?M&&ds(M.elementType)&&(Ie=Dc):Ie=Py;if(Ie&&(Ie=Ie(e,M))){Ic(B,Ie,i,G);break e}oe&&oe(e,I,M),e==="focusout"&&M&&I.type==="number"&&M.memoizedProps.value!=null&&fs(I,"number",I.value)}switch(oe=M?xi(M):window,e){case"focusin":(Mc(oe)||oe.contentEditable==="true")&&(Uo=oe,bs=M,Ui=null);break;case"focusout":Ui=bs=Uo=null;break;case"mousedown":Ns=!0;break;case"contextmenu":case"mouseup":case"dragend":Ns=!1,Bc(B,i,G);break;case"selectionchange":if(Jy)break;case"keydown":case"keyup":Bc(B,i,G)}var ge;if(_s)e:{switch(e){case"compositionstart":var Ae="onCompositionStart";break e;case"compositionend":Ae="onCompositionEnd";break e;case"compositionupdate":Ae="onCompositionUpdate";break e}Ae=void 0}else Do?wc(e,i)&&(Ae="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(Ae="onCompositionStart");Ae&&(Ac&&i.locale!=="ko"&&(Do||Ae!=="onCompositionStart"?Ae==="onCompositionEnd"&&Do&&(ge=Tc()):(Mn=G,ys="value"in Mn?Mn.value:Mn.textContent,Do=!0)),oe=_a(M,Ae),0<oe.length&&(Ae=new Cc(Ae,e,null,i,G),B.push({event:Ae,listeners:oe}),ge?Ae.data=ge:(ge=Rc(i),ge!==null&&(Ae.data=ge)))),(ge=ky?Hy(e,i):Gy(e,i))&&(Ae=_a(M,"onBeforeInput"),0<Ae.length&&(oe=new Cc("onBeforeInput","beforeinput",null,i,G),B.push({event:oe,listeners:Ae}),oe.data=ge)),w0(B,e,M,i,G)}ph(B,n)})}function il(e,n,i){return{instance:e,listener:n,currentTarget:i}}function _a(e,n){for(var i=n+"Capture",s=[];e!==null;){var d=e,p=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||p===null||(d=Ai(e,i),d!=null&&s.unshift(il(e,d,p)),d=Ai(e,n),d!=null&&s.push(il(e,d,p))),e.tag===3)return s;e=e.return}return[]}function D0(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function gh(e,n,i,s,d){for(var p=n._reactName,S=[];i!==null&&i!==s;){var C=i,A=C.alternate,M=C.stateNode;if(C=C.tag,A!==null&&A===s)break;C!==5&&C!==26&&C!==27||M===null||(A=M,d?(M=Ai(i,p),M!=null&&S.unshift(il(i,M,A))):d||(M=Ai(i,p),M!=null&&S.push(il(i,M,A)))),i=i.return}S.length!==0&&e.push({event:n,listeners:S})}var U0=/\r\n?/g,L0=/\u0000|\uFFFD/g;function yh(e){return(typeof e=="string"?e:""+e).replace(U0,`
`).replace(L0,"")}function vh(e,n){return n=yh(n),yh(e)===n}function ze(e,n,i,s,d,p){switch(i){case"children":typeof s=="string"?n==="body"||n==="textarea"&&s===""||Ro(e,s):(typeof s=="number"||typeof s=="bigint")&&n!=="body"&&Ro(e,""+s);break;case"className":bl(e,"class",s);break;case"tabIndex":bl(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":bl(e,i,s);break;case"style":yc(e,s,p);break;case"data":if(n!=="object"){bl(e,"data",s);break}case"src":case"href":if(s===""&&(n!=="a"||i!=="href")){e.removeAttribute(i);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(i);break}s=wl(""+s),e.setAttribute(i,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(i==="formAction"?(n!=="input"&&ze(e,n,"name",d.name,d,null),ze(e,n,"formEncType",d.formEncType,d,null),ze(e,n,"formMethod",d.formMethod,d,null),ze(e,n,"formTarget",d.formTarget,d,null)):(ze(e,n,"encType",d.encType,d,null),ze(e,n,"method",d.method,d,null),ze(e,n,"target",d.target,d,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(i);break}s=wl(""+s),e.setAttribute(i,s);break;case"onClick":s!=null&&(e.onclick=an);break;case"onScroll":s!=null&&_e("scroll",e);break;case"onScrollEnd":s!=null&&_e("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(a(61));if(i=s.__html,i!=null){if(d.children!=null)throw Error(a(60));e.innerHTML=i}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}i=wl(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(i,""+s):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":s===!0?e.setAttribute(i,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(i,s):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(i,s):e.removeAttribute(i);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(i):e.setAttribute(i,s);break;case"popover":_e("beforetoggle",e),_e("toggle",e),Al(e,"popover",s);break;case"xlinkActuate":ln(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":ln(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":ln(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":ln(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":ln(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":ln(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":ln(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":ln(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":ln(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":Al(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=ry.get(i)||i,Al(e,i,s))}}function $r(e,n,i,s,d,p){switch(i){case"style":yc(e,s,p);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(a(61));if(i=s.__html,i!=null){if(d.children!=null)throw Error(a(60));e.innerHTML=i}}break;case"children":typeof s=="string"?Ro(e,s):(typeof s=="number"||typeof s=="bigint")&&Ro(e,""+s);break;case"onScroll":s!=null&&_e("scroll",e);break;case"onScrollEnd":s!=null&&_e("scrollend",e);break;case"onClick":s!=null&&(e.onclick=an);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!rc.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(d=i.endsWith("Capture"),n=i.slice(2,d?i.length-7:void 0),p=e[yt]||null,p=p!=null?p[i]:null,typeof p=="function"&&e.removeEventListener(n,p,d),typeof s=="function")){typeof p!="function"&&p!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(n,s,d);break e}i in e?e[i]=s:s===!0?e.setAttribute(i,""):Al(e,i,s)}}}function ct(e,n,i){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":_e("error",e),_e("load",e);var s=!1,d=!1,p;for(p in i)if(i.hasOwnProperty(p)){var S=i[p];if(S!=null)switch(p){case"src":s=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ze(e,n,p,S,i,null)}}d&&ze(e,n,"srcSet",i.srcSet,i,null),s&&ze(e,n,"src",i.src,i,null);return;case"input":_e("invalid",e);var C=p=S=d=null,A=null,M=null;for(s in i)if(i.hasOwnProperty(s)){var G=i[s];if(G!=null)switch(s){case"name":d=G;break;case"type":S=G;break;case"checked":A=G;break;case"defaultChecked":M=G;break;case"value":p=G;break;case"defaultValue":C=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,n));break;default:ze(e,n,s,G,i,null)}}hc(e,p,C,A,M,S,d,!1);return;case"select":_e("invalid",e),s=S=p=null;for(d in i)if(i.hasOwnProperty(d)&&(C=i[d],C!=null))switch(d){case"value":p=C;break;case"defaultValue":S=C;break;case"multiple":s=C;default:ze(e,n,d,C,i,null)}n=p,i=S,e.multiple=!!s,n!=null?wo(e,!!s,n,!1):i!=null&&wo(e,!!s,i,!0);return;case"textarea":_e("invalid",e),p=d=s=null;for(S in i)if(i.hasOwnProperty(S)&&(C=i[S],C!=null))switch(S){case"value":s=C;break;case"defaultValue":d=C;break;case"children":p=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(a(91));break;default:ze(e,n,S,C,i,null)}mc(e,s,d,p);return;case"option":for(A in i)if(i.hasOwnProperty(A)&&(s=i[A],s!=null))switch(A){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:ze(e,n,A,s,i,null)}return;case"dialog":_e("beforetoggle",e),_e("toggle",e),_e("cancel",e),_e("close",e);break;case"iframe":case"object":_e("load",e);break;case"video":case"audio":for(s=0;s<ol.length;s++)_e(ol[s],e);break;case"image":_e("error",e),_e("load",e);break;case"details":_e("toggle",e);break;case"embed":case"source":case"link":_e("error",e),_e("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(M in i)if(i.hasOwnProperty(M)&&(s=i[M],s!=null))switch(M){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ze(e,n,M,s,i,null)}return;default:if(ds(n)){for(G in i)i.hasOwnProperty(G)&&(s=i[G],s!==void 0&&$r(e,n,G,s,i,void 0));return}}for(C in i)i.hasOwnProperty(C)&&(s=i[C],s!=null&&ze(e,n,C,s,i,null))}function k0(e,n,i,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,p=null,S=null,C=null,A=null,M=null,G=null;for(L in i){var B=i[L];if(i.hasOwnProperty(L)&&B!=null)switch(L){case"checked":break;case"value":break;case"defaultValue":A=B;default:s.hasOwnProperty(L)||ze(e,n,L,null,s,B)}}for(var I in s){var L=s[I];if(B=i[I],s.hasOwnProperty(I)&&(L!=null||B!=null))switch(I){case"type":p=L;break;case"name":d=L;break;case"checked":M=L;break;case"defaultChecked":G=L;break;case"value":S=L;break;case"defaultValue":C=L;break;case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(a(137,n));break;default:L!==B&&ze(e,n,I,L,s,B)}}cs(e,S,C,A,M,G,p,d);return;case"select":L=S=C=I=null;for(p in i)if(A=i[p],i.hasOwnProperty(p)&&A!=null)switch(p){case"value":break;case"multiple":L=A;default:s.hasOwnProperty(p)||ze(e,n,p,null,s,A)}for(d in s)if(p=s[d],A=i[d],s.hasOwnProperty(d)&&(p!=null||A!=null))switch(d){case"value":I=p;break;case"defaultValue":C=p;break;case"multiple":S=p;default:p!==A&&ze(e,n,d,p,s,A)}n=C,i=S,s=L,I!=null?wo(e,!!i,I,!1):!!s!=!!i&&(n!=null?wo(e,!!i,n,!0):wo(e,!!i,i?[]:"",!1));return;case"textarea":L=I=null;for(C in i)if(d=i[C],i.hasOwnProperty(C)&&d!=null&&!s.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:ze(e,n,C,null,s,d)}for(S in s)if(d=s[S],p=i[S],s.hasOwnProperty(S)&&(d!=null||p!=null))switch(S){case"value":I=d;break;case"defaultValue":L=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(a(91));break;default:d!==p&&ze(e,n,S,d,s,p)}pc(e,I,L);return;case"option":for(var te in i)if(I=i[te],i.hasOwnProperty(te)&&I!=null&&!s.hasOwnProperty(te))switch(te){case"selected":e.selected=!1;break;default:ze(e,n,te,null,s,I)}for(A in s)if(I=s[A],L=i[A],s.hasOwnProperty(A)&&I!==L&&(I!=null||L!=null))switch(A){case"selected":e.selected=I&&typeof I!="function"&&typeof I!="symbol";break;default:ze(e,n,A,I,s,L)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ae in i)I=i[ae],i.hasOwnProperty(ae)&&I!=null&&!s.hasOwnProperty(ae)&&ze(e,n,ae,null,s,I);for(M in s)if(I=s[M],L=i[M],s.hasOwnProperty(M)&&I!==L&&(I!=null||L!=null))switch(M){case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(a(137,n));break;default:ze(e,n,M,I,s,L)}return;default:if(ds(n)){for(var Be in i)I=i[Be],i.hasOwnProperty(Be)&&I!==void 0&&!s.hasOwnProperty(Be)&&$r(e,n,Be,void 0,s,I);for(G in s)I=s[G],L=i[G],!s.hasOwnProperty(G)||I===L||I===void 0&&L===void 0||$r(e,n,G,I,s,L);return}}for(var w in i)I=i[w],i.hasOwnProperty(w)&&I!=null&&!s.hasOwnProperty(w)&&ze(e,n,w,null,s,I);for(B in s)I=s[B],L=i[B],!s.hasOwnProperty(B)||I===L||I==null&&L==null||ze(e,n,B,I,s,L)}function Sh(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function H0(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,i=performance.getEntriesByType("resource"),s=0;s<i.length;s++){var d=i[s],p=d.transferSize,S=d.initiatorType,C=d.duration;if(p&&C&&Sh(S)){for(S=0,C=d.responseEnd,s+=1;s<i.length;s++){var A=i[s],M=A.startTime;if(M>C)break;var G=A.transferSize,B=A.initiatorType;G&&Sh(B)&&(A=A.responseEnd,S+=G*(A<C?1:(C-M)/(A-M)))}if(--s,n+=8*(p+S)/(d.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var jr=null,eu=null;function Ca(e){return e.nodeType===9?e:e.ownerDocument}function Th(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Eh(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function tu(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var nu=null;function G0(){var e=window.event;return e&&e.type==="popstate"?e===nu?!1:(nu=e,!0):(nu=null,!1)}var _h=typeof setTimeout=="function"?setTimeout:void 0,V0=typeof clearTimeout=="function"?clearTimeout:void 0,Ch=typeof Promise=="function"?Promise:void 0,q0=typeof queueMicrotask=="function"?queueMicrotask:typeof Ch<"u"?function(e){return Ch.resolve(null).then(e).catch(z0)}:_h;function z0(e){setTimeout(function(){throw e})}function Wn(e){return e==="head"}function xh(e,n){var i=n,s=0;do{var d=i.nextSibling;if(e.removeChild(i),d&&d.nodeType===8)if(i=d.data,i==="/$"||i==="/&"){if(s===0){e.removeChild(d),ai(n);return}s--}else if(i==="$"||i==="$?"||i==="$~"||i==="$!"||i==="&")s++;else if(i==="html")ll(e.ownerDocument.documentElement);else if(i==="head"){i=e.ownerDocument.head,ll(i);for(var p=i.firstChild;p;){var S=p.nextSibling,C=p.nodeName;p[Ci]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&p.rel.toLowerCase()==="stylesheet"||i.removeChild(p),p=S}}else i==="body"&&ll(e.ownerDocument.body);i=d}while(i);ai(n)}function Ah(e,n){var i=e;e=0;do{var s=i.nextSibling;if(i.nodeType===1?n?(i._stashedDisplay=i.style.display,i.style.display="none"):(i.style.display=i._stashedDisplay||"",i.getAttribute("style")===""&&i.removeAttribute("style")):i.nodeType===3&&(n?(i._stashedText=i.nodeValue,i.nodeValue=""):i.nodeValue=i._stashedText||""),s&&s.nodeType===8)if(i=s.data,i==="/$"){if(e===0)break;e--}else i!=="$"&&i!=="$?"&&i!=="$~"&&i!=="$!"||e++;i=s}while(i)}function ou(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var i=n;switch(n=n.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":ou(i),rs(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function B0(e,n,i,s){for(;e.nodeType===1;){var d=i;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[Ci])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(p=e.getAttribute("rel"),p==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(p!==d.rel||e.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||e.getAttribute("title")!==(d.title==null?null:d.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(p=e.getAttribute("src"),(p!==(d.src==null?null:d.src)||e.getAttribute("type")!==(d.type==null?null:d.type)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&p&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var p=d.name==null?null:""+d.name;if(d.type==="hidden"&&e.getAttribute("name")===p)return e}else return e;if(e=Ot(e.nextSibling),e===null)break}return null}function P0(e,n,i){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=Ot(e.nextSibling),e===null))return null;return e}function bh(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Ot(e.nextSibling),e===null))return null;return e}function iu(e){return e.data==="$?"||e.data==="$~"}function lu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function O0(e,n){var i=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||i.readyState!=="loading")n();else{var s=function(){n(),i.removeEventListener("DOMContentLoaded",s)};i.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function Ot(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var au=null;function Nh(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"||i==="/&"){if(n===0)return Ot(e.nextSibling);n--}else i!=="$"&&i!=="$!"&&i!=="$?"&&i!=="$~"&&i!=="&"||n++}e=e.nextSibling}return null}function wh(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"){if(n===0)return e;n--}else i!=="/$"&&i!=="/&"||n++}e=e.previousSibling}return null}function Rh(e,n,i){switch(n=Ca(i),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function ll(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);rs(e)}var Ft=new Map,Mh=new Set;function xa(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var _n=J.d;J.d={f:F0,r:J0,D:Y0,C:W0,L:K0,m:X0,X:Z0,S:Q0,M:$0};function F0(){var e=_n.f(),n=ma();return e||n}function J0(e){var n=Ao(e);n!==null&&n.tag===5&&n.type==="form"?Wf(n):_n.r(e)}var oi=typeof document>"u"?null:document;function Ih(e,n,i){var s=oi;if(s&&typeof n=="string"&&n){var d=Ht(n);d='link[rel="'+e+'"][href="'+d+'"]',typeof i=="string"&&(d+='[crossorigin="'+i+'"]'),Mh.has(d)||(Mh.add(d),e={rel:e,crossOrigin:i,href:n},s.querySelector(d)===null&&(n=s.createElement("link"),ct(n,"link",e),nt(n),s.head.appendChild(n)))}}function Y0(e){_n.D(e),Ih("dns-prefetch",e,null)}function W0(e,n){_n.C(e,n),Ih("preconnect",e,n)}function K0(e,n,i){_n.L(e,n,i);var s=oi;if(s&&e&&n){var d='link[rel="preload"][as="'+Ht(n)+'"]';n==="image"&&i&&i.imageSrcSet?(d+='[imagesrcset="'+Ht(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(d+='[imagesizes="'+Ht(i.imageSizes)+'"]')):d+='[href="'+Ht(e)+'"]';var p=d;switch(n){case"style":p=ii(e);break;case"script":p=li(e)}Ft.has(p)||(e=T({rel:"preload",href:n==="image"&&i&&i.imageSrcSet?void 0:e,as:n},i),Ft.set(p,e),s.querySelector(d)!==null||n==="style"&&s.querySelector(al(p))||n==="script"&&s.querySelector(sl(p))||(n=s.createElement("link"),ct(n,"link",e),nt(n),s.head.appendChild(n)))}}function X0(e,n){_n.m(e,n);var i=oi;if(i&&e){var s=n&&typeof n.as=="string"?n.as:"script",d='link[rel="modulepreload"][as="'+Ht(s)+'"][href="'+Ht(e)+'"]',p=d;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=li(e)}if(!Ft.has(p)&&(e=T({rel:"modulepreload",href:e},n),Ft.set(p,e),i.querySelector(d)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(sl(p)))return}s=i.createElement("link"),ct(s,"link",e),nt(s),i.head.appendChild(s)}}}function Q0(e,n,i){_n.S(e,n,i);var s=oi;if(s&&e){var d=bo(s).hoistableStyles,p=ii(e);n=n||"default";var S=d.get(p);if(!S){var C={loading:0,preload:null};if(S=s.querySelector(al(p)))C.loading=5;else{e=T({rel:"stylesheet",href:e,"data-precedence":n},i),(i=Ft.get(p))&&su(e,i);var A=S=s.createElement("link");nt(A),ct(A,"link",e),A._p=new Promise(function(M,G){A.onload=M,A.onerror=G}),A.addEventListener("load",function(){C.loading|=1}),A.addEventListener("error",function(){C.loading|=2}),C.loading|=4,Aa(S,n,s)}S={type:"stylesheet",instance:S,count:1,state:C},d.set(p,S)}}}function Z0(e,n){_n.X(e,n);var i=oi;if(i&&e){var s=bo(i).hoistableScripts,d=li(e),p=s.get(d);p||(p=i.querySelector(sl(d)),p||(e=T({src:e,async:!0},n),(n=Ft.get(d))&&ru(e,n),p=i.createElement("script"),nt(p),ct(p,"link",e),i.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},s.set(d,p))}}function $0(e,n){_n.M(e,n);var i=oi;if(i&&e){var s=bo(i).hoistableScripts,d=li(e),p=s.get(d);p||(p=i.querySelector(sl(d)),p||(e=T({src:e,async:!0,type:"module"},n),(n=Ft.get(d))&&ru(e,n),p=i.createElement("script"),nt(p),ct(p,"link",e),i.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},s.set(d,p))}}function Dh(e,n,i,s){var d=(d=$.current)?xa(d):null;if(!d)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(n=ii(i.href),i=bo(d).hoistableStyles,s=i.get(n),s||(s={type:"style",instance:null,count:0,state:null},i.set(n,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=ii(i.href);var p=bo(d).hoistableStyles,S=p.get(e);if(S||(d=d.ownerDocument||d,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(e,S),(p=d.querySelector(al(e)))&&!p._p&&(S.instance=p,S.state.loading=5),Ft.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},Ft.set(e,i),p||j0(d,e,i,S.state))),n&&s===null)throw Error(a(528,""));return S}if(n&&s!==null)throw Error(a(529,""));return null;case"script":return n=i.async,i=i.src,typeof i=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=li(i),i=bo(d).hoistableScripts,s=i.get(n),s||(s={type:"script",instance:null,count:0,state:null},i.set(n,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function ii(e){return'href="'+Ht(e)+'"'}function al(e){return'link[rel="stylesheet"]['+e+"]"}function Uh(e){return T({},e,{"data-precedence":e.precedence,precedence:null})}function j0(e,n,i,s){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?s.loading=1:(n=e.createElement("link"),s.preload=n,n.addEventListener("load",function(){return s.loading|=1}),n.addEventListener("error",function(){return s.loading|=2}),ct(n,"link",i),nt(n),e.head.appendChild(n))}function li(e){return'[src="'+Ht(e)+'"]'}function sl(e){return"script[async]"+e}function Lh(e,n,i){if(n.count++,n.instance===null)switch(n.type){case"style":var s=e.querySelector('style[data-href~="'+Ht(i.href)+'"]');if(s)return n.instance=s,nt(s),s;var d=T({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),nt(s),ct(s,"style",d),Aa(s,i.precedence,e),n.instance=s;case"stylesheet":d=ii(i.href);var p=e.querySelector(al(d));if(p)return n.state.loading|=4,n.instance=p,nt(p),p;s=Uh(i),(d=Ft.get(d))&&su(s,d),p=(e.ownerDocument||e).createElement("link"),nt(p);var S=p;return S._p=new Promise(function(C,A){S.onload=C,S.onerror=A}),ct(p,"link",s),n.state.loading|=4,Aa(p,i.precedence,e),n.instance=p;case"script":return p=li(i.src),(d=e.querySelector(sl(p)))?(n.instance=d,nt(d),d):(s=i,(d=Ft.get(p))&&(s=T({},i),ru(s,d)),e=e.ownerDocument||e,d=e.createElement("script"),nt(d),ct(d,"link",s),e.head.appendChild(d),n.instance=d);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(s=n.instance,n.state.loading|=4,Aa(s,i.precedence,e));return n.instance}function Aa(e,n,i){for(var s=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=s.length?s[s.length-1]:null,p=d,S=0;S<s.length;S++){var C=s[S];if(C.dataset.precedence===n)p=C;else if(p!==d)break}p?p.parentNode.insertBefore(e,p.nextSibling):(n=i.nodeType===9?i.head:i,n.insertBefore(e,n.firstChild))}function su(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function ru(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var ba=null;function kh(e,n,i){if(ba===null){var s=new Map,d=ba=new Map;d.set(i,s)}else d=ba,s=d.get(i),s||(s=new Map,d.set(i,s));if(s.has(e))return s;for(s.set(e,null),i=i.getElementsByTagName(e),d=0;d<i.length;d++){var p=i[d];if(!(p[Ci]||p[at]||e==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var S=p.getAttribute(n)||"";S=e+S;var C=s.get(S);C?C.push(p):s.set(S,[p])}}return s}function Hh(e,n,i){e=e.ownerDocument||e,e.head.insertBefore(i,n==="title"?e.querySelector("head > title"):null)}function ev(e,n,i){if(i===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Gh(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function tv(e,n,i,s){if(i.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var d=ii(s.href),p=n.querySelector(al(d));if(p){n=p._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=Na.bind(e),n.then(e,e)),i.state.loading|=4,i.instance=p,nt(p);return}p=n.ownerDocument||n,s=Uh(s),(d=Ft.get(d))&&su(s,d),p=p.createElement("link"),nt(p);var S=p;S._p=new Promise(function(C,A){S.onload=C,S.onerror=A}),ct(p,"link",s),i.instance=p}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(i,n),(n=i.state.preload)&&(i.state.loading&3)===0&&(e.count++,i=Na.bind(e),n.addEventListener("load",i),n.addEventListener("error",i))}}var uu=0;function nv(e,n){return e.stylesheets&&e.count===0&&Ra(e,e.stylesheets),0<e.count||0<e.imgCount?function(i){var s=setTimeout(function(){if(e.stylesheets&&Ra(e,e.stylesheets),e.unsuspend){var p=e.unsuspend;e.unsuspend=null,p()}},6e4+n);0<e.imgBytes&&uu===0&&(uu=62500*H0());var d=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Ra(e,e.stylesheets),e.unsuspend)){var p=e.unsuspend;e.unsuspend=null,p()}},(e.imgBytes>uu?50:800)+n);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(d)}}:null}function Na(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ra(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var wa=null;function Ra(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,wa=new Map,n.forEach(ov,e),wa=null,Na.call(e))}function ov(e,n){if(!(n.state.loading&4)){var i=wa.get(e);if(i)var s=i.get(null);else{i=new Map,wa.set(e,i);for(var d=e.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<d.length;p++){var S=d[p];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(i.set(S.dataset.precedence,S),s=S)}s&&i.set(null,s)}d=n.instance,S=d.getAttribute("data-precedence"),p=i.get(S)||s,p===s&&i.set(null,d),i.set(S,d),this.count++,s=Na.bind(this),d.addEventListener("load",s),d.addEventListener("error",s),p?p.parentNode.insertBefore(d,p.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(d,e.firstChild)),n.state.loading|=4}}var rl={$$typeof:F,Provider:null,Consumer:null,_currentValue:le,_currentValue2:le,_threadCount:0};function iv(e,n,i,s,d,p,S,C,A){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=is(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=is(0),this.hiddenUpdates=is(null),this.identifierPrefix=s,this.onUncaughtError=d,this.onCaughtError=p,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function Vh(e,n,i,s,d,p,S,C,A,M,G,B){return e=new iv(e,n,i,S,A,M,G,B,C),n=1,p===!0&&(n|=24),p=Nt(3,null,null,n),e.current=p,p.stateNode=e,n=Ps(),n.refCount++,e.pooledCache=n,n.refCount++,p.memoizedState={element:s,isDehydrated:i,cache:n},Ys(p),e}function qh(e){return e?(e=Ho,e):Ho}function zh(e,n,i,s,d,p){d=qh(d),s.context===null?s.context=d:s.pendingContext=d,s=Hn(n),s.payload={element:i},p=p===void 0?null:p,p!==null&&(s.callback=p),i=Gn(e,s,n),i!==null&&(Ct(i,e,n),zi(i,e,n))}function Bh(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<n?i:n}}function cu(e,n){Bh(e,n),(e=e.alternate)&&Bh(e,n)}function Ph(e){if(e.tag===13||e.tag===31){var n=so(e,67108864);n!==null&&Ct(n,e,67108864),cu(e,67108864)}}function Oh(e){if(e.tag===13||e.tag===31){var n=Dt();n=ls(n);var i=so(e,n);i!==null&&Ct(i,e,n),cu(e,n)}}var Ma=!0;function lv(e,n,i,s){var d=k.T;k.T=null;var p=J.p;try{J.p=2,fu(e,n,i,s)}finally{J.p=p,k.T=d}}function av(e,n,i,s){var d=k.T;k.T=null;var p=J.p;try{J.p=8,fu(e,n,i,s)}finally{J.p=p,k.T=d}}function fu(e,n,i,s){if(Ma){var d=du(s);if(d===null)Zr(e,n,s,Ia,i),Jh(e,s);else if(rv(d,e,n,i,s))s.stopPropagation();else if(Jh(e,s),n&4&&-1<sv.indexOf(e)){for(;d!==null;){var p=Ao(d);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var S=no(p.pendingLanes);if(S!==0){var C=p;for(C.pendingLanes|=2,C.entangledLanes|=2;S;){var A=1<<31-At(S);C.entanglements[1]|=A,S&=~A}nn(p),(ke&6)===0&&(ha=pe()+500,nl(0))}}break;case 31:case 13:C=so(p,2),C!==null&&Ct(C,p,2),ma(),cu(p,2)}if(p=du(s),p===null&&Zr(e,n,s,Ia,i),p===d)break;d=p}d!==null&&s.stopPropagation()}else Zr(e,n,s,null,i)}}function du(e){return e=ps(e),hu(e)}var Ia=null;function hu(e){if(Ia=null,e=xo(e),e!==null){var n=f(e);if(n===null)e=null;else{var i=n.tag;if(i===13){if(e=h(n),e!==null)return e;e=null}else if(i===31){if(e=g(n),e!==null)return e;e=null}else if(i===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Ia=e,null}function Fh(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(we()){case Ce:return 2;case to:return 8;case Tl:case Wg:return 32;case ju:return 268435456;default:return 32}default:return 32}}var pu=!1,Kn=null,Xn=null,Qn=null,ul=new Map,cl=new Map,Zn=[],sv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Jh(e,n){switch(e){case"focusin":case"focusout":Kn=null;break;case"dragenter":case"dragleave":Xn=null;break;case"mouseover":case"mouseout":Qn=null;break;case"pointerover":case"pointerout":ul.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":cl.delete(n.pointerId)}}function fl(e,n,i,s,d,p){return e===null||e.nativeEvent!==p?(e={blockedOn:n,domEventName:i,eventSystemFlags:s,nativeEvent:p,targetContainers:[d]},n!==null&&(n=Ao(n),n!==null&&Ph(n)),e):(e.eventSystemFlags|=s,n=e.targetContainers,d!==null&&n.indexOf(d)===-1&&n.push(d),e)}function rv(e,n,i,s,d){switch(n){case"focusin":return Kn=fl(Kn,e,n,i,s,d),!0;case"dragenter":return Xn=fl(Xn,e,n,i,s,d),!0;case"mouseover":return Qn=fl(Qn,e,n,i,s,d),!0;case"pointerover":var p=d.pointerId;return ul.set(p,fl(ul.get(p)||null,e,n,i,s,d)),!0;case"gotpointercapture":return p=d.pointerId,cl.set(p,fl(cl.get(p)||null,e,n,i,s,d)),!0}return!1}function Yh(e){var n=xo(e.target);if(n!==null){var i=f(n);if(i!==null){if(n=i.tag,n===13){if(n=h(i),n!==null){e.blockedOn=n,lc(e.priority,function(){Oh(i)});return}}else if(n===31){if(n=g(i),n!==null){e.blockedOn=n,lc(e.priority,function(){Oh(i)});return}}else if(n===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Da(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var i=du(e.nativeEvent);if(i===null){i=e.nativeEvent;var s=new i.constructor(i.type,i);hs=s,i.target.dispatchEvent(s),hs=null}else return n=Ao(i),n!==null&&Ph(n),e.blockedOn=i,!1;n.shift()}return!0}function Wh(e,n,i){Da(e)&&i.delete(n)}function uv(){pu=!1,Kn!==null&&Da(Kn)&&(Kn=null),Xn!==null&&Da(Xn)&&(Xn=null),Qn!==null&&Da(Qn)&&(Qn=null),ul.forEach(Wh),cl.forEach(Wh)}function Ua(e,n){e.blockedOn===n&&(e.blockedOn=null,pu||(pu=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,uv)))}var La=null;function Kh(e){La!==e&&(La=e,o.unstable_scheduleCallback(o.unstable_NormalPriority,function(){La===e&&(La=null);for(var n=0;n<e.length;n+=3){var i=e[n],s=e[n+1],d=e[n+2];if(typeof s!="function"){if(hu(s||i)===null)continue;break}var p=Ao(i);p!==null&&(e.splice(n,3),n-=3,dr(p,{pending:!0,data:d,method:i.method,action:s},s,d))}}))}function ai(e){function n(A){return Ua(A,e)}Kn!==null&&Ua(Kn,e),Xn!==null&&Ua(Xn,e),Qn!==null&&Ua(Qn,e),ul.forEach(n),cl.forEach(n);for(var i=0;i<Zn.length;i++){var s=Zn[i];s.blockedOn===e&&(s.blockedOn=null)}for(;0<Zn.length&&(i=Zn[0],i.blockedOn===null);)Yh(i),i.blockedOn===null&&Zn.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(s=0;s<i.length;s+=3){var d=i[s],p=i[s+1],S=d[yt]||null;if(typeof p=="function")S||Kh(i);else if(S){var C=null;if(p&&p.hasAttribute("formAction")){if(d=p,S=p[yt]||null)C=S.formAction;else if(hu(d)!==null)continue}else C=S.action;typeof C=="function"?i[s+1]=C:(i.splice(s,3),s-=3),Kh(i)}}}function Xh(){function e(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(S){return d=S})},focusReset:"manual",scroll:"manual"})}function n(){d!==null&&(d(),d=null),s||setTimeout(i,20)}function i(){if(!s&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,d=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(i,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),d!==null&&(d(),d=null)}}}function mu(e){this._internalRoot=e}ka.prototype.render=mu.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var i=n.current,s=Dt();zh(i,s,e,n,null,null)},ka.prototype.unmount=mu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;zh(e.current,2,null,e,null,null),ma(),n[Co]=null}};function ka(e){this._internalRoot=e}ka.prototype.unstable_scheduleHydration=function(e){if(e){var n=ic();e={blockedOn:null,target:e,priority:n};for(var i=0;i<Zn.length&&n!==0&&n<Zn[i].priority;i++);Zn.splice(i,0,e),i===0&&Yh(e)}};var Qh=t.version;if(Qh!=="19.2.3")throw Error(a(527,Qh,"19.2.3"));J.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=m(n),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var cv={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:k,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ha=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ha.isDisabled&&Ha.supportsFiber)try{Ti=Ha.inject(cv),xt=Ha}catch{}}return hl.createRoot=function(e,n){if(!r(e))throw Error(a(299));var i=!1,s="",d=od,p=id,S=ld;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onUncaughtError!==void 0&&(d=n.onUncaughtError),n.onCaughtError!==void 0&&(p=n.onCaughtError),n.onRecoverableError!==void 0&&(S=n.onRecoverableError)),n=Vh(e,1,!1,null,null,i,s,null,d,p,S,Xh),e[Co]=n.current,Qr(e),new mu(n)},hl.hydrateRoot=function(e,n,i){if(!r(e))throw Error(a(299));var s=!1,d="",p=od,S=id,C=ld,A=null;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(d=i.identifierPrefix),i.onUncaughtError!==void 0&&(p=i.onUncaughtError),i.onCaughtError!==void 0&&(S=i.onCaughtError),i.onRecoverableError!==void 0&&(C=i.onRecoverableError),i.formState!==void 0&&(A=i.formState)),n=Vh(e,1,!0,n,i??null,s,d,A,p,S,C,Xh),n.context=qh(null),i=n.current,s=Dt(),s=ls(s),d=Hn(s),d.callback=null,Gn(i,d,s),i=s,n.current.lanes=i,_i(n,i),nn(n),e[Co]=n.current,Qr(e),new ka(n)},hl.version="19.2.3",hl}var ap;function Ev(){if(ap)return vu.exports;ap=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(t){console.error(t)}}return o(),vu.exports=Tv(),vu.exports}var _v=Ev();const Cv=$m(_v);var Cn=(o=>(o.GEMINI_2_0_FLASH="gemini-2.0-flash",o.GEMINI_2_0_FLASH_LITE="gemini-2.0-flash-lite",o.GEMINI_2_5_PRO="gemini-2.5-pro",o.GEMINI_2_5_FLASH_LITE="gemini-2.5-flash-lite",o.GEMINI_2_5_FLASH_PREVIEW="gemini-2.5-flash-preview",o.GEMINI_3_PRO_PREVIEW="gemini-3-pro-preview",o.GEMINI_3_FLASH_PREVIEW="gemini-3-flash-preview",o))(Cn||{}),jn=(o=>(o.ALWAYS="always",o.AFTER_READ="afterRead",o.NEVER="never",o))(jn||{}),it=(o=>(o.IDLE="IDLE",o.LOADING="LOADING",o.SUCCESS="SUCCESS",o.ERROR="ERROR",o))(it||{});const xv=(o,t)=>{const l=sp(o),a=sp(t);return`linear-gradient(to right, ${l} 0%, ${l} 50%, ${a} 50%, ${a} 100%)`},sp=o=>o>=8?"rgba(134, 239, 172, 0.4)":o>=5?"rgba(252, 211, 77, 0.4)":"rgba(252, 165, 165, 0.4)",Av=({message:o,onClick:t,isSelected:l,isEditMode:a,isChecked:r,onToggleCheck:f,colorByScoring:h=jn.AFTER_READ})=>{const g=o.role==="user",y=!!o.analysis,m=!!o.viewed,T=!g||!y||h===jn.NEVER?!1:h===jn.ALWAYS?!0:m,E=T&&o.analysis?{background:xv(o.analysis.grammarScore,o.analysis.naturalnessScore)}:{},x=D=>{if(a){D.stopPropagation(),f==null||f(o.id);return}g&&(t==null||t(o))};return _.jsxs("div",{className:`flex mb-6 group transition-all duration-200 ${g?"flex-row-reverse":"flex-row"}`,children:[a&&_.jsx("div",{className:"flex items-center self-center px-4 transition-all duration-300 transform scale-100",children:_.jsx("input",{type:"checkbox",checked:r,onChange:()=>f==null?void 0:f(o.id),className:"w-5 h-5 rounded-full border-gray-300 text-blue-600 focus:ring-blue-500 cursor-pointer"})}),_.jsxs("div",{className:`flex flex-col flex-1 ${g?"items-end":"items-start"}`,children:[_.jsxs("div",{className:`flex items-center mb-1 space-x-2 ${g?"flex-row-reverse space-x-reverse":""}`,children:[_.jsx("span",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider",children:o.sender}),_.jsx("span",{className:"text-[10px] text-gray-400",children:o.timestamp})]}),_.jsxs("div",{onClick:x,style:E,className:`
            relative max-w-[85%] md:max-w-[70%] px-4 py-3 rounded-2xl shadow-sm transition-all duration-200
            ${g&&!T?"bg-blue-600 text-white rounded-tr-none hover:bg-blue-700 cursor-pointer":g&&T?"text-gray-800 rounded-tr-none cursor-pointer border border-gray-200":"bg-white text-gray-800 border border-gray-100 rounded-tl-none shadow-gray-100"}
            ${l&&!a?"ring-2 ring-blue-400 scale-[1.02]":""}
            ${r&&a?"ring-4 ring-blue-100 opacity-80":""}
          `,children:[_.jsx("p",{className:"text-sm md:text-base leading-relaxed whitespace-pre-wrap",children:o.text}),g&&!a&&_.jsxs("div",{className:"mt-2 flex justify-between items-center space-x-2",children:[_.jsx("div",{className:"flex items-center",children:y&&_.jsx("div",{className:"flex items-center mr-2",children:m?_.jsx("svg",{className:`w-4 h-4 ${T?"text-green-600":"text-green-400"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M5 13l4 4L19 7"})}):_.jsx("svg",{className:`w-4 h-4 ${T?"text-gray-500":"text-gray-300"} opacity-60`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M5 13l4 4L19 7"})})})}),_.jsxs("span",{className:`text-[10px] ${T?"text-gray-600":"opacity-70"} flex items-center`,children:[_.jsx("svg",{className:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),y?"Analysis Ready":"Click to Analyze"]})]})]})]})]})},rp=({score:o,label:t})=>{const l=a=>a>=8?"bg-green-100 text-green-700 border-green-200":a>=5?"bg-amber-100 text-amber-700 border-amber-200":"bg-red-100 text-red-700 border-red-200";return _.jsxs("div",{className:`flex flex-col items-center justify-center p-2 rounded-lg border ${l(o)}`,children:[_.jsx("span",{className:"text-[10px] font-bold uppercase tracking-tighter opacity-70",children:t}),_.jsxs("span",{className:"text-xl font-black",children:[o,_.jsx("span",{className:"text-xs font-normal opacity-60",children:"/10"})]})]})},up=({analysis:o,state:t,onClose:l})=>t===it.IDLE?null:_.jsxs("div",{className:"h-full flex flex-col bg-white border-l border-gray-200 shadow-xl overflow-y-auto",children:[_.jsxs("div",{className:"p-4 border-b border-gray-100 flex justify-between items-center sticky top-0 bg-white z-10",children:[_.jsxs("h3",{className:"text-lg font-bold text-gray-800 flex items-center",children:[_.jsx("svg",{className:"w-5 h-5 mr-2 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})}),"Linguistic Insights"]}),_.jsx("button",{onClick:l,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:_.jsx("svg",{className:"w-5 h-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),_.jsxs("div",{className:"p-6 space-y-8",children:[t===it.LOADING&&_.jsxs("div",{className:"flex flex-col items-center justify-center py-12 space-y-4",children:[_.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),_.jsx("p",{className:"text-gray-500 animate-pulse",children:"Analyzing nuances..."})]}),t===it.ERROR&&_.jsxs("div",{className:"p-4 bg-red-50 text-red-700 rounded-lg border border-red-100",children:[_.jsx("p",{className:"font-medium",children:"Failed to analyze message."}),_.jsx("p",{className:"text-sm",children:"Please check your API key or connection."})]}),t===it.SUCCESS&&o&&_.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-right-4 duration-300",children:[_.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[_.jsx(rp,{score:o.grammarScore,label:"Grammar"}),_.jsx(rp,{score:o.naturalnessScore,label:"Naturalness"})]}),_.jsxs("section",{children:[_.jsxs("div",{className:"flex items-center mb-2",children:[_.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] font-bold uppercase tracking-wider mr-2 ${o.isNatural?"bg-green-100 text-green-700":"bg-amber-100 text-amber-700"}`,children:o.isNatural?"Natural":"Needs Polish"}),_.jsx("h4",{className:"font-semibold text-gray-700",children:"Grammar & Phrasing"})]}),_.jsx("p",{className:"text-sm text-gray-600 bg-gray-50 p-3 rounded-lg border border-gray-100",children:o.grammarErrors})]}),_.jsxs("section",{children:[_.jsx("h4",{className:"font-semibold text-gray-700 mb-2",children:"Naturalness Context"}),_.jsx("p",{className:"text-sm text-gray-600",children:o.naturalnessRating})]}),_.jsxs("section",{children:[_.jsxs("h4",{className:"font-semibold text-blue-700 mb-2 flex items-center",children:[_.jsxs("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:[_.jsx("path",{d:"M17.414 2.586a2 2 0 00-2.828 0L7 10.172V13h2.828l7.586-7.586a2 2 0 000-2.828z"}),_.jsx("path",{fillRule:"evenodd",d:"M2 6a2 2 0 012-2h4a1 1 0 010 2H4v10h10v-4a1 1 0 112 0v4a2 2 0 01-2 2H4a2 2 0 01-2-2V6z",clipRule:"evenodd"})]}),"Better Alternative"]}),_.jsxs("div",{className:"bg-blue-50 border border-blue-100 p-4 rounded-xl italic text-blue-900 shadow-sm",children:['"',o.improvement,'"']})]}),_.jsxs("section",{children:[_.jsxs("h4",{className:"font-semibold text-gray-700 mb-2 flex items-center",children:[_.jsx("svg",{className:"w-4 h-4 mr-1 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:_.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-11a1 1 0 10-2 0v2H7a1 1 0 100 2h2v2a1 1 0 102 0v-2h2a1 1 0 100-2h-2V7z",clipRule:"evenodd"})}),"Small Talk Boosters"]}),_.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:o.extensions})]})]})]})]}),cp={HIGH:7,MEDIUM:4},jm=o=>o>=cp.HIGH?"high":o>=cp.MEDIUM?"medium":"low",_u=o=>{const t=jm(o);return t==="high"?"bg-green-400":t==="medium"?"bg-amber-400":"bg-red-400"},bv=o=>{const t=jm(o);return t==="high"?"bg-green-100 text-green-700 border-green-200":t==="medium"?"bg-amber-100 text-amber-700 border-amber-200":"bg-red-100 text-red-700 border-red-200"},Cu=({score:o,label:t})=>{const l=bv(o);return _.jsxs("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-bold border ${l}`,children:[t,": ",o,"/10"]})},Nv=({summary:o,onClose:t})=>o?_.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-in fade-in duration-200",children:_.jsxs("div",{className:"bg-white w-full max-w-3xl rounded-2xl shadow-2xl overflow-hidden flex flex-col max-h-[90vh] animate-in zoom-in-95 duration-200",children:[_.jsxs("div",{className:"p-6 bg-gradient-to-r from-blue-600 to-indigo-700 text-white flex justify-between items-center flex-shrink-0",children:[_.jsxs("div",{children:[_.jsx("h2",{className:"text-2xl font-bold",children:"Session Summary"}),_.jsx("p",{className:"text-blue-100 text-sm mt-1",children:"Overall conversation analysis & vocabulary"})]}),_.jsx("button",{onClick:t,className:"p-2 hover:bg-white/10 rounded-full transition-colors",children:_.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),_.jsxs("div",{className:"p-6 md:p-8 overflow-y-auto space-y-10 custom-scrollbar",children:[_.jsxs("section",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[_.jsxs("div",{className:"space-y-2",children:[_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsx("h3",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Grammar Skills"}),_.jsx(Cu,{score:o.grammarScore,label:"Score"})]}),_.jsx("p",{className:"text-gray-700 leading-relaxed text-sm",children:o.grammarPerformance})]}),_.jsxs("div",{className:"space-y-2",children:[_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsx("h3",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Communication Clarity"}),_.jsx(Cu,{score:o.clarityScore,label:"Score"})]}),_.jsx("p",{className:"text-gray-700 leading-relaxed text-sm",children:o.clarityEvaluation})]}),_.jsxs("div",{className:"md:col-span-2 space-y-2",children:[_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsx("h3",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Conversation Flow"}),_.jsx(Cu,{score:o.flowScore,label:"Score"})]}),_.jsx("p",{className:"text-gray-700 leading-relaxed text-sm",children:o.flowAnalysis})]})]}),_.jsxs("section",{className:"space-y-4 pt-6 border-t border-gray-100",children:[_.jsxs("h3",{className:"text-lg font-bold text-gray-800 flex items-center",children:[_.jsx("svg",{className:"w-5 h-5 mr-2 text-blue-500",fill:"currentColor",viewBox:"0 0 20 20",children:_.jsx("path",{d:"M11 3a1 1 0 10-2 0v1a1 1 0 102 0V3zM15.657 5.757a1 1 0 00-1.414-1.414l-.707.707a1 1 0 001.414 1.414l.707-.707zM18 10a1 1 0 01-1 1h-1a1 1 0 110-2h1a1 1 0 011 1zM5.05 6.464A1 1 0 106.464 5.05l-.707-.707a1 1 0 00-1.414 1.414l.707.707zM5 10a1 1 0 01-1 1H3a1 1 0 110-2h1a1 1 0 011 1zM8 16v-1a1 1 0 112 0v1a1 1 0 11-2 0zM13.536 14.95a1 1 0 011.414 0l.707.707a1 1 0 01-1.414 1.414l-.707-.707a1 1 0 010-1.414zM6.464 14.95a1 1 0 00-1.414 1.414l.707.707a1 1 0 001.414-1.414l-.707-.707z"})}),"Strategy Improvements"]}),_.jsx("div",{className:"grid grid-cols-1 gap-3",children:o.keySuggestions.map((l,a)=>_.jsxs("div",{className:"flex items-start bg-blue-50 p-4 rounded-xl border border-blue-100",children:[_.jsx("div",{className:"bg-blue-100 text-blue-700 w-6 h-6 rounded-full flex items-center justify-center font-bold text-xs mr-3 flex-shrink-0",children:a+1}),_.jsx("p",{className:"text-blue-900 text-sm font-medium",children:l})]},a))})]}),_.jsxs("section",{className:"space-y-4 pt-6 border-t border-gray-100",children:[_.jsxs("h3",{className:"text-lg font-bold text-gray-800 flex items-center",children:[_.jsx("svg",{className:"w-5 h-5 mr-2 text-indigo-500",fill:"currentColor",viewBox:"0 0 20 20",children:_.jsx("path",{d:"M9 4.804A7.993 7.993 0 002 12a8 8 0 1016 0c0-3.085-1.744-5.761-4.305-7.135L14.4 3.1a1 1 0 10-1.8-.883l-.85 1.733a8.07 8.07 0 00-1.75-.154 8.07 8.07 0 00-1.75.154l-.85-1.733a1 1 0 10-1.8.883l.705 1.439zM9 13a1 1 0 011-1h0a1 1 0 110 2H10a1 1 0 01-1-1z"})}),"Vocabulary Boosters"]}),_.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:o.suggestedVocabulary.map((l,a)=>_.jsxs("div",{className:"bg-gray-50 border border-gray-100 p-4 rounded-xl hover:shadow-md transition-shadow duration-200",children:[_.jsx("div",{className:"font-bold text-indigo-700 text-base mb-1",children:l.phrase}),_.jsx("p",{className:"text-xs text-gray-500 mb-2 italic",children:l.reason}),_.jsxs("div",{className:"bg-white p-2 rounded border border-indigo-50 text-xs text-indigo-900",children:[_.jsx("span",{className:"font-bold mr-1",children:"Ex:"}),' "',l.example,'"']})]},a))})]})]}),_.jsx("div",{className:"p-6 border-t border-gray-100 bg-gray-50 flex justify-end flex-shrink-0",children:_.jsx("button",{onClick:t,className:"px-6 py-2.5 bg-gray-800 text-white font-semibold rounded-xl hover:bg-gray-900 transition-all shadow-md active:scale-95",children:"Review Complete"})})]})}):null,gl=({title:o,message:t,confirmLabel:l="Delete",confirmVariant:a="danger",onConfirm:r,onCancel:f})=>_.jsx("div",{className:"fixed inset-0 z-[110] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-in fade-in duration-200",children:_.jsxs("div",{className:"bg-white w-full max-w-sm rounded-2xl shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200",children:[_.jsxs("div",{className:"p-6 text-center",children:[_.jsx("div",{className:`mx-auto flex items-center justify-center h-12 w-12 rounded-full mb-4 ${a==="danger"?"bg-red-100 text-red-600":"bg-blue-100 text-blue-600"}`,children:_.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),_.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:o}),_.jsx("p",{className:"text-sm text-gray-500",children:t})]}),_.jsxs("div",{className:"bg-gray-50 px-6 py-4 flex flex-col-reverse sm:flex-row sm:justify-end gap-2",children:[_.jsx("button",{onClick:f,className:"w-full sm:w-auto px-4 py-2 bg-white border border-gray-200 text-gray-700 font-semibold rounded-xl hover:bg-gray-50 transition-colors",children:"Cancel"}),_.jsx("button",{onClick:r,className:`w-full sm:w-auto px-4 py-2 text-white font-semibold rounded-xl shadow-sm transition-all active:scale-95 ${a==="danger"?"bg-red-600 hover:bg-red-700":"bg-blue-600 hover:bg-blue-700"}`,children:l})]})]})}),wv=[{value:Cn.GEMINI_3_FLASH_PREVIEW,label:"Gemini 3 Flash Preview",description:"Latest v3 model, optimized for speed and reasoning"},{value:Cn.GEMINI_3_PRO_PREVIEW,label:"Gemini 3 Pro Preview",description:"Most capable v3 model for complex tasks"},{value:Cn.GEMINI_2_0_FLASH,label:"Gemini 2.0 Flash",description:"Fast and balanced (v2.0)"},{value:Cn.GEMINI_2_0_FLASH_LITE,label:"Gemini 2.0 Flash Lite",description:"Highly efficient, low latency (v2.0)"},{value:Cn.GEMINI_2_5_PRO,label:"Gemini 2.5 Pro",description:"Advanced reasoning and capability (v2.5)"},{value:Cn.GEMINI_2_5_FLASH_LITE,label:"Gemini 2.5 Flash Lite",description:"Fastest v2.5 model"},{value:Cn.GEMINI_2_5_FLASH_PREVIEW,label:"Gemini 2.5 Flash Preview",description:"Cutting-edge v2.5 features"}],Rv=[{value:jn.ALWAYS,label:"Always",description:"Color when analyzed"},{value:jn.AFTER_READ,label:"After Review",description:"Color after you view the score"},{value:jn.NEVER,label:"Never",description:"No coloring"}],Mv=({currentKey:o,currentModel:t,currentColorByScoring:l,currentCustomLanguages:a,currentShowConversationScores:r,onSave:f,onClose:h})=>{const[g,y]=re.useState(o),[m,v]=re.useState(t),[T,E]=re.useState(l),[x,D]=re.useState(a),[H,U]=re.useState(r),[P,K]=re.useState(null),F=Y=>{D(ne=>ne.filter(W=>W!==Y)),K(null)},Q=()=>{f({key:g,model:m,colorByScoring:T,customLanguages:x,showConversationScores:H})};return _.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/60 backdrop-blur-md animate-in fade-in duration-200",children:[_.jsxs("div",{className:"bg-white w-full max-w-md rounded-2xl shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200 max-h-[90vh] flex flex-col",children:[_.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center flex-shrink-0",children:[_.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Settings"}),_.jsx("button",{onClick:h,className:"p-2 hover:bg-gray-100 rounded-full",children:_.jsx("svg",{className:"w-5 h-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),_.jsxs("div",{className:"p-6 space-y-6 overflow-y-auto",children:[_.jsxs("div",{className:"space-y-2",children:[_.jsx("label",{className:"text-sm font-bold text-gray-700 block",children:"Google AI Studio API Key"}),_.jsx("input",{type:"password",value:g,onChange:Y=>y(Y.target.value),placeholder:"Paste your API key here...",className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none text-sm"}),_.jsxs("p",{className:"text-[10px] text-gray-500",children:["Get one for free at ",_.jsx("a",{href:"https://aistudio.google.com/",target:"_blank",className:"text-blue-600 underline",children:"aistudio.google.com"})]})]}),_.jsxs("div",{className:"space-y-2",children:[_.jsx("label",{className:"text-sm font-bold text-gray-700 block",children:"AI Model"}),_.jsx("select",{value:m,onChange:Y=>v(Y.target.value),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none text-sm",children:wv.map(Y=>_.jsxs("option",{value:Y.value,children:[Y.label,"  ",Y.description]},Y.value))})]}),_.jsxs("div",{className:"space-y-2",children:[_.jsx("label",{className:"text-sm font-bold text-gray-700 block",children:"Color By Scoring"}),_.jsx("select",{value:T,onChange:Y=>E(Y.target.value),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none text-sm",children:Rv.map(Y=>_.jsxs("option",{value:Y.value,children:[Y.label,"  ",Y.description]},Y.value))}),_.jsx("p",{className:"text-[10px] text-gray-500",children:"Color the message bubble based on grammar (left) and naturalness (right) scores."})]}),_.jsx("div",{className:"space-y-2",children:_.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[_.jsx("input",{type:"checkbox",checked:H,onChange:Y=>U(Y.target.checked),className:"w-5 h-5 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),_.jsxs("div",{children:[_.jsx("span",{className:"text-sm font-bold text-gray-700",children:"Show Conversation Scores"}),_.jsx("p",{className:"text-[10px] text-gray-500",children:"Display Grammar, Clarity, Flow scores in history"})]})]})}),_.jsxs("div",{className:"space-y-3 p-4 bg-gray-50 rounded-xl border border-gray-100",children:[_.jsx("label",{className:"text-sm font-bold text-gray-700 block",children:"Custom Languages"}),x.length===0?_.jsx("p",{className:"text-xs text-gray-400 italic",children:"No custom languages yet. Add from language dropdowns."}):_.jsx("div",{className:"flex flex-wrap gap-2",children:x.map(Y=>_.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1.5 bg-white border border-gray-200 rounded-full text-sm",children:[Y,_.jsx("button",{onClick:()=>K(Y),className:"text-gray-400 hover:text-red-500 ml-1",children:""})]},Y))}),_.jsx("p",{className:"text-[10px] text-gray-500",children:"Languages added here appear directly in dropdown menus."})]}),_.jsxs("div",{className:"p-4 bg-amber-50 rounded-xl border border-amber-100 space-y-2",children:[_.jsxs("div",{className:"flex items-center text-amber-800 font-bold text-xs uppercase tracking-wider",children:[_.jsx("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:_.jsx("path",{fillRule:"evenodd",d:"M2.166 15.833A2 2 0 010 13.833V4.167A2 2 0 012.166 2.167h15.668A2 2 0 0120 4.167v9.666a2 2 0 01-2.166 2H2.166zM10 4a6 6 0 100 12 6 6 0 000-12z",clipRule:"evenodd"})}),"Privacy First"]}),_.jsxs("p",{className:"text-xs text-amber-900 leading-relaxed",children:["We never save your data or keys on any server. Everything is stored ",_.jsx("span",{className:"font-bold",children:"locally in your browser's memory"}),". Deleting your browser cache will clear all history."]})]})]}),_.jsx("div",{className:"p-6 bg-gray-50 flex justify-end flex-shrink-0",children:_.jsx("button",{onClick:Q,className:"px-6 py-2.5 bg-blue-600 text-white font-bold rounded-xl hover:bg-blue-700 transition-all shadow-md active:scale-95",children:"Save Changes"})})]}),P&&_.jsx(gl,{title:"Remove Language",message:`Remove "${P}" from your custom languages?`,confirmText:"Remove",onConfirm:()=>F(P),onCancel:()=>K(null)})]})},Iv={A:["How has your week been so far?","What did you do after you woke up today?","Did you sleep well last night?","Do you like cooking at home?","What do you usually eat for lunch?","Do you prefer coffee or tea?","What's your favorite meal of the day?","Did you have breakfast this morning?","What's the weather like where you are?","Do you prefer staying in or going out?","Do you like going for walks?","What kind of food do you eat most often?","Do you usually eat breakfast at home?","What kind of weather do you enjoy most?","Do you like watching short videos?","Do you like warm drinks?","What's your favorite weekday?","Do you like waking up early?","What's your favorite thing to snack on?","Do you prefer cats or dogs?","What's your favorite dessert?","What's your favorite ice cream flavor?","Do you like spicy food?","What's your favorite kind of soup?","What's your favorite kind of bread?","Do you prefer sweet or salty snacks?","What's your favorite simple meal?","What's your go-to comfort food?","What app do you use the most on your phone?","Do you prefer online shopping or in-store?","Do you prefer texting or calling?","What's something you always carry with you?","Do you like taking photos?","What's your favorite season of the year?","Did you grow up in this city?","Do you enjoy rainy days?","Do you like cloudy days?","What kind of music have you been listening to lately?","What kind of shows do you usually watch?","Are you more of a morning person or a night owl?","Do you prefer early nights or late nights?","Do you like staying up late?"],B:["Is there anything exciting happening this week?","What do you usually do in the evening?","What kind of videos do you watch most?","What's your favorite thing to do on a lazy day?","Have you been busy lately?","What's something you enjoy doing alone?","What kind of music helps you focus?","What's your favorite way to start the day?","Do you like surprises?","What's something you recently discovered?","Do you enjoy chatting with people online?","What's your favorite casual hobby?","Do you like background noise or silence?","What's something you often procrastinate on?","Do you enjoy learning new apps or tools?","What's your favorite thing to do during breaks?","What's something you're proud of recently?","What's your favorite thing to do after dinner?","Do you like trying new drinks?","What's something that helps you relax quickly?","Do you enjoy casual conversations?","What's your favorite thing about your routine?","Do you usually listen to music while commuting?","What's something you do when you feel bored?","Do you like exploring new neighborhoods?","Do you enjoy journaling or writing?","What's something you want to improve?","Do you like working with music on?","What's your favorite thing to do in the morning?","Do you enjoy watching documentaries?","What's something you always notice first?","What's your favorite thing to do on Sundays?","Do you like staying organized?","What's something you've been thinking about lately?","Do you enjoy watching people cook?","What's your favorite casual game?","What's something you enjoy learning about?","Do you prefer quiet cafes or lively ones?","What's your favorite smell?","Do you enjoy stretching or light exercise?","What's your favorite way to end the day?","Do you like listening to stories?","What's something you do to clear your mind?","Do you enjoy planning your day?","What's your favorite casual outfit?","Do you like listening to music with lyrics or without?","What's something that makes your day better?","Do you enjoy watching vlogs?","What's something you find relaxing to watch?","Do you enjoy cleaning or tidying up?","Do you like working in silence?","What's something you want to try one day?","Do you enjoy light conversations?","What's your favorite time to take a break?","Do you like handwritten notebooks?","What's something you do before bed?","Do you enjoy watching people talk about their hobbies?","What's your favorite everyday drink?","Do you like calm music?","What's something you do when you feel tired?","Do you enjoy slow mornings?","What's your favorite thing about your city?","Do you like listening to audio content?","What's something that motivates you?","Do you enjoy checking off to-do lists?","What's your favorite casual activity outdoors?","What's something you enjoy doing without a goal?","Do you enjoy watching interviews?","What's your favorite way to stay comfortable?","Do you like minimal or cozy spaces?","What's something you like to do while waiting?","Do you enjoy learning from videos?","Do you like taking short breaks often?","What's something you've gotten better at?","Do you enjoy background music in cafes?","What's your favorite casual topic to talk about?","Do you like keeping a routine?","What's something that helps you focus?","Do you enjoy late-night quiet time?","What's your favorite thing to do while traveling?","Have you watched any good movies recently?","What do you usually do to relax after work?","Did you do anything interesting last weekend?","What's something small that made you happy recently?","Do you like cooking or eating out more?","What's your favorite place to hang out?","Have you traveled anywhere nice before?","What's your favorite snack?","Do you enjoy exercising?","Do you like trying new things?","Have you read any good books lately?","What's something you're looking forward to?","Do you like working from home?","What's your favorite way to spend a day off?","Have you learned anything new recently?","What kind of hobbies do you have?","Do you enjoy going to cafes?","What's your favorite drink?","What's the best meal you've had recently?","Do you usually plan ahead or go with the flow?","What's your favorite holiday?","Have you ever tried a new skill just for fun?","What's your favorite thing to do at night?","Do you like quiet places or busy places?","What's something you do every day without thinking?","What kind of food do you like the most?","Have you watched anything interesting online lately?","What's your favorite way to spend time with friends?","What's your favorite thing about weekends?","Do you usually listen to music or podcasts?","What's your favorite type of movie?","Have you ever picked up a hobby and dropped it?","What's your favorite time of the day?","What's a place you want to visit someday?","Have you tried any new restaurants recently?","Do you like working alone or with others?","What's your favorite way to unwind?","Do you enjoy walking around the city?","What's your favorite kind of weather?","What's your favorite app for entertainment?","What's something you're curious about lately?","Do you enjoy learning languages?","What's your favorite simple pleasure?","Do you like watching the sunrise or sunset?","What's your favorite thing to do indoors?","Do you prefer handwritten notes or digital ones?","What's a habit you're trying to build?","Do you enjoy quiet mornings?","What's your favorite casual activity?","Do you like window shopping?","What's your favorite way to kill time?","Do you enjoy organizing things?","What's your favorite sound?","What's something you do to recharge?","Do you enjoy people-watching?","What's your favorite casual conversation topic?","Do you like planning trips?","What's your favorite thing about today?","Do you enjoy trying new cafes?","Do you like background music while working?","What's a small goal you have right now?","Do you enjoy short trips?","What's your favorite everyday routine?","How did you get into what you're doing now?","What's the last thing you laughed at?","Have you been busy or taking it easy lately?","What kind of food do you miss the most?","Do you usually follow trends or ignore them?","What's a place nearby you like but rarely visit?","How do you usually spend your commute time?","What's a random fact you know?","Do you prefer planning trips or deciding on the spot?","What's the last song that got stuck in your head?","Have you changed any habits recently?","What's something you enjoyed more than expected?","Do you like hosting or being invited more?","What's your favorite way to spend a free hour?","Have you picked up anything new this year?","What's a food you didn't like before but like now?","Do you usually eat quickly or slowly?","What's something people are often surprised about you?","How do you usually celebrate small wins?","What's the last place you visited for the first time?","Do you prefer mornings with plans or open days?","What's a smell that brings back memories?","How do you usually decide what to watch?","What's a skill you admire in other people?","Do you like working late or finishing early?","What's a simple thing that improves your mood?","How do you usually unwind on weekdays?","What's your favorite way to spend time alone?","Do you like background TV or complete quiet?","What's a food you could eat anytime?","How do you usually deal with stress?","Do you enjoy long conversations or short ones?","What's your favorite way to celebrate birthdays?","Do you usually arrive early or right on time?","What's a place you feel comfortable quickly?","How do you usually decide where to eat?","What's something you wish you did more often?","Do you like keeping busy or having empty time?","What's your favorite way to spend money on yourself?","How do you usually spend holidays?","What's something you enjoy explaining to others?","Do you like routines or variety more?","What's a topic you can talk about for hours?","How do you usually choose gifts?","Do you enjoy road trips?","What's your favorite casual hangout activity?","How do you usually recover from a long day?","Do you prefer familiar places or new ones?","What's something you always notice in a room?","How do you usually start conversations?","What's your favorite kind of break?","Do you like working at home or outside?","What's a food you associate with comfort?","How do you usually decide when to stop working?","What's something you enjoy doing with friends?","Do you like spontaneous plans?","What's a place you could visit again and again?","How do you usually organize your thoughts?","What's something you enjoy teaching yourself?","Do you prefer deep talks or casual chats?","What's a habit you picked up unintentionally?","How do you usually celebrate good news?","What's your favorite kind of casual outing?","Do you enjoy people who talk a lot or listen more?","What's something that helps you reset mentally?","How do you usually react to unexpected plans?","What's a simple luxury you enjoy?","Do you like being busy on weekends?","How do you usually pick restaurants?","What's your favorite thing to do with no schedule?","Do you like conversations with strangers?","What's something you enjoy noticing about people?","How do you usually handle indecision?","What's your favorite kind of social setting?","Do you enjoy trying things without expectations?","How do you usually balance work and rest?","What's a question you like being asked?","Do you like keeping things flexible?","What's something you enjoy watching others do?","How do you usually recharge after socializing?","What's your favorite kind of casual compliment?","Do you enjoy small gatherings or big ones?","How do you usually decide what's important?","What's a place you like for short visits?","Do you like structured days?","What's something you enjoy sharing with others?","How do you usually mark the end of the day?","What's your favorite way to spend unexpected free time?","Do you enjoy learning from conversations?","What's something you enjoy noticing in daily life?","How do you usually slow yourself down?","What's your favorite way to feel productive?","Do you like talking while doing activities?","What's something you enjoy remembering?","How do you usually respond to change?","What's a simple activity you never get tired of?","Do you like calm or energetic environments?","How do you usually choose how to spend your time?","What's your favorite way to connect with friends?","Do you enjoy casual silence with people?","What's something you enjoy without explaining?","How do you usually end conversations?","What's your favorite low-effort activity?","Do you like conversations that drift naturally?","What's something you enjoy observing quietly?","How do you usually feel at the end of the week?","What's a small routine you enjoy?","Do you like mixing work and breaks?","What's something you appreciate in friendships?","How do you usually decide what to prioritize?","What's your favorite way to feel relaxed around others?"],C:["What kind of experiences tend to leave a lasting impression on you?","How do you usually recognize when you need a change of pace?","What's something subtle that strongly influences your mood?","How do you decide which opinions are worth holding onto?","What's a belief you've gradually refined over time?","How do you usually interpret silence in conversations?","What's something that feels simple but is actually difficult to master?","How do you distinguish between being busy and being fulfilled?","What kind of environments bring out your best thinking?","What's a habit that quietly shapes your daily life?","How do you usually respond to uncertainty?","What's something you've learned to appreciate only through experience?","How do you decide when to speak up and when to hold back?","What's a moment that shifted your perspective in a small way?","How do you define balance in your own terms?","What kind of conversations do you find most energizing?","How do you usually approach decisions with no clear answer?","What's a personal standard you try to live by?","How do you tell when something is worth long-term effort?","What's a topic you enjoy revisiting with new insight?","How do you usually process disappointment?","What kind of progress feels most meaningful to you?","How do you decide what deserves your attention?","What's something that challenges you in a good way?","How do you usually interpret other people's motivations?","What's an assumption you often question?","How do you handle conflicting priorities?","What kind of feedback do you find most useful?","How do you usually notice personal growth?","What's something that has become more complex the more you learned about it?","How do you define success outside of conventional measures?","What kind of situations make you more reflective?","How do you usually respond to unexpected responsibility?","What's a value you've become more conscious of over time?","How do you decide which risks are worth taking?","What's something you've learned from observing others?","How do you usually reframe setbacks?","What kind of routines support your long-term goals?","How do you distinguish between intuition and impulse?","What's a question you ask yourself regularly?","How do you usually regain clarity when overwhelmed?","What's something you've outgrown without noticing at first?","How do you approach conversations with differing viewpoints?","What kind of effort feels sustainable to you?","How do you decide when to push forward versus pause?","What's something you've redefined for yourself?","How do you usually interpret success in others?","What kind of learning sticks with you the longest?","How do you usually respond to ambiguity?","What's a quiet influence that shapes your decisions?","How do you determine what's worth maintaining long term?","What's something you've learned to do imperfectly on purpose?","How do you balance consistency with flexibility?","What kind of challenges do you find most engaging?","How do you usually identify your own biases?","What's something that changed once you stopped rushing it?","How do you decide what to let go of?","What kind of conversations change how you think?","How do you usually react to being misunderstood?","What's a concept that became clearer through practice rather than theory?","How do you manage expectationsyour own or others'?","What's something that rewards patience more than talent?","How do you usually measure personal progress?","What kind of constraints help you be more creative?","How do you recognize when something aligns with you?","What's a trade-off you consciously accept?","How do you usually adapt to new dynamics?","What's something that became meaningful only in hindsight?","How do you decide which details matter?","What kind of effort feels underestimated by others?","How do you usually navigate long-term commitments?","What's something you've learned by changing your environment?","How do you approach conversations that have no clear conclusion?","What kind of mistakes taught you the most?","How do you usually recalibrate after burnout?","What's a subtle sign that something is working?","How do you balance ambition with contentment?","What's something that improved once you simplified it?","How do you usually evaluate advice from others?","What kind of independence matters most to you?","How do you recognize when you're avoiding something?","What's a question that helps you think more clearly?","How do you usually manage competing interests?","What's something you now approach more deliberately?","How do you decide when effort becomes diminishing returns?","What kind of clarity comes only with distance?","How do you usually respond to pressure without urgency?","What's something you learned by slowing down?","How do you define meaningful contribution?","What kind of structure helps you think better?","How do you navigate conversations with unspoken tension?","What's a mindset you've intentionally cultivated?","How do you decide what deserves consistency?","What's something you appreciate more after struggling with it?","How do you usually regain motivation after a lull?","What kind of goals evolve rather than end?","How do you recognize alignment between values and actions?","What's something you've learned by observing patterns?","How do you usually respond when plans dissolve?","What kind of simplicity feels earned rather than naive?","How do you balance openness with boundaries?","What's a perspective that changed after repeated exposure?","How do you usually ground yourself during transitions?","What's something that revealed itself only over time?","How do you decide when refinement matters more than speed?","What kind of conversations leave you thinking afterward?","How do you usually interpret calm versus stagnation?","What's something you've learned by teaching yourself?","How do you navigate periods of low momentum?","What kind of effort compounds quietly?","How do you decide what deserves revisiting?","What's a realization that arrived gradually rather than suddenly?","How do you usually manage internal contradictions?","What kind of work feels aligned even when difficult?","How do you distinguish progress from motion?","What's something you approach with more humility now?","How do you usually respond to subtle dissatisfaction?","What kind of questions open better discussions?","How do you recognize when something has run its course?","What's a skill that changed how you see other skills?","How do you usually negotiate trade-offs in daily life?","What kind of clarity comes from constraint?","How do you decide when something is 'good enough'?","What's something you understand better through repetition?","How do you usually assess long-term impact?","What kind of thinking benefits from solitude?","How do you navigate growth without urgency?","What's something you've learned by paying attention longer?","How do you usually define personal integrity?","What kind of habits support thinking rather than productivity?","How do you recognize when effort is misdirected?","What's something that gained meaning through consistency?","How do you usually approach unresolved questions?","What kind of balance feels dynamic rather than fixed?","How do you decide when refinement stops being useful?","What's something you've learned by observing your reactions?","How do you usually recalibrate expectations over time?","What kind of progress feels invisible day to day?","How do you navigate conversations with implicit assumptions?","What's something that required unlearning first?","How do you usually define a well-spent day?","What's something you've changed your mind about?","What's something you've learned the hard way?","What's a small change that made a big difference?","What's something you recently realized?","What's something you've grown to appreciate?","What's something you enjoy about getting older?","What's something you appreciate more as you get older?","What's something you value more now than before?"]},fp=o=>{const t=Iv[o],l=Math.floor(Math.random()*t.length);return t[l]},Dv=o=>({A:"Beginner",B:"Intermediate",C:"Advanced"})[o];var Uv={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Lv,kv;function Hv(){return{geminiUrl:Lv,vertexUrl:kv}}function Gv(o,t,l,a){var r,f;if(!(o!=null&&o.baseUrl)){const h=Hv();return t?(r=h.vertexUrl)!==null&&r!==void 0?r:l:(f=h.geminiUrl)!==null&&f!==void 0?f:a}return o.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class An{}function Z(o,t){const l=/\{([^}]+)\}/g;return o.replace(l,(a,r)=>{if(Object.prototype.hasOwnProperty.call(t,r)){const f=t[r];return f!=null?String(f):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function c(o,t,l){for(let f=0;f<t.length-1;f++){const h=t[f];if(h.endsWith("[]")){const g=h.slice(0,-2);if(!(g in o))if(Array.isArray(l))o[g]=Array.from({length:l.length},()=>({}));else throw new Error(`Value must be a list given an array path ${h}`);if(Array.isArray(o[g])){const y=o[g];if(Array.isArray(l))for(let m=0;m<y.length;m++){const v=y[m];c(v,t.slice(f+1),l[m])}else for(const m of y)c(m,t.slice(f+1),l)}return}else if(h.endsWith("[0]")){const g=h.slice(0,-3);g in o||(o[g]=[{}]);const y=o[g];c(y[0],t.slice(f+1),l);return}(!o[h]||typeof o[h]!="object")&&(o[h]={}),o=o[h]}const a=t[t.length-1],r=o[a];if(r!==void 0){if(!l||typeof l=="object"&&Object.keys(l).length===0||l===r)return;if(typeof r=="object"&&typeof l=="object"&&r!==null&&l!==null)Object.assign(r,l);else throw new Error(`Cannot set value for an existing key. Key: ${a}`)}else a==="_self"&&typeof l=="object"&&l!==null&&!Array.isArray(l)?Object.assign(o,l):o[a]=l}function u(o,t,l=void 0){try{if(t.length===1&&t[0]==="_self")return o;for(let a=0;a<t.length;a++){if(typeof o!="object"||o===null)return l;const r=t[a];if(r.endsWith("[]")){const f=r.slice(0,-2);if(f in o){const h=o[f];return Array.isArray(h)?h.map(g=>u(g,t.slice(a+1),l)):l}else return l}else o=o[r]}return o}catch(a){if(a instanceof TypeError)return l;throw a}}function Vv(o,t){for(const[l,a]of Object.entries(t)){const r=l.split("."),f=a.split("."),h=new Set;let g=-1;for(let y=0;y<r.length;y++)if(r[y]==="*"){g=y;break}if(g!==-1&&f.length>g)for(let y=g;y<f.length;y++){const m=f[y];m!=="*"&&!m.endsWith("[]")&&!m.endsWith("[0]")&&h.add(m)}wu(o,r,f,0,h)}}function wu(o,t,l,a,r){if(a>=t.length||typeof o!="object"||o===null)return;const f=t[a];if(f.endsWith("[]")){const h=f.slice(0,-2),g=o;if(h in g&&Array.isArray(g[h]))for(const y of g[h])wu(y,t,l,a+1,r)}else if(f==="*"){if(typeof o=="object"&&o!==null&&!Array.isArray(o)){const h=o,g=Object.keys(h).filter(m=>!m.startsWith("_")&&!r.has(m)),y={};for(const m of g)y[m]=h[m];for(const[m,v]of Object.entries(y)){const T=[];for(const E of l.slice(a))E==="*"?T.push(m):T.push(E);c(h,T,v)}for(const m of g)delete h[m]}}else{const h=o;f in h&&wu(h[f],t,l,a+1,r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ou(o){if(typeof o!="string")throw new Error("fromImageBytes must be a string");return o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qv(o){const t={},l=u(o,["operationName"]);l!=null&&c(t,["operationName"],l);const a=u(o,["resourceName"]);return a!=null&&c(t,["_url","resourceName"],a),t}function zv(o){const t={},l=u(o,["name"]);l!=null&&c(t,["name"],l);const a=u(o,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(o,["done"]);r!=null&&c(t,["done"],r);const f=u(o,["error"]);f!=null&&c(t,["error"],f);const h=u(o,["response","generateVideoResponse"]);return h!=null&&c(t,["response"],Pv(h)),t}function Bv(o){const t={},l=u(o,["name"]);l!=null&&c(t,["name"],l);const a=u(o,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(o,["done"]);r!=null&&c(t,["done"],r);const f=u(o,["error"]);f!=null&&c(t,["error"],f);const h=u(o,["response"]);return h!=null&&c(t,["response"],Ov(h)),t}function Pv(o){const t={},l=u(o,["generatedSamples"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(h=>Fv(h))),c(t,["generatedVideos"],f)}const a=u(o,["raiMediaFilteredCount"]);a!=null&&c(t,["raiMediaFilteredCount"],a);const r=u(o,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function Ov(o){const t={},l=u(o,["videos"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(h=>Jv(h))),c(t,["generatedVideos"],f)}const a=u(o,["raiMediaFilteredCount"]);a!=null&&c(t,["raiMediaFilteredCount"],a);const r=u(o,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function Fv(o){const t={},l=u(o,["video"]);return l!=null&&c(t,["video"],Zv(l)),t}function Jv(o){const t={},l=u(o,["_self"]);return l!=null&&c(t,["video"],$v(l)),t}function Yv(o){const t={},l=u(o,["operationName"]);return l!=null&&c(t,["_url","operationName"],l),t}function Wv(o){const t={},l=u(o,["operationName"]);return l!=null&&c(t,["_url","operationName"],l),t}function Kv(o){const t={},l=u(o,["name"]);l!=null&&c(t,["name"],l);const a=u(o,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(o,["done"]);r!=null&&c(t,["done"],r);const f=u(o,["error"]);f!=null&&c(t,["error"],f);const h=u(o,["response"]);return h!=null&&c(t,["response"],Xv(h)),t}function Xv(o){const t={},l=u(o,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(o,["parent"]);a!=null&&c(t,["parent"],a);const r=u(o,["documentName"]);return r!=null&&c(t,["documentName"],r),t}function eg(o){const t={},l=u(o,["name"]);l!=null&&c(t,["name"],l);const a=u(o,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(o,["done"]);r!=null&&c(t,["done"],r);const f=u(o,["error"]);f!=null&&c(t,["error"],f);const h=u(o,["response"]);return h!=null&&c(t,["response"],Qv(h)),t}function Qv(o){const t={},l=u(o,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(o,["parent"]);a!=null&&c(t,["parent"],a);const r=u(o,["documentName"]);return r!=null&&c(t,["documentName"],r),t}function Zv(o){const t={},l=u(o,["uri"]);l!=null&&c(t,["uri"],l);const a=u(o,["encodedVideo"]);a!=null&&c(t,["videoBytes"],Ou(a));const r=u(o,["encoding"]);return r!=null&&c(t,["mimeType"],r),t}function $v(o){const t={},l=u(o,["gcsUri"]);l!=null&&c(t,["uri"],l);const a=u(o,["bytesBase64Encoded"]);a!=null&&c(t,["videoBytes"],Ou(a));const r=u(o,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var dp;(function(o){o.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",o.OUTCOME_OK="OUTCOME_OK",o.OUTCOME_FAILED="OUTCOME_FAILED",o.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(dp||(dp={}));var hp;(function(o){o.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",o.PYTHON="PYTHON"})(hp||(hp={}));var pp;(function(o){o.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",o.SILENT="SILENT",o.WHEN_IDLE="WHEN_IDLE",o.INTERRUPT="INTERRUPT"})(pp||(pp={}));var ue;(function(o){o.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",o.STRING="STRING",o.NUMBER="NUMBER",o.INTEGER="INTEGER",o.BOOLEAN="BOOLEAN",o.ARRAY="ARRAY",o.OBJECT="OBJECT",o.NULL="NULL"})(ue||(ue={}));var mp;(function(o){o.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",o.SIMPLE_SEARCH="SIMPLE_SEARCH",o.ELASTIC_SEARCH="ELASTIC_SEARCH"})(mp||(mp={}));var gp;(function(o){o.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",o.NO_AUTH="NO_AUTH",o.API_KEY_AUTH="API_KEY_AUTH",o.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",o.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",o.OAUTH="OAUTH",o.OIDC_AUTH="OIDC_AUTH"})(gp||(gp={}));var yp;(function(o){o.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",o.HTTP_IN_QUERY="HTTP_IN_QUERY",o.HTTP_IN_HEADER="HTTP_IN_HEADER",o.HTTP_IN_PATH="HTTP_IN_PATH",o.HTTP_IN_BODY="HTTP_IN_BODY",o.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(yp||(yp={}));var vp;(function(o){o.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",o.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",o.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",o.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",o.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",o.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",o.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(vp||(vp={}));var Sp;(function(o){o.UNSPECIFIED="UNSPECIFIED",o.BLOCKING="BLOCKING",o.NON_BLOCKING="NON_BLOCKING"})(Sp||(Sp={}));var Tp;(function(o){o.MODE_UNSPECIFIED="MODE_UNSPECIFIED",o.MODE_DYNAMIC="MODE_DYNAMIC"})(Tp||(Tp={}));var Ep;(function(o){o.MODE_UNSPECIFIED="MODE_UNSPECIFIED",o.AUTO="AUTO",o.ANY="ANY",o.NONE="NONE",o.VALIDATED="VALIDATED"})(Ep||(Ep={}));var _p;(function(o){o.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",o.LOW="LOW",o.MEDIUM="MEDIUM",o.HIGH="HIGH",o.MINIMAL="MINIMAL"})(_p||(_p={}));var Cp;(function(o){o.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",o.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",o.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",o.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",o.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",o.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",o.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",o.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",o.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",o.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",o.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Cp||(Cp={}));var xp;(function(o){o.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",o.SEVERITY="SEVERITY",o.PROBABILITY="PROBABILITY"})(xp||(xp={}));var Ap;(function(o){o.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",o.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",o.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",o.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",o.BLOCK_NONE="BLOCK_NONE",o.OFF="OFF"})(Ap||(Ap={}));var bp;(function(o){o.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",o.STOP="STOP",o.MAX_TOKENS="MAX_TOKENS",o.SAFETY="SAFETY",o.RECITATION="RECITATION",o.LANGUAGE="LANGUAGE",o.OTHER="OTHER",o.BLOCKLIST="BLOCKLIST",o.PROHIBITED_CONTENT="PROHIBITED_CONTENT",o.SPII="SPII",o.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",o.IMAGE_SAFETY="IMAGE_SAFETY",o.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",o.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",o.NO_IMAGE="NO_IMAGE",o.IMAGE_RECITATION="IMAGE_RECITATION",o.IMAGE_OTHER="IMAGE_OTHER"})(bp||(bp={}));var Np;(function(o){o.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",o.NEGLIGIBLE="NEGLIGIBLE",o.LOW="LOW",o.MEDIUM="MEDIUM",o.HIGH="HIGH"})(Np||(Np={}));var wp;(function(o){o.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",o.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",o.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",o.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",o.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(wp||(wp={}));var Rp;(function(o){o.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",o.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",o.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",o.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",o.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Rp||(Rp={}));var Mp;(function(o){o.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",o.SAFETY="SAFETY",o.OTHER="OTHER",o.BLOCKLIST="BLOCKLIST",o.PROHIBITED_CONTENT="PROHIBITED_CONTENT",o.IMAGE_SAFETY="IMAGE_SAFETY",o.MODEL_ARMOR="MODEL_ARMOR",o.JAILBREAK="JAILBREAK"})(Mp||(Mp={}));var Ip;(function(o){o.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",o.ON_DEMAND="ON_DEMAND",o.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Ip||(Ip={}));var Fa;(function(o){o.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",o.TEXT="TEXT",o.IMAGE="IMAGE",o.AUDIO="AUDIO"})(Fa||(Fa={}));var Dp;(function(o){o.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",o.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",o.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",o.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Dp||(Dp={}));var Up;(function(o){o.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",o.TUNING_MODE_FULL="TUNING_MODE_FULL",o.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Up||(Up={}));var Lp;(function(o){o.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",o.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",o.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",o.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",o.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",o.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",o.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Lp||(Lp={}));var Ru;(function(o){o.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",o.JOB_STATE_QUEUED="JOB_STATE_QUEUED",o.JOB_STATE_PENDING="JOB_STATE_PENDING",o.JOB_STATE_RUNNING="JOB_STATE_RUNNING",o.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",o.JOB_STATE_FAILED="JOB_STATE_FAILED",o.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",o.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",o.JOB_STATE_PAUSED="JOB_STATE_PAUSED",o.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",o.JOB_STATE_UPDATING="JOB_STATE_UPDATING",o.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Ru||(Ru={}));var kp;(function(o){o.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",o.TUNING_TASK_I2V="TUNING_TASK_I2V",o.TUNING_TASK_T2V="TUNING_TASK_T2V",o.TUNING_TASK_R2V="TUNING_TASK_R2V"})(kp||(kp={}));var Hp;(function(o){o.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",o.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",o.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",o.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",o.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(Hp||(Hp={}));var Gp;(function(o){o.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",o.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",o.BALANCED="BALANCED",o.PRIORITIZE_COST="PRIORITIZE_COST"})(Gp||(Gp={}));var Vp;(function(o){o.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",o.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Vp||(Vp={}));var qp;(function(o){o.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",o.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",o.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",o.BLOCK_NONE="BLOCK_NONE"})(qp||(qp={}));var zp;(function(o){o.DONT_ALLOW="DONT_ALLOW",o.ALLOW_ADULT="ALLOW_ADULT",o.ALLOW_ALL="ALLOW_ALL"})(zp||(zp={}));var Bp;(function(o){o.auto="auto",o.en="en",o.ja="ja",o.ko="ko",o.hi="hi",o.zh="zh",o.pt="pt",o.es="es"})(Bp||(Bp={}));var Pp;(function(o){o.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",o.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",o.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",o.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",o.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Pp||(Pp={}));var Op;(function(o){o.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",o.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",o.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",o.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Op||(Op={}));var Fp;(function(o){o.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",o.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",o.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",o.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Fp||(Fp={}));var Jp;(function(o){o.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",o.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",o.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",o.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",o.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",o.EDIT_MODE_STYLE="EDIT_MODE_STYLE",o.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",o.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Jp||(Jp={}));var Yp;(function(o){o.FOREGROUND="FOREGROUND",o.BACKGROUND="BACKGROUND",o.PROMPT="PROMPT",o.SEMANTIC="SEMANTIC",o.INTERACTIVE="INTERACTIVE"})(Yp||(Yp={}));var Wp;(function(o){o.ASSET="ASSET",o.STYLE="STYLE"})(Wp||(Wp={}));var Kp;(function(o){o.INSERT="INSERT",o.REMOVE="REMOVE",o.REMOVE_STATIC="REMOVE_STATIC",o.OUTPAINT="OUTPAINT"})(Kp||(Kp={}));var Xp;(function(o){o.OPTIMIZED="OPTIMIZED",o.LOSSLESS="LOSSLESS"})(Xp||(Xp={}));var Qp;(function(o){o.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",o.PREFERENCE_TUNING="PREFERENCE_TUNING"})(Qp||(Qp={}));var Zp;(function(o){o.STATE_UNSPECIFIED="STATE_UNSPECIFIED",o.STATE_PENDING="STATE_PENDING",o.STATE_ACTIVE="STATE_ACTIVE",o.STATE_FAILED="STATE_FAILED"})(Zp||(Zp={}));var $p;(function(o){o.STATE_UNSPECIFIED="STATE_UNSPECIFIED",o.PROCESSING="PROCESSING",o.ACTIVE="ACTIVE",o.FAILED="FAILED"})($p||($p={}));var jp;(function(o){o.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",o.UPLOADED="UPLOADED",o.GENERATED="GENERATED",o.REGISTERED="REGISTERED"})(jp||(jp={}));var em;(function(o){o.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",o.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",o.RESPONSE_REJECTED="RESPONSE_REJECTED",o.NEED_MORE_INPUT="NEED_MORE_INPUT"})(em||(em={}));var tm;(function(o){o.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",o.TEXT="TEXT",o.IMAGE="IMAGE",o.VIDEO="VIDEO",o.AUDIO="AUDIO",o.DOCUMENT="DOCUMENT"})(tm||(tm={}));var nm;(function(o){o.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",o.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",o.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(nm||(nm={}));var om;(function(o){o.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",o.ACTIVITY_START="ACTIVITY_START",o.ACTIVITY_END="ACTIVITY_END"})(om||(om={}));var im;(function(o){o.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",o.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",o.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(im||(im={}));var lm;(function(o){o.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",o.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",o.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(lm||(lm={}));var am;(function(o){o.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",o.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",o.NO_INTERRUPTION="NO_INTERRUPTION"})(am||(am={}));var sm;(function(o){o.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",o.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",o.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(sm||(sm={}));var rm;(function(o){o.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",o.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",o.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",o.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",o.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",o.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",o.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",o.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",o.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",o.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",o.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",o.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",o.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(rm||(rm={}));var um;(function(o){o.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",o.QUALITY="QUALITY",o.DIVERSITY="DIVERSITY",o.VOCALIZATION="VOCALIZATION"})(um||(um={}));var ri;(function(o){o.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",o.PLAY="PLAY",o.PAUSE="PAUSE",o.STOP="STOP",o.RESET_CONTEXT="RESET_CONTEXT"})(ri||(ri={}));class Mu{constructor(t){const l={};for(const a of t.headers.entries())l[a[0]]=a[1];this.headers=l,this.responseInternal=t}json(){return this.responseInternal.json()}}class pl{get text(){var t,l,a,r,f,h,g,y;if(((r=(a=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let m="",v=!1;const T=[];for(const E of(y=(g=(h=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||h===void 0?void 0:h.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[x,D]of Object.entries(E))x!=="text"&&x!=="thought"&&x!=="thoughtSignature"&&(D!==null||D!==void 0)&&T.push(x);if(typeof E.text=="string"){if(typeof E.thought=="boolean"&&E.thought)continue;v=!0,m+=E.text}}return T.length>0&&console.warn(`there are non-text parts ${T} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?m:void 0}get data(){var t,l,a,r,f,h,g,y;if(((r=(a=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let m="";const v=[];for(const T of(y=(g=(h=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||h===void 0?void 0:h.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[E,x]of Object.entries(T))E!=="inlineData"&&(x!==null||x!==void 0)&&v.push(E);T.inlineData&&typeof T.inlineData.data=="string"&&(m+=atob(T.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),m.length>0?btoa(m):void 0}get functionCalls(){var t,l,a,r,f,h,g,y;if(((r=(a=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const m=(y=(g=(h=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||h===void 0?void 0:h.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if((m==null?void 0:m.length)!==0)return m}get executableCode(){var t,l,a,r,f,h,g,y,m;if(((r=(a=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(y=(g=(h=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||h===void 0?void 0:h.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(T=>T.executableCode).map(T=>T.executableCode).filter(T=>T!==void 0);if((v==null?void 0:v.length)!==0)return(m=v==null?void 0:v[0])===null||m===void 0?void 0:m.code}get codeExecutionResult(){var t,l,a,r,f,h,g,y,m;if(((r=(a=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(y=(g=(h=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||h===void 0?void 0:h.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(T=>T.codeExecutionResult).map(T=>T.codeExecutionResult).filter(T=>T!==void 0);if((v==null?void 0:v.length)!==0)return(m=v==null?void 0:v[0])===null||m===void 0?void 0:m.output}}class cm{}class fm{}class jv{}class eS{}class tS{}class nS{}class dm{}class hm{}class pm{}class oS{}class Ja{_fromAPIResponse({apiResponse:t,_isVertexAI:l}){const a=new Ja;let r;const f=t;return l?r=Bv(f):r=zv(f),Object.assign(a,r),a}}class mm{}class gm{}class ym{}class vm{}class iS{}class lS{}class aS{}class Fu{_fromAPIResponse({apiResponse:t,_isVertexAI:l}){const a=new Fu,f=Kv(t);return Object.assign(a,f),a}}class sS{}class rS{}class uS{}class Sm{}class cS{get text(){var t,l,a;let r="",f=!1;const h=[];for(const g of(a=(l=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||l===void 0?void 0:l.parts)!==null&&a!==void 0?a:[]){for(const[y,m]of Object.entries(g))y!=="text"&&y!=="thought"&&m!==null&&h.push(y);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;f=!0,r+=g.text}}return h.length>0&&console.warn(`there are non-text parts ${h} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),f?r:void 0}get data(){var t,l,a;let r="";const f=[];for(const h of(a=(l=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||l===void 0?void 0:l.parts)!==null&&a!==void 0?a:[]){for(const[g,y]of Object.entries(h))g!=="inlineData"&&y!==null&&f.push(g);h.inlineData&&typeof h.inlineData.data=="string"&&(r+=atob(h.inlineData.data))}return f.length>0&&console.warn(`there are non-data parts ${f} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class fS{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Ju{_fromAPIResponse({apiResponse:t,_isVertexAI:l}){const a=new Ju,f=eg(t);return Object.assign(a,f),a}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ue(o,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(o.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const l=t.split("/",2);return`publishers/${l[0]}/models/${l[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function tg(o,t){const l=Ue(o,t);return l?l.startsWith("publishers/")&&o.isVertexAI()?`projects/${o.getProject()}/locations/${o.getLocation()}/${l}`:l.startsWith("models/")&&o.isVertexAI()?`projects/${o.getProject()}/locations/${o.getLocation()}/publishers/google/${l}`:l:""}function ng(o){return Array.isArray(o)?o.map(t=>Ya(t)):[Ya(o)]}function Ya(o){if(typeof o=="object"&&o!==null)return o;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof o}`)}function og(o){const t=Ya(o);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function ig(o){const t=Ya(o);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function Tm(o){if(o==null)throw new Error("PartUnion is required");if(typeof o=="object")return o;if(typeof o=="string")return{text:o};throw new Error(`Unsupported part type: ${typeof o}`)}function lg(o){if(o==null||Array.isArray(o)&&o.length===0)throw new Error("PartListUnion is required");return Array.isArray(o)?o.map(t=>Tm(t)):[Tm(o)]}function Iu(o){return o!=null&&typeof o=="object"&&"parts"in o&&Array.isArray(o.parts)}function Em(o){return o!=null&&typeof o=="object"&&"functionCall"in o}function _m(o){return o!=null&&typeof o=="object"&&"functionResponse"in o}function ht(o){if(o==null)throw new Error("ContentUnion is required");return Iu(o)?o:{role:"user",parts:lg(o)}}function Yu(o,t){if(!t)return[];if(o.isVertexAI()&&Array.isArray(t))return t.flatMap(l=>{const a=ht(l);return a.parts&&a.parts.length>0&&a.parts[0].text!==void 0?[a.parts[0].text]:[]});if(o.isVertexAI()){const l=ht(t);return l.parts&&l.parts.length>0&&l.parts[0].text!==void 0?[l.parts[0].text]:[]}return Array.isArray(t)?t.map(l=>ht(l)):[ht(t)]}function Jt(o){if(o==null||Array.isArray(o)&&o.length===0)throw new Error("contents are required");if(!Array.isArray(o)){if(Em(o)||_m(o))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[ht(o)]}const t=[],l=[],a=Iu(o[0]);for(const r of o){const f=Iu(r);if(f!=a)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(f)t.push(r);else{if(Em(r)||_m(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");l.push(r)}}return a||t.push({role:"user",parts:lg(l)}),t}function dS(o,t){o.includes("null")&&(t.nullable=!0);const l=o.filter(a=>a!=="null");if(l.length===1)t.type=Object.values(ue).includes(l[0].toUpperCase())?l[0].toUpperCase():ue.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const a of l)t.anyOf.push({type:Object.values(ue).includes(a.toUpperCase())?a.toUpperCase():ue.TYPE_UNSPECIFIED})}}function ci(o){const t={},l=["items"],a=["anyOf"],r=["properties"];if(o.type&&o.anyOf)throw new Error("type and anyOf cannot be both populated.");const f=o.anyOf;f!=null&&f.length==2&&(f[0].type==="null"?(t.nullable=!0,o=f[1]):f[1].type==="null"&&(t.nullable=!0,o=f[0])),o.type instanceof Array&&dS(o.type,t);for(const[h,g]of Object.entries(o))if(g!=null)if(h=="type"){if(g==="null")throw new Error("type: null can not be the only possible type for the field.");if(g instanceof Array)continue;t.type=Object.values(ue).includes(g.toUpperCase())?g.toUpperCase():ue.TYPE_UNSPECIFIED}else if(l.includes(h))t[h]=ci(g);else if(a.includes(h)){const y=[];for(const m of g){if(m.type=="null"){t.nullable=!0;continue}y.push(ci(m))}t[h]=y}else if(r.includes(h)){const y={};for(const[m,v]of Object.entries(g))y[m]=ci(v);t[h]=y}else{if(h==="additionalProperties")continue;t[h]=g}return t}function Wu(o){return ci(o)}function Ku(o){if(typeof o=="object")return o;if(typeof o=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:o}}};throw new Error(`Unsupported speechConfig type: ${typeof o}`)}function Xu(o){if("multiSpeakerVoiceConfig"in o)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return o}function di(o){if(o.functionDeclarations)for(const t of o.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=ci(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=ci(t.response));return o}function hi(o){if(o==null)throw new Error("tools is required");if(!Array.isArray(o))throw new Error("tools is required and must be an array of Tools");const t=[];for(const l of o)t.push(l);return t}function hS(o,t,l,a=1){const r=!t.startsWith(`${l}/`)&&t.split("/").length===a;return o.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${o.getProject()}/${t}`:t.startsWith(`${l}/`)?`projects/${o.getProject()}/locations/${o.getLocation()}/${t}`:r?`projects/${o.getProject()}/locations/${o.getLocation()}/${l}/${t}`:t:r?`${l}/${t}`:t}function bn(o,t){if(typeof t!="string")throw new Error("name must be a string");return hS(o,t,"cachedContents")}function ag(o){switch(o){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return o}}function eo(o){return Ou(o)}function pS(o){return o!=null&&typeof o=="object"&&"name"in o}function mS(o){return o!=null&&typeof o=="object"&&"video"in o}function gS(o){return o!=null&&typeof o=="object"&&"uri"in o}function sg(o){var t;let l;if(pS(o)&&(l=o.name),!(gS(o)&&(l=o.uri,l===void 0))&&!(mS(o)&&(l=(t=o.video)===null||t===void 0?void 0:t.uri,l===void 0))){if(typeof o=="string"&&(l=o),l===void 0)throw new Error("Could not extract file name from the provided input.");if(l.startsWith("https://")){const r=l.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${l}`);l=r[0]}else l.startsWith("files/")&&(l=l.split("files/")[1]);return l}}function rg(o,t){let l;return o.isVertexAI()?l=t?"publishers/google/models":"models":l=t?"models":"tunedModels",l}function ug(o){for(const t of["models","tunedModels","publisherModels"])if(yS(o,t))return o[t];return[]}function yS(o,t){return o!==null&&typeof o=="object"&&t in o}function vS(o,t={}){const l=o,a={name:l.name,description:l.description,parametersJsonSchema:l.inputSchema};return l.outputSchema&&(a.responseJsonSchema=l.outputSchema),t.behavior&&(a.behavior=t.behavior),{functionDeclarations:[a]}}function SS(o,t={}){const l=[],a=new Set;for(const r of o){const f=r.name;if(a.has(f))throw new Error(`Duplicate function name ${f} found in MCP tools. Please ensure function names are unique.`);a.add(f);const h=vS(r,t);h.functionDeclarations&&l.push(...h.functionDeclarations)}return{functionDeclarations:l}}function cg(o,t){let l;if(typeof t=="string")if(o.isVertexAI())if(t.startsWith("gs://"))l={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))l={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))l={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(o.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");l={inlinedRequests:t}}else l=t;const a=[l.gcsUri,l.bigqueryUri].filter(Boolean).length,r=[l.inlinedRequests,l.fileName].filter(Boolean).length;if(o.isVertexAI()){if(r>0||a!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(a>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return l}function TS(o){if(typeof o!="string")return o;const t=o;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function fg(o){if(typeof o!="object"||o===null)return{};const t=o,l=t.inlinedResponses;if(typeof l!="object"||l===null)return o;const r=l.inlinedResponses;if(!Array.isArray(r)||r.length===0)return o;let f=!1;for(const h of r){if(typeof h!="object"||h===null)continue;const y=h.response;if(typeof y!="object"||y===null)continue;if(y.embedding!==void 0){f=!0;break}}return f&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),o}function pi(o,t){const l=t;if(!o.isVertexAI()){if(/batches\/[^/]+$/.test(l))return l.split("/").pop();throw new Error(`Invalid batch job name: ${l}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(l))return l.split("/").pop();if(/^\d+$/.test(l))return l;throw new Error(`Invalid batch job name: ${l}.`)}function dg(o){const t=o;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ES(o){const t={},l=u(o,["responsesFile"]);l!=null&&c(t,["fileName"],l);const a=u(o,["inlinedResponses","inlinedResponses"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(h=>tT(h))),c(t,["inlinedResponses"],f)}const r=u(o,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(h=>h)),c(t,["inlinedEmbedContentResponses"],f)}return t}function _S(o){const t={},l=u(o,["predictionsFormat"]);l!=null&&c(t,["format"],l);const a=u(o,["gcsDestination","outputUriPrefix"]);a!=null&&c(t,["gcsUri"],a);const r=u(o,["bigqueryDestination","outputUri"]);return r!=null&&c(t,["bigqueryUri"],r),t}function CS(o){const t={},l=u(o,["format"]);l!=null&&c(t,["predictionsFormat"],l);const a=u(o,["gcsUri"]);a!=null&&c(t,["gcsDestination","outputUriPrefix"],a);const r=u(o,["bigqueryUri"]);if(r!=null&&c(t,["bigqueryDestination","outputUri"],r),u(o,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(o,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(u(o,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function Pa(o){const t={},l=u(o,["name"]);l!=null&&c(t,["name"],l);const a=u(o,["metadata","displayName"]);a!=null&&c(t,["displayName"],a);const r=u(o,["metadata","state"]);r!=null&&c(t,["state"],dg(r));const f=u(o,["metadata","createTime"]);f!=null&&c(t,["createTime"],f);const h=u(o,["metadata","endTime"]);h!=null&&c(t,["endTime"],h);const g=u(o,["metadata","updateTime"]);g!=null&&c(t,["updateTime"],g);const y=u(o,["metadata","model"]);y!=null&&c(t,["model"],y);const m=u(o,["metadata","output"]);return m!=null&&c(t,["dest"],ES(fg(m))),t}function Du(o){const t={},l=u(o,["name"]);l!=null&&c(t,["name"],l);const a=u(o,["displayName"]);a!=null&&c(t,["displayName"],a);const r=u(o,["state"]);r!=null&&c(t,["state"],dg(r));const f=u(o,["error"]);f!=null&&c(t,["error"],f);const h=u(o,["createTime"]);h!=null&&c(t,["createTime"],h);const g=u(o,["startTime"]);g!=null&&c(t,["startTime"],g);const y=u(o,["endTime"]);y!=null&&c(t,["endTime"],y);const m=u(o,["updateTime"]);m!=null&&c(t,["updateTime"],m);const v=u(o,["model"]);v!=null&&c(t,["model"],v);const T=u(o,["inputConfig"]);T!=null&&c(t,["src"],xS(T));const E=u(o,["outputConfig"]);E!=null&&c(t,["dest"],_S(fg(E)));const x=u(o,["completionStats"]);return x!=null&&c(t,["completionStats"],x),t}function xS(o){const t={},l=u(o,["instancesFormat"]);l!=null&&c(t,["format"],l);const a=u(o,["gcsSource","uris"]);a!=null&&c(t,["gcsUri"],a);const r=u(o,["bigquerySource","inputUri"]);return r!=null&&c(t,["bigqueryUri"],r),t}function AS(o,t){const l={};if(u(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(u(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const a=u(t,["fileName"]);a!=null&&c(l,["fileName"],a);const r=u(t,["inlinedRequests"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(h=>eT(o,h))),c(l,["requests","requests"],f)}return l}function bS(o){const t={},l=u(o,["format"]);l!=null&&c(t,["instancesFormat"],l);const a=u(o,["gcsUri"]);a!=null&&c(t,["gcsSource","uris"],a);const r=u(o,["bigqueryUri"]);if(r!=null&&c(t,["bigquerySource","inputUri"],r),u(o,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(o,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function NS(o){const t={},l=u(o,["data"]);if(l!=null&&c(t,["data"],l),u(o,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(o,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function wS(o,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],pi(o,a)),l}function RS(o,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],pi(o,a)),l}function MS(o){const t={},l=u(o,["content"]);l!=null&&c(t,["content"],l);const a=u(o,["citationMetadata"]);a!=null&&c(t,["citationMetadata"],IS(a));const r=u(o,["tokenCount"]);r!=null&&c(t,["tokenCount"],r);const f=u(o,["finishReason"]);f!=null&&c(t,["finishReason"],f);const h=u(o,["avgLogprobs"]);h!=null&&c(t,["avgLogprobs"],h);const g=u(o,["groundingMetadata"]);g!=null&&c(t,["groundingMetadata"],g);const y=u(o,["index"]);y!=null&&c(t,["index"],y);const m=u(o,["logprobsResult"]);m!=null&&c(t,["logprobsResult"],m);const v=u(o,["safetyRatings"]);if(v!=null){let E=v;Array.isArray(E)&&(E=E.map(x=>x)),c(t,["safetyRatings"],E)}const T=u(o,["urlContextMetadata"]);return T!=null&&c(t,["urlContextMetadata"],T),t}function IS(o){const t={},l=u(o,["citationSources"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(r=>r)),c(t,["citations"],a)}return t}function hg(o){const t={},l=u(o,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(f=>rT(f))),c(t,["parts"],r)}const a=u(o,["role"]);return a!=null&&c(t,["role"],a),t}function DS(o,t){const l={},a=u(o,["displayName"]);if(t!==void 0&&a!=null&&c(t,["batch","displayName"],a),u(o,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return l}function US(o,t){const l={},a=u(o,["displayName"]);t!==void 0&&a!=null&&c(t,["displayName"],a);const r=u(o,["dest"]);return t!==void 0&&r!=null&&c(t,["outputConfig"],CS(TS(r))),l}function Cm(o,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Ue(o,a));const r=u(t,["src"]);r!=null&&c(l,["batch","inputConfig"],AS(o,cg(o,r)));const f=u(t,["config"]);return f!=null&&DS(f,l),l}function LS(o,t){const l={},a=u(t,["model"]);a!=null&&c(l,["model"],Ue(o,a));const r=u(t,["src"]);r!=null&&c(l,["inputConfig"],bS(cg(o,r)));const f=u(t,["config"]);return f!=null&&US(f,l),l}function kS(o,t){const l={},a=u(o,["displayName"]);return t!==void 0&&a!=null&&c(t,["batch","displayName"],a),l}function HS(o,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Ue(o,a));const r=u(t,["src"]);r!=null&&c(l,["batch","inputConfig"],OS(o,r));const f=u(t,["config"]);return f!=null&&kS(f,l),l}function GS(o,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],pi(o,a)),l}function VS(o,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],pi(o,a)),l}function qS(o){const t={},l=u(o,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(o,["name"]);a!=null&&c(t,["name"],a);const r=u(o,["done"]);r!=null&&c(t,["done"],r);const f=u(o,["error"]);return f!=null&&c(t,["error"],f),t}function zS(o){const t={},l=u(o,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(o,["name"]);a!=null&&c(t,["name"],a);const r=u(o,["done"]);r!=null&&c(t,["done"],r);const f=u(o,["error"]);return f!=null&&c(t,["error"],f),t}function BS(o,t){const l={},a=u(t,["contents"]);if(a!=null){let f=Yu(o,a);Array.isArray(f)&&(f=f.map(h=>h)),c(l,["requests[]","request","content"],f)}const r=u(t,["config"]);return r!=null&&(c(l,["_self"],PS(r,l)),Vv(l,{"requests[].*":"requests[].request.*"})),l}function PS(o,t){const l={},a=u(o,["taskType"]);t!==void 0&&a!=null&&c(t,["requests[]","taskType"],a);const r=u(o,["title"]);t!==void 0&&r!=null&&c(t,["requests[]","title"],r);const f=u(o,["outputDimensionality"]);if(t!==void 0&&f!=null&&c(t,["requests[]","outputDimensionality"],f),u(o,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(o,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return l}function OS(o,t){const l={},a=u(t,["fileName"]);a!=null&&c(l,["file_name"],a);const r=u(t,["inlinedRequests"]);return r!=null&&c(l,["requests"],BS(o,r)),l}function FS(o){const t={};if(u(o,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(o,["fileUri"]);l!=null&&c(t,["fileUri"],l);const a=u(o,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function JS(o){const t={},l=u(o,["id"]);l!=null&&c(t,["id"],l);const a=u(o,["args"]);a!=null&&c(t,["args"],a);const r=u(o,["name"]);if(r!=null&&c(t,["name"],r),u(o,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(o,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function YS(o){const t={},l=u(o,["allowedFunctionNames"]);l!=null&&c(t,["allowedFunctionNames"],l);const a=u(o,["mode"]);if(a!=null&&c(t,["mode"],a),u(o,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function WS(o,t,l){const a={},r=u(t,["systemInstruction"]);l!==void 0&&r!=null&&c(l,["systemInstruction"],hg(ht(r)));const f=u(t,["temperature"]);f!=null&&c(a,["temperature"],f);const h=u(t,["topP"]);h!=null&&c(a,["topP"],h);const g=u(t,["topK"]);g!=null&&c(a,["topK"],g);const y=u(t,["candidateCount"]);y!=null&&c(a,["candidateCount"],y);const m=u(t,["maxOutputTokens"]);m!=null&&c(a,["maxOutputTokens"],m);const v=u(t,["stopSequences"]);v!=null&&c(a,["stopSequences"],v);const T=u(t,["responseLogprobs"]);T!=null&&c(a,["responseLogprobs"],T);const E=u(t,["logprobs"]);E!=null&&c(a,["logprobs"],E);const x=u(t,["presencePenalty"]);x!=null&&c(a,["presencePenalty"],x);const D=u(t,["frequencyPenalty"]);D!=null&&c(a,["frequencyPenalty"],D);const H=u(t,["seed"]);H!=null&&c(a,["seed"],H);const U=u(t,["responseMimeType"]);U!=null&&c(a,["responseMimeType"],U);const P=u(t,["responseSchema"]);P!=null&&c(a,["responseSchema"],Wu(P));const K=u(t,["responseJsonSchema"]);if(K!=null&&c(a,["responseJsonSchema"],K),u(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const F=u(t,["safetySettings"]);if(l!==void 0&&F!=null){let Te=F;Array.isArray(Te)&&(Te=Te.map(He=>uT(He))),c(l,["safetySettings"],Te)}const Q=u(t,["tools"]);if(l!==void 0&&Q!=null){let Te=hi(Q);Array.isArray(Te)&&(Te=Te.map(He=>fT(di(He)))),c(l,["tools"],Te)}const Y=u(t,["toolConfig"]);if(l!==void 0&&Y!=null&&c(l,["toolConfig"],cT(Y)),u(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const ne=u(t,["cachedContent"]);l!==void 0&&ne!=null&&c(l,["cachedContent"],bn(o,ne));const W=u(t,["responseModalities"]);W!=null&&c(a,["responseModalities"],W);const ye=u(t,["mediaResolution"]);ye!=null&&c(a,["mediaResolution"],ye);const j=u(t,["speechConfig"]);if(j!=null&&c(a,["speechConfig"],Ku(j)),u(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const de=u(t,["thinkingConfig"]);de!=null&&c(a,["thinkingConfig"],de);const ve=u(t,["imageConfig"]);ve!=null&&c(a,["imageConfig"],jS(ve));const be=u(t,["enableEnhancedCivicAnswers"]);return be!=null&&c(a,["enableEnhancedCivicAnswers"],be),a}function KS(o){const t={},l=u(o,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(o,["candidates"]);if(a!=null){let y=a;Array.isArray(y)&&(y=y.map(m=>MS(m))),c(t,["candidates"],y)}const r=u(o,["modelVersion"]);r!=null&&c(t,["modelVersion"],r);const f=u(o,["promptFeedback"]);f!=null&&c(t,["promptFeedback"],f);const h=u(o,["responseId"]);h!=null&&c(t,["responseId"],h);const g=u(o,["usageMetadata"]);return g!=null&&c(t,["usageMetadata"],g),t}function XS(o,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],pi(o,a)),l}function QS(o,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],pi(o,a)),l}function ZS(o){const t={};if(u(o,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(o,["enableWidget"]);return l!=null&&c(t,["enableWidget"],l),t}function $S(o){const t={};if(u(o,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(o,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(o,["timeRangeFilter"]);return l!=null&&c(t,["timeRangeFilter"],l),t}function jS(o){const t={},l=u(o,["aspectRatio"]);l!=null&&c(t,["aspectRatio"],l);const a=u(o,["imageSize"]);if(a!=null&&c(t,["imageSize"],a),u(o,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(u(o,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(o,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function eT(o,t){const l={},a=u(t,["model"]);a!=null&&c(l,["request","model"],Ue(o,a));const r=u(t,["contents"]);if(r!=null){let g=Jt(r);Array.isArray(g)&&(g=g.map(y=>hg(y))),c(l,["request","contents"],g)}const f=u(t,["metadata"]);f!=null&&c(l,["metadata"],f);const h=u(t,["config"]);return h!=null&&c(l,["request","generationConfig"],WS(o,h,u(l,["request"],{}))),l}function tT(o){const t={},l=u(o,["response"]);l!=null&&c(t,["response"],KS(l));const a=u(o,["error"]);return a!=null&&c(t,["error"],a),t}function nT(o,t){const l={},a=u(o,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(o,["pageToken"]);if(t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),u(o,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return l}function oT(o,t){const l={},a=u(o,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(o,["pageToken"]);t!==void 0&&r!=null&&c(t,["_query","pageToken"],r);const f=u(o,["filter"]);return t!==void 0&&f!=null&&c(t,["_query","filter"],f),l}function iT(o){const t={},l=u(o,["config"]);return l!=null&&nT(l,t),t}function lT(o){const t={},l=u(o,["config"]);return l!=null&&oT(l,t),t}function aT(o){const t={},l=u(o,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(o,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(o,["operations"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(h=>Pa(h))),c(t,["batchJobs"],f)}return t}function sT(o){const t={},l=u(o,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(o,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(o,["batchPredictionJobs"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(h=>Du(h))),c(t,["batchJobs"],f)}return t}function rT(o){const t={},l=u(o,["mediaResolution"]);l!=null&&c(t,["mediaResolution"],l);const a=u(o,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(o,["executableCode"]);r!=null&&c(t,["executableCode"],r);const f=u(o,["fileData"]);f!=null&&c(t,["fileData"],FS(f));const h=u(o,["functionCall"]);h!=null&&c(t,["functionCall"],JS(h));const g=u(o,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const y=u(o,["inlineData"]);y!=null&&c(t,["inlineData"],NS(y));const m=u(o,["text"]);m!=null&&c(t,["text"],m);const v=u(o,["thought"]);v!=null&&c(t,["thought"],v);const T=u(o,["thoughtSignature"]);T!=null&&c(t,["thoughtSignature"],T);const E=u(o,["videoMetadata"]);return E!=null&&c(t,["videoMetadata"],E),t}function uT(o){const t={},l=u(o,["category"]);if(l!=null&&c(t,["category"],l),u(o,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const a=u(o,["threshold"]);return a!=null&&c(t,["threshold"],a),t}function cT(o){const t={},l=u(o,["retrievalConfig"]);l!=null&&c(t,["retrievalConfig"],l);const a=u(o,["functionCallingConfig"]);return a!=null&&c(t,["functionCallingConfig"],YS(a)),t}function fT(o){const t={};if(u(o,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=u(o,["computerUse"]);l!=null&&c(t,["computerUse"],l);const a=u(o,["fileSearch"]);a!=null&&c(t,["fileSearch"],a);const r=u(o,["codeExecution"]);if(r!=null&&c(t,["codeExecution"],r),u(o,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=u(o,["functionDeclarations"]);if(f!=null){let v=f;Array.isArray(v)&&(v=v.map(T=>T)),c(t,["functionDeclarations"],v)}const h=u(o,["googleMaps"]);h!=null&&c(t,["googleMaps"],ZS(h));const g=u(o,["googleSearch"]);g!=null&&c(t,["googleSearch"],$S(g));const y=u(o,["googleSearchRetrieval"]);y!=null&&c(t,["googleSearchRetrieval"],y);const m=u(o,["urlContext"]);return m!=null&&c(t,["urlContext"],m),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var xn;(function(o){o.PAGED_ITEM_BATCH_JOBS="batchJobs",o.PAGED_ITEM_MODELS="models",o.PAGED_ITEM_TUNING_JOBS="tuningJobs",o.PAGED_ITEM_FILES="files",o.PAGED_ITEM_CACHED_CONTENTS="cachedContents",o.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",o.PAGED_ITEM_DOCUMENTS="documents"})(xn||(xn={}));class _o{constructor(t,l,a,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=l,this.init(t,a,r)}init(t,l,a){var r,f;this.nameInternal=t,this.pageInternal=l[this.nameInternal]||[],this.sdkHttpResponseInternal=l==null?void 0:l.sdkHttpResponse,this.idxInternal=0;let h={config:{}};!a||Object.keys(a).length===0?h={config:{}}:typeof a=="object"?h=Object.assign({},a):h=a,h.config&&(h.config.pageToken=l.nextPageToken),this.paramsInternal=h,this.pageInternalSize=(f=(r=h.config)===null||r===void 0?void 0:r.pageSize)!==null&&f!==void 0?f:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class dT extends An{constructor(t){super(),this.apiClient=t,this.list=async(l={})=>new _o(xn.PAGED_ITEM_BATCH_JOBS,a=>this.listInternal(a),await this.listInternal(l),l),this.create=async l=>(this.apiClient.isVertexAI()&&(l.config=this.formatDestination(l.src,l.config)),this.createInternal(l)),this.createEmbeddings=async l=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(l)}}createInlinedGenerateContentRequest(t){const l=Cm(this.apiClient,t),a=l._url,r=Z("{model}:batchGenerateContent",a),g=l.batch.inputConfig.requests,y=g.requests,m=[];for(const v of y){const T=Object.assign({},v);if(T.systemInstruction){const E=T.systemInstruction;delete T.systemInstruction;const x=T.request;x.systemInstruction=E,T.request=x}m.push(T)}return g.requests=m,delete l.config,delete l._url,delete l._query,{path:r,body:l}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,l){const a=l?Object.assign({},l):{},r=Date.now().toString();if(a.displayName||(a.displayName=`genaiBatchJob_${r}`),a.dest===void 0){const f=this.getGcsUri(t),h=this.getBigqueryUri(t);if(f)f.endsWith(".jsonl")?a.dest=`${f.slice(0,-6)}/dest`:a.dest=`${f}_dest_${r}`;else if(h)a.dest=`${h}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return a}async createInternal(t){var l,a,r,f;let h,g="",y={};if(this.apiClient.isVertexAI()){const m=LS(this.apiClient,t);return g=Z("batchPredictionJobs",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),h.then(v=>Du(v))}else{const m=Cm(this.apiClient,t);return g=Z("{model}:batchGenerateContent",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),h.then(v=>Pa(v))}}async createEmbeddingsInternal(t){var l,a;let r,f="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=HS(this.apiClient,t);return f=Z("{model}:asyncBatchEmbedContent",g._url),h=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>Pa(y))}}async get(t){var l,a,r,f;let h,g="",y={};if(this.apiClient.isVertexAI()){const m=QS(this.apiClient,t);return g=Z("batchPredictionJobs/{name}",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),h.then(v=>Du(v))}else{const m=XS(this.apiClient,t);return g=Z("batches/{name}",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),h.then(v=>Pa(v))}}async cancel(t){var l,a,r,f;let h="",g={};if(this.apiClient.isVertexAI()){const y=RS(this.apiClient,t);h=Z("batchPredictionJobs/{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}else{const y=wS(this.apiClient,t);h=Z("batches/{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal})}}async listInternal(t){var l,a,r,f;let h,g="",y={};if(this.apiClient.isVertexAI()){const m=lT(t);return g=Z("batchPredictionJobs",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),h.then(v=>{const T=sT(v),E=new Sm;return Object.assign(E,T),E})}else{const m=iT(t);return g=Z("batches",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),h.then(v=>{const T=aT(v),E=new Sm;return Object.assign(E,T),E})}}async delete(t){var l,a,r,f;let h,g="",y={};if(this.apiClient.isVertexAI()){const m=VS(this.apiClient,t);return g=Z("batchPredictionJobs/{name}",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),h.then(v=>zS(v))}else{const m=GS(this.apiClient,t);return g=Z("batches/{name}",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),h.then(v=>qS(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hT(o){const t={},l=u(o,["data"]);if(l!=null&&c(t,["data"],l),u(o,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(o,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function xm(o){const t={},l=u(o,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(f=>HT(f))),c(t,["parts"],r)}const a=u(o,["role"]);return a!=null&&c(t,["role"],a),t}function pT(o,t){const l={},a=u(o,["ttl"]);t!==void 0&&a!=null&&c(t,["ttl"],a);const r=u(o,["expireTime"]);t!==void 0&&r!=null&&c(t,["expireTime"],r);const f=u(o,["displayName"]);t!==void 0&&f!=null&&c(t,["displayName"],f);const h=u(o,["contents"]);if(t!==void 0&&h!=null){let v=Jt(h);Array.isArray(v)&&(v=v.map(T=>xm(T))),c(t,["contents"],v)}const g=u(o,["systemInstruction"]);t!==void 0&&g!=null&&c(t,["systemInstruction"],xm(ht(g)));const y=u(o,["tools"]);if(t!==void 0&&y!=null){let v=y;Array.isArray(v)&&(v=v.map(T=>VT(T))),c(t,["tools"],v)}const m=u(o,["toolConfig"]);if(t!==void 0&&m!=null&&c(t,["toolConfig"],GT(m)),u(o,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return l}function mT(o,t){const l={},a=u(o,["ttl"]);t!==void 0&&a!=null&&c(t,["ttl"],a);const r=u(o,["expireTime"]);t!==void 0&&r!=null&&c(t,["expireTime"],r);const f=u(o,["displayName"]);t!==void 0&&f!=null&&c(t,["displayName"],f);const h=u(o,["contents"]);if(t!==void 0&&h!=null){let T=Jt(h);Array.isArray(T)&&(T=T.map(E=>E)),c(t,["contents"],T)}const g=u(o,["systemInstruction"]);t!==void 0&&g!=null&&c(t,["systemInstruction"],ht(g));const y=u(o,["tools"]);if(t!==void 0&&y!=null){let T=y;Array.isArray(T)&&(T=T.map(E=>qT(E))),c(t,["tools"],T)}const m=u(o,["toolConfig"]);t!==void 0&&m!=null&&c(t,["toolConfig"],m);const v=u(o,["kmsKeyName"]);return t!==void 0&&v!=null&&c(t,["encryption_spec","kmsKeyName"],v),l}function gT(o,t){const l={},a=u(t,["model"]);a!=null&&c(l,["model"],tg(o,a));const r=u(t,["config"]);return r!=null&&pT(r,l),l}function yT(o,t){const l={},a=u(t,["model"]);a!=null&&c(l,["model"],tg(o,a));const r=u(t,["config"]);return r!=null&&mT(r,l),l}function vT(o,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],bn(o,a)),l}function ST(o,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],bn(o,a)),l}function TT(o){const t={},l=u(o,["sdkHttpResponse"]);return l!=null&&c(t,["sdkHttpResponse"],l),t}function ET(o){const t={},l=u(o,["sdkHttpResponse"]);return l!=null&&c(t,["sdkHttpResponse"],l),t}function _T(o){const t={};if(u(o,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(o,["fileUri"]);l!=null&&c(t,["fileUri"],l);const a=u(o,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function CT(o){const t={},l=u(o,["id"]);l!=null&&c(t,["id"],l);const a=u(o,["args"]);a!=null&&c(t,["args"],a);const r=u(o,["name"]);if(r!=null&&c(t,["name"],r),u(o,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(o,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function xT(o){const t={},l=u(o,["allowedFunctionNames"]);l!=null&&c(t,["allowedFunctionNames"],l);const a=u(o,["mode"]);if(a!=null&&c(t,["mode"],a),u(o,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function AT(o){const t={},l=u(o,["description"]);l!=null&&c(t,["description"],l);const a=u(o,["name"]);a!=null&&c(t,["name"],a);const r=u(o,["parameters"]);r!=null&&c(t,["parameters"],r);const f=u(o,["parametersJsonSchema"]);f!=null&&c(t,["parametersJsonSchema"],f);const h=u(o,["response"]);h!=null&&c(t,["response"],h);const g=u(o,["responseJsonSchema"]);if(g!=null&&c(t,["responseJsonSchema"],g),u(o,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function bT(o,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],bn(o,a)),l}function NT(o,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],bn(o,a)),l}function wT(o){const t={};if(u(o,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(o,["enableWidget"]);return l!=null&&c(t,["enableWidget"],l),t}function RT(o){const t={};if(u(o,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(o,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(o,["timeRangeFilter"]);return l!=null&&c(t,["timeRangeFilter"],l),t}function MT(o,t){const l={},a=u(o,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(o,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),l}function IT(o,t){const l={},a=u(o,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(o,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),l}function DT(o){const t={},l=u(o,["config"]);return l!=null&&MT(l,t),t}function UT(o){const t={},l=u(o,["config"]);return l!=null&&IT(l,t),t}function LT(o){const t={},l=u(o,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(o,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(o,["cachedContents"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(h=>h)),c(t,["cachedContents"],f)}return t}function kT(o){const t={},l=u(o,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(o,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(o,["cachedContents"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(h=>h)),c(t,["cachedContents"],f)}return t}function HT(o){const t={},l=u(o,["mediaResolution"]);l!=null&&c(t,["mediaResolution"],l);const a=u(o,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(o,["executableCode"]);r!=null&&c(t,["executableCode"],r);const f=u(o,["fileData"]);f!=null&&c(t,["fileData"],_T(f));const h=u(o,["functionCall"]);h!=null&&c(t,["functionCall"],CT(h));const g=u(o,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const y=u(o,["inlineData"]);y!=null&&c(t,["inlineData"],hT(y));const m=u(o,["text"]);m!=null&&c(t,["text"],m);const v=u(o,["thought"]);v!=null&&c(t,["thought"],v);const T=u(o,["thoughtSignature"]);T!=null&&c(t,["thoughtSignature"],T);const E=u(o,["videoMetadata"]);return E!=null&&c(t,["videoMetadata"],E),t}function GT(o){const t={},l=u(o,["retrievalConfig"]);l!=null&&c(t,["retrievalConfig"],l);const a=u(o,["functionCallingConfig"]);return a!=null&&c(t,["functionCallingConfig"],xT(a)),t}function VT(o){const t={};if(u(o,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=u(o,["computerUse"]);l!=null&&c(t,["computerUse"],l);const a=u(o,["fileSearch"]);a!=null&&c(t,["fileSearch"],a);const r=u(o,["codeExecution"]);if(r!=null&&c(t,["codeExecution"],r),u(o,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=u(o,["functionDeclarations"]);if(f!=null){let v=f;Array.isArray(v)&&(v=v.map(T=>T)),c(t,["functionDeclarations"],v)}const h=u(o,["googleMaps"]);h!=null&&c(t,["googleMaps"],wT(h));const g=u(o,["googleSearch"]);g!=null&&c(t,["googleSearch"],RT(g));const y=u(o,["googleSearchRetrieval"]);y!=null&&c(t,["googleSearchRetrieval"],y);const m=u(o,["urlContext"]);return m!=null&&c(t,["urlContext"],m),t}function qT(o){const t={},l=u(o,["retrieval"]);l!=null&&c(t,["retrieval"],l);const a=u(o,["computerUse"]);if(a!=null&&c(t,["computerUse"],a),u(o,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=u(o,["codeExecution"]);r!=null&&c(t,["codeExecution"],r);const f=u(o,["enterpriseWebSearch"]);f!=null&&c(t,["enterpriseWebSearch"],f);const h=u(o,["functionDeclarations"]);if(h!=null){let T=h;Array.isArray(T)&&(T=T.map(E=>AT(E))),c(t,["functionDeclarations"],T)}const g=u(o,["googleMaps"]);g!=null&&c(t,["googleMaps"],g);const y=u(o,["googleSearch"]);y!=null&&c(t,["googleSearch"],y);const m=u(o,["googleSearchRetrieval"]);m!=null&&c(t,["googleSearchRetrieval"],m);const v=u(o,["urlContext"]);return v!=null&&c(t,["urlContext"],v),t}function zT(o,t){const l={},a=u(o,["ttl"]);t!==void 0&&a!=null&&c(t,["ttl"],a);const r=u(o,["expireTime"]);return t!==void 0&&r!=null&&c(t,["expireTime"],r),l}function BT(o,t){const l={},a=u(o,["ttl"]);t!==void 0&&a!=null&&c(t,["ttl"],a);const r=u(o,["expireTime"]);return t!==void 0&&r!=null&&c(t,["expireTime"],r),l}function PT(o,t){const l={},a=u(t,["name"]);a!=null&&c(l,["_url","name"],bn(o,a));const r=u(t,["config"]);return r!=null&&zT(r,l),l}function OT(o,t){const l={},a=u(t,["name"]);a!=null&&c(l,["_url","name"],bn(o,a));const r=u(t,["config"]);return r!=null&&BT(r,l),l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class FT extends An{constructor(t){super(),this.apiClient=t,this.list=async(l={})=>new _o(xn.PAGED_ITEM_CACHED_CONTENTS,a=>this.listInternal(a),await this.listInternal(l),l)}async create(t){var l,a,r,f;let h,g="",y={};if(this.apiClient.isVertexAI()){const m=yT(this.apiClient,t);return g=Z("cachedContents",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),h.then(v=>v)}else{const m=gT(this.apiClient,t);return g=Z("cachedContents",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),h.then(v=>v)}}async get(t){var l,a,r,f;let h,g="",y={};if(this.apiClient.isVertexAI()){const m=NT(this.apiClient,t);return g=Z("{name}",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),h.then(v=>v)}else{const m=bT(this.apiClient,t);return g=Z("{name}",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),h.then(v=>v)}}async delete(t){var l,a,r,f;let h,g="",y={};if(this.apiClient.isVertexAI()){const m=ST(this.apiClient,t);return g=Z("{name}",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),h.then(v=>{const T=ET(v),E=new ym;return Object.assign(E,T),E})}else{const m=vT(this.apiClient,t);return g=Z("{name}",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),h.then(v=>{const T=TT(v),E=new ym;return Object.assign(E,T),E})}}async update(t){var l,a,r,f;let h,g="",y={};if(this.apiClient.isVertexAI()){const m=OT(this.apiClient,t);return g=Z("{name}",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),h.then(v=>v)}else{const m=PT(this.apiClient,t);return g=Z("{name}",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),h.then(v=>v)}}async listInternal(t){var l,a,r,f;let h,g="",y={};if(this.apiClient.isVertexAI()){const m=UT(t);return g=Z("cachedContents",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),h.then(v=>{const T=kT(v),E=new vm;return Object.assign(E,T),E})}else{const m=DT(t);return g=Z("cachedContents",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),h.then(v=>{const T=LT(v),E=new vm;return Object.assign(E,T),E})}}}function Wa(o,t){var l={};for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&t.indexOf(a)<0&&(l[a]=o[a]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,a=Object.getOwnPropertySymbols(o);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(o,a[r])&&(l[a[r]]=o[a[r]]);return l}function Am(o){var t=typeof Symbol=="function"&&Symbol.iterator,l=t&&o[t],a=0;if(l)return l.call(o);if(o&&typeof o.length=="number")return{next:function(){return o&&a>=o.length&&(o=void 0),{value:o&&o[a++],done:!o}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function fe(o){return this instanceof fe?(this.v=o,this):new fe(o)}function Qt(o,t,l){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=l.apply(o,t||[]),r,f=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),g("next"),g("throw"),g("return",h),r[Symbol.asyncIterator]=function(){return this},r;function h(x){return function(D){return Promise.resolve(D).then(x,T)}}function g(x,D){a[x]&&(r[x]=function(H){return new Promise(function(U,P){f.push([x,H,U,P])>1||y(x,H)})},D&&(r[x]=D(r[x])))}function y(x,D){try{m(a[x](D))}catch(H){E(f[0][3],H)}}function m(x){x.value instanceof fe?Promise.resolve(x.value.v).then(v,T):E(f[0][2],x)}function v(x){y("next",x)}function T(x){y("throw",x)}function E(x,D){x(D),f.shift(),f.length&&y(f[0][0],f[0][1])}}function Zt(o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=o[Symbol.asyncIterator],l;return t?t.call(o):(o=typeof Am=="function"?Am(o):o[Symbol.iterator](),l={},a("next"),a("throw"),a("return"),l[Symbol.asyncIterator]=function(){return this},l);function a(f){l[f]=o[f]&&function(h){return new Promise(function(g,y){h=o[f](h),r(g,y,h.done,h.value)})}}function r(f,h,g,y){Promise.resolve(y).then(function(m){f({value:m,done:g})},h)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function JT(o){var t;if(o.candidates==null||o.candidates.length===0)return!1;const l=(t=o.candidates[0])===null||t===void 0?void 0:t.content;return l===void 0?!1:pg(l)}function pg(o){if(o.parts===void 0||o.parts.length===0)return!1;for(const t of o.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function YT(o){if(o.length!==0){for(const t of o)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function bm(o){if(o===void 0||o.length===0)return[];const t=[],l=o.length;let a=0;for(;a<l;)if(o[a].role==="user")t.push(o[a]),a++;else{const r=[];let f=!0;for(;a<l&&o[a].role==="model";)r.push(o[a]),f&&!pg(o[a])&&(f=!1),a++;f?t.push(...r):t.pop()}return t}class WT{constructor(t,l){this.modelsModule=t,this.apiClient=l}create(t){return new KT(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class KT{constructor(t,l,a,r={},f=[]){this.apiClient=t,this.modelsModule=l,this.model=a,this.config=r,this.history=f,this.sendPromise=Promise.resolve(),YT(f)}async sendMessage(t){var l;await this.sendPromise;const a=ht(t.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(a),config:(l=t.config)!==null&&l!==void 0?l:this.config});return this.sendPromise=(async()=>{var f,h,g;const y=await r,m=(h=(f=y.candidates)===null||f===void 0?void 0:f[0])===null||h===void 0?void 0:h.content,v=y.automaticFunctionCallingHistory,T=this.getHistory(!0).length;let E=[];v!=null&&(E=(g=v.slice(T))!==null&&g!==void 0?g:[]);const x=m?[m]:[];this.recordHistory(a,x,E)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(t){var l;await this.sendPromise;const a=ht(t.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(a),config:(l=t.config)!==null&&l!==void 0?l:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const f=await r;return this.processStreamResponse(f,a)}getHistory(t=!1){const l=t?bm(this.history):this.history;return structuredClone(l)}processStreamResponse(t,l){return Qt(this,arguments,function*(){var r,f,h,g,y,m;const v=[];try{for(var T=!0,E=Zt(t),x;x=yield fe(E.next()),r=x.done,!r;T=!0){g=x.value,T=!1;const D=g;if(JT(D)){const H=(m=(y=D.candidates)===null||y===void 0?void 0:y[0])===null||m===void 0?void 0:m.content;H!==void 0&&v.push(H)}yield yield fe(D)}}catch(D){f={error:D}}finally{try{!T&&!r&&(h=E.return)&&(yield fe(h.call(E)))}finally{if(f)throw f.error}}this.recordHistory(l,v)})}recordHistory(t,l,a){let r=[];l.length>0&&l.every(f=>f.role!==void 0)?r=l:r.push({role:"model",parts:[]}),a&&a.length>0?this.history.push(...bm(a)):this.history.push(t),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Qa extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,Qa.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function XT(o){const t={},l=u(o,["file"]);return l!=null&&c(t,["file"],l),t}function QT(o){const t={},l=u(o,["sdkHttpResponse"]);return l!=null&&c(t,["sdkHttpResponse"],l),t}function ZT(o){const t={},l=u(o,["name"]);return l!=null&&c(t,["_url","file"],sg(l)),t}function $T(o){const t={},l=u(o,["sdkHttpResponse"]);return l!=null&&c(t,["sdkHttpResponse"],l),t}function jT(o){const t={},l=u(o,["name"]);return l!=null&&c(t,["_url","file"],sg(l)),t}function eE(o,t){const l={},a=u(o,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(o,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),l}function tE(o){const t={},l=u(o,["config"]);return l!=null&&eE(l,t),t}function nE(o){const t={},l=u(o,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(o,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(o,["files"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(h=>h)),c(t,["files"],f)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class oE extends An{constructor(t){super(),this.apiClient=t,this.list=async(l={})=>new _o(xn.PAGED_ITEM_FILES,a=>this.listInternal(a),await this.listInternal(l),l)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(l=>l)}async download(t){await this.apiClient.downloadFile(t)}async listInternal(t){var l,a;let r,f="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=tE(t);return f=Z("files",g._url),h=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const m=nE(y),v=new sS;return Object.assign(v,m),v})}}async createInternal(t){var l,a;let r,f="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=XT(t);return f=Z("upload/v1beta/files",g._url),h=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const m=QT(y),v=new rS;return Object.assign(v,m),v})}}async get(t){var l,a;let r,f="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=jT(t);return f=Z("files/{file}",g._url),h=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(t){var l,a;let r,f="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=ZT(t);return f=Z("files/{file}",g._url),h=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const m=$T(y),v=new uS;return Object.assign(v,m),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Oa(o){const t={},l=u(o,["data"]);if(l!=null&&c(t,["data"],l),u(o,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(o,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function iE(o){const t={},l=u(o,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(f=>TE(f))),c(t,["parts"],r)}const a=u(o,["role"]);return a!=null&&c(t,["role"],a),t}function lE(o){const t={};if(u(o,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(o,["fileUri"]);l!=null&&c(t,["fileUri"],l);const a=u(o,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function aE(o){const t={},l=u(o,["id"]);l!=null&&c(t,["id"],l);const a=u(o,["args"]);a!=null&&c(t,["args"],a);const r=u(o,["name"]);if(r!=null&&c(t,["name"],r),u(o,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(o,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function sE(o){const t={},l=u(o,["description"]);l!=null&&c(t,["description"],l);const a=u(o,["name"]);a!=null&&c(t,["name"],a);const r=u(o,["parameters"]);r!=null&&c(t,["parameters"],r);const f=u(o,["parametersJsonSchema"]);f!=null&&c(t,["parametersJsonSchema"],f);const h=u(o,["response"]);h!=null&&c(t,["response"],h);const g=u(o,["responseJsonSchema"]);if(g!=null&&c(t,["responseJsonSchema"],g),u(o,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function rE(o){const t={},l=u(o,["modelSelectionConfig"]);l!=null&&c(t,["modelConfig"],l);const a=u(o,["responseJsonSchema"]);a!=null&&c(t,["responseJsonSchema"],a);const r=u(o,["audioTimestamp"]);r!=null&&c(t,["audioTimestamp"],r);const f=u(o,["candidateCount"]);f!=null&&c(t,["candidateCount"],f);const h=u(o,["enableAffectiveDialog"]);h!=null&&c(t,["enableAffectiveDialog"],h);const g=u(o,["frequencyPenalty"]);g!=null&&c(t,["frequencyPenalty"],g);const y=u(o,["logprobs"]);y!=null&&c(t,["logprobs"],y);const m=u(o,["maxOutputTokens"]);m!=null&&c(t,["maxOutputTokens"],m);const v=u(o,["mediaResolution"]);v!=null&&c(t,["mediaResolution"],v);const T=u(o,["presencePenalty"]);T!=null&&c(t,["presencePenalty"],T);const E=u(o,["responseLogprobs"]);E!=null&&c(t,["responseLogprobs"],E);const x=u(o,["responseMimeType"]);x!=null&&c(t,["responseMimeType"],x);const D=u(o,["responseModalities"]);D!=null&&c(t,["responseModalities"],D);const H=u(o,["responseSchema"]);H!=null&&c(t,["responseSchema"],H);const U=u(o,["routingConfig"]);U!=null&&c(t,["routingConfig"],U);const P=u(o,["seed"]);P!=null&&c(t,["seed"],P);const K=u(o,["speechConfig"]);K!=null&&c(t,["speechConfig"],K);const F=u(o,["stopSequences"]);F!=null&&c(t,["stopSequences"],F);const Q=u(o,["temperature"]);Q!=null&&c(t,["temperature"],Q);const Y=u(o,["thinkingConfig"]);Y!=null&&c(t,["thinkingConfig"],Y);const ne=u(o,["topK"]);ne!=null&&c(t,["topK"],ne);const W=u(o,["topP"]);if(W!=null&&c(t,["topP"],W),u(o,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function uE(o){const t={};if(u(o,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(o,["enableWidget"]);return l!=null&&c(t,["enableWidget"],l),t}function cE(o){const t={};if(u(o,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(o,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(o,["timeRangeFilter"]);return l!=null&&c(t,["timeRangeFilter"],l),t}function fE(o,t){const l={},a=u(o,["generationConfig"]);t!==void 0&&a!=null&&c(t,["setup","generationConfig"],a);const r=u(o,["responseModalities"]);t!==void 0&&r!=null&&c(t,["setup","generationConfig","responseModalities"],r);const f=u(o,["temperature"]);t!==void 0&&f!=null&&c(t,["setup","generationConfig","temperature"],f);const h=u(o,["topP"]);t!==void 0&&h!=null&&c(t,["setup","generationConfig","topP"],h);const g=u(o,["topK"]);t!==void 0&&g!=null&&c(t,["setup","generationConfig","topK"],g);const y=u(o,["maxOutputTokens"]);t!==void 0&&y!=null&&c(t,["setup","generationConfig","maxOutputTokens"],y);const m=u(o,["mediaResolution"]);t!==void 0&&m!=null&&c(t,["setup","generationConfig","mediaResolution"],m);const v=u(o,["seed"]);t!==void 0&&v!=null&&c(t,["setup","generationConfig","seed"],v);const T=u(o,["speechConfig"]);t!==void 0&&T!=null&&c(t,["setup","generationConfig","speechConfig"],Xu(T));const E=u(o,["thinkingConfig"]);t!==void 0&&E!=null&&c(t,["setup","generationConfig","thinkingConfig"],E);const x=u(o,["enableAffectiveDialog"]);t!==void 0&&x!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],x);const D=u(o,["systemInstruction"]);t!==void 0&&D!=null&&c(t,["setup","systemInstruction"],iE(ht(D)));const H=u(o,["tools"]);if(t!==void 0&&H!=null){let ne=hi(H);Array.isArray(ne)&&(ne=ne.map(W=>_E(di(W)))),c(t,["setup","tools"],ne)}const U=u(o,["sessionResumption"]);t!==void 0&&U!=null&&c(t,["setup","sessionResumption"],EE(U));const P=u(o,["inputAudioTranscription"]);t!==void 0&&P!=null&&c(t,["setup","inputAudioTranscription"],P);const K=u(o,["outputAudioTranscription"]);t!==void 0&&K!=null&&c(t,["setup","outputAudioTranscription"],K);const F=u(o,["realtimeInputConfig"]);t!==void 0&&F!=null&&c(t,["setup","realtimeInputConfig"],F);const Q=u(o,["contextWindowCompression"]);t!==void 0&&Q!=null&&c(t,["setup","contextWindowCompression"],Q);const Y=u(o,["proactivity"]);if(t!==void 0&&Y!=null&&c(t,["setup","proactivity"],Y),u(o,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return l}function dE(o,t){const l={},a=u(o,["generationConfig"]);t!==void 0&&a!=null&&c(t,["setup","generationConfig"],rE(a));const r=u(o,["responseModalities"]);t!==void 0&&r!=null&&c(t,["setup","generationConfig","responseModalities"],r);const f=u(o,["temperature"]);t!==void 0&&f!=null&&c(t,["setup","generationConfig","temperature"],f);const h=u(o,["topP"]);t!==void 0&&h!=null&&c(t,["setup","generationConfig","topP"],h);const g=u(o,["topK"]);t!==void 0&&g!=null&&c(t,["setup","generationConfig","topK"],g);const y=u(o,["maxOutputTokens"]);t!==void 0&&y!=null&&c(t,["setup","generationConfig","maxOutputTokens"],y);const m=u(o,["mediaResolution"]);t!==void 0&&m!=null&&c(t,["setup","generationConfig","mediaResolution"],m);const v=u(o,["seed"]);t!==void 0&&v!=null&&c(t,["setup","generationConfig","seed"],v);const T=u(o,["speechConfig"]);t!==void 0&&T!=null&&c(t,["setup","generationConfig","speechConfig"],Xu(T));const E=u(o,["thinkingConfig"]);t!==void 0&&E!=null&&c(t,["setup","generationConfig","thinkingConfig"],E);const x=u(o,["enableAffectiveDialog"]);t!==void 0&&x!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],x);const D=u(o,["systemInstruction"]);t!==void 0&&D!=null&&c(t,["setup","systemInstruction"],ht(D));const H=u(o,["tools"]);if(t!==void 0&&H!=null){let W=hi(H);Array.isArray(W)&&(W=W.map(ye=>CE(di(ye)))),c(t,["setup","tools"],W)}const U=u(o,["sessionResumption"]);t!==void 0&&U!=null&&c(t,["setup","sessionResumption"],U);const P=u(o,["inputAudioTranscription"]);t!==void 0&&P!=null&&c(t,["setup","inputAudioTranscription"],P);const K=u(o,["outputAudioTranscription"]);t!==void 0&&K!=null&&c(t,["setup","outputAudioTranscription"],K);const F=u(o,["realtimeInputConfig"]);t!==void 0&&F!=null&&c(t,["setup","realtimeInputConfig"],F);const Q=u(o,["contextWindowCompression"]);t!==void 0&&Q!=null&&c(t,["setup","contextWindowCompression"],Q);const Y=u(o,["proactivity"]);t!==void 0&&Y!=null&&c(t,["setup","proactivity"],Y);const ne=u(o,["explicitVadSignal"]);return t!==void 0&&ne!=null&&c(t,["setup","explicitVadSignal"],ne),l}function hE(o,t){const l={},a=u(t,["model"]);a!=null&&c(l,["setup","model"],Ue(o,a));const r=u(t,["config"]);return r!=null&&c(l,["config"],fE(r,l)),l}function pE(o,t){const l={},a=u(t,["model"]);a!=null&&c(l,["setup","model"],Ue(o,a));const r=u(t,["config"]);return r!=null&&c(l,["config"],dE(r,l)),l}function mE(o){const t={},l=u(o,["musicGenerationConfig"]);return l!=null&&c(t,["musicGenerationConfig"],l),t}function gE(o){const t={},l=u(o,["weightedPrompts"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(r=>r)),c(t,["weightedPrompts"],a)}return t}function yE(o){const t={},l=u(o,["media"]);if(l!=null){let m=ng(l);Array.isArray(m)&&(m=m.map(v=>Oa(v))),c(t,["mediaChunks"],m)}const a=u(o,["audio"]);a!=null&&c(t,["audio"],Oa(ig(a)));const r=u(o,["audioStreamEnd"]);r!=null&&c(t,["audioStreamEnd"],r);const f=u(o,["video"]);f!=null&&c(t,["video"],Oa(og(f)));const h=u(o,["text"]);h!=null&&c(t,["text"],h);const g=u(o,["activityStart"]);g!=null&&c(t,["activityStart"],g);const y=u(o,["activityEnd"]);return y!=null&&c(t,["activityEnd"],y),t}function vE(o){const t={},l=u(o,["media"]);if(l!=null){let m=ng(l);Array.isArray(m)&&(m=m.map(v=>v)),c(t,["mediaChunks"],m)}const a=u(o,["audio"]);a!=null&&c(t,["audio"],ig(a));const r=u(o,["audioStreamEnd"]);r!=null&&c(t,["audioStreamEnd"],r);const f=u(o,["video"]);f!=null&&c(t,["video"],og(f));const h=u(o,["text"]);h!=null&&c(t,["text"],h);const g=u(o,["activityStart"]);g!=null&&c(t,["activityStart"],g);const y=u(o,["activityEnd"]);return y!=null&&c(t,["activityEnd"],y),t}function SE(o){const t={},l=u(o,["setupComplete"]);l!=null&&c(t,["setupComplete"],l);const a=u(o,["serverContent"]);a!=null&&c(t,["serverContent"],a);const r=u(o,["toolCall"]);r!=null&&c(t,["toolCall"],r);const f=u(o,["toolCallCancellation"]);f!=null&&c(t,["toolCallCancellation"],f);const h=u(o,["usageMetadata"]);h!=null&&c(t,["usageMetadata"],xE(h));const g=u(o,["goAway"]);g!=null&&c(t,["goAway"],g);const y=u(o,["sessionResumptionUpdate"]);y!=null&&c(t,["sessionResumptionUpdate"],y);const m=u(o,["voiceActivityDetectionSignal"]);m!=null&&c(t,["voiceActivityDetectionSignal"],m);const v=u(o,["voiceActivity"]);return v!=null&&c(t,["voiceActivity"],AE(v)),t}function TE(o){const t={},l=u(o,["mediaResolution"]);l!=null&&c(t,["mediaResolution"],l);const a=u(o,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(o,["executableCode"]);r!=null&&c(t,["executableCode"],r);const f=u(o,["fileData"]);f!=null&&c(t,["fileData"],lE(f));const h=u(o,["functionCall"]);h!=null&&c(t,["functionCall"],aE(h));const g=u(o,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const y=u(o,["inlineData"]);y!=null&&c(t,["inlineData"],Oa(y));const m=u(o,["text"]);m!=null&&c(t,["text"],m);const v=u(o,["thought"]);v!=null&&c(t,["thought"],v);const T=u(o,["thoughtSignature"]);T!=null&&c(t,["thoughtSignature"],T);const E=u(o,["videoMetadata"]);return E!=null&&c(t,["videoMetadata"],E),t}function EE(o){const t={},l=u(o,["handle"]);if(l!=null&&c(t,["handle"],l),u(o,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function _E(o){const t={};if(u(o,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=u(o,["computerUse"]);l!=null&&c(t,["computerUse"],l);const a=u(o,["fileSearch"]);a!=null&&c(t,["fileSearch"],a);const r=u(o,["codeExecution"]);if(r!=null&&c(t,["codeExecution"],r),u(o,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=u(o,["functionDeclarations"]);if(f!=null){let v=f;Array.isArray(v)&&(v=v.map(T=>T)),c(t,["functionDeclarations"],v)}const h=u(o,["googleMaps"]);h!=null&&c(t,["googleMaps"],uE(h));const g=u(o,["googleSearch"]);g!=null&&c(t,["googleSearch"],cE(g));const y=u(o,["googleSearchRetrieval"]);y!=null&&c(t,["googleSearchRetrieval"],y);const m=u(o,["urlContext"]);return m!=null&&c(t,["urlContext"],m),t}function CE(o){const t={},l=u(o,["retrieval"]);l!=null&&c(t,["retrieval"],l);const a=u(o,["computerUse"]);if(a!=null&&c(t,["computerUse"],a),u(o,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=u(o,["codeExecution"]);r!=null&&c(t,["codeExecution"],r);const f=u(o,["enterpriseWebSearch"]);f!=null&&c(t,["enterpriseWebSearch"],f);const h=u(o,["functionDeclarations"]);if(h!=null){let T=h;Array.isArray(T)&&(T=T.map(E=>sE(E))),c(t,["functionDeclarations"],T)}const g=u(o,["googleMaps"]);g!=null&&c(t,["googleMaps"],g);const y=u(o,["googleSearch"]);y!=null&&c(t,["googleSearch"],y);const m=u(o,["googleSearchRetrieval"]);m!=null&&c(t,["googleSearchRetrieval"],m);const v=u(o,["urlContext"]);return v!=null&&c(t,["urlContext"],v),t}function xE(o){const t={},l=u(o,["promptTokenCount"]);l!=null&&c(t,["promptTokenCount"],l);const a=u(o,["cachedContentTokenCount"]);a!=null&&c(t,["cachedContentTokenCount"],a);const r=u(o,["candidatesTokenCount"]);r!=null&&c(t,["responseTokenCount"],r);const f=u(o,["toolUsePromptTokenCount"]);f!=null&&c(t,["toolUsePromptTokenCount"],f);const h=u(o,["thoughtsTokenCount"]);h!=null&&c(t,["thoughtsTokenCount"],h);const g=u(o,["totalTokenCount"]);g!=null&&c(t,["totalTokenCount"],g);const y=u(o,["promptTokensDetails"]);if(y!=null){let x=y;Array.isArray(x)&&(x=x.map(D=>D)),c(t,["promptTokensDetails"],x)}const m=u(o,["cacheTokensDetails"]);if(m!=null){let x=m;Array.isArray(x)&&(x=x.map(D=>D)),c(t,["cacheTokensDetails"],x)}const v=u(o,["candidatesTokensDetails"]);if(v!=null){let x=v;Array.isArray(x)&&(x=x.map(D=>D)),c(t,["responseTokensDetails"],x)}const T=u(o,["toolUsePromptTokensDetails"]);if(T!=null){let x=T;Array.isArray(x)&&(x=x.map(D=>D)),c(t,["toolUsePromptTokensDetails"],x)}const E=u(o,["trafficType"]);return E!=null&&c(t,["trafficType"],E),t}function AE(o){const t={},l=u(o,["type"]);return l!=null&&c(t,["voiceActivityType"],l),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bE(o){const t={},l=u(o,["data"]);if(l!=null&&c(t,["data"],l),u(o,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(o,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function NE(o){const t={},l=u(o,["content"]);l!=null&&c(t,["content"],l);const a=u(o,["citationMetadata"]);a!=null&&c(t,["citationMetadata"],wE(a));const r=u(o,["tokenCount"]);r!=null&&c(t,["tokenCount"],r);const f=u(o,["finishReason"]);f!=null&&c(t,["finishReason"],f);const h=u(o,["avgLogprobs"]);h!=null&&c(t,["avgLogprobs"],h);const g=u(o,["groundingMetadata"]);g!=null&&c(t,["groundingMetadata"],g);const y=u(o,["index"]);y!=null&&c(t,["index"],y);const m=u(o,["logprobsResult"]);m!=null&&c(t,["logprobsResult"],m);const v=u(o,["safetyRatings"]);if(v!=null){let E=v;Array.isArray(E)&&(E=E.map(x=>x)),c(t,["safetyRatings"],E)}const T=u(o,["urlContextMetadata"]);return T!=null&&c(t,["urlContextMetadata"],T),t}function wE(o){const t={},l=u(o,["citationSources"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(r=>r)),c(t,["citations"],a)}return t}function RE(o,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Ue(o,a));const r=u(t,["contents"]);if(r!=null){let f=Jt(r);Array.isArray(f)&&(f=f.map(h=>h)),c(l,["contents"],f)}return l}function ME(o){const t={},l=u(o,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(o,["tokensInfo"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(f=>f)),c(t,["tokensInfo"],r)}return t}function IE(o){const t={},l=u(o,["values"]);l!=null&&c(t,["values"],l);const a=u(o,["statistics"]);return a!=null&&c(t,["statistics"],DE(a)),t}function DE(o){const t={},l=u(o,["truncated"]);l!=null&&c(t,["truncated"],l);const a=u(o,["token_count"]);return a!=null&&c(t,["tokenCount"],a),t}function Za(o){const t={},l=u(o,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(f=>B_(f))),c(t,["parts"],r)}const a=u(o,["role"]);return a!=null&&c(t,["role"],a),t}function UE(o){const t={},l=u(o,["controlType"]);l!=null&&c(t,["controlType"],l);const a=u(o,["enableControlImageComputation"]);return a!=null&&c(t,["computeControl"],a),t}function LE(o){const t={};if(u(o,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(u(o,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(u(o,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function kE(o,t){const l={},a=u(o,["systemInstruction"]);t!==void 0&&a!=null&&c(t,["systemInstruction"],ht(a));const r=u(o,["tools"]);if(t!==void 0&&r!=null){let h=r;Array.isArray(h)&&(h=h.map(g=>vg(g))),c(t,["tools"],h)}const f=u(o,["generationConfig"]);return t!==void 0&&f!=null&&c(t,["generationConfig"],b_(f)),l}function HE(o,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Ue(o,a));const r=u(t,["contents"]);if(r!=null){let h=Jt(r);Array.isArray(h)&&(h=h.map(g=>Za(g))),c(l,["contents"],h)}const f=u(t,["config"]);return f!=null&&LE(f),l}function GE(o,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Ue(o,a));const r=u(t,["contents"]);if(r!=null){let h=Jt(r);Array.isArray(h)&&(h=h.map(g=>g)),c(l,["contents"],h)}const f=u(t,["config"]);return f!=null&&kE(f,l),l}function VE(o){const t={},l=u(o,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(o,["totalTokens"]);a!=null&&c(t,["totalTokens"],a);const r=u(o,["cachedContentTokenCount"]);return r!=null&&c(t,["cachedContentTokenCount"],r),t}function qE(o){const t={},l=u(o,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(o,["totalTokens"]);return a!=null&&c(t,["totalTokens"],a),t}function zE(o,t){const l={},a=u(t,["model"]);return a!=null&&c(l,["_url","name"],Ue(o,a)),l}function BE(o,t){const l={},a=u(t,["model"]);return a!=null&&c(l,["_url","name"],Ue(o,a)),l}function PE(o){const t={},l=u(o,["sdkHttpResponse"]);return l!=null&&c(t,["sdkHttpResponse"],l),t}function OE(o){const t={},l=u(o,["sdkHttpResponse"]);return l!=null&&c(t,["sdkHttpResponse"],l),t}function FE(o,t){const l={},a=u(o,["outputGcsUri"]);t!==void 0&&a!=null&&c(t,["parameters","storageUri"],a);const r=u(o,["negativePrompt"]);t!==void 0&&r!=null&&c(t,["parameters","negativePrompt"],r);const f=u(o,["numberOfImages"]);t!==void 0&&f!=null&&c(t,["parameters","sampleCount"],f);const h=u(o,["aspectRatio"]);t!==void 0&&h!=null&&c(t,["parameters","aspectRatio"],h);const g=u(o,["guidanceScale"]);t!==void 0&&g!=null&&c(t,["parameters","guidanceScale"],g);const y=u(o,["seed"]);t!==void 0&&y!=null&&c(t,["parameters","seed"],y);const m=u(o,["safetyFilterLevel"]);t!==void 0&&m!=null&&c(t,["parameters","safetySetting"],m);const v=u(o,["personGeneration"]);t!==void 0&&v!=null&&c(t,["parameters","personGeneration"],v);const T=u(o,["includeSafetyAttributes"]);t!==void 0&&T!=null&&c(t,["parameters","includeSafetyAttributes"],T);const E=u(o,["includeRaiReason"]);t!==void 0&&E!=null&&c(t,["parameters","includeRaiReason"],E);const x=u(o,["language"]);t!==void 0&&x!=null&&c(t,["parameters","language"],x);const D=u(o,["outputMimeType"]);t!==void 0&&D!=null&&c(t,["parameters","outputOptions","mimeType"],D);const H=u(o,["outputCompressionQuality"]);t!==void 0&&H!=null&&c(t,["parameters","outputOptions","compressionQuality"],H);const U=u(o,["addWatermark"]);t!==void 0&&U!=null&&c(t,["parameters","addWatermark"],U);const P=u(o,["labels"]);t!==void 0&&P!=null&&c(t,["labels"],P);const K=u(o,["editMode"]);t!==void 0&&K!=null&&c(t,["parameters","editMode"],K);const F=u(o,["baseSteps"]);return t!==void 0&&F!=null&&c(t,["parameters","editConfig","baseSteps"],F),l}function JE(o,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Ue(o,a));const r=u(t,["prompt"]);r!=null&&c(l,["instances[0]","prompt"],r);const f=u(t,["referenceImages"]);if(f!=null){let g=f;Array.isArray(g)&&(g=g.map(y=>W_(y))),c(l,["instances[0]","referenceImages"],g)}const h=u(t,["config"]);return h!=null&&FE(h,l),l}function YE(o){const t={},l=u(o,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(o,["predictions"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(f=>$a(f))),c(t,["generatedImages"],r)}return t}function WE(o,t){const l={},a=u(o,["taskType"]);t!==void 0&&a!=null&&c(t,["requests[]","taskType"],a);const r=u(o,["title"]);t!==void 0&&r!=null&&c(t,["requests[]","title"],r);const f=u(o,["outputDimensionality"]);if(t!==void 0&&f!=null&&c(t,["requests[]","outputDimensionality"],f),u(o,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(o,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return l}function KE(o,t){const l={},a=u(o,["taskType"]);t!==void 0&&a!=null&&c(t,["instances[]","task_type"],a);const r=u(o,["title"]);t!==void 0&&r!=null&&c(t,["instances[]","title"],r);const f=u(o,["outputDimensionality"]);t!==void 0&&f!=null&&c(t,["parameters","outputDimensionality"],f);const h=u(o,["mimeType"]);t!==void 0&&h!=null&&c(t,["instances[]","mimeType"],h);const g=u(o,["autoTruncate"]);return t!==void 0&&g!=null&&c(t,["parameters","autoTruncate"],g),l}function XE(o,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Ue(o,a));const r=u(t,["contents"]);if(r!=null){let g=Yu(o,r);Array.isArray(g)&&(g=g.map(y=>y)),c(l,["requests[]","content"],g)}const f=u(t,["config"]);f!=null&&WE(f,l);const h=u(t,["model"]);return h!==void 0&&c(l,["requests[]","model"],Ue(o,h)),l}function QE(o,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Ue(o,a));const r=u(t,["contents"]);if(r!=null){let h=Yu(o,r);Array.isArray(h)&&(h=h.map(g=>g)),c(l,["instances[]","content"],h)}const f=u(t,["config"]);return f!=null&&KE(f,l),l}function ZE(o){const t={},l=u(o,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(o,["embeddings"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(h=>h)),c(t,["embeddings"],f)}const r=u(o,["metadata"]);return r!=null&&c(t,["metadata"],r),t}function $E(o){const t={},l=u(o,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(o,["predictions[]","embeddings"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(h=>IE(h))),c(t,["embeddings"],f)}const r=u(o,["metadata"]);return r!=null&&c(t,["metadata"],r),t}function jE(o){const t={},l=u(o,["endpoint"]);l!=null&&c(t,["name"],l);const a=u(o,["deployedModelId"]);return a!=null&&c(t,["deployedModelId"],a),t}function e_(o){const t={};if(u(o,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(o,["fileUri"]);l!=null&&c(t,["fileUri"],l);const a=u(o,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function t_(o){const t={},l=u(o,["id"]);l!=null&&c(t,["id"],l);const a=u(o,["args"]);a!=null&&c(t,["args"],a);const r=u(o,["name"]);if(r!=null&&c(t,["name"],r),u(o,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(o,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function n_(o){const t={},l=u(o,["allowedFunctionNames"]);l!=null&&c(t,["allowedFunctionNames"],l);const a=u(o,["mode"]);if(a!=null&&c(t,["mode"],a),u(o,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function o_(o){const t={},l=u(o,["description"]);l!=null&&c(t,["description"],l);const a=u(o,["name"]);a!=null&&c(t,["name"],a);const r=u(o,["parameters"]);r!=null&&c(t,["parameters"],r);const f=u(o,["parametersJsonSchema"]);f!=null&&c(t,["parametersJsonSchema"],f);const h=u(o,["response"]);h!=null&&c(t,["response"],h);const g=u(o,["responseJsonSchema"]);if(g!=null&&c(t,["responseJsonSchema"],g),u(o,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function i_(o,t,l){const a={},r=u(t,["systemInstruction"]);l!==void 0&&r!=null&&c(l,["systemInstruction"],Za(ht(r)));const f=u(t,["temperature"]);f!=null&&c(a,["temperature"],f);const h=u(t,["topP"]);h!=null&&c(a,["topP"],h);const g=u(t,["topK"]);g!=null&&c(a,["topK"],g);const y=u(t,["candidateCount"]);y!=null&&c(a,["candidateCount"],y);const m=u(t,["maxOutputTokens"]);m!=null&&c(a,["maxOutputTokens"],m);const v=u(t,["stopSequences"]);v!=null&&c(a,["stopSequences"],v);const T=u(t,["responseLogprobs"]);T!=null&&c(a,["responseLogprobs"],T);const E=u(t,["logprobs"]);E!=null&&c(a,["logprobs"],E);const x=u(t,["presencePenalty"]);x!=null&&c(a,["presencePenalty"],x);const D=u(t,["frequencyPenalty"]);D!=null&&c(a,["frequencyPenalty"],D);const H=u(t,["seed"]);H!=null&&c(a,["seed"],H);const U=u(t,["responseMimeType"]);U!=null&&c(a,["responseMimeType"],U);const P=u(t,["responseSchema"]);P!=null&&c(a,["responseSchema"],Wu(P));const K=u(t,["responseJsonSchema"]);if(K!=null&&c(a,["responseJsonSchema"],K),u(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const F=u(t,["safetySettings"]);if(l!==void 0&&F!=null){let Te=F;Array.isArray(Te)&&(Te=Te.map(He=>K_(He))),c(l,["safetySettings"],Te)}const Q=u(t,["tools"]);if(l!==void 0&&Q!=null){let Te=hi(Q);Array.isArray(Te)&&(Te=Te.map(He=>tC(di(He)))),c(l,["tools"],Te)}const Y=u(t,["toolConfig"]);if(l!==void 0&&Y!=null&&c(l,["toolConfig"],eC(Y)),u(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const ne=u(t,["cachedContent"]);l!==void 0&&ne!=null&&c(l,["cachedContent"],bn(o,ne));const W=u(t,["responseModalities"]);W!=null&&c(a,["responseModalities"],W);const ye=u(t,["mediaResolution"]);ye!=null&&c(a,["mediaResolution"],ye);const j=u(t,["speechConfig"]);if(j!=null&&c(a,["speechConfig"],Ku(j)),u(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const de=u(t,["thinkingConfig"]);de!=null&&c(a,["thinkingConfig"],de);const ve=u(t,["imageConfig"]);ve!=null&&c(a,["imageConfig"],I_(ve));const be=u(t,["enableEnhancedCivicAnswers"]);return be!=null&&c(a,["enableEnhancedCivicAnswers"],be),a}function l_(o,t,l){const a={},r=u(t,["systemInstruction"]);l!==void 0&&r!=null&&c(l,["systemInstruction"],ht(r));const f=u(t,["temperature"]);f!=null&&c(a,["temperature"],f);const h=u(t,["topP"]);h!=null&&c(a,["topP"],h);const g=u(t,["topK"]);g!=null&&c(a,["topK"],g);const y=u(t,["candidateCount"]);y!=null&&c(a,["candidateCount"],y);const m=u(t,["maxOutputTokens"]);m!=null&&c(a,["maxOutputTokens"],m);const v=u(t,["stopSequences"]);v!=null&&c(a,["stopSequences"],v);const T=u(t,["responseLogprobs"]);T!=null&&c(a,["responseLogprobs"],T);const E=u(t,["logprobs"]);E!=null&&c(a,["logprobs"],E);const x=u(t,["presencePenalty"]);x!=null&&c(a,["presencePenalty"],x);const D=u(t,["frequencyPenalty"]);D!=null&&c(a,["frequencyPenalty"],D);const H=u(t,["seed"]);H!=null&&c(a,["seed"],H);const U=u(t,["responseMimeType"]);U!=null&&c(a,["responseMimeType"],U);const P=u(t,["responseSchema"]);P!=null&&c(a,["responseSchema"],Wu(P));const K=u(t,["responseJsonSchema"]);K!=null&&c(a,["responseJsonSchema"],K);const F=u(t,["routingConfig"]);F!=null&&c(a,["routingConfig"],F);const Q=u(t,["modelSelectionConfig"]);Q!=null&&c(a,["modelConfig"],Q);const Y=u(t,["safetySettings"]);if(l!==void 0&&Y!=null){let k=Y;Array.isArray(k)&&(k=k.map(J=>J)),c(l,["safetySettings"],k)}const ne=u(t,["tools"]);if(l!==void 0&&ne!=null){let k=hi(ne);Array.isArray(k)&&(k=k.map(J=>vg(di(J)))),c(l,["tools"],k)}const W=u(t,["toolConfig"]);l!==void 0&&W!=null&&c(l,["toolConfig"],W);const ye=u(t,["labels"]);l!==void 0&&ye!=null&&c(l,["labels"],ye);const j=u(t,["cachedContent"]);l!==void 0&&j!=null&&c(l,["cachedContent"],bn(o,j));const de=u(t,["responseModalities"]);de!=null&&c(a,["responseModalities"],de);const ve=u(t,["mediaResolution"]);ve!=null&&c(a,["mediaResolution"],ve);const be=u(t,["speechConfig"]);be!=null&&c(a,["speechConfig"],Ku(be));const Te=u(t,["audioTimestamp"]);Te!=null&&c(a,["audioTimestamp"],Te);const He=u(t,["thinkingConfig"]);He!=null&&c(a,["thinkingConfig"],He);const Ke=u(t,["imageConfig"]);if(Ke!=null&&c(a,["imageConfig"],D_(Ke)),u(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return a}function Nm(o,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Ue(o,a));const r=u(t,["contents"]);if(r!=null){let h=Jt(r);Array.isArray(h)&&(h=h.map(g=>Za(g))),c(l,["contents"],h)}const f=u(t,["config"]);return f!=null&&c(l,["generationConfig"],i_(o,f,l)),l}function wm(o,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Ue(o,a));const r=u(t,["contents"]);if(r!=null){let h=Jt(r);Array.isArray(h)&&(h=h.map(g=>g)),c(l,["contents"],h)}const f=u(t,["config"]);return f!=null&&c(l,["generationConfig"],l_(o,f,l)),l}function Rm(o){const t={},l=u(o,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(o,["candidates"]);if(a!=null){let y=a;Array.isArray(y)&&(y=y.map(m=>NE(m))),c(t,["candidates"],y)}const r=u(o,["modelVersion"]);r!=null&&c(t,["modelVersion"],r);const f=u(o,["promptFeedback"]);f!=null&&c(t,["promptFeedback"],f);const h=u(o,["responseId"]);h!=null&&c(t,["responseId"],h);const g=u(o,["usageMetadata"]);return g!=null&&c(t,["usageMetadata"],g),t}function Mm(o){const t={},l=u(o,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(o,["candidates"]);if(a!=null){let m=a;Array.isArray(m)&&(m=m.map(v=>v)),c(t,["candidates"],m)}const r=u(o,["createTime"]);r!=null&&c(t,["createTime"],r);const f=u(o,["modelVersion"]);f!=null&&c(t,["modelVersion"],f);const h=u(o,["promptFeedback"]);h!=null&&c(t,["promptFeedback"],h);const g=u(o,["responseId"]);g!=null&&c(t,["responseId"],g);const y=u(o,["usageMetadata"]);return y!=null&&c(t,["usageMetadata"],y),t}function a_(o,t){const l={};if(u(o,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(o,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const a=u(o,["numberOfImages"]);t!==void 0&&a!=null&&c(t,["parameters","sampleCount"],a);const r=u(o,["aspectRatio"]);t!==void 0&&r!=null&&c(t,["parameters","aspectRatio"],r);const f=u(o,["guidanceScale"]);if(t!==void 0&&f!=null&&c(t,["parameters","guidanceScale"],f),u(o,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const h=u(o,["safetyFilterLevel"]);t!==void 0&&h!=null&&c(t,["parameters","safetySetting"],h);const g=u(o,["personGeneration"]);t!==void 0&&g!=null&&c(t,["parameters","personGeneration"],g);const y=u(o,["includeSafetyAttributes"]);t!==void 0&&y!=null&&c(t,["parameters","includeSafetyAttributes"],y);const m=u(o,["includeRaiReason"]);t!==void 0&&m!=null&&c(t,["parameters","includeRaiReason"],m);const v=u(o,["language"]);t!==void 0&&v!=null&&c(t,["parameters","language"],v);const T=u(o,["outputMimeType"]);t!==void 0&&T!=null&&c(t,["parameters","outputOptions","mimeType"],T);const E=u(o,["outputCompressionQuality"]);if(t!==void 0&&E!=null&&c(t,["parameters","outputOptions","compressionQuality"],E),u(o,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(u(o,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const x=u(o,["imageSize"]);if(t!==void 0&&x!=null&&c(t,["parameters","sampleImageSize"],x),u(o,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return l}function s_(o,t){const l={},a=u(o,["outputGcsUri"]);t!==void 0&&a!=null&&c(t,["parameters","storageUri"],a);const r=u(o,["negativePrompt"]);t!==void 0&&r!=null&&c(t,["parameters","negativePrompt"],r);const f=u(o,["numberOfImages"]);t!==void 0&&f!=null&&c(t,["parameters","sampleCount"],f);const h=u(o,["aspectRatio"]);t!==void 0&&h!=null&&c(t,["parameters","aspectRatio"],h);const g=u(o,["guidanceScale"]);t!==void 0&&g!=null&&c(t,["parameters","guidanceScale"],g);const y=u(o,["seed"]);t!==void 0&&y!=null&&c(t,["parameters","seed"],y);const m=u(o,["safetyFilterLevel"]);t!==void 0&&m!=null&&c(t,["parameters","safetySetting"],m);const v=u(o,["personGeneration"]);t!==void 0&&v!=null&&c(t,["parameters","personGeneration"],v);const T=u(o,["includeSafetyAttributes"]);t!==void 0&&T!=null&&c(t,["parameters","includeSafetyAttributes"],T);const E=u(o,["includeRaiReason"]);t!==void 0&&E!=null&&c(t,["parameters","includeRaiReason"],E);const x=u(o,["language"]);t!==void 0&&x!=null&&c(t,["parameters","language"],x);const D=u(o,["outputMimeType"]);t!==void 0&&D!=null&&c(t,["parameters","outputOptions","mimeType"],D);const H=u(o,["outputCompressionQuality"]);t!==void 0&&H!=null&&c(t,["parameters","outputOptions","compressionQuality"],H);const U=u(o,["addWatermark"]);t!==void 0&&U!=null&&c(t,["parameters","addWatermark"],U);const P=u(o,["labels"]);t!==void 0&&P!=null&&c(t,["labels"],P);const K=u(o,["imageSize"]);t!==void 0&&K!=null&&c(t,["parameters","sampleImageSize"],K);const F=u(o,["enhancePrompt"]);return t!==void 0&&F!=null&&c(t,["parameters","enhancePrompt"],F),l}function r_(o,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Ue(o,a));const r=u(t,["prompt"]);r!=null&&c(l,["instances[0]","prompt"],r);const f=u(t,["config"]);return f!=null&&a_(f,l),l}function u_(o,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Ue(o,a));const r=u(t,["prompt"]);r!=null&&c(l,["instances[0]","prompt"],r);const f=u(t,["config"]);return f!=null&&s_(f,l),l}function c_(o){const t={},l=u(o,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(o,["predictions"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(h=>__(h))),c(t,["generatedImages"],f)}const r=u(o,["positivePromptSafetyAttributes"]);return r!=null&&c(t,["positivePromptSafetyAttributes"],gg(r)),t}function f_(o){const t={},l=u(o,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(o,["predictions"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(h=>$a(h))),c(t,["generatedImages"],f)}const r=u(o,["positivePromptSafetyAttributes"]);return r!=null&&c(t,["positivePromptSafetyAttributes"],yg(r)),t}function d_(o,t){const l={},a=u(o,["numberOfVideos"]);if(t!==void 0&&a!=null&&c(t,["parameters","sampleCount"],a),u(o,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(o,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const r=u(o,["durationSeconds"]);if(t!==void 0&&r!=null&&c(t,["parameters","durationSeconds"],r),u(o,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const f=u(o,["aspectRatio"]);t!==void 0&&f!=null&&c(t,["parameters","aspectRatio"],f);const h=u(o,["resolution"]);t!==void 0&&h!=null&&c(t,["parameters","resolution"],h);const g=u(o,["personGeneration"]);if(t!==void 0&&g!=null&&c(t,["parameters","personGeneration"],g),u(o,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const y=u(o,["negativePrompt"]);t!==void 0&&y!=null&&c(t,["parameters","negativePrompt"],y);const m=u(o,["enhancePrompt"]);if(t!==void 0&&m!=null&&c(t,["parameters","enhancePrompt"],m),u(o,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const v=u(o,["lastFrame"]);t!==void 0&&v!=null&&c(t,["instances[0]","lastFrame"],ja(v));const T=u(o,["referenceImages"]);if(t!==void 0&&T!=null){let E=T;Array.isArray(E)&&(E=E.map(x=>pC(x))),c(t,["instances[0]","referenceImages"],E)}if(u(o,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(u(o,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return l}function h_(o,t){const l={},a=u(o,["numberOfVideos"]);t!==void 0&&a!=null&&c(t,["parameters","sampleCount"],a);const r=u(o,["outputGcsUri"]);t!==void 0&&r!=null&&c(t,["parameters","storageUri"],r);const f=u(o,["fps"]);t!==void 0&&f!=null&&c(t,["parameters","fps"],f);const h=u(o,["durationSeconds"]);t!==void 0&&h!=null&&c(t,["parameters","durationSeconds"],h);const g=u(o,["seed"]);t!==void 0&&g!=null&&c(t,["parameters","seed"],g);const y=u(o,["aspectRatio"]);t!==void 0&&y!=null&&c(t,["parameters","aspectRatio"],y);const m=u(o,["resolution"]);t!==void 0&&m!=null&&c(t,["parameters","resolution"],m);const v=u(o,["personGeneration"]);t!==void 0&&v!=null&&c(t,["parameters","personGeneration"],v);const T=u(o,["pubsubTopic"]);t!==void 0&&T!=null&&c(t,["parameters","pubsubTopic"],T);const E=u(o,["negativePrompt"]);t!==void 0&&E!=null&&c(t,["parameters","negativePrompt"],E);const x=u(o,["enhancePrompt"]);t!==void 0&&x!=null&&c(t,["parameters","enhancePrompt"],x);const D=u(o,["generateAudio"]);t!==void 0&&D!=null&&c(t,["parameters","generateAudio"],D);const H=u(o,["lastFrame"]);t!==void 0&&H!=null&&c(t,["instances[0]","lastFrame"],$t(H));const U=u(o,["referenceImages"]);if(t!==void 0&&U!=null){let F=U;Array.isArray(F)&&(F=F.map(Q=>mC(Q))),c(t,["instances[0]","referenceImages"],F)}const P=u(o,["mask"]);t!==void 0&&P!=null&&c(t,["instances[0]","mask"],hC(P));const K=u(o,["compressionQuality"]);return t!==void 0&&K!=null&&c(t,["parameters","compressionQuality"],K),l}function p_(o){const t={},l=u(o,["name"]);l!=null&&c(t,["name"],l);const a=u(o,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(o,["done"]);r!=null&&c(t,["done"],r);const f=u(o,["error"]);f!=null&&c(t,["error"],f);const h=u(o,["response","generateVideoResponse"]);return h!=null&&c(t,["response"],v_(h)),t}function m_(o){const t={},l=u(o,["name"]);l!=null&&c(t,["name"],l);const a=u(o,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(o,["done"]);r!=null&&c(t,["done"],r);const f=u(o,["error"]);f!=null&&c(t,["error"],f);const h=u(o,["response"]);return h!=null&&c(t,["response"],S_(h)),t}function g_(o,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Ue(o,a));const r=u(t,["prompt"]);r!=null&&c(l,["instances[0]","prompt"],r);const f=u(t,["image"]);f!=null&&c(l,["instances[0]","image"],ja(f));const h=u(t,["video"]);h!=null&&c(l,["instances[0]","video"],Sg(h));const g=u(t,["source"]);g!=null&&T_(g,l);const y=u(t,["config"]);return y!=null&&d_(y,l),l}function y_(o,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Ue(o,a));const r=u(t,["prompt"]);r!=null&&c(l,["instances[0]","prompt"],r);const f=u(t,["image"]);f!=null&&c(l,["instances[0]","image"],$t(f));const h=u(t,["video"]);h!=null&&c(l,["instances[0]","video"],Tg(h));const g=u(t,["source"]);g!=null&&E_(g,l);const y=u(t,["config"]);return y!=null&&h_(y,l),l}function v_(o){const t={},l=u(o,["generatedSamples"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(h=>x_(h))),c(t,["generatedVideos"],f)}const a=u(o,["raiMediaFilteredCount"]);a!=null&&c(t,["raiMediaFilteredCount"],a);const r=u(o,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function S_(o){const t={},l=u(o,["videos"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(h=>A_(h))),c(t,["generatedVideos"],f)}const a=u(o,["raiMediaFilteredCount"]);a!=null&&c(t,["raiMediaFilteredCount"],a);const r=u(o,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function T_(o,t){const l={},a=u(o,["prompt"]);t!==void 0&&a!=null&&c(t,["instances[0]","prompt"],a);const r=u(o,["image"]);t!==void 0&&r!=null&&c(t,["instances[0]","image"],ja(r));const f=u(o,["video"]);return t!==void 0&&f!=null&&c(t,["instances[0]","video"],Sg(f)),l}function E_(o,t){const l={},a=u(o,["prompt"]);t!==void 0&&a!=null&&c(t,["instances[0]","prompt"],a);const r=u(o,["image"]);t!==void 0&&r!=null&&c(t,["instances[0]","image"],$t(r));const f=u(o,["video"]);return t!==void 0&&f!=null&&c(t,["instances[0]","video"],Tg(f)),l}function __(o){const t={},l=u(o,["_self"]);l!=null&&c(t,["image"],U_(l));const a=u(o,["raiFilteredReason"]);a!=null&&c(t,["raiFilteredReason"],a);const r=u(o,["_self"]);return r!=null&&c(t,["safetyAttributes"],gg(r)),t}function $a(o){const t={},l=u(o,["_self"]);l!=null&&c(t,["image"],mg(l));const a=u(o,["raiFilteredReason"]);a!=null&&c(t,["raiFilteredReason"],a);const r=u(o,["_self"]);r!=null&&c(t,["safetyAttributes"],yg(r));const f=u(o,["prompt"]);return f!=null&&c(t,["enhancedPrompt"],f),t}function C_(o){const t={},l=u(o,["_self"]);l!=null&&c(t,["mask"],mg(l));const a=u(o,["labels"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(f=>f)),c(t,["labels"],r)}return t}function x_(o){const t={},l=u(o,["video"]);return l!=null&&c(t,["video"],fC(l)),t}function A_(o){const t={},l=u(o,["_self"]);return l!=null&&c(t,["video"],dC(l)),t}function b_(o){const t={},l=u(o,["modelSelectionConfig"]);l!=null&&c(t,["modelConfig"],l);const a=u(o,["responseJsonSchema"]);a!=null&&c(t,["responseJsonSchema"],a);const r=u(o,["audioTimestamp"]);r!=null&&c(t,["audioTimestamp"],r);const f=u(o,["candidateCount"]);f!=null&&c(t,["candidateCount"],f);const h=u(o,["enableAffectiveDialog"]);h!=null&&c(t,["enableAffectiveDialog"],h);const g=u(o,["frequencyPenalty"]);g!=null&&c(t,["frequencyPenalty"],g);const y=u(o,["logprobs"]);y!=null&&c(t,["logprobs"],y);const m=u(o,["maxOutputTokens"]);m!=null&&c(t,["maxOutputTokens"],m);const v=u(o,["mediaResolution"]);v!=null&&c(t,["mediaResolution"],v);const T=u(o,["presencePenalty"]);T!=null&&c(t,["presencePenalty"],T);const E=u(o,["responseLogprobs"]);E!=null&&c(t,["responseLogprobs"],E);const x=u(o,["responseMimeType"]);x!=null&&c(t,["responseMimeType"],x);const D=u(o,["responseModalities"]);D!=null&&c(t,["responseModalities"],D);const H=u(o,["responseSchema"]);H!=null&&c(t,["responseSchema"],H);const U=u(o,["routingConfig"]);U!=null&&c(t,["routingConfig"],U);const P=u(o,["seed"]);P!=null&&c(t,["seed"],P);const K=u(o,["speechConfig"]);K!=null&&c(t,["speechConfig"],K);const F=u(o,["stopSequences"]);F!=null&&c(t,["stopSequences"],F);const Q=u(o,["temperature"]);Q!=null&&c(t,["temperature"],Q);const Y=u(o,["thinkingConfig"]);Y!=null&&c(t,["thinkingConfig"],Y);const ne=u(o,["topK"]);ne!=null&&c(t,["topK"],ne);const W=u(o,["topP"]);if(W!=null&&c(t,["topP"],W),u(o,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function N_(o,t){const l={},a=u(t,["model"]);return a!=null&&c(l,["_url","name"],Ue(o,a)),l}function w_(o,t){const l={},a=u(t,["model"]);return a!=null&&c(l,["_url","name"],Ue(o,a)),l}function R_(o){const t={};if(u(o,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(o,["enableWidget"]);return l!=null&&c(t,["enableWidget"],l),t}function M_(o){const t={};if(u(o,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(o,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(o,["timeRangeFilter"]);return l!=null&&c(t,["timeRangeFilter"],l),t}function I_(o){const t={},l=u(o,["aspectRatio"]);l!=null&&c(t,["aspectRatio"],l);const a=u(o,["imageSize"]);if(a!=null&&c(t,["imageSize"],a),u(o,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(u(o,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(o,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function D_(o){const t={},l=u(o,["aspectRatio"]);l!=null&&c(t,["aspectRatio"],l);const a=u(o,["imageSize"]);a!=null&&c(t,["imageSize"],a);const r=u(o,["personGeneration"]);r!=null&&c(t,["personGeneration"],r);const f=u(o,["outputMimeType"]);f!=null&&c(t,["imageOutputOptions","mimeType"],f);const h=u(o,["outputCompressionQuality"]);return h!=null&&c(t,["imageOutputOptions","compressionQuality"],h),t}function U_(o){const t={},l=u(o,["bytesBase64Encoded"]);l!=null&&c(t,["imageBytes"],eo(l));const a=u(o,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function mg(o){const t={},l=u(o,["gcsUri"]);l!=null&&c(t,["gcsUri"],l);const a=u(o,["bytesBase64Encoded"]);a!=null&&c(t,["imageBytes"],eo(a));const r=u(o,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}function ja(o){const t={};if(u(o,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const l=u(o,["imageBytes"]);l!=null&&c(t,["bytesBase64Encoded"],eo(l));const a=u(o,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function $t(o){const t={},l=u(o,["gcsUri"]);l!=null&&c(t,["gcsUri"],l);const a=u(o,["imageBytes"]);a!=null&&c(t,["bytesBase64Encoded"],eo(a));const r=u(o,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}function L_(o,t,l){const a={},r=u(t,["pageSize"]);l!==void 0&&r!=null&&c(l,["_query","pageSize"],r);const f=u(t,["pageToken"]);l!==void 0&&f!=null&&c(l,["_query","pageToken"],f);const h=u(t,["filter"]);l!==void 0&&h!=null&&c(l,["_query","filter"],h);const g=u(t,["queryBase"]);return l!==void 0&&g!=null&&c(l,["_url","models_url"],rg(o,g)),a}function k_(o,t,l){const a={},r=u(t,["pageSize"]);l!==void 0&&r!=null&&c(l,["_query","pageSize"],r);const f=u(t,["pageToken"]);l!==void 0&&f!=null&&c(l,["_query","pageToken"],f);const h=u(t,["filter"]);l!==void 0&&h!=null&&c(l,["_query","filter"],h);const g=u(t,["queryBase"]);return l!==void 0&&g!=null&&c(l,["_url","models_url"],rg(o,g)),a}function H_(o,t){const l={},a=u(t,["config"]);return a!=null&&L_(o,a,l),l}function G_(o,t){const l={},a=u(t,["config"]);return a!=null&&k_(o,a,l),l}function V_(o){const t={},l=u(o,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(o,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(o,["_self"]);if(r!=null){let f=ug(r);Array.isArray(f)&&(f=f.map(h=>Uu(h))),c(t,["models"],f)}return t}function q_(o){const t={},l=u(o,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(o,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(o,["_self"]);if(r!=null){let f=ug(r);Array.isArray(f)&&(f=f.map(h=>Lu(h))),c(t,["models"],f)}return t}function z_(o){const t={},l=u(o,["maskMode"]);l!=null&&c(t,["maskMode"],l);const a=u(o,["segmentationClasses"]);a!=null&&c(t,["maskClasses"],a);const r=u(o,["maskDilation"]);return r!=null&&c(t,["dilation"],r),t}function Uu(o){const t={},l=u(o,["name"]);l!=null&&c(t,["name"],l);const a=u(o,["displayName"]);a!=null&&c(t,["displayName"],a);const r=u(o,["description"]);r!=null&&c(t,["description"],r);const f=u(o,["version"]);f!=null&&c(t,["version"],f);const h=u(o,["_self"]);h!=null&&c(t,["tunedModelInfo"],nC(h));const g=u(o,["inputTokenLimit"]);g!=null&&c(t,["inputTokenLimit"],g);const y=u(o,["outputTokenLimit"]);y!=null&&c(t,["outputTokenLimit"],y);const m=u(o,["supportedGenerationMethods"]);m!=null&&c(t,["supportedActions"],m);const v=u(o,["temperature"]);v!=null&&c(t,["temperature"],v);const T=u(o,["maxTemperature"]);T!=null&&c(t,["maxTemperature"],T);const E=u(o,["topP"]);E!=null&&c(t,["topP"],E);const x=u(o,["topK"]);x!=null&&c(t,["topK"],x);const D=u(o,["thinking"]);return D!=null&&c(t,["thinking"],D),t}function Lu(o){const t={},l=u(o,["name"]);l!=null&&c(t,["name"],l);const a=u(o,["displayName"]);a!=null&&c(t,["displayName"],a);const r=u(o,["description"]);r!=null&&c(t,["description"],r);const f=u(o,["versionId"]);f!=null&&c(t,["version"],f);const h=u(o,["deployedModels"]);if(h!=null){let T=h;Array.isArray(T)&&(T=T.map(E=>jE(E))),c(t,["endpoints"],T)}const g=u(o,["labels"]);g!=null&&c(t,["labels"],g);const y=u(o,["_self"]);y!=null&&c(t,["tunedModelInfo"],oC(y));const m=u(o,["defaultCheckpointId"]);m!=null&&c(t,["defaultCheckpointId"],m);const v=u(o,["checkpoints"]);if(v!=null){let T=v;Array.isArray(T)&&(T=T.map(E=>E)),c(t,["checkpoints"],T)}return t}function B_(o){const t={},l=u(o,["mediaResolution"]);l!=null&&c(t,["mediaResolution"],l);const a=u(o,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(o,["executableCode"]);r!=null&&c(t,["executableCode"],r);const f=u(o,["fileData"]);f!=null&&c(t,["fileData"],e_(f));const h=u(o,["functionCall"]);h!=null&&c(t,["functionCall"],t_(h));const g=u(o,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const y=u(o,["inlineData"]);y!=null&&c(t,["inlineData"],bE(y));const m=u(o,["text"]);m!=null&&c(t,["text"],m);const v=u(o,["thought"]);v!=null&&c(t,["thought"],v);const T=u(o,["thoughtSignature"]);T!=null&&c(t,["thoughtSignature"],T);const E=u(o,["videoMetadata"]);return E!=null&&c(t,["videoMetadata"],E),t}function P_(o){const t={},l=u(o,["productImage"]);return l!=null&&c(t,["image"],$t(l)),t}function O_(o,t){const l={},a=u(o,["numberOfImages"]);t!==void 0&&a!=null&&c(t,["parameters","sampleCount"],a);const r=u(o,["baseSteps"]);t!==void 0&&r!=null&&c(t,["parameters","baseSteps"],r);const f=u(o,["outputGcsUri"]);t!==void 0&&f!=null&&c(t,["parameters","storageUri"],f);const h=u(o,["seed"]);t!==void 0&&h!=null&&c(t,["parameters","seed"],h);const g=u(o,["safetyFilterLevel"]);t!==void 0&&g!=null&&c(t,["parameters","safetySetting"],g);const y=u(o,["personGeneration"]);t!==void 0&&y!=null&&c(t,["parameters","personGeneration"],y);const m=u(o,["addWatermark"]);t!==void 0&&m!=null&&c(t,["parameters","addWatermark"],m);const v=u(o,["outputMimeType"]);t!==void 0&&v!=null&&c(t,["parameters","outputOptions","mimeType"],v);const T=u(o,["outputCompressionQuality"]);t!==void 0&&T!=null&&c(t,["parameters","outputOptions","compressionQuality"],T);const E=u(o,["enhancePrompt"]);t!==void 0&&E!=null&&c(t,["parameters","enhancePrompt"],E);const x=u(o,["labels"]);return t!==void 0&&x!=null&&c(t,["labels"],x),l}function F_(o,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Ue(o,a));const r=u(t,["source"]);r!=null&&Y_(r,l);const f=u(t,["config"]);return f!=null&&O_(f,l),l}function J_(o){const t={},l=u(o,["predictions"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(r=>$a(r))),c(t,["generatedImages"],a)}return t}function Y_(o,t){const l={},a=u(o,["prompt"]);t!==void 0&&a!=null&&c(t,["instances[0]","prompt"],a);const r=u(o,["personImage"]);t!==void 0&&r!=null&&c(t,["instances[0]","personImage","image"],$t(r));const f=u(o,["productImages"]);if(t!==void 0&&f!=null){let h=f;Array.isArray(h)&&(h=h.map(g=>P_(g))),c(t,["instances[0]","productImages"],h)}return l}function W_(o){const t={},l=u(o,["referenceImage"]);l!=null&&c(t,["referenceImage"],$t(l));const a=u(o,["referenceId"]);a!=null&&c(t,["referenceId"],a);const r=u(o,["referenceType"]);r!=null&&c(t,["referenceType"],r);const f=u(o,["maskImageConfig"]);f!=null&&c(t,["maskImageConfig"],z_(f));const h=u(o,["controlImageConfig"]);h!=null&&c(t,["controlImageConfig"],UE(h));const g=u(o,["styleImageConfig"]);g!=null&&c(t,["styleImageConfig"],g);const y=u(o,["subjectImageConfig"]);return y!=null&&c(t,["subjectImageConfig"],y),t}function gg(o){const t={},l=u(o,["safetyAttributes","categories"]);l!=null&&c(t,["categories"],l);const a=u(o,["safetyAttributes","scores"]);a!=null&&c(t,["scores"],a);const r=u(o,["contentType"]);return r!=null&&c(t,["contentType"],r),t}function yg(o){const t={},l=u(o,["safetyAttributes","categories"]);l!=null&&c(t,["categories"],l);const a=u(o,["safetyAttributes","scores"]);a!=null&&c(t,["scores"],a);const r=u(o,["contentType"]);return r!=null&&c(t,["contentType"],r),t}function K_(o){const t={},l=u(o,["category"]);if(l!=null&&c(t,["category"],l),u(o,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const a=u(o,["threshold"]);return a!=null&&c(t,["threshold"],a),t}function X_(o){const t={},l=u(o,["image"]);return l!=null&&c(t,["image"],$t(l)),t}function Q_(o,t){const l={},a=u(o,["mode"]);t!==void 0&&a!=null&&c(t,["parameters","mode"],a);const r=u(o,["maxPredictions"]);t!==void 0&&r!=null&&c(t,["parameters","maxPredictions"],r);const f=u(o,["confidenceThreshold"]);t!==void 0&&f!=null&&c(t,["parameters","confidenceThreshold"],f);const h=u(o,["maskDilation"]);t!==void 0&&h!=null&&c(t,["parameters","maskDilation"],h);const g=u(o,["binaryColorThreshold"]);t!==void 0&&g!=null&&c(t,["parameters","binaryColorThreshold"],g);const y=u(o,["labels"]);return t!==void 0&&y!=null&&c(t,["labels"],y),l}function Z_(o,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Ue(o,a));const r=u(t,["source"]);r!=null&&j_(r,l);const f=u(t,["config"]);return f!=null&&Q_(f,l),l}function $_(o){const t={},l=u(o,["predictions"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(r=>C_(r))),c(t,["generatedMasks"],a)}return t}function j_(o,t){const l={},a=u(o,["prompt"]);t!==void 0&&a!=null&&c(t,["instances[0]","prompt"],a);const r=u(o,["image"]);t!==void 0&&r!=null&&c(t,["instances[0]","image"],$t(r));const f=u(o,["scribbleImage"]);return t!==void 0&&f!=null&&c(t,["instances[0]","scribble"],X_(f)),l}function eC(o){const t={},l=u(o,["retrievalConfig"]);l!=null&&c(t,["retrievalConfig"],l);const a=u(o,["functionCallingConfig"]);return a!=null&&c(t,["functionCallingConfig"],n_(a)),t}function tC(o){const t={};if(u(o,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=u(o,["computerUse"]);l!=null&&c(t,["computerUse"],l);const a=u(o,["fileSearch"]);a!=null&&c(t,["fileSearch"],a);const r=u(o,["codeExecution"]);if(r!=null&&c(t,["codeExecution"],r),u(o,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=u(o,["functionDeclarations"]);if(f!=null){let v=f;Array.isArray(v)&&(v=v.map(T=>T)),c(t,["functionDeclarations"],v)}const h=u(o,["googleMaps"]);h!=null&&c(t,["googleMaps"],R_(h));const g=u(o,["googleSearch"]);g!=null&&c(t,["googleSearch"],M_(g));const y=u(o,["googleSearchRetrieval"]);y!=null&&c(t,["googleSearchRetrieval"],y);const m=u(o,["urlContext"]);return m!=null&&c(t,["urlContext"],m),t}function vg(o){const t={},l=u(o,["retrieval"]);l!=null&&c(t,["retrieval"],l);const a=u(o,["computerUse"]);if(a!=null&&c(t,["computerUse"],a),u(o,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=u(o,["codeExecution"]);r!=null&&c(t,["codeExecution"],r);const f=u(o,["enterpriseWebSearch"]);f!=null&&c(t,["enterpriseWebSearch"],f);const h=u(o,["functionDeclarations"]);if(h!=null){let T=h;Array.isArray(T)&&(T=T.map(E=>o_(E))),c(t,["functionDeclarations"],T)}const g=u(o,["googleMaps"]);g!=null&&c(t,["googleMaps"],g);const y=u(o,["googleSearch"]);y!=null&&c(t,["googleSearch"],y);const m=u(o,["googleSearchRetrieval"]);m!=null&&c(t,["googleSearchRetrieval"],m);const v=u(o,["urlContext"]);return v!=null&&c(t,["urlContext"],v),t}function nC(o){const t={},l=u(o,["baseModel"]);l!=null&&c(t,["baseModel"],l);const a=u(o,["createTime"]);a!=null&&c(t,["createTime"],a);const r=u(o,["updateTime"]);return r!=null&&c(t,["updateTime"],r),t}function oC(o){const t={},l=u(o,["labels","google-vertex-llm-tuning-base-model-id"]);l!=null&&c(t,["baseModel"],l);const a=u(o,["createTime"]);a!=null&&c(t,["createTime"],a);const r=u(o,["updateTime"]);return r!=null&&c(t,["updateTime"],r),t}function iC(o,t){const l={},a=u(o,["displayName"]);t!==void 0&&a!=null&&c(t,["displayName"],a);const r=u(o,["description"]);t!==void 0&&r!=null&&c(t,["description"],r);const f=u(o,["defaultCheckpointId"]);return t!==void 0&&f!=null&&c(t,["defaultCheckpointId"],f),l}function lC(o,t){const l={},a=u(o,["displayName"]);t!==void 0&&a!=null&&c(t,["displayName"],a);const r=u(o,["description"]);t!==void 0&&r!=null&&c(t,["description"],r);const f=u(o,["defaultCheckpointId"]);return t!==void 0&&f!=null&&c(t,["defaultCheckpointId"],f),l}function aC(o,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","name"],Ue(o,a));const r=u(t,["config"]);return r!=null&&iC(r,l),l}function sC(o,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Ue(o,a));const r=u(t,["config"]);return r!=null&&lC(r,l),l}function rC(o,t){const l={},a=u(o,["outputGcsUri"]);t!==void 0&&a!=null&&c(t,["parameters","storageUri"],a);const r=u(o,["safetyFilterLevel"]);t!==void 0&&r!=null&&c(t,["parameters","safetySetting"],r);const f=u(o,["personGeneration"]);t!==void 0&&f!=null&&c(t,["parameters","personGeneration"],f);const h=u(o,["includeRaiReason"]);t!==void 0&&h!=null&&c(t,["parameters","includeRaiReason"],h);const g=u(o,["outputMimeType"]);t!==void 0&&g!=null&&c(t,["parameters","outputOptions","mimeType"],g);const y=u(o,["outputCompressionQuality"]);t!==void 0&&y!=null&&c(t,["parameters","outputOptions","compressionQuality"],y);const m=u(o,["enhanceInputImage"]);t!==void 0&&m!=null&&c(t,["parameters","upscaleConfig","enhanceInputImage"],m);const v=u(o,["imagePreservationFactor"]);t!==void 0&&v!=null&&c(t,["parameters","upscaleConfig","imagePreservationFactor"],v);const T=u(o,["labels"]);t!==void 0&&T!=null&&c(t,["labels"],T);const E=u(o,["numberOfImages"]);t!==void 0&&E!=null&&c(t,["parameters","sampleCount"],E);const x=u(o,["mode"]);return t!==void 0&&x!=null&&c(t,["parameters","mode"],x),l}function uC(o,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Ue(o,a));const r=u(t,["image"]);r!=null&&c(l,["instances[0]","image"],$t(r));const f=u(t,["upscaleFactor"]);f!=null&&c(l,["parameters","upscaleConfig","upscaleFactor"],f);const h=u(t,["config"]);return h!=null&&rC(h,l),l}function cC(o){const t={},l=u(o,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(o,["predictions"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(f=>$a(f))),c(t,["generatedImages"],r)}return t}function fC(o){const t={},l=u(o,["uri"]);l!=null&&c(t,["uri"],l);const a=u(o,["encodedVideo"]);a!=null&&c(t,["videoBytes"],eo(a));const r=u(o,["encoding"]);return r!=null&&c(t,["mimeType"],r),t}function dC(o){const t={},l=u(o,["gcsUri"]);l!=null&&c(t,["uri"],l);const a=u(o,["bytesBase64Encoded"]);a!=null&&c(t,["videoBytes"],eo(a));const r=u(o,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}function hC(o){const t={},l=u(o,["image"]);l!=null&&c(t,["_self"],$t(l));const a=u(o,["maskMode"]);return a!=null&&c(t,["maskMode"],a),t}function pC(o){const t={},l=u(o,["image"]);l!=null&&c(t,["image"],ja(l));const a=u(o,["referenceType"]);return a!=null&&c(t,["referenceType"],a),t}function mC(o){const t={},l=u(o,["image"]);l!=null&&c(t,["image"],$t(l));const a=u(o,["referenceType"]);return a!=null&&c(t,["referenceType"],a),t}function Sg(o){const t={},l=u(o,["uri"]);l!=null&&c(t,["uri"],l);const a=u(o,["videoBytes"]);a!=null&&c(t,["encodedVideo"],eo(a));const r=u(o,["mimeType"]);return r!=null&&c(t,["encoding"],r),t}function Tg(o){const t={},l=u(o,["uri"]);l!=null&&c(t,["gcsUri"],l);const a=u(o,["videoBytes"]);a!=null&&c(t,["bytesBase64Encoded"],eo(a));const r=u(o,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function gC(o,t){const l={},a=u(o,["displayName"]);return t!==void 0&&a!=null&&c(t,["displayName"],a),l}function yC(o){const t={},l=u(o,["config"]);return l!=null&&gC(l,t),t}function vC(o,t){const l={},a=u(o,["force"]);return t!==void 0&&a!=null&&c(t,["_query","force"],a),l}function SC(o){const t={},l=u(o,["name"]);l!=null&&c(t,["_url","name"],l);const a=u(o,["config"]);return a!=null&&vC(a,t),t}function TC(o){const t={},l=u(o,["name"]);return l!=null&&c(t,["_url","name"],l),t}function EC(o,t){const l={},a=u(o,["customMetadata"]);if(t!==void 0&&a!=null){let f=a;Array.isArray(f)&&(f=f.map(h=>h)),c(t,["customMetadata"],f)}const r=u(o,["chunkingConfig"]);return t!==void 0&&r!=null&&c(t,["chunkingConfig"],r),l}function _C(o){const t={},l=u(o,["name"]);l!=null&&c(t,["name"],l);const a=u(o,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(o,["done"]);r!=null&&c(t,["done"],r);const f=u(o,["error"]);f!=null&&c(t,["error"],f);const h=u(o,["response"]);return h!=null&&c(t,["response"],xC(h)),t}function CC(o){const t={},l=u(o,["fileSearchStoreName"]);l!=null&&c(t,["_url","file_search_store_name"],l);const a=u(o,["fileName"]);a!=null&&c(t,["fileName"],a);const r=u(o,["config"]);return r!=null&&EC(r,t),t}function xC(o){const t={},l=u(o,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(o,["parent"]);a!=null&&c(t,["parent"],a);const r=u(o,["documentName"]);return r!=null&&c(t,["documentName"],r),t}function AC(o,t){const l={},a=u(o,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(o,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),l}function bC(o){const t={},l=u(o,["config"]);return l!=null&&AC(l,t),t}function NC(o){const t={},l=u(o,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(o,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(o,["fileSearchStores"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(h=>h)),c(t,["fileSearchStores"],f)}return t}function Eg(o,t){const l={},a=u(o,["mimeType"]);t!==void 0&&a!=null&&c(t,["mimeType"],a);const r=u(o,["displayName"]);t!==void 0&&r!=null&&c(t,["displayName"],r);const f=u(o,["customMetadata"]);if(t!==void 0&&f!=null){let g=f;Array.isArray(g)&&(g=g.map(y=>y)),c(t,["customMetadata"],g)}const h=u(o,["chunkingConfig"]);return t!==void 0&&h!=null&&c(t,["chunkingConfig"],h),l}function wC(o){const t={},l=u(o,["fileSearchStoreName"]);l!=null&&c(t,["_url","file_search_store_name"],l);const a=u(o,["config"]);return a!=null&&Eg(a,t),t}function RC(o){const t={},l=u(o,["sdkHttpResponse"]);return l!=null&&c(t,["sdkHttpResponse"],l),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const MC="Content-Type",IC="X-Server-Timeout",DC="User-Agent",ku="x-goog-api-client",UC="1.36.0",LC=`google-genai-sdk/${UC}`,kC="v1beta1",HC="v1beta";class GC{constructor(t){var l,a;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=(l=this.clientOptions.apiVersion)!==null&&l!==void 0?l:kC,r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=(a=this.clientOptions.apiVersion)!==null&&a!==void 0?a:HC,r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,t.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const t=new Headers;return await this.clientOptions.auth.addAuthHeaders(t),t}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const a=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&a.push(t.apiVersion),a.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),l=new URL(t);return l.protocol=l.protocol=="http:"?"ws":"wss",l.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,l,a){const r=[this.getRequestUrlInternal(l)];return a&&r.push(this.getBaseResourcePath()),t!==""&&r.push(t),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(t){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let l=this.clientOptions.httpOptions;t.httpOptions&&(l=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const a=this.shouldPrependVertexProjectPath(t),r=this.constructUrl(t.path,l,a);if(t.queryParams)for(const[h,g]of Object.entries(t.queryParams))r.searchParams.append(h,String(g));let f={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else f.body=t.body;return f=await this.includeExtraHttpOptionsToRequestInit(f,l,r.toString(),t.abortSignal),this.unaryApiCall(r,f,t.httpMethod)}patchHttpOptions(t,l){const a=JSON.parse(JSON.stringify(t));for(const[r,f]of Object.entries(l))typeof f=="object"?a[r]=Object.assign(Object.assign({},a[r]),f):f!==void 0&&(a[r]=f);return a}async requestStream(t){let l=this.clientOptions.httpOptions;t.httpOptions&&(l=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const a=this.shouldPrependVertexProjectPath(t),r=this.constructUrl(t.path,l,a);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let f={};return f.body=t.body,f=await this.includeExtraHttpOptionsToRequestInit(f,l,r.toString(),t.abortSignal),this.streamApiCall(r,f,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,l,a,r){if(l&&l.timeout||r){const f=new AbortController,h=f.signal;if(l.timeout&&(l==null?void 0:l.timeout)>0){const g=setTimeout(()=>f.abort(),l.timeout);g&&typeof g.unref=="function"&&g.unref()}r&&r.addEventListener("abort",()=>{f.abort()}),t.signal=h}return l&&l.extraBody!==null&&VC(t,l.extraBody),t.headers=await this.getHeadersInternal(l,a),t}async unaryApiCall(t,l,a){return this.apiCall(t.toString(),Object.assign(Object.assign({},l),{method:a})).then(async r=>(await Im(r),new Mu(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(t,l,a){return this.apiCall(t.toString(),Object.assign(Object.assign({},l),{method:a})).then(async r=>(await Im(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(t){return Qt(this,arguments,function*(){var a;const r=(a=t==null?void 0:t.body)===null||a===void 0?void 0:a.getReader(),f=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let h="";const g="data:",y=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:m,value:v}=yield fe(r.read());if(m){if(h.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const T=f.decode(v,{stream:!0});try{const D=JSON.parse(T);if("error"in D){const H=JSON.parse(JSON.stringify(D.error)),U=H.status,P=H.code,K=`got status: ${U}. ${JSON.stringify(D)}`;if(P>=400&&P<600)throw new Qa({message:K,status:P})}}catch(D){if(D.name==="ApiError")throw D}h+=T;let E=-1,x=0;for(;;){E=-1,x=0;for(const U of y){const P=h.indexOf(U);P!==-1&&(E===-1||P<E)&&(E=P,x=U.length)}if(E===-1)break;const D=h.substring(0,E);h=h.substring(E+x);const H=D.trim();if(H.startsWith(g)){const U=H.substring(g.length).trim();try{const P=new Response(U,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield fe(new Mu(P))}catch(P){throw new Error(`exception parsing stream chunk ${U}. ${P}`)}}}}}finally{r.releaseLock()}})}async apiCall(t,l){return fetch(t,l).catch(a=>{throw new Error(`exception ${a} sending request`)})}getDefaultHeaders(){const t={},l=LC+" "+this.clientOptions.userAgentExtra;return t[DC]=l,t[ku]=l,t[MC]="application/json",t}async getHeadersInternal(t,l){const a=new Headers;if(t&&t.headers){for(const[r,f]of Object.entries(t.headers))a.append(r,f);t.timeout&&t.timeout>0&&a.append(IC,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(a,l),a}getFileName(t){var l;let a="";return typeof t=="string"&&(a=t.replace(/[/\\]+$/,""),a=(l=a.split(/[/\\]/).pop())!==null&&l!==void 0?l:""),a}async uploadFile(t,l){var a;const r={};l!=null&&(r.mimeType=l.mimeType,r.name=l.name,r.displayName=l.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const f=this.clientOptions.uploader,h=await f.stat(t);r.sizeBytes=String(h.size);const g=(a=l==null?void 0:l.mimeType)!==null&&a!==void 0?a:h.type;if(g===void 0||g==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=g;const y={file:r},m=this.getFileName(t),v=Z("upload/v1beta/files",y._url),T=await this.fetchUploadUrl(v,r.sizeBytes,r.mimeType,m,y,l==null?void 0:l.httpOptions);return f.upload(t,T,this)}async uploadFileToFileSearchStore(t,l,a){var r;const f=this.clientOptions.uploader,h=await f.stat(l),g=String(h.size),y=(r=a==null?void 0:a.mimeType)!==null&&r!==void 0?r:h.type;if(y===void 0||y==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const m=`upload/v1beta/${t}:uploadToFileSearchStore`,v=this.getFileName(l),T={};a!=null&&Eg(a,T);const E=await this.fetchUploadUrl(m,g,y,v,T,a==null?void 0:a.httpOptions);return f.uploadToFileSearchStore(l,E,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,l,a,r,f,h){var g;let y={};h?y=h:y={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${l}`,"X-Goog-Upload-Header-Content-Type":`${a}`},r?{"X-Goog-Upload-File-Name":r}:{})};const m=await this.request({path:t,body:JSON.stringify(f),httpMethod:"POST",httpOptions:y});if(!m||!(m!=null&&m.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const v=(g=m==null?void 0:m.headers)===null||g===void 0?void 0:g["x-goog-upload-url"];if(v===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return v}}async function Im(o){var t;if(o===void 0)throw new Error("response is undefined");if(!o.ok){const l=o.status;let a;!((t=o.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?a=await o.json():a={error:{message:await o.text(),code:o.status,status:o.statusText}};const r=JSON.stringify(a);throw l>=400&&l<600?new Qa({message:r,status:l}):new Error(r)}}function VC(o,t){if(!t||Object.keys(t).length===0)return;if(o.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let l={};if(typeof o.body=="string"&&o.body.length>0)try{const f=JSON.parse(o.body);if(typeof f=="object"&&f!==null&&!Array.isArray(f))l=f;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function a(f,h){const g=Object.assign({},f);for(const y in h)if(Object.prototype.hasOwnProperty.call(h,y)){const m=h[y],v=g[y];m&&typeof m=="object"&&!Array.isArray(m)&&v&&typeof v=="object"&&!Array.isArray(v)?g[y]=a(v,m):(v&&m&&typeof v!=typeof m&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${y}". Original type: ${typeof v}, New type: ${typeof m}. Overwriting.`),g[y]=m)}return g}const r=a(l,t);o.body=JSON.stringify(r)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const qC="mcp_used/unknown";let zC=!1;function _g(o){for(const t of o)if(BC(t)||typeof t=="object"&&"inputSchema"in t)return!0;return zC}function Cg(o){var t;const l=(t=o[ku])!==null&&t!==void 0?t:"";o[ku]=(l+` ${qC}`).trimStart()}function BC(o){return o!==null&&typeof o=="object"&&o instanceof Qu}function PC(o){return Qt(this,arguments,function*(l,a=100){let r,f=0;for(;f<a;){const h=yield fe(l.listTools({cursor:r}));for(const g of h.tools)yield yield fe(g),f++;if(!h.nextCursor)break;r=h.nextCursor}})}class Qu{constructor(t=[],l){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=l}static create(t,l){return new Qu(t,l)}async initialize(){var t,l,a,r;if(this.mcpTools.length>0)return;const f={},h=[];for(const v of this.mcpClients)try{for(var g=!0,y=(l=void 0,Zt(PC(v))),m;m=await y.next(),t=m.done,!t;g=!0){r=m.value,g=!1;const T=r;h.push(T);const E=T.name;if(f[E])throw new Error(`Duplicate function name ${E} found in MCP tools. Please ensure function names are unique.`);f[E]=v}}catch(T){l={error:T}}finally{try{!g&&!t&&(a=y.return)&&await a.call(y)}finally{if(l)throw l.error}}this.mcpTools=h,this.functionNameToMcpClient=f}async tool(){return await this.initialize(),SS(this.mcpTools,this.config)}async callTool(t){await this.initialize();const l=[];for(const a of t)if(a.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[a.name];let f;this.config.timeout&&(f={timeout:this.config.timeout});const h=await r.callTool({name:a.name,arguments:a.args},void 0,f);l.push({functionResponse:{name:a.name,response:h.isError?{error:h}:h}})}return l}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function OC(o,t,l){const a=new fS;let r;l.data instanceof Blob?r=JSON.parse(await l.data.text()):r=JSON.parse(l.data),Object.assign(a,r),t(a)}class FC{constructor(t,l,a){this.apiClient=t,this.auth=l,this.webSocketFactory=a}async connect(t){var l,a;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion(),h=WC(this.apiClient.getDefaultHeaders()),g=this.apiClient.getApiKey(),y=`${r}/ws/google.ai.generativelanguage.${f}.GenerativeService.BidiGenerateMusic?key=${g}`;let m=()=>{};const v=new Promise(F=>{m=F}),T=t.callbacks,E=function(){m({})},x=this.apiClient,D={onopen:E,onmessage:F=>{OC(x,T.onmessage,F)},onerror:(l=T==null?void 0:T.onerror)!==null&&l!==void 0?l:function(F){},onclose:(a=T==null?void 0:T.onclose)!==null&&a!==void 0?a:function(F){}},H=this.webSocketFactory.create(y,YC(h),D);H.connect(),await v;const K={setup:{model:Ue(this.apiClient,t.model)}};return H.send(JSON.stringify(K)),new JC(H,this.apiClient)}}class JC{constructor(t,l){this.conn=t,this.apiClient=l}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const l=gE(t);this.conn.send(JSON.stringify({clientContent:l}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const l=mE(t);this.conn.send(JSON.stringify(l))}sendPlaybackControl(t){const l={playbackControl:t};this.conn.send(JSON.stringify(l))}play(){this.sendPlaybackControl(ri.PLAY)}pause(){this.sendPlaybackControl(ri.PAUSE)}stop(){this.sendPlaybackControl(ri.STOP)}resetContext(){this.sendPlaybackControl(ri.RESET_CONTEXT)}close(){this.conn.close()}}function YC(o){const t={};return o.forEach((l,a)=>{t[a]=l}),t}function WC(o){const t=new Headers;for(const[l,a]of Object.entries(o))t.append(l,a);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const KC="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function XC(o,t,l){const a=new cS;let r;l.data instanceof Blob?r=await l.data.text():l.data instanceof ArrayBuffer?r=new TextDecoder().decode(l.data):r=l.data;const f=JSON.parse(r);if(o.isVertexAI()){const h=SE(f);Object.assign(a,h)}else Object.assign(a,f);t(a)}class QC{constructor(t,l,a){this.apiClient=t,this.auth=l,this.webSocketFactory=a,this.music=new FC(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var l,a,r,f,h,g;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const y=this.apiClient.getWebsocketBaseUrl(),m=this.apiClient.getApiVersion();let v;const T=this.apiClient.getHeaders();t.config&&t.config.tools&&_g(t.config.tools)&&Cg(T);const E=ex(T);if(this.apiClient.isVertexAI())v=`${y}/ws/google.cloud.aiplatform.${m}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(E,v);else{const j=this.apiClient.getApiKey();let de="BidiGenerateContent",ve="key";j!=null&&j.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),m!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),de="BidiGenerateContentConstrained",ve="access_token"),v=`${y}/ws/google.ai.generativelanguage.${m}.GenerativeService.${de}?${ve}=${j}`}let x=()=>{};const D=new Promise(j=>{x=j}),H=t.callbacks,U=function(){var j;(j=H==null?void 0:H.onopen)===null||j===void 0||j.call(H),x({})},P=this.apiClient,K={onopen:U,onmessage:j=>{XC(P,H.onmessage,j)},onerror:(l=H==null?void 0:H.onerror)!==null&&l!==void 0?l:function(j){},onclose:(a=H==null?void 0:H.onclose)!==null&&a!==void 0?a:function(j){}},F=this.webSocketFactory.create(v,jC(E),K);F.connect(),await D;let Q=Ue(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&Q.startsWith("publishers/")){const j=this.apiClient.getProject(),de=this.apiClient.getLocation();Q=`projects/${j}/locations/${de}/`+Q}let Y={};this.apiClient.isVertexAI()&&((r=t.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[Fa.AUDIO]}:t.config.responseModalities=[Fa.AUDIO]),!((f=t.config)===null||f===void 0)&&f.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const ne=(g=(h=t.config)===null||h===void 0?void 0:h.tools)!==null&&g!==void 0?g:[],W=[];for(const j of ne)if(this.isCallableTool(j)){const de=j;W.push(await de.tool())}else W.push(j);W.length>0&&(t.config.tools=W);const ye={model:Q,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?Y=pE(this.apiClient,ye):Y=hE(this.apiClient,ye),delete Y.config,F.send(JSON.stringify(Y)),new $C(F,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const ZC={turnComplete:!0};class $C{constructor(t,l){this.conn=t,this.apiClient=l}tLiveClientContent(t,l){if(l.turns!==null&&l.turns!==void 0){let a=[];try{a=Jt(l.turns),t.isVertexAI()||(a=a.map(r=>Za(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof l.turns}'`)}return{clientContent:{turns:a,turnComplete:l.turnComplete}}}return{clientContent:{turnComplete:l.turnComplete}}}tLiveClienttToolResponse(t,l){let a=[];if(l.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(l.functionResponses)?a=l.functionResponses:a=[l.functionResponses],a.length===0)throw new Error("functionResponses is required.");for(const f of a){if(typeof f!="object"||f===null||!("name"in f)||!("response"in f))throw new Error(`Could not parse function response, type '${typeof f}'.`);if(!t.isVertexAI()&&!("id"in f))throw new Error(KC)}return{toolResponse:{functionResponses:a}}}sendClientContent(t){t=Object.assign(Object.assign({},ZC),t);const l=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(l))}sendRealtimeInput(t){let l={};this.apiClient.isVertexAI()?l={realtimeInput:vE(t)}:l={realtimeInput:yE(t)},this.conn.send(JSON.stringify(l))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const l=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(l))}close(){this.conn.close()}}function jC(o){const t={};return o.forEach((l,a)=>{t[a]=l}),t}function ex(o){const t=new Headers;for(const[l,a]of Object.entries(o))t.append(l,a);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Dm=10;function Um(o){var t,l,a;if(!((t=o==null?void 0:o.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let r=!1;for(const h of(l=o==null?void 0:o.tools)!==null&&l!==void 0?l:[])if(fi(h)){r=!0;break}if(!r)return!0;const f=(a=o==null?void 0:o.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls;return f&&(f<0||!Number.isInteger(f))||f==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",f),!0):!1}function fi(o){return"callTool"in o&&typeof o.callTool=="function"}function tx(o){var t,l,a;return(a=(l=(t=o.config)===null||t===void 0?void 0:t.tools)===null||l===void 0?void 0:l.some(r=>fi(r)))!==null&&a!==void 0?a:!1}function Lm(o){var t;const l=[];return!((t=o==null?void 0:o.config)===null||t===void 0)&&t.tools&&o.config.tools.forEach((a,r)=>{if(fi(a))return;const f=a;f.functionDeclarations&&f.functionDeclarations.length>0&&l.push(r)}),l}function km(o){var t;return!(!((t=o==null?void 0:o.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class nx extends An{constructor(t){super(),this.apiClient=t,this.generateContent=async l=>{var a,r,f,h,g;const y=await this.processParamsMaybeAddMcpUsage(l);if(this.maybeMoveToResponseJsonSchem(l),!tx(l)||Um(l.config))return await this.generateContentInternal(y);const m=Lm(l);if(m.length>0){const H=m.map(U=>`tools[${U}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${H}.`)}let v,T;const E=Jt(y.contents),x=(f=(r=(a=y.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&f!==void 0?f:Dm;let D=0;for(;D<x&&(v=await this.generateContentInternal(y),!(!v.functionCalls||v.functionCalls.length===0));){const H=v.candidates[0].content,U=[];for(const P of(g=(h=l.config)===null||h===void 0?void 0:h.tools)!==null&&g!==void 0?g:[])if(fi(P)){const F=await P.callTool(v.functionCalls);U.push(...F)}D++,T={role:"user",parts:U},y.contents=Jt(y.contents),y.contents.push(H),y.contents.push(T),km(y.config)&&(E.push(H),E.push(T))}return km(y.config)&&(v.automaticFunctionCallingHistory=E),v},this.generateContentStream=async l=>{var a,r,f,h,g;if(this.maybeMoveToResponseJsonSchem(l),Um(l.config)){const T=await this.processParamsMaybeAddMcpUsage(l);return await this.generateContentStreamInternal(T)}const y=Lm(l);if(y.length>0){const T=y.map(E=>`tools[${E}]`).join(", ");throw new Error(`Incompatible tools found at ${T}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const m=(f=(r=(a=l==null?void 0:l.config)===null||a===void 0?void 0:a.toolConfig)===null||r===void 0?void 0:r.functionCallingConfig)===null||f===void 0?void 0:f.streamFunctionCallArguments,v=(g=(h=l==null?void 0:l.config)===null||h===void 0?void 0:h.automaticFunctionCalling)===null||g===void 0?void 0:g.disable;if(m&&!v)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(l)},this.generateImages=async l=>await this.generateImagesInternal(l).then(a=>{var r;let f;const h=[];if(a!=null&&a.generatedImages)for(const y of a.generatedImages)y&&(y!=null&&y.safetyAttributes)&&((r=y==null?void 0:y.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?f=y==null?void 0:y.safetyAttributes:h.push(y);let g;return f?g={generatedImages:h,positivePromptSafetyAttributes:f,sdkHttpResponse:a.sdkHttpResponse}:g={generatedImages:h,sdkHttpResponse:a.sdkHttpResponse},g}),this.list=async l=>{var a;const h={config:Object.assign(Object.assign({},{queryBase:!0}),l==null?void 0:l.config)};if(this.apiClient.isVertexAI()&&!h.config.queryBase){if(!((a=h.config)===null||a===void 0)&&a.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");h.config.filter="labels.tune-type:*"}return new _o(xn.PAGED_ITEM_MODELS,g=>this.listInternal(g),await this.listInternal(h),h)},this.editImage=async l=>{const a={model:l.model,prompt:l.prompt,referenceImages:[],config:l.config};return l.referenceImages&&l.referenceImages&&(a.referenceImages=l.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(a)},this.upscaleImage=async l=>{let a={numberOfImages:1,mode:"upscale"};l.config&&(a=Object.assign(Object.assign({},a),l.config));const r={model:l.model,image:l.image,upscaleFactor:l.upscaleFactor,config:a};return await this.upscaleImageInternal(r)},this.generateVideos=async l=>{var a,r,f,h,g,y;if((l.prompt||l.image||l.video)&&l.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((a=l.video)===null||a===void 0)&&a.uri&&(!((r=l.video)===null||r===void 0)&&r.videoBytes)?l.video={uri:l.video.uri,mimeType:l.video.mimeType}:!((h=(f=l.source)===null||f===void 0?void 0:f.video)===null||h===void 0)&&h.uri&&(!((y=(g=l.source)===null||g===void 0?void 0:g.video)===null||y===void 0)&&y.videoBytes)&&(l.source.video={uri:l.source.video.uri,mimeType:l.source.video.mimeType})),await this.generateVideosInternal(l)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var l,a,r;const f=(l=t.config)===null||l===void 0?void 0:l.tools;if(!f)return t;const h=await Promise.all(f.map(async y=>fi(y)?await y.tool():y)),g={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:h})};if(g.config.tools=h,t.config&&t.config.tools&&_g(t.config.tools)){const y=(r=(a=t.config.httpOptions)===null||a===void 0?void 0:a.headers)!==null&&r!==void 0?r:{};let m=Object.assign({},y);Object.keys(m).length===0&&(m=this.apiClient.getDefaultHeaders()),Cg(m),g.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:m})}return g}async initAfcToolsMap(t){var l,a,r;const f=new Map;for(const h of(a=(l=t.config)===null||l===void 0?void 0:l.tools)!==null&&a!==void 0?a:[])if(fi(h)){const g=h,y=await g.tool();for(const m of(r=y.functionDeclarations)!==null&&r!==void 0?r:[]){if(!m.name)throw new Error("Function declaration name is required.");if(f.has(m.name))throw new Error(`Duplicate tool declaration name: ${m.name}`);f.set(m.name,g)}}return f}async processAfcStream(t){var l,a,r;const f=(r=(a=(l=t.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&r!==void 0?r:Dm;let h=!1,g=0;const y=await this.initAfcToolsMap(t);return(function(m,v,T){return Qt(this,arguments,function*(){for(var E,x,D,H,U,P;g<f;){h&&(g++,h=!1);const Y=yield fe(m.processParamsMaybeAddMcpUsage(T)),ne=yield fe(m.generateContentStreamInternal(Y)),W=[],ye=[];try{for(var K=!0,F=(x=void 0,Zt(ne)),Q;Q=yield fe(F.next()),E=Q.done,!E;K=!0){H=Q.value,K=!1;const j=H;if(yield yield fe(j),j.candidates&&(!((U=j.candidates[0])===null||U===void 0)&&U.content)){ye.push(j.candidates[0].content);for(const de of(P=j.candidates[0].content.parts)!==null&&P!==void 0?P:[])if(g<f&&de.functionCall){if(!de.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(de.functionCall.name)){const ve=yield fe(v.get(de.functionCall.name).callTool([de.functionCall]));W.push(...ve)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${de.functionCall.name}`)}}}}catch(j){x={error:j}}finally{try{!K&&!E&&(D=F.return)&&(yield fe(D.call(F)))}finally{if(x)throw x.error}}if(W.length>0){h=!0;const j=new pl;j.candidates=[{content:{role:"user",parts:W}}],yield yield fe(j);const de=[];de.push(...ye),de.push({role:"user",parts:W});const ve=Jt(T.contents).concat(de);T.contents=ve}else break}})})(this,y,t)}async generateContentInternal(t){var l,a,r,f;let h,g="",y={};if(this.apiClient.isVertexAI()){const m=wm(this.apiClient,t);return g=Z("{model}:generateContent",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),h.then(v=>{const T=Mm(v),E=new pl;return Object.assign(E,T),E})}else{const m=Nm(this.apiClient,t);return g=Z("{model}:generateContent",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),h.then(v=>{const T=Rm(v),E=new pl;return Object.assign(E,T),E})}}async generateContentStreamInternal(t){var l,a,r,f;let h,g="",y={};if(this.apiClient.isVertexAI()){const m=wm(this.apiClient,t);return g=Z("{model}:streamGenerateContent?alt=sse",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.requestStream({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}),h.then(function(T){return Qt(this,arguments,function*(){var E,x,D,H;try{for(var U=!0,P=Zt(T),K;K=yield fe(P.next()),E=K.done,!E;U=!0){H=K.value,U=!1;const F=H,Q=Mm(yield fe(F.json()));Q.sdkHttpResponse={headers:F.headers};const Y=new pl;Object.assign(Y,Q),yield yield fe(Y)}}catch(F){x={error:F}}finally{try{!U&&!E&&(D=P.return)&&(yield fe(D.call(P)))}finally{if(x)throw x.error}}})})}else{const m=Nm(this.apiClient,t);return g=Z("{model}:streamGenerateContent?alt=sse",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.requestStream({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}),h.then(function(T){return Qt(this,arguments,function*(){var E,x,D,H;try{for(var U=!0,P=Zt(T),K;K=yield fe(P.next()),E=K.done,!E;U=!0){H=K.value,U=!1;const F=H,Q=Rm(yield fe(F.json()));Q.sdkHttpResponse={headers:F.headers};const Y=new pl;Object.assign(Y,Q),yield yield fe(Y)}}catch(F){x={error:F}}finally{try{!U&&!E&&(D=P.return)&&(yield fe(D.call(P)))}finally{if(x)throw x.error}}})})}}async embedContent(t){var l,a,r,f;let h,g="",y={};if(this.apiClient.isVertexAI()){const m=QE(this.apiClient,t);return g=Z("{model}:predict",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),h.then(v=>{const T=$E(v),E=new cm;return Object.assign(E,T),E})}else{const m=XE(this.apiClient,t);return g=Z("{model}:batchEmbedContents",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),h.then(v=>{const T=ZE(v),E=new cm;return Object.assign(E,T),E})}}async generateImagesInternal(t){var l,a,r,f;let h,g="",y={};if(this.apiClient.isVertexAI()){const m=u_(this.apiClient,t);return g=Z("{model}:predict",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),h.then(v=>{const T=f_(v),E=new fm;return Object.assign(E,T),E})}else{const m=r_(this.apiClient,t);return g=Z("{model}:predict",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),h.then(v=>{const T=c_(v),E=new fm;return Object.assign(E,T),E})}}async editImageInternal(t){var l,a;let r,f="",h={};if(this.apiClient.isVertexAI()){const g=JE(this.apiClient,t);return f=Z("{model}:predict",g._url),h=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const m=YE(y),v=new jv;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var l,a;let r,f="",h={};if(this.apiClient.isVertexAI()){const g=uC(this.apiClient,t);return f=Z("{model}:predict",g._url),h=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const m=cC(y),v=new eS;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var l,a;let r,f="",h={};if(this.apiClient.isVertexAI()){const g=F_(this.apiClient,t);return f=Z("{model}:predict",g._url),h=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const m=J_(y),v=new tS;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var l,a;let r,f="",h={};if(this.apiClient.isVertexAI()){const g=Z_(this.apiClient,t);return f=Z("{model}:predict",g._url),h=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const m=$_(y),v=new nS;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var l,a,r,f;let h,g="",y={};if(this.apiClient.isVertexAI()){const m=w_(this.apiClient,t);return g=Z("{name}",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),h.then(v=>Lu(v))}else{const m=N_(this.apiClient,t);return g=Z("{name}",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),h.then(v=>Uu(v))}}async listInternal(t){var l,a,r,f;let h,g="",y={};if(this.apiClient.isVertexAI()){const m=G_(this.apiClient,t);return g=Z("{models_url}",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),h.then(v=>{const T=q_(v),E=new dm;return Object.assign(E,T),E})}else{const m=H_(this.apiClient,t);return g=Z("{models_url}",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),h.then(v=>{const T=V_(v),E=new dm;return Object.assign(E,T),E})}}async update(t){var l,a,r,f;let h,g="",y={};if(this.apiClient.isVertexAI()){const m=sC(this.apiClient,t);return g=Z("{model}",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),h.then(v=>Lu(v))}else{const m=aC(this.apiClient,t);return g=Z("{name}",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),h.then(v=>Uu(v))}}async delete(t){var l,a,r,f;let h,g="",y={};if(this.apiClient.isVertexAI()){const m=BE(this.apiClient,t);return g=Z("{name}",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),h.then(v=>{const T=OE(v),E=new hm;return Object.assign(E,T),E})}else{const m=zE(this.apiClient,t);return g=Z("{name}",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),h.then(v=>{const T=PE(v),E=new hm;return Object.assign(E,T),E})}}async countTokens(t){var l,a,r,f;let h,g="",y={};if(this.apiClient.isVertexAI()){const m=GE(this.apiClient,t);return g=Z("{model}:countTokens",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),h.then(v=>{const T=qE(v),E=new pm;return Object.assign(E,T),E})}else{const m=HE(this.apiClient,t);return g=Z("{model}:countTokens",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),h.then(v=>{const T=VE(v),E=new pm;return Object.assign(E,T),E})}}async computeTokens(t){var l,a;let r,f="",h={};if(this.apiClient.isVertexAI()){const g=RE(this.apiClient,t);return f=Z("{model}:computeTokens",g._url),h=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const m=ME(y),v=new oS;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var l,a,r,f;let h,g="",y={};if(this.apiClient.isVertexAI()){const m=y_(this.apiClient,t);return g=Z("{model}:predictLongRunning",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),h.then(v=>{const T=m_(v),E=new Ja;return Object.assign(E,T),E})}else{const m=g_(this.apiClient,t);return g=Z("{model}:predictLongRunning",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),h.then(v=>{const T=p_(v),E=new Ja;return Object.assign(E,T),E})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ox extends An{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const l=t.operation,a=t.config;if(l.name===void 0||l.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=l.name.split("/operations/")[0];let f;a&&"httpOptions"in a&&(f=a.httpOptions);const h=await this.fetchPredictVideosOperationInternal({operationName:l.name,resourceName:r,config:{httpOptions:f}});return l._fromAPIResponse({apiResponse:h,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:l.name,config:a});return l._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async get(t){const l=t.operation,a=t.config;if(l.name===void 0||l.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=l.name.split("/operations/")[0];let f;a&&"httpOptions"in a&&(f=a.httpOptions);const h=await this.fetchPredictVideosOperationInternal({operationName:l.name,resourceName:r,config:{httpOptions:f}});return l._fromAPIResponse({apiResponse:h,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:l.name,config:a});return l._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async getVideosOperationInternal(t){var l,a,r,f;let h,g="",y={};if(this.apiClient.isVertexAI()){const m=Wv(t);return g=Z("{operationName}",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),h}else{const m=Yv(t);return g=Z("{operationName}",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),h}}async fetchPredictVideosOperationInternal(t){var l,a;let r,f="",h={};if(this.apiClient.isVertexAI()){const g=qv(t);return f=Z("{resourceName}:fetchPredictOperation",g._url),h=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ix(o){const t={},l=u(o,["data"]);if(l!=null&&c(t,["data"],l),u(o,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(o,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function lx(o){const t={},l=u(o,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(f=>px(f))),c(t,["parts"],r)}const a=u(o,["role"]);return a!=null&&c(t,["role"],a),t}function ax(o,t,l){const a={},r=u(t,["expireTime"]);l!==void 0&&r!=null&&c(l,["expireTime"],r);const f=u(t,["newSessionExpireTime"]);l!==void 0&&f!=null&&c(l,["newSessionExpireTime"],f);const h=u(t,["uses"]);l!==void 0&&h!=null&&c(l,["uses"],h);const g=u(t,["liveConnectConstraints"]);l!==void 0&&g!=null&&c(l,["bidiGenerateContentSetup"],hx(o,g));const y=u(t,["lockAdditionalFields"]);return l!==void 0&&y!=null&&c(l,["fieldMask"],y),a}function sx(o,t){const l={},a=u(t,["config"]);return a!=null&&c(l,["config"],ax(o,a,l)),l}function rx(o){const t={};if(u(o,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(o,["fileUri"]);l!=null&&c(t,["fileUri"],l);const a=u(o,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function ux(o){const t={},l=u(o,["id"]);l!=null&&c(t,["id"],l);const a=u(o,["args"]);a!=null&&c(t,["args"],a);const r=u(o,["name"]);if(r!=null&&c(t,["name"],r),u(o,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(o,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function cx(o){const t={};if(u(o,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(o,["enableWidget"]);return l!=null&&c(t,["enableWidget"],l),t}function fx(o){const t={};if(u(o,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(o,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(o,["timeRangeFilter"]);return l!=null&&c(t,["timeRangeFilter"],l),t}function dx(o,t){const l={},a=u(o,["generationConfig"]);t!==void 0&&a!=null&&c(t,["setup","generationConfig"],a);const r=u(o,["responseModalities"]);t!==void 0&&r!=null&&c(t,["setup","generationConfig","responseModalities"],r);const f=u(o,["temperature"]);t!==void 0&&f!=null&&c(t,["setup","generationConfig","temperature"],f);const h=u(o,["topP"]);t!==void 0&&h!=null&&c(t,["setup","generationConfig","topP"],h);const g=u(o,["topK"]);t!==void 0&&g!=null&&c(t,["setup","generationConfig","topK"],g);const y=u(o,["maxOutputTokens"]);t!==void 0&&y!=null&&c(t,["setup","generationConfig","maxOutputTokens"],y);const m=u(o,["mediaResolution"]);t!==void 0&&m!=null&&c(t,["setup","generationConfig","mediaResolution"],m);const v=u(o,["seed"]);t!==void 0&&v!=null&&c(t,["setup","generationConfig","seed"],v);const T=u(o,["speechConfig"]);t!==void 0&&T!=null&&c(t,["setup","generationConfig","speechConfig"],Xu(T));const E=u(o,["thinkingConfig"]);t!==void 0&&E!=null&&c(t,["setup","generationConfig","thinkingConfig"],E);const x=u(o,["enableAffectiveDialog"]);t!==void 0&&x!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],x);const D=u(o,["systemInstruction"]);t!==void 0&&D!=null&&c(t,["setup","systemInstruction"],lx(ht(D)));const H=u(o,["tools"]);if(t!==void 0&&H!=null){let ne=hi(H);Array.isArray(ne)&&(ne=ne.map(W=>gx(di(W)))),c(t,["setup","tools"],ne)}const U=u(o,["sessionResumption"]);t!==void 0&&U!=null&&c(t,["setup","sessionResumption"],mx(U));const P=u(o,["inputAudioTranscription"]);t!==void 0&&P!=null&&c(t,["setup","inputAudioTranscription"],P);const K=u(o,["outputAudioTranscription"]);t!==void 0&&K!=null&&c(t,["setup","outputAudioTranscription"],K);const F=u(o,["realtimeInputConfig"]);t!==void 0&&F!=null&&c(t,["setup","realtimeInputConfig"],F);const Q=u(o,["contextWindowCompression"]);t!==void 0&&Q!=null&&c(t,["setup","contextWindowCompression"],Q);const Y=u(o,["proactivity"]);if(t!==void 0&&Y!=null&&c(t,["setup","proactivity"],Y),u(o,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return l}function hx(o,t){const l={},a=u(t,["model"]);a!=null&&c(l,["setup","model"],Ue(o,a));const r=u(t,["config"]);return r!=null&&c(l,["config"],dx(r,l)),l}function px(o){const t={},l=u(o,["mediaResolution"]);l!=null&&c(t,["mediaResolution"],l);const a=u(o,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(o,["executableCode"]);r!=null&&c(t,["executableCode"],r);const f=u(o,["fileData"]);f!=null&&c(t,["fileData"],rx(f));const h=u(o,["functionCall"]);h!=null&&c(t,["functionCall"],ux(h));const g=u(o,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const y=u(o,["inlineData"]);y!=null&&c(t,["inlineData"],ix(y));const m=u(o,["text"]);m!=null&&c(t,["text"],m);const v=u(o,["thought"]);v!=null&&c(t,["thought"],v);const T=u(o,["thoughtSignature"]);T!=null&&c(t,["thoughtSignature"],T);const E=u(o,["videoMetadata"]);return E!=null&&c(t,["videoMetadata"],E),t}function mx(o){const t={},l=u(o,["handle"]);if(l!=null&&c(t,["handle"],l),u(o,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function gx(o){const t={};if(u(o,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=u(o,["computerUse"]);l!=null&&c(t,["computerUse"],l);const a=u(o,["fileSearch"]);a!=null&&c(t,["fileSearch"],a);const r=u(o,["codeExecution"]);if(r!=null&&c(t,["codeExecution"],r),u(o,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=u(o,["functionDeclarations"]);if(f!=null){let v=f;Array.isArray(v)&&(v=v.map(T=>T)),c(t,["functionDeclarations"],v)}const h=u(o,["googleMaps"]);h!=null&&c(t,["googleMaps"],cx(h));const g=u(o,["googleSearch"]);g!=null&&c(t,["googleSearch"],fx(g));const y=u(o,["googleSearchRetrieval"]);y!=null&&c(t,["googleSearchRetrieval"],y);const m=u(o,["urlContext"]);return m!=null&&c(t,["urlContext"],m),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yx(o){const t=[];for(const l in o)if(Object.prototype.hasOwnProperty.call(o,l)){const a=o[l];if(typeof a=="object"&&a!=null&&Object.keys(a).length>0){const r=Object.keys(a).map(f=>`${l}.${f}`);t.push(...r)}else t.push(l)}return t.join(",")}function vx(o,t){let l=null;const a=o.bidiGenerateContentSetup;if(typeof a=="object"&&a!==null&&"setup"in a){const f=a.setup;typeof f=="object"&&f!==null?(o.bidiGenerateContentSetup=f,l=f):delete o.bidiGenerateContentSetup}else a!==void 0&&delete o.bidiGenerateContentSetup;const r=o.fieldMask;if(l){const f=yx(l);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)f?o.fieldMask=f:delete o.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const h=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let g=[];r.length>0&&(g=r.map(m=>h.includes(m)?`generationConfig.${m}`:m));const y=[];f&&y.push(f),g.length>0&&y.push(...g),y.length>0?o.fieldMask=y.join(","):delete o.fieldMask}else delete o.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?o.fieldMask=r.join(","):delete o.fieldMask;return o}class Sx extends An{constructor(t){super(),this.apiClient=t}async create(t){var l,a;let r,f="",h={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const g=sx(this.apiClient,t);f=Z("auth_tokens",g._url),h=g._query,delete g.config,delete g._url,delete g._query;const y=vx(g,t.config);return r=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),r.then(m=>m)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Tx(o,t){const l={},a=u(o,["force"]);return t!==void 0&&a!=null&&c(t,["_query","force"],a),l}function Ex(o){const t={},l=u(o,["name"]);l!=null&&c(t,["_url","name"],l);const a=u(o,["config"]);return a!=null&&Tx(a,t),t}function _x(o){const t={},l=u(o,["name"]);return l!=null&&c(t,["_url","name"],l),t}function Cx(o,t){const l={},a=u(o,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(o,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),l}function xx(o){const t={},l=u(o,["parent"]);l!=null&&c(t,["_url","parent"],l);const a=u(o,["config"]);return a!=null&&Cx(a,t),t}function Ax(o){const t={},l=u(o,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(o,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(o,["documents"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(h=>h)),c(t,["documents"],f)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bx extends An{constructor(t){super(),this.apiClient=t,this.list=async l=>new _o(xn.PAGED_ITEM_DOCUMENTS,a=>this.listInternal({parent:l.parent,config:a.config}),await this.listInternal(l),l)}async get(t){var l,a;let r,f="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=_x(t);return f=Z("{name}",g._url),h=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(t){var l,a;let r="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=Ex(t);r=Z("{name}",h._url),f=h._query,delete h._url,delete h._query,await this.apiClient.request({path:r,queryParams:f,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(t){var l,a;let r,f="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=xx(t);return f=Z("{parent}/documents",g._url),h=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const m=Ax(y),v=new iS;return Object.assign(v,m),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Nx extends An{constructor(t,l=new bx(t)){super(),this.apiClient=t,this.documents=l,this.list=async(a={})=>new _o(xn.PAGED_ITEM_FILE_SEARCH_STORES,r=>this.listInternal(r),await this.listInternal(a),a)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var l,a;let r,f="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=yC(t);return f=Z("fileSearchStores",g._url),h=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async get(t){var l,a;let r,f="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=TC(t);return f=Z("{name}",g._url),h=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(t){var l,a;let r="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=SC(t);r=Z("{name}",h._url),f=h._query,delete h._url,delete h._query,await this.apiClient.request({path:r,queryParams:f,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(t){var l,a;let r,f="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=bC(t);return f=Z("fileSearchStores",g._url),h=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const m=NC(y),v=new lS;return Object.assign(v,m),v})}}async uploadToFileSearchStoreInternal(t){var l,a;let r,f="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=wC(t);return f=Z("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",g._url),h=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const m=RC(y),v=new aS;return Object.assign(v,m),v})}}async importFile(t){var l,a;let r,f="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=CC(t);return f=Z("{file_search_store_name}:importFile",g._url),h=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const m=_C(y),v=new Fu;return Object.assign(v,m),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let xg=function(){const{crypto:o}=globalThis;if(o!=null&&o.randomUUID)return xg=o.randomUUID.bind(o),o.randomUUID();const t=new Uint8Array(1),l=o?()=>o.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,a=>(+a^l()&15>>+a/4).toString(16))};const wx=()=>xg();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Hu(o){return typeof o=="object"&&o!==null&&("name"in o&&o.name==="AbortError"||"message"in o&&String(o.message).includes("FetchRequestCanceledException"))}const Gu=o=>{if(o instanceof Error)return o;if(typeof o=="object"&&o!==null){try{if(Object.prototype.toString.call(o)==="[object Error]"){const t=new Error(o.message,o.cause?{cause:o.cause}:{});return o.stack&&(t.stack=o.stack),o.cause&&!t.cause&&(t.cause=o.cause),o.name&&(t.name=o.name),t}}catch{}try{return new Error(JSON.stringify(o))}catch{}}return new Error(o)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Yt extends Error{}class gt extends Yt{constructor(t,l,a,r){super(`${gt.makeMessage(t,l,a)}`),this.status=t,this.headers=r,this.error=l}static makeMessage(t,l,a){const r=l!=null&&l.message?typeof l.message=="string"?l.message:JSON.stringify(l.message):l?JSON.stringify(l):a;return t&&r?`${t} ${r}`:t?`${t} status code (no body)`:r||"(no status code or body)"}static generate(t,l,a,r){if(!t||!r)return new es({message:a,cause:Gu(l)});const f=l;return t===400?new bg(t,f,a,r):t===401?new Ng(t,f,a,r):t===403?new wg(t,f,a,r):t===404?new Rg(t,f,a,r):t===409?new Mg(t,f,a,r):t===422?new Ig(t,f,a,r):t===429?new Dg(t,f,a,r):t>=500?new Ug(t,f,a,r):new gt(t,f,a,r)}}class Vu extends gt{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class es extends gt{constructor({message:t,cause:l}){super(void 0,void 0,t||"Connection error.",void 0),l&&(this.cause=l)}}class Ag extends es{constructor({message:t}={}){super({message:t??"Request timed out."})}}class bg extends gt{}class Ng extends gt{}class wg extends gt{}class Rg extends gt{}class Mg extends gt{}class Ig extends gt{}class Dg extends gt{}class Ug extends gt{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Rx=/^[a-z][a-z0-9+.-]*:/i,Mx=o=>Rx.test(o);let qu=o=>(qu=Array.isArray,qu(o));const Ix=qu;let Dx=Ix;const Hm=Dx;function Ux(o){if(!o)return!0;for(const t in o)return!1;return!0}function Lx(o,t){return Object.prototype.hasOwnProperty.call(o,t)}const kx=(o,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new Yt(`${o} must be an integer`);if(t<0)throw new Yt(`${o} must be a positive integer`);return t},Hx=o=>{try{return JSON.parse(o)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Gx=o=>new Promise(t=>setTimeout(t,o));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const si="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Vx(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const qx=()=>{var o,t,l,a,r;const f=Vx();if(f==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":si,"X-Stainless-OS":Vm(Deno.build.os),"X-Stainless-Arch":Gm(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(t=(o=Deno.version)===null||o===void 0?void 0:o.deno)!==null&&t!==void 0?t:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":si,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(f==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":si,"X-Stainless-OS":Vm((l=globalThis.process.platform)!==null&&l!==void 0?l:"unknown"),"X-Stainless-Arch":Gm((a=globalThis.process.arch)!==null&&a!==void 0?a:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(r=globalThis.process.version)!==null&&r!==void 0?r:"unknown"};const h=zx();return h?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":si,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${h.browser}`,"X-Stainless-Runtime-Version":h.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":si,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function zx(){if(typeof navigator>"u"||!navigator)return null;const o=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:l}of o){const a=l.exec(navigator.userAgent);if(a){const r=a[1]||0,f=a[2]||0,h=a[3]||0;return{browser:t,version:`${r}.${f}.${h}`}}}return null}const Gm=o=>o==="x32"?"x32":o==="x86_64"||o==="x64"?"x64":o==="arm"?"arm":o==="aarch64"||o==="arm64"?"arm64":o?`other:${o}`:"unknown",Vm=o=>(o=o.toLowerCase(),o.includes("ios")?"iOS":o==="android"?"Android":o==="darwin"?"MacOS":o==="win32"?"Windows":o==="freebsd"?"FreeBSD":o==="openbsd"?"OpenBSD":o==="linux"?"Linux":o?`Other:${o}`:"Unknown");let Ga;const Bx=()=>Ga??(Ga=qx());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Px(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function Lg(...o){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...o)}function Ox(o){let t=Symbol.asyncIterator in o?o[Symbol.asyncIterator]():o[Symbol.iterator]();return Lg({start(){},async pull(l){const{done:a,value:r}=await t.next();a?l.close():l.enqueue(r)},async cancel(){var l;await((l=t.return)===null||l===void 0?void 0:l.call(t))}})}function kg(o){if(o[Symbol.asyncIterator])return o;const t=o.getReader();return{async next(){try{const l=await t.read();return l!=null&&l.done&&t.releaseLock(),l}catch(l){throw t.releaseLock(),l}},async return(){const l=t.cancel();return t.releaseLock(),await l,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function Fx(o){var t,l;if(o===null||typeof o!="object")return;if(o[Symbol.asyncIterator]){await((l=(t=o[Symbol.asyncIterator]()).return)===null||l===void 0?void 0:l.call(t));return}const a=o.getReader(),r=a.cancel();a.releaseLock(),await r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Jx=({headers:o,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Hg=()=>{var o;if(typeof File>"u"){const{process:t}=globalThis,l=typeof((o=t==null?void 0:t.versions)===null||o===void 0?void 0:o.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(l?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function xu(o,t,l){return Hg(),new File(o,t??"unknown_file",l)}function Yx(o){return(typeof o=="object"&&o!==null&&("name"in o&&o.name&&String(o.name)||"url"in o&&o.url&&String(o.url)||"filename"in o&&o.filename&&String(o.filename)||"path"in o&&o.path&&String(o.path))||"").split(/[\\/]/).pop()||void 0}const Wx=o=>o!=null&&typeof o=="object"&&typeof o[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Gg=o=>o!=null&&typeof o=="object"&&typeof o.size=="number"&&typeof o.type=="string"&&typeof o.text=="function"&&typeof o.slice=="function"&&typeof o.arrayBuffer=="function",Kx=o=>o!=null&&typeof o=="object"&&typeof o.name=="string"&&typeof o.lastModified=="number"&&Gg(o),Xx=o=>o!=null&&typeof o=="object"&&typeof o.url=="string"&&typeof o.blob=="function";async function Qx(o,t,l){if(Hg(),o=await o,Kx(o))return o instanceof File?o:xu([await o.arrayBuffer()],o.name);if(Xx(o)){const r=await o.blob();return t||(t=new URL(o.url).pathname.split(/[\\/]/).pop()),xu(await zu(r),t,l)}const a=await zu(o);if(t||(t=Yx(o)),!(l!=null&&l.type)){const r=a.find(f=>typeof f=="object"&&"type"in f&&f.type);typeof r=="string"&&(l=Object.assign(Object.assign({},l),{type:r}))}return xu(a,t,l)}async function zu(o){var t,l,a,r,f;let h=[];if(typeof o=="string"||ArrayBuffer.isView(o)||o instanceof ArrayBuffer)h.push(o);else if(Gg(o))h.push(o instanceof Blob?o:await o.arrayBuffer());else if(Wx(o))try{for(var g=!0,y=Zt(o),m;m=await y.next(),t=m.done,!t;g=!0){r=m.value,g=!1;const v=r;h.push(...await zu(v))}}catch(v){l={error:v}}finally{try{!g&&!t&&(a=y.return)&&await a.call(y)}finally{if(l)throw l.error}}else{const v=(f=o==null?void 0:o.constructor)===null||f===void 0?void 0:f.name;throw new Error(`Unexpected data type: ${typeof o}${v?`; constructor: ${v}`:""}${Zx(o)}`)}return h}function Zx(o){return typeof o!="object"||o===null?"":`; props: [${Object.getOwnPropertyNames(o).map(l=>`"${l}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Vg{constructor(t){this._client=t}}Vg._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qg(o){return o.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const qm=Object.freeze(Object.create(null)),$x=(o=qg)=>(function(l,...a){if(l.length===1)return l[0];let r=!1;const f=[],h=l.reduce((v,T,E)=>{var x,D,H;/[?#]/.test(T)&&(r=!0);const U=a[E];let P=(r?encodeURIComponent:o)(""+U);return E!==a.length&&(U==null||typeof U=="object"&&U.toString===((H=Object.getPrototypeOf((D=Object.getPrototypeOf((x=U.hasOwnProperty)!==null&&x!==void 0?x:qm))!==null&&D!==void 0?D:qm))===null||H===void 0?void 0:H.toString))&&(P=U+"",f.push({start:v.length+T.length,length:P.length,error:`Value of type ${Object.prototype.toString.call(U).slice(8,-1)} is not a valid path parameter`})),v+T+(E===a.length?"":P)},""),g=h.split(/[?#]/,1)[0],y=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let m;for(;(m=y.exec(g))!==null;)f.push({start:m.index,length:m[0].length,error:`Value "${m[0]}" can't be safely passed as a path parameter`});if(f.sort((v,T)=>v.start-T.start),f.length>0){let v=0;const T=f.reduce((E,x)=>{const D=" ".repeat(x.start-v),H="^".repeat(x.length);return v=x.start+x.length,E+D+H},"");throw new Yt(`Path parameters result in path with invalid segments:
${f.map(E=>E.error).join(`
`)}
${h}
${T}`)}return h}),Va=$x(qg);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zg extends Vg{create(t,l){var a;const{api_version:r=this._client.apiVersion}=t,f=Wa(t,["api_version"]);if("model"in f&&"agent_config"in f)throw new Yt("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in f&&"generation_config"in f)throw new Yt("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Va`/${r}/interactions`,Object.assign(Object.assign({body:f},l),{stream:(a=t.stream)!==null&&a!==void 0?a:!1}))}delete(t,l={},a){const{api_version:r=this._client.apiVersion}=l??{};return this._client.delete(Va`/${r}/interactions/${t}`,a)}cancel(t,l={},a){const{api_version:r=this._client.apiVersion}=l??{};return this._client.post(Va`/${r}/interactions/${t}/cancel`,a)}get(t,l={},a){var r;const f=l??{},{api_version:h=this._client.apiVersion}=f,g=Wa(f,["api_version"]);return this._client.get(Va`/${h}/interactions/${t}`,Object.assign(Object.assign({query:g},a),{stream:(r=l==null?void 0:l.stream)!==null&&r!==void 0?r:!1}))}}zg._key=Object.freeze(["interactions"]);class Bg extends zg{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function jx(o){let t=0;for(const r of o)t+=r.length;const l=new Uint8Array(t);let a=0;for(const r of o)l.set(r,a),a+=r.length;return l}let qa;function Zu(o){let t;return(qa??(t=new globalThis.TextEncoder,qa=t.encode.bind(t)))(o)}let za;function zm(o){let t;return(za??(t=new globalThis.TextDecoder,za=t.decode.bind(t)))(o)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ts{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(t){if(t==null)return[];const l=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?Zu(t):t;this.buffer=jx([this.buffer,l]);const a=[];let r;for(;(r=eA(this.buffer,this.carriageReturnIndex))!=null;){if(r.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=r.index;continue}if(this.carriageReturnIndex!=null&&(r.index!==this.carriageReturnIndex+1||r.carriage)){a.push(zm(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const f=this.carriageReturnIndex!==null?r.preceding-1:r.preceding,h=zm(this.buffer.subarray(0,f));a.push(h),this.buffer=this.buffer.subarray(r.index),this.carriageReturnIndex=null}return a}flush(){return this.buffer.length?this.decode(`
`):[]}}ts.NEWLINE_CHARS=new Set([`
`,"\r"]);ts.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function eA(o,t){for(let r=t??0;r<o.length;r++){if(o[r]===10)return{preceding:r,index:r+1,carriage:!1};if(o[r]===13)return{preceding:r,index:r+1,carriage:!0}}return null}function tA(o){for(let a=0;a<o.length-1;a++){if(o[a]===10&&o[a+1]===10||o[a]===13&&o[a+1]===13)return a+2;if(o[a]===13&&o[a+1]===10&&a+3<o.length&&o[a+2]===13&&o[a+3]===10)return a+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ka={off:0,error:200,warn:300,info:400,debug:500},Bm=(o,t,l)=>{if(o){if(Lx(Ka,o))return o;mt(l).warn(`${t} was set to ${JSON.stringify(o)}, expected one of ${JSON.stringify(Object.keys(Ka))}`)}};function yl(){}function Ba(o,t,l){return!t||Ka[o]>Ka[l]?yl:t[o].bind(t)}const nA={error:yl,warn:yl,info:yl,debug:yl};let Pm=new WeakMap;function mt(o){var t;const l=o.logger,a=(t=o.logLevel)!==null&&t!==void 0?t:"off";if(!l)return nA;const r=Pm.get(l);if(r&&r[0]===a)return r[1];const f={error:Ba("error",l,a),warn:Ba("warn",l,a),info:Ba("info",l,a),debug:Ba("debug",l,a)};return Pm.set(l,[a,f]),f}const Eo=o=>(o.options&&(o.options=Object.assign({},o.options),delete o.options.headers),o.headers&&(o.headers=Object.fromEntries((o.headers instanceof Headers?[...o.headers]:Object.entries(o.headers)).map(([t,l])=>[t,t.toLowerCase()==="x-goog-api-key"||t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":l]))),"retryOfRequestLogID"in o&&(o.retryOfRequestLogID&&(o.retryOf=o.retryOfRequestLogID),delete o.retryOfRequestLogID),o);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ui{constructor(t,l,a){this.iterator=t,this.controller=l,this.client=a}static fromSSEResponse(t,l,a){let r=!1;const f=a?mt(a):console;function h(){return Qt(this,arguments,function*(){var y,m,v,T;if(r)throw new Yt("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let E=!1;try{try{for(var x=!0,D=Zt(oA(t,l)),H;H=yield fe(D.next()),y=H.done,!y;x=!0){T=H.value,x=!1;const U=T;if(!E)if(U.data.startsWith("[DONE]")){E=!0;continue}else try{yield yield fe(JSON.parse(U.data))}catch(P){throw f.error("Could not parse message into JSON:",U.data),f.error("From chunk:",U.raw),P}}}catch(U){m={error:U}}finally{try{!x&&!y&&(v=D.return)&&(yield fe(v.call(D)))}finally{if(m)throw m.error}}E=!0}catch(U){if(Hu(U))return yield fe(void 0);throw U}finally{E||l.abort()}})}return new ui(h,l,a)}static fromReadableStream(t,l,a){let r=!1;function f(){return Qt(this,arguments,function*(){var y,m,v,T;const E=new ts,x=kg(t);try{for(var D=!0,H=Zt(x),U;U=yield fe(H.next()),y=U.done,!y;D=!0){T=U.value,D=!1;const P=T;for(const K of E.decode(P))yield yield fe(K)}}catch(P){m={error:P}}finally{try{!D&&!y&&(v=H.return)&&(yield fe(v.call(H)))}finally{if(m)throw m.error}}for(const P of E.flush())yield yield fe(P)})}function h(){return Qt(this,arguments,function*(){var y,m,v,T;if(r)throw new Yt("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let E=!1;try{try{for(var x=!0,D=Zt(f()),H;H=yield fe(D.next()),y=H.done,!y;x=!0){T=H.value,x=!1;const U=T;E||U&&(yield yield fe(JSON.parse(U)))}}catch(U){m={error:U}}finally{try{!x&&!y&&(v=D.return)&&(yield fe(v.call(D)))}finally{if(m)throw m.error}}E=!0}catch(U){if(Hu(U))return yield fe(void 0);throw U}finally{E||l.abort()}})}return new ui(h,l,a)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],l=[],a=this.iterator(),r=f=>({next:()=>{if(f.length===0){const h=a.next();t.push(h),l.push(h)}return f.shift()}});return[new ui(()=>r(t),this.controller,this.client),new ui(()=>r(l),this.controller,this.client)]}toReadableStream(){const t=this;let l;return Lg({async start(){l=t[Symbol.asyncIterator]()},async pull(a){try{const{value:r,done:f}=await l.next();if(f)return a.close();const h=Zu(JSON.stringify(r)+`
`);a.enqueue(h)}catch(r){a.error(r)}},async cancel(){var a;await((a=l.return)===null||a===void 0?void 0:a.call(l))}})}}function oA(o,t){return Qt(this,arguments,function*(){var a,r,f,h;if(!o.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Yt("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Yt("Attempted to iterate over a response with no body");const g=new lA,y=new ts,m=kg(o.body);try{for(var v=!0,T=Zt(iA(m)),E;E=yield fe(T.next()),a=E.done,!a;v=!0){h=E.value,v=!1;const x=h;for(const D of y.decode(x)){const H=g.decode(D);H&&(yield yield fe(H))}}}catch(x){r={error:x}}finally{try{!v&&!a&&(f=T.return)&&(yield fe(f.call(T)))}finally{if(r)throw r.error}}for(const x of y.flush()){const D=g.decode(x);D&&(yield yield fe(D))}})}function iA(o){return Qt(this,arguments,function*(){var l,a,r,f;let h=new Uint8Array;try{for(var g=!0,y=Zt(o),m;m=yield fe(y.next()),l=m.done,!l;g=!0){f=m.value,g=!1;const v=f;if(v==null)continue;const T=v instanceof ArrayBuffer?new Uint8Array(v):typeof v=="string"?Zu(v):v;let E=new Uint8Array(h.length+T.length);E.set(h),E.set(T,h.length),h=E;let x;for(;(x=tA(h))!==-1;)yield yield fe(h.slice(0,x)),h=h.slice(x)}}catch(v){a={error:v}}finally{try{!g&&!l&&(r=y.return)&&(yield fe(r.call(y)))}finally{if(a)throw a.error}}h.length>0&&(yield yield fe(h))})}class lA{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const f={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],f}if(this.chunks.push(t),t.startsWith(":"))return null;let[l,a,r]=aA(t,":");return r.startsWith(" ")&&(r=r.substring(1)),l==="event"?this.event=r:l==="data"&&this.data.push(r),null}}function aA(o,t){const l=o.indexOf(t);return l!==-1?[o.substring(0,l),t,o.substring(l+t.length)]:[o,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function sA(o,t){const{response:l,requestLogID:a,retryOfRequestLogID:r,startTime:f}=t,h=await(async()=>{var g;if(t.options.stream)return mt(o).debug("response",l.status,l.url,l.headers,l.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(l,t.controller,o):ui.fromSSEResponse(l,t.controller,o);if(l.status===204)return null;if(t.options.__binaryResponse)return l;const y=l.headers.get("content-type"),m=(g=y==null?void 0:y.split(";")[0])===null||g===void 0?void 0:g.trim();return(m==null?void 0:m.includes("application/json"))||(m==null?void 0:m.endsWith("+json"))?await l.json():await l.text()})();return mt(o).debug(`[${a}] response parsed`,Eo({retryOfRequestLogID:r,url:l.url,status:l.status,body:h,durationMs:Date.now()-f})),h}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $u extends Promise{constructor(t,l,a=sA){super(r=>{r(null)}),this.responsePromise=l,this.parseResponse=a,this.client=t}_thenUnwrap(t){return new $u(this.client,this.responsePromise,async(l,a)=>t(await this.parseResponse(l,a),a))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,l]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:l}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(this.client,t))),this.parsedPromise}then(t,l){return this.parse().then(t,l)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Pg=Symbol("brand.privateNullableHeaders");function*rA(o){if(!o)return;if(Pg in o){const{values:a,nulls:r}=o;yield*a.entries();for(const f of r)yield[f,null];return}let t=!1,l;o instanceof Headers?l=o.entries():Hm(o)?l=o:(t=!0,l=Object.entries(o??{}));for(let a of l){const r=a[0];if(typeof r!="string")throw new TypeError("expected header name to be a string");const f=Hm(a[1])?a[1]:[a[1]];let h=!1;for(const g of f)g!==void 0&&(t&&!h&&(h=!0,yield[r,null]),yield[r,g])}}const ml=o=>{const t=new Headers,l=new Set;for(const a of o){const r=new Set;for(const[f,h]of rA(a)){const g=f.toLowerCase();r.has(g)||(t.delete(f),r.add(g)),h===null?(t.delete(f),l.add(g)):(t.append(f,h),l.delete(g))}}return{[Pg]:!0,values:t,nulls:l}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Au=o=>{var t,l,a,r,f,h;if(typeof globalThis.process<"u")return(a=(l=(t=Uv)===null||t===void 0?void 0:t[o])===null||l===void 0?void 0:l.trim())!==null&&a!==void 0?a:void 0;if(typeof globalThis.Deno<"u")return(h=(f=(r=globalThis.Deno.env)===null||r===void 0?void 0:r.get)===null||f===void 0?void 0:f.call(r,o))===null||h===void 0?void 0:h.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Og;class ns{constructor(t){var l,a,r,f,h,g,y,{baseURL:m=Au("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:v=(l=Au("GEMINI_API_KEY"))!==null&&l!==void 0?l:null,apiVersion:T="v1beta"}=t,E=Wa(t,["baseURL","apiKey","apiVersion"]);const x=Object.assign(Object.assign({apiKey:v,apiVersion:T},E),{baseURL:m||"https://generativelanguage.googleapis.com"});this.baseURL=x.baseURL,this.timeout=(a=x.timeout)!==null&&a!==void 0?a:ns.DEFAULT_TIMEOUT,this.logger=(r=x.logger)!==null&&r!==void 0?r:console;const D="warn";this.logLevel=D,this.logLevel=(h=(f=Bm(x.logLevel,"ClientOptions.logLevel",this))!==null&&f!==void 0?f:Bm(Au("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&h!==void 0?h:D,this.fetchOptions=x.fetchOptions,this.maxRetries=(g=x.maxRetries)!==null&&g!==void 0?g:2,this.fetch=(y=x.fetch)!==null&&y!==void 0?y:Px(),this.encoder=Jx,this._options=x,this.apiKey=v,this.apiVersion=T,this.clientAdapter=x.clientAdapter}withOptions(t){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),t))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:l}){if(!(t.has("authorization")||t.has("x-goog-api-key"))&&!(this.apiKey&&t.get("x-goog-api-key"))&&!l.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(t){const l=ml([t.headers]);if(!(l.values.has("authorization")||l.values.has("x-goog-api-key"))){if(this.apiKey)return ml([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return ml([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(t){return Object.entries(t).filter(([l,a])=>typeof a<"u").map(([l,a])=>{if(typeof a=="string"||typeof a=="number"||typeof a=="boolean")return`${encodeURIComponent(l)}=${encodeURIComponent(a)}`;if(a===null)return`${encodeURIComponent(l)}=`;throw new Yt(`Cannot stringify type ${typeof a}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${si}`}defaultIdempotencyKey(){return`stainless-node-retry-${wx()}`}makeStatusError(t,l,a,r){return gt.generate(t,l,a,r)}buildURL(t,l,a){const r=!this.baseURLOverridden()&&a||this.baseURL,f=Mx(t)?new URL(t):new URL(r+(r.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),h=this.defaultQuery();return Ux(h)||(l=Object.assign(Object.assign({},h),l)),typeof l=="object"&&l&&!Array.isArray(l)&&(f.search=this.stringifyQuery(l)),f.toString()}async prepareOptions(t){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!t.path.startsWith(`/${this.apiVersion}/projects/`)){const l=t.path.slice(this.apiVersion.length+1);t.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${l}`}}async prepareRequest(t,{url:l,options:a}){}get(t,l){return this.methodRequest("get",t,l)}post(t,l){return this.methodRequest("post",t,l)}patch(t,l){return this.methodRequest("patch",t,l)}put(t,l){return this.methodRequest("put",t,l)}delete(t,l){return this.methodRequest("delete",t,l)}methodRequest(t,l,a){return this.request(Promise.resolve(a).then(r=>Object.assign({method:t,path:l},r)))}request(t,l=null){return new $u(this,this.makeRequest(t,l,void 0))}async makeRequest(t,l,a){var r,f,h;const g=await t,y=(r=g.maxRetries)!==null&&r!==void 0?r:this.maxRetries;l==null&&(l=y),await this.prepareOptions(g);const{req:m,url:v,timeout:T}=await this.buildRequest(g,{retryCount:y-l});await this.prepareRequest(m,{url:v,options:g});const E="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),x=a===void 0?"":`, retryOf: ${a}`,D=Date.now();if(mt(this).debug(`[${E}] sending request`,Eo({retryOfRequestLogID:a,method:g.method,url:v,options:g,headers:m.headers})),!((f=g.signal)===null||f===void 0)&&f.aborted)throw new Vu;const H=new AbortController,U=await this.fetchWithTimeout(v,m,T,H).catch(Gu),P=Date.now();if(U instanceof globalThis.Error){const F=`retrying, ${l} attempts remaining`;if(!((h=g.signal)===null||h===void 0)&&h.aborted)throw new Vu;const Q=Hu(U)||/timed? ?out/i.test(String(U)+("cause"in U?String(U.cause):""));if(l)return mt(this).info(`[${E}] connection ${Q?"timed out":"failed"} - ${F}`),mt(this).debug(`[${E}] connection ${Q?"timed out":"failed"} (${F})`,Eo({retryOfRequestLogID:a,url:v,durationMs:P-D,message:U.message})),this.retryRequest(g,l,a??E);throw mt(this).info(`[${E}] connection ${Q?"timed out":"failed"} - error; no more retries left`),mt(this).debug(`[${E}] connection ${Q?"timed out":"failed"} (error; no more retries left)`,Eo({retryOfRequestLogID:a,url:v,durationMs:P-D,message:U.message})),Q?new Ag:new es({cause:U})}const K=`[${E}${x}] ${m.method} ${v} ${U.ok?"succeeded":"failed"} with status ${U.status} in ${P-D}ms`;if(!U.ok){const F=await this.shouldRetry(U);if(l&&F){const j=`retrying, ${l} attempts remaining`;return await Fx(U.body),mt(this).info(`${K} - ${j}`),mt(this).debug(`[${E}] response error (${j})`,Eo({retryOfRequestLogID:a,url:U.url,status:U.status,headers:U.headers,durationMs:P-D})),this.retryRequest(g,l,a??E,U.headers)}const Q=F?"error; no more retries left":"error; not retryable";mt(this).info(`${K} - ${Q}`);const Y=await U.text().catch(j=>Gu(j).message),ne=Hx(Y),W=ne?void 0:Y;throw mt(this).debug(`[${E}] response error (${Q})`,Eo({retryOfRequestLogID:a,url:U.url,status:U.status,headers:U.headers,message:W,durationMs:Date.now()-D})),this.makeStatusError(U.status,ne,W,U.headers)}return mt(this).info(K),mt(this).debug(`[${E}] response start`,Eo({retryOfRequestLogID:a,url:U.url,status:U.status,headers:U.headers,durationMs:P-D})),{response:U,options:g,controller:H,requestLogID:E,retryOfRequestLogID:a,startTime:D}}async fetchWithTimeout(t,l,a,r){const f=l||{},{signal:h,method:g}=f,y=Wa(f,["signal","method"]);h&&h.addEventListener("abort",()=>r.abort());const m=setTimeout(()=>r.abort(),a),v=globalThis.ReadableStream&&y.body instanceof globalThis.ReadableStream||typeof y.body=="object"&&y.body!==null&&Symbol.asyncIterator in y.body,T=Object.assign(Object.assign(Object.assign({signal:r.signal},v?{duplex:"half"}:{}),{method:"GET"}),y);g&&(T.method=g.toUpperCase());try{return await this.fetch.call(void 0,t,T)}finally{clearTimeout(m)}}async shouldRetry(t){const l=t.headers.get("x-should-retry");return l==="true"?!0:l==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,l,a,r){var f;let h;const g=r==null?void 0:r.get("retry-after-ms");if(g){const m=parseFloat(g);Number.isNaN(m)||(h=m)}const y=r==null?void 0:r.get("retry-after");if(y&&!h){const m=parseFloat(y);Number.isNaN(m)?h=Date.parse(y)-Date.now():h=m*1e3}if(!(h&&0<=h&&h<60*1e3)){const m=(f=t.maxRetries)!==null&&f!==void 0?f:this.maxRetries;h=this.calculateDefaultRetryTimeoutMillis(l,m)}return await Gx(h),this.makeRequest(t,l-1,a)}calculateDefaultRetryTimeoutMillis(t,l){const f=l-t,h=Math.min(.5*Math.pow(2,f),8),g=1-Math.random()*.25;return h*g*1e3}async buildRequest(t,{retryCount:l=0}={}){var a,r,f;const h=Object.assign({},t),{method:g,path:y,query:m,defaultBaseURL:v}=h,T=this.buildURL(y,m,v);"timeout"in h&&kx("timeout",h.timeout),h.timeout=(a=h.timeout)!==null&&a!==void 0?a:this.timeout;const{bodyHeaders:E,body:x}=this.buildBody({options:h}),D=await this.buildHeaders({options:t,method:g,bodyHeaders:E,retryCount:l});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:g,headers:D},h.signal&&{signal:h.signal}),globalThis.ReadableStream&&x instanceof globalThis.ReadableStream&&{duplex:"half"}),x&&{body:x}),(r=this.fetchOptions)!==null&&r!==void 0?r:{}),(f=h.fetchOptions)!==null&&f!==void 0?f:{}),url:T,timeout:h.timeout}}async buildHeaders({options:t,method:l,bodyHeaders:a,retryCount:r}){let f={};this.idempotencyHeader&&l!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),f[this.idempotencyHeader]=t.idempotencyKey);const h=await this.authHeaders(t);let g=ml([f,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(r)},t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{}),Bx()),this._options.defaultHeaders,a,t.headers,h]);return this.validateHeaders(g),g.values}buildBody({options:{body:t,headers:l}}){if(!t)return{bodyHeaders:void 0,body:void 0};const a=ml([l]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&a.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:Ox(t)}:this.encoder({body:t,headers:a})}}ns.DEFAULT_TIMEOUT=6e4;class lt extends ns{constructor(){super(...arguments),this.interactions=new Bg(this)}}Og=lt;lt.GeminiNextGenAPIClient=Og;lt.GeminiNextGenAPIClientError=Yt;lt.APIError=gt;lt.APIConnectionError=es;lt.APIConnectionTimeoutError=Ag;lt.APIUserAbortError=Vu;lt.NotFoundError=Rg;lt.ConflictError=Mg;lt.RateLimitError=Dg;lt.BadRequestError=bg;lt.AuthenticationError=Ng;lt.InternalServerError=Ug;lt.PermissionDeniedError=wg;lt.UnprocessableEntityError=Ig;lt.toFile=Qx;lt.Interactions=Bg;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function uA(o,t){const l={},a=u(o,["name"]);return a!=null&&c(l,["_url","name"],a),l}function cA(o,t){const l={},a=u(o,["name"]);return a!=null&&c(l,["_url","name"],a),l}function fA(o,t){const l={},a=u(o,["sdkHttpResponse"]);return a!=null&&c(l,["sdkHttpResponse"],a),l}function dA(o,t){const l={},a=u(o,["sdkHttpResponse"]);return a!=null&&c(l,["sdkHttpResponse"],a),l}function hA(o,t,l){const a={};if(u(o,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=u(o,["tunedModelDisplayName"]);if(t!==void 0&&r!=null&&c(t,["displayName"],r),u(o,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const f=u(o,["epochCount"]);t!==void 0&&f!=null&&c(t,["tuningTask","hyperparameters","epochCount"],f);const h=u(o,["learningRateMultiplier"]);if(h!=null&&c(a,["tuningTask","hyperparameters","learningRateMultiplier"],h),u(o,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(u(o,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(u(o,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const g=u(o,["batchSize"]);t!==void 0&&g!=null&&c(t,["tuningTask","hyperparameters","batchSize"],g);const y=u(o,["learningRate"]);if(t!==void 0&&y!=null&&c(t,["tuningTask","hyperparameters","learningRate"],y),u(o,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(u(o,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return a}function pA(o,t,l){const a={};let r=u(l,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const x=u(o,["validationDataset"]);t!==void 0&&x!=null&&c(t,["supervisedTuningSpec"],Om(x))}else if(r==="PREFERENCE_TUNING"){const x=u(o,["validationDataset"]);t!==void 0&&x!=null&&c(t,["preferenceOptimizationSpec"],Om(x))}const f=u(o,["tunedModelDisplayName"]);t!==void 0&&f!=null&&c(t,["tunedModelDisplayName"],f);const h=u(o,["description"]);t!==void 0&&h!=null&&c(t,["description"],h);let g=u(l,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const x=u(o,["epochCount"]);t!==void 0&&x!=null&&c(t,["supervisedTuningSpec","hyperParameters","epochCount"],x)}else if(g==="PREFERENCE_TUNING"){const x=u(o,["epochCount"]);t!==void 0&&x!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],x)}let y=u(l,["config","method"]);if(y===void 0&&(y="SUPERVISED_FINE_TUNING"),y==="SUPERVISED_FINE_TUNING"){const x=u(o,["learningRateMultiplier"]);t!==void 0&&x!=null&&c(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],x)}else if(y==="PREFERENCE_TUNING"){const x=u(o,["learningRateMultiplier"]);t!==void 0&&x!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],x)}let m=u(l,["config","method"]);if(m===void 0&&(m="SUPERVISED_FINE_TUNING"),m==="SUPERVISED_FINE_TUNING"){const x=u(o,["exportLastCheckpointOnly"]);t!==void 0&&x!=null&&c(t,["supervisedTuningSpec","exportLastCheckpointOnly"],x)}else if(m==="PREFERENCE_TUNING"){const x=u(o,["exportLastCheckpointOnly"]);t!==void 0&&x!=null&&c(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],x)}let v=u(l,["config","method"]);if(v===void 0&&(v="SUPERVISED_FINE_TUNING"),v==="SUPERVISED_FINE_TUNING"){const x=u(o,["adapterSize"]);t!==void 0&&x!=null&&c(t,["supervisedTuningSpec","hyperParameters","adapterSize"],x)}else if(v==="PREFERENCE_TUNING"){const x=u(o,["adapterSize"]);t!==void 0&&x!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],x)}if(u(o,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(u(o,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const T=u(o,["labels"]);t!==void 0&&T!=null&&c(t,["labels"],T);const E=u(o,["beta"]);return t!==void 0&&E!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","beta"],E),a}function mA(o,t){const l={},a=u(o,["baseModel"]);a!=null&&c(l,["baseModel"],a);const r=u(o,["preTunedModel"]);r!=null&&c(l,["preTunedModel"],r);const f=u(o,["trainingDataset"]);f!=null&&bA(f);const h=u(o,["config"]);return h!=null&&hA(h,l),l}function gA(o,t){const l={},a=u(o,["baseModel"]);a!=null&&c(l,["baseModel"],a);const r=u(o,["preTunedModel"]);r!=null&&c(l,["preTunedModel"],r);const f=u(o,["trainingDataset"]);f!=null&&NA(f,l,t);const h=u(o,["config"]);return h!=null&&pA(h,l,t),l}function yA(o,t){const l={},a=u(o,["name"]);return a!=null&&c(l,["_url","name"],a),l}function vA(o,t){const l={},a=u(o,["name"]);return a!=null&&c(l,["_url","name"],a),l}function SA(o,t,l){const a={},r=u(o,["pageSize"]);t!==void 0&&r!=null&&c(t,["_query","pageSize"],r);const f=u(o,["pageToken"]);t!==void 0&&f!=null&&c(t,["_query","pageToken"],f);const h=u(o,["filter"]);return t!==void 0&&h!=null&&c(t,["_query","filter"],h),a}function TA(o,t,l){const a={},r=u(o,["pageSize"]);t!==void 0&&r!=null&&c(t,["_query","pageSize"],r);const f=u(o,["pageToken"]);t!==void 0&&f!=null&&c(t,["_query","pageToken"],f);const h=u(o,["filter"]);return t!==void 0&&h!=null&&c(t,["_query","filter"],h),a}function EA(o,t){const l={},a=u(o,["config"]);return a!=null&&SA(a,l),l}function _A(o,t){const l={},a=u(o,["config"]);return a!=null&&TA(a,l),l}function CA(o,t){const l={},a=u(o,["sdkHttpResponse"]);a!=null&&c(l,["sdkHttpResponse"],a);const r=u(o,["nextPageToken"]);r!=null&&c(l,["nextPageToken"],r);const f=u(o,["tunedModels"]);if(f!=null){let h=f;Array.isArray(h)&&(h=h.map(g=>Fg(g))),c(l,["tuningJobs"],h)}return l}function xA(o,t){const l={},a=u(o,["sdkHttpResponse"]);a!=null&&c(l,["sdkHttpResponse"],a);const r=u(o,["nextPageToken"]);r!=null&&c(l,["nextPageToken"],r);const f=u(o,["tuningJobs"]);if(f!=null){let h=f;Array.isArray(h)&&(h=h.map(g=>Bu(g))),c(l,["tuningJobs"],h)}return l}function AA(o,t){const l={},a=u(o,["name"]);a!=null&&c(l,["model"],a);const r=u(o,["name"]);return r!=null&&c(l,["endpoint"],r),l}function bA(o,t){const l={};if(u(o,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(o,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const a=u(o,["examples"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(f=>f)),c(l,["examples","examples"],r)}return l}function NA(o,t,l){const a={};let r=u(l,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const h=u(o,["gcsUri"]);t!==void 0&&h!=null&&c(t,["supervisedTuningSpec","trainingDatasetUri"],h)}else if(r==="PREFERENCE_TUNING"){const h=u(o,["gcsUri"]);t!==void 0&&h!=null&&c(t,["preferenceOptimizationSpec","trainingDatasetUri"],h)}let f=u(l,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const h=u(o,["vertexDatasetResource"]);t!==void 0&&h!=null&&c(t,["supervisedTuningSpec","trainingDatasetUri"],h)}else if(f==="PREFERENCE_TUNING"){const h=u(o,["vertexDatasetResource"]);t!==void 0&&h!=null&&c(t,["preferenceOptimizationSpec","trainingDatasetUri"],h)}if(u(o,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return a}function Fg(o,t){const l={},a=u(o,["sdkHttpResponse"]);a!=null&&c(l,["sdkHttpResponse"],a);const r=u(o,["name"]);r!=null&&c(l,["name"],r);const f=u(o,["state"]);f!=null&&c(l,["state"],ag(f));const h=u(o,["createTime"]);h!=null&&c(l,["createTime"],h);const g=u(o,["tuningTask","startTime"]);g!=null&&c(l,["startTime"],g);const y=u(o,["tuningTask","completeTime"]);y!=null&&c(l,["endTime"],y);const m=u(o,["updateTime"]);m!=null&&c(l,["updateTime"],m);const v=u(o,["description"]);v!=null&&c(l,["description"],v);const T=u(o,["baseModel"]);T!=null&&c(l,["baseModel"],T);const E=u(o,["_self"]);return E!=null&&c(l,["tunedModel"],AA(E)),l}function Bu(o,t){const l={},a=u(o,["sdkHttpResponse"]);a!=null&&c(l,["sdkHttpResponse"],a);const r=u(o,["name"]);r!=null&&c(l,["name"],r);const f=u(o,["state"]);f!=null&&c(l,["state"],ag(f));const h=u(o,["createTime"]);h!=null&&c(l,["createTime"],h);const g=u(o,["startTime"]);g!=null&&c(l,["startTime"],g);const y=u(o,["endTime"]);y!=null&&c(l,["endTime"],y);const m=u(o,["updateTime"]);m!=null&&c(l,["updateTime"],m);const v=u(o,["error"]);v!=null&&c(l,["error"],v);const T=u(o,["description"]);T!=null&&c(l,["description"],T);const E=u(o,["baseModel"]);E!=null&&c(l,["baseModel"],E);const x=u(o,["tunedModel"]);x!=null&&c(l,["tunedModel"],x);const D=u(o,["preTunedModel"]);D!=null&&c(l,["preTunedModel"],D);const H=u(o,["supervisedTuningSpec"]);H!=null&&c(l,["supervisedTuningSpec"],H);const U=u(o,["preferenceOptimizationSpec"]);U!=null&&c(l,["preferenceOptimizationSpec"],U);const P=u(o,["tuningDataStats"]);P!=null&&c(l,["tuningDataStats"],P);const K=u(o,["encryptionSpec"]);K!=null&&c(l,["encryptionSpec"],K);const F=u(o,["partnerModelTuningSpec"]);F!=null&&c(l,["partnerModelTuningSpec"],F);const Q=u(o,["customBaseModel"]);Q!=null&&c(l,["customBaseModel"],Q);const Y=u(o,["experiment"]);Y!=null&&c(l,["experiment"],Y);const ne=u(o,["labels"]);ne!=null&&c(l,["labels"],ne);const W=u(o,["outputUri"]);W!=null&&c(l,["outputUri"],W);const ye=u(o,["pipelineJob"]);ye!=null&&c(l,["pipelineJob"],ye);const j=u(o,["serviceAccount"]);j!=null&&c(l,["serviceAccount"],j);const de=u(o,["tunedModelDisplayName"]);de!=null&&c(l,["tunedModelDisplayName"],de);const ve=u(o,["veoTuningSpec"]);return ve!=null&&c(l,["veoTuningSpec"],ve),l}function wA(o,t){const l={},a=u(o,["sdkHttpResponse"]);a!=null&&c(l,["sdkHttpResponse"],a);const r=u(o,["name"]);r!=null&&c(l,["name"],r);const f=u(o,["metadata"]);f!=null&&c(l,["metadata"],f);const h=u(o,["done"]);h!=null&&c(l,["done"],h);const g=u(o,["error"]);return g!=null&&c(l,["error"],g),l}function Om(o,t){const l={},a=u(o,["gcsUri"]);a!=null&&c(l,["validationDatasetUri"],a);const r=u(o,["vertexDatasetResource"]);return r!=null&&c(l,["validationDatasetUri"],r),l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class RA extends An{constructor(t){super(),this.apiClient=t,this.list=async(l={})=>new _o(xn.PAGED_ITEM_TUNING_JOBS,a=>this.listInternal(a),await this.listInternal(l),l),this.get=async l=>await this.getInternal(l),this.tune=async l=>{var a;if(this.apiClient.isVertexAI())if(l.baseModel.startsWith("projects/")){const r={tunedModelName:l.baseModel};!((a=l.config)===null||a===void 0)&&a.preTunedModelCheckpointId&&(r.checkpointId=l.config.preTunedModelCheckpointId);const f=Object.assign(Object.assign({},l),{preTunedModel:r});return f.baseModel=void 0,await this.tuneInternal(f)}else{const r=Object.assign({},l);return await this.tuneInternal(r)}else{const r=Object.assign({},l),f=await this.tuneMldevInternal(r);let h="";return f.metadata!==void 0&&f.metadata.tunedModel!==void 0?h=f.metadata.tunedModel:f.name!==void 0&&f.name.includes("/operations/")&&(h=f.name.split("/operations/")[0]),{name:h,state:Ru.JOB_STATE_QUEUED}}}}async getInternal(t){var l,a,r,f;let h,g="",y={};if(this.apiClient.isVertexAI()){const m=vA(t);return g=Z("{name}",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),h.then(v=>Bu(v))}else{const m=yA(t);return g=Z("{name}",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),h.then(v=>Fg(v))}}async listInternal(t){var l,a,r,f;let h,g="",y={};if(this.apiClient.isVertexAI()){const m=_A(t);return g=Z("tuningJobs",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),h.then(v=>{const T=xA(v),E=new mm;return Object.assign(E,T),E})}else{const m=EA(t);return g=Z("tunedModels",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),h.then(v=>{const T=CA(v),E=new mm;return Object.assign(E,T),E})}}async cancel(t){var l,a,r,f;let h,g="",y={};if(this.apiClient.isVertexAI()){const m=cA(t);return g=Z("{name}:cancel",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),h.then(v=>{const T=dA(v),E=new gm;return Object.assign(E,T),E})}else{const m=uA(t);return g=Z("{name}:cancel",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),h.then(v=>{const T=fA(v),E=new gm;return Object.assign(E,T),E})}}async tuneInternal(t){var l,a;let r,f="",h={};if(this.apiClient.isVertexAI()){const g=gA(t,t);return f=Z("tuningJobs",g._url),h=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>Bu(y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var l,a;let r,f="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=mA(t);return f=Z("tunedModels",g._url),h=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>wA(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class MA{async download(t,l){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const IA=1024*1024*8,DA=3,UA=1e3,LA=2,Xa="x-goog-upload-status";async function kA(o,t,l){var a;const r=await Jg(o,t,l),f=await(r==null?void 0:r.json());if(((a=r==null?void 0:r.headers)===null||a===void 0?void 0:a[Xa])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return f.file}async function HA(o,t,l){var a;const r=await Jg(o,t,l),f=await(r==null?void 0:r.json());if(((a=r==null?void 0:r.headers)===null||a===void 0?void 0:a[Xa])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const h=eg(f),g=new Ju;return Object.assign(g,h),g}async function Jg(o,t,l){var a,r;let f=0,h=0,g=new Mu(new Response),y="upload";for(f=o.size;h<f;){const m=Math.min(IA,f-h),v=o.slice(h,h+m);h+m>=f&&(y+=", finalize");let T=0,E=UA;for(;T<DA&&(g=await l.request({path:"",body:v,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":String(h),"Content-Length":String(m)}}}),!(!((a=g==null?void 0:g.headers)===null||a===void 0)&&a[Xa]));)T++,await VA(E),E=E*LA;if(h+=m,((r=g==null?void 0:g.headers)===null||r===void 0?void 0:r[Xa])!=="active")break;if(f<=h)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return g}async function GA(o){return{size:o.size,type:o.type}}function VA(o){return new Promise(t=>setTimeout(t,o))}class qA{async upload(t,l,a){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await kA(t,l,a)}async uploadToFileSearchStore(t,l,a){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await HA(t,l,a)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await GA(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zA{create(t,l,a){return new BA(t,l,a)}}class BA{constructor(t,l,a){this.url=t,this.headers=l,this.callbacks=a}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Fm="x-goog-api-key";class PA{constructor(t){this.apiKey=t}async addAuthHeaders(t,l){if(t.get(Fm)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(Fm,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const OA="gl-node/";class os{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const t=this.httpOptions;t!=null&&t.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const l=new lt({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:t==null?void 0:t.timeout});return this._interactions=l.interactions,this._interactions}constructor(t){var l;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(l=t.vertexai)!==null&&l!==void 0?l:!1,this.apiKey=t.apiKey;const a=Gv(t.httpOptions,t.vertexai,void 0,void 0);a&&(t.httpOptions?t.httpOptions.baseUrl=a:t.httpOptions={baseUrl:a}),this.apiVersion=t.apiVersion,this.httpOptions=t.httpOptions;const r=new PA(this.apiKey);this.apiClient=new GC({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:OA+"web",uploader:new qA,downloader:new MA}),this.models=new nx(this.apiClient),this.live=new QC(this.apiClient,r,new zA),this.batches=new dT(this.apiClient),this.chats=new WT(this.models,this.apiClient),this.caches=new FT(this.apiClient),this.files=new oE(this.apiClient),this.operations=new ox(this.apiClient),this.authTokens=new Sx(this.apiClient),this.tunings=new RA(this.apiClient),this.fileSearchStores=new Nx(this.apiClient)}}const FA=10,JA=(o,t)=>{const l=Math.max(0,t-FA+1);return o.slice(l,t+1).map(a=>`${a.sender}: ${a.text}`).join(`
`)},YA=async(o,t,l,a,r="English")=>{const h=await new os({apiKey:o}).models.generateContent({model:t,contents:`Analyze this ${r} learner's sentence: "${l}" within the context of this conversation: "${a}". Provide a detailed linguistic analysis.`,config:{systemInstruction:`You are an expert ${r} language coach helping a ${r} learner practice small talk. Analyze the learner's sentence for grammar, naturalness, and small talk effectiveness in ${r}. 
      Return JSON format. 
      - grammarErrors: Detail any mistakes or awkward phrasing.
      - grammarScore: A score from 1 (poor) to 10 (perfect).
      - naturalnessRating: Evaluate how a native ${r} speaker would perceive this.
      - naturalnessScore: A score from 1 (robotic/awkward) to 10 (completely native).
      - improvement: Provide a simpler, more natural way to say the same thing in ${r}.
      - extensions: Suggest what the LEARNER could say next to keep the conversation going in ${r}. This should be follow-up phrases, questions, or comments the learner can add to expand the topic or echo the other person. Do NOT suggest how the conversation partner would reply.
      - isNatural: true if no changes needed, false otherwise.`,responseMimeType:"application/json",responseSchema:{type:ue.OBJECT,properties:{grammarErrors:{type:ue.STRING},grammarScore:{type:ue.NUMBER},naturalnessRating:{type:ue.STRING},naturalnessScore:{type:ue.NUMBER},improvement:{type:ue.STRING},extensions:{type:ue.STRING},isNatural:{type:ue.BOOLEAN}},required:["grammarErrors","grammarScore","naturalnessRating","naturalnessScore","improvement","extensions","isNatural"]}}});return JSON.parse(h.text)},WA=async(o,t,l,a,r="English")=>{if(a.length===0)return[];const f=new os({apiKey:o}),h=a.map(m=>({id:m.id,text:m.text,context:JA(l,m.index)})),g=await f.models.generateContent({model:t,contents:`Analyze the following ${r} learner sentences. Each has its own context. Return an array of analysis objects, one for each message, keyed by "id".

Messages to analyze:
${JSON.stringify(h,null,2)}`,config:{systemInstruction:`You are an expert ${r} language coach helping a ${r} learner practice small talk. For EACH message provided, analyze for grammar, naturalness, and small talk effectiveness in ${r}.
      Return a JSON array where each object has:
      - id: The message id provided.
      - grammarErrors: Detail any mistakes or awkward phrasing.
      - grammarScore: A score from 1 (poor) to 10 (perfect).
      - naturalnessRating: Evaluate how a native ${r} speaker would perceive this.
      - naturalnessScore: A score from 1 (robotic/awkward) to 10 (completely native).
      - improvement: Provide a simpler, more natural way to say the same thing in ${r}.
      - extensions: Suggest what the LEARNER could say next to keep the conversation going in ${r}. This should be follow-up phrases, questions, or comments the learner can add to expand the topic or echo the other person. Do NOT suggest how the conversation partner would reply.
      - isNatural: true if no changes needed, false otherwise.`,responseMimeType:"application/json",responseSchema:{type:ue.ARRAY,items:{type:ue.OBJECT,properties:{id:{type:ue.STRING},grammarErrors:{type:ue.STRING},grammarScore:{type:ue.NUMBER},naturalnessRating:{type:ue.STRING},naturalnessScore:{type:ue.NUMBER},improvement:{type:ue.STRING},extensions:{type:ue.STRING},isNatural:{type:ue.BOOLEAN}},required:["id","grammarErrors","grammarScore","naturalnessRating","naturalnessScore","improvement","extensions","isNatural"]}}}});return JSON.parse(g.text).map(m=>({messageId:m.id,analysis:{grammarErrors:m.grammarErrors,grammarScore:m.grammarScore,naturalnessRating:m.naturalnessRating,naturalnessScore:m.naturalnessScore,improvement:m.improvement,extensions:m.extensions,isNatural:m.isNatural}}))},KA=async(o,t,l,a="English")=>{const f=await new os({apiKey:o}).models.generateContent({model:t,contents:`Summarize the overall ${a} performance, provide advanced vocabulary, and create a 3-5 word title for this conversation:

${l}`,config:{systemInstruction:`You are a professional linguist and ${a} coach. 
      Evaluate the overall conversation performance in ${a} and provide 8-10 specific vocabulary items in ${a}.
      Also generate a short descriptive title (3-5 words) that captures the topic.
      Return JSON format.
      - title: A short string title.
      - grammarPerformance: Overall grammar summary.
      - grammarScore: A score from 1 (poor) to 10 (perfect).
      - clarityEvaluation: Clarity analysis.
      - clarityScore: A score from 1 (unclear) to 10 (crystal clear).
      - flowAnalysis: Flow analysis.
      - flowScore: A score from 1 (choppy/disconnected) to 10 (smooth/natural).
      - keySuggestions: Array of improvement points.
      - suggestedVocabulary: Array of {phrase, reason, example}.`,responseMimeType:"application/json",responseSchema:{type:ue.OBJECT,properties:{title:{type:ue.STRING},grammarPerformance:{type:ue.STRING},grammarScore:{type:ue.NUMBER},clarityEvaluation:{type:ue.STRING},clarityScore:{type:ue.NUMBER},flowAnalysis:{type:ue.STRING},flowScore:{type:ue.NUMBER},keySuggestions:{type:ue.ARRAY,items:{type:ue.STRING}},suggestedVocabulary:{type:ue.ARRAY,items:{type:ue.OBJECT,properties:{phrase:{type:ue.STRING},reason:{type:ue.STRING},example:{type:ue.STRING}},required:["phrase","reason","example"]}}},required:["title","grammarPerformance","grammarScore","clarityEvaluation","clarityScore","flowAnalysis","flowScore","keySuggestions","suggestedVocabulary"]}}}),h=JSON.parse(f.text),{title:g,...y}=h;return{summary:y,title:g}},XA=async(o,t,l,a,r,f)=>{const h=new os({apiKey:o});let g="";a==="A"?g="Beginner level - use simple, everyday vocabulary only":a==="B"?g="Intermediate level - can include common expressions and slightly more varied vocabulary":g="Advanced level - can include a wider range of natural expressions, but still focus on everyday conversation";const y=await h.models.generateContent({model:t,contents:`Generate a small talk cheat sheet for the topic: "${l}"

User's preferred direction: ${f||"general conversation"}
Language: ${r}
${g}

Provide helpful vocabulary and sentences the learner can actually use in this conversation.`,config:{systemInstruction:`You are a helpful language coach preparing a learner for a small talk practice session.
      Generate practical vocabulary and sentences they can use.
      
      Return JSON with:
      - vocabulary: An array of 10-15 useful words or short phrases (2-4 words max each). These should be relevant to the topic and the user's preferred direction. Match the difficulty to the level.
      - sentences: An array of 5-10 ready-to-use sentences. Prefer statements over questions (about 4:1 ratio). These should feel natural and conversational, not textbook-like.
      
      Make the content practical and immediately usable in real conversation.`,responseMimeType:"application/json",responseSchema:{type:ue.OBJECT,properties:{vocabulary:{type:ue.ARRAY,items:{type:ue.STRING}},sentences:{type:ue.ARRAY,items:{type:ue.STRING}}},required:["vocabulary","sentences"]}}});return JSON.parse(y.text)},QA=({content:o,topic:t,userContext:l,isLoading:a=!1,onClose:r})=>_.jsx("div",{className:"fixed inset-0 z-[110] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-in fade-in duration-200",children:_.jsxs("div",{className:"bg-white w-full max-w-2xl rounded-2xl shadow-2xl overflow-hidden flex flex-col max-h-[85vh] animate-in zoom-in-95 duration-200",children:[_.jsxs("div",{className:"p-6 bg-gradient-to-r from-amber-500 to-orange-600 text-white flex justify-between items-center flex-shrink-0",children:[_.jsxs("div",{children:[_.jsx("h2",{className:"text-xl font-bold flex items-center gap-2",children:" Cheat Sheet"}),_.jsxs("p",{className:"text-amber-100 text-sm mt-1 truncate max-w-md",children:[t,l&&_.jsxs("span",{className:"opacity-75",children:["  ",l]})]})]}),_.jsx("button",{onClick:r,className:"p-2 hover:bg-white/10 rounded-full transition-colors",children:_.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),_.jsx("div",{className:"p-6 overflow-y-auto space-y-6 custom-scrollbar",children:a?_.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[_.jsx("div",{className:"w-10 h-10 border-4 border-amber-200 border-t-amber-500 rounded-full animate-spin mb-4"}),_.jsx("p",{className:"text-gray-500 text-sm",children:"Generating your cheat sheet..."})]}):_.jsxs(_.Fragment,{children:[_.jsxs("section",{className:"space-y-3",children:[_.jsxs("h3",{className:"text-sm font-bold text-gray-600 uppercase tracking-widest flex items-center gap-2",children:[_.jsx("span",{className:"text-lg",children:""}),"Useful Vocabulary"]}),_.jsx("div",{className:"flex flex-wrap gap-2",children:o.vocabulary.map((f,h)=>_.jsx("span",{className:"px-3 py-1.5 bg-amber-50 text-amber-800 rounded-full text-sm font-medium border border-amber-200 hover:bg-amber-100 transition-colors",children:f},h))})]}),_.jsxs("section",{className:"space-y-3 pt-4 border-t border-gray-100",children:[_.jsxs("h3",{className:"text-sm font-bold text-gray-600 uppercase tracking-widest flex items-center gap-2",children:[_.jsx("span",{className:"text-lg",children:""}),"Ready-to-Use Sentences"]}),_.jsx("div",{className:"space-y-2",children:o.sentences.map((f,h)=>_.jsxs("div",{className:"p-3 bg-gray-50 rounded-xl border border-gray-100 text-gray-700 text-sm leading-relaxed hover:bg-gray-100 transition-colors",children:[_.jsxs("span",{className:"text-amber-500 font-bold mr-2",children:[h+1,"."]}),f]},h))})]})]})}),_.jsxs("div",{className:"p-4 border-t border-gray-100 bg-gray-50 flex justify-between items-center flex-shrink-0",children:[_.jsx("p",{className:"text-xs text-gray-400",children:"Use these to keep the conversation flowing!"}),_.jsx("button",{onClick:r,className:"px-5 py-2 bg-gray-800 text-white font-semibold rounded-xl hover:bg-gray-900 transition-all shadow-md active:scale-95 text-sm",children:"Got it!"})]})]})}),ZA=["A","B","C"],bu={A:{bg:"bg-green-500",hover:"hover:bg-green-600",text:"text-white"},B:{bg:"bg-amber-500",hover:"hover:bg-amber-600",text:"text-white"},C:{bg:"bg-purple-500",hover:"hover:bg-purple-600",text:"text-white"}},Jm=[{value:"curious",label:"Curious & Engaging",prompt:"Ask thoughtful follow-up questions, show genuine interest in my answers."},{value:"supportive",label:"Supportive & Encouraging",prompt:"Be warm and encouraging, give gentle positive feedback."},{value:"talkative",label:"Talkative & Expressive",prompt:"Share your own thoughts and experiences too, make it a two-way conversation."},{value:"brief",label:"Brief & Direct",prompt:"Keep responses concise and to the point."}],Ym=[{id:"INTJ",label:"INTJ  Architect"},{id:"INTP",label:"INTP  Logician"},{id:"ENTJ",label:"ENTJ  Commander"},{id:"ENTP",label:"ENTP  Debater"},{id:"INFJ",label:"INFJ  Advocate"},{id:"INFP",label:"INFP  Mediator"},{id:"ENFJ",label:"ENFJ  Protagonist"},{id:"ENFP",label:"ENFP  Campaigner"},{id:"ISTJ",label:"ISTJ  Logistician"},{id:"ISFJ",label:"ISFJ  Defender"},{id:"ESTJ",label:"ESTJ  Executive"},{id:"ESFJ",label:"ESFJ  Consul"},{id:"ISTP",label:"ISTP  Virtuoso"},{id:"ISFP",label:"ISFP  Adventurer"},{id:"ESTP",label:"ESTP  Entrepreneur"},{id:"ESFP",label:"ESFP  Entertainer"}],Wm=[{id:"Aries",label:"Aries "},{id:"Taurus",label:"Taurus "},{id:"Gemini",label:"Gemini "},{id:"Cancer",label:"Cancer "},{id:"Leo",label:"Leo "},{id:"Virgo",label:"Virgo "},{id:"Libra",label:"Libra "},{id:"Scorpio",label:"Scorpio "},{id:"Sagittarius",label:"Sagittarius "},{id:"Capricorn",label:"Capricorn "},{id:"Aquarius",label:"Aquarius "},{id:"Pisces",label:"Pisces "}],$A=({onClose:o,language:t,apiKey:l,model:a,customLanguages:r,onAddCustomLanguage:f})=>{const[h,g]=re.useState(null),[y,m]=re.useState(null),[v,T]=re.useState("curious"),[E,x]=re.useState(t||"English"),[D,H]=re.useState(!1),[U,P]=re.useState(!1),[K,F]=re.useState("ENFP"),[Q,Y]=re.useState(!1),[ne,W]=re.useState("Leo"),[ye,j]=re.useState(!1),[de,ve]=re.useState(""),[be,Te]=re.useState(null),[He,Ke]=re.useState(null),[k,J]=re.useState(!1),[le,Ne]=re.useState(!1),[Me,b]=re.useState(null);re.useEffect(()=>{Ke(null),Te(null),ve(""),b(null)},[h]);const V=()=>{j(!0)},X=async(O=!1)=>{if(!l||!a||!h||!y)return;const Le=O?be||"":de;j(!1),Ne(!0),b(null),J(!0);try{const Se=await XA(l,a,h,y,E,Le);Ke(Se),Te(Le)}catch(Se){b((Se==null?void 0:Se.message)||"Failed to generate cheat sheet"),J(!1)}finally{Ne(!1)}},ee=O=>{m(O),g(fp(O))},se=()=>{y&&g(fp(y))},$=()=>{const O=Jm.find(Lt=>Lt.value===v),Le=(O==null?void 0:O.prompt)||"";let Se="";if(U||Q){const Lt=[];if(U){const ft=Ym.find(Nn=>Nn.id===K);Lt.push(`${(ft==null?void 0:ft.label)||K} personality`)}if(Q){const ft=Wm.find(Nn=>Nn.id===ne);Lt.push(`${(ft==null?void 0:ft.label)||ne} energy`)}Se=` Roleplay with a ${Lt.join(" and ")} vibe.`}let Ut="";return y==="A"?Ut=`
Language Level: Beginner-friendly
- Keep sentences simple and clear
- Use everyday vocabulary only
- Speak at a comfortable pace
- Ask straightforward questions
- Be encouraging and patient`:y==="B"?Ut=`
Language Level: Intermediate (can use A-B range)
- Use natural, everyday expressions
- You may ask for opinions or descriptions
- Keep it conversational and friendly
- Introduce common phrases natives actually use
- Still prioritize clarity over complexity`:y==="C"&&(Ut=`
Language Level: Advanced (can use A-C range)
- Use natural, authentic daily conversation style
- Feel free to use idioms or expressions if they fit naturally
- Engage in genuine discussion, not academic language
- The goal is fluent, real-world conversation
- Don't artificially make things difficult - keep it natural`),`Let's practice ${E||"English"} small talk. Topic: "${h}"
${Ut}
Style: ${Le}${Se}

When I say "let's start", ask me this question in a casual, friendly way in ${E||"English"}. Keep the conversation natural and interactive. Adjust your language complexity to match the difficulty level above.`};return _.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/60 backdrop-blur-md animate-in fade-in duration-200",children:_.jsxs("div",{className:"bg-white w-full max-w-lg rounded-2xl shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200 max-h-[90vh] flex flex-col",children:[_.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center flex-shrink-0",children:[_.jsx("h2",{className:"text-xl font-bold text-gray-800",children:" Small Talk Topic"}),_.jsx("button",{onClick:o,className:"p-2 hover:bg-gray-100 rounded-full",children:_.jsx("svg",{className:"w-5 h-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),_.jsxs("div",{className:"p-6 space-y-5 overflow-y-auto",children:[_.jsxs("div",{className:"space-y-3",children:[_.jsx("p",{className:"text-sm font-semibold text-gray-600 uppercase tracking-wider",children:"Select Difficulty Level"}),_.jsx("div",{className:"flex gap-3",children:ZA.map(O=>_.jsxs("button",{onClick:()=>ee(O),className:`
                    flex-1 py-4 rounded-xl font-bold text-lg transition-all active:scale-95 shadow-md
                    ${bu[O].bg} ${bu[O].hover} ${bu[O].text}
                    ${y===O?"ring-4 ring-offset-2 ring-gray-300":""}
                  `,children:[_.jsx("div",{className:"text-2xl",children:O}),_.jsx("div",{className:"text-xs opacity-80 mt-1",children:Dv(O)})]},O))})]}),h&&_.jsxs("div",{className:"space-y-4 animate-in slide-in-from-bottom-4 duration-300",children:[_.jsxs("div",{className:"space-y-2",children:[_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsx("p",{className:"text-sm font-semibold text-gray-600 uppercase tracking-wider",children:"Your Topic"}),_.jsxs("button",{onClick:se,className:"flex items-center gap-1 text-xs text-blue-600 hover:text-blue-700 font-medium",children:[_.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Another Topic"]})]}),_.jsx("div",{className:"p-4 bg-gradient-to-br from-blue-50 to-indigo-50 rounded-xl border border-blue-100",children:_.jsx("p",{className:"text-lg text-gray-800 leading-relaxed font-medium",children:h})})]}),_.jsxs("div",{className:"space-y-2",children:[_.jsx("p",{className:"text-sm font-semibold text-gray-600 uppercase tracking-wider",children:"Conversation Style"}),_.jsx("select",{value:v,onChange:O=>T(O.target.value),className:"w-full px-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none text-sm",children:Jm.map(O=>_.jsx("option",{value:O.value,children:O.label},O.value))})]}),_.jsxs("div",{className:"space-y-2",children:[_.jsx("p",{className:"text-sm font-semibold text-gray-600 uppercase tracking-wider",children:"Practice Language"}),_.jsxs("select",{value:["English","Japanese","Spanish",...r||[]].includes(E)?E:"Other",onChange:O=>{O.target.value!=="Other"?(x(O.target.value),H(!1)):(x(""),H(!1))},className:"w-full px-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none text-sm",children:[_.jsx("option",{value:"English",children:"English"}),_.jsx("option",{value:"Japanese",children:"Japanese"}),_.jsx("option",{value:"Spanish",children:"Spanish"}),(r||[]).map(O=>_.jsx("option",{value:O,children:O},O)),_.jsx("option",{value:"Other",children:"Other..."})]}),!["English","Japanese","Spanish",...r||[]].includes(E)&&_.jsxs("div",{className:"flex gap-2 items-center",children:[_.jsx("input",{type:"text",value:E,onChange:O=>x(O.target.value),placeholder:"Enter language name (e.g., German, French)",className:"flex-1 px-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none text-sm"}),f&&_.jsxs("label",{className:"flex items-center gap-1 text-[10px] text-gray-500 whitespace-nowrap cursor-pointer",children:[_.jsx("input",{type:"checkbox",checked:D,onChange:O=>H(O.target.checked),className:"w-3.5 h-3.5 rounded border-gray-300 text-blue-600"}),"Save"]})]})]}),_.jsxs("div",{className:"space-y-2 p-3 bg-gradient-to-r from-pink-50 to-purple-50 rounded-xl border border-pink-100",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("span",{className:"text-xs font-bold text-purple-600 uppercase tracking-wider",children:" Fun Experiment"}),_.jsx("span",{className:"text-[10px] text-purple-400 bg-purple-100 px-2 py-0.5 rounded-full",children:"Just for fun!"})]}),_.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-2",children:[_.jsxs("div",{className:"space-y-1",children:[_.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[_.jsx("input",{type:"checkbox",checked:U,onChange:O=>P(O.target.checked),className:"w-4 h-4 rounded border-gray-300 text-purple-600 focus:ring-purple-500"}),_.jsx("span",{className:"text-xs font-medium text-gray-700",children:"MBTI Vibe"})]}),U&&_.jsx("select",{value:K,onChange:O=>F(O.target.value),className:"w-full px-2 py-1.5 bg-white border border-purple-200 rounded-lg text-xs focus:ring-2 focus:ring-purple-500",children:Ym.map(O=>_.jsx("option",{value:O.id,children:O.label},O.id))})]}),_.jsxs("div",{className:"space-y-1",children:[_.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[_.jsx("input",{type:"checkbox",checked:Q,onChange:O=>Y(O.target.checked),className:"w-4 h-4 rounded border-gray-300 text-purple-600 focus:ring-purple-500"}),_.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Star Sign"})]}),Q&&_.jsx("select",{value:ne,onChange:O=>W(O.target.value),className:"w-full px-2 py-1.5 bg-white border border-purple-200 rounded-lg text-xs focus:ring-2 focus:ring-purple-500",children:Wm.map(O=>_.jsx("option",{value:O.id,children:O.label},O.id))})]})]})]}),_.jsxs("div",{className:"flex gap-2",children:[_.jsxs("a",{href:`https://chatgpt.com/?prompt=${encodeURIComponent($())}`,target:"_blank",rel:"noopener noreferrer",onClick:()=>{D&&E.trim()&&f&&(f(E.trim()),H(!1))},className:"flex-1 flex items-center justify-center gap-2 py-3 bg-gradient-to-r from-teal-500 to-emerald-500 text-white font-bold rounded-xl hover:from-teal-600 hover:to-emerald-600 transition-all shadow-md active:scale-95",children:[_.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{d:"M22.282 9.821a5.985 5.985 0 0 0-.516-4.91 6.046 6.046 0 0 0-6.51-2.9A6.065 6.065 0 0 0 4.981 4.18a5.985 5.985 0 0 0-3.998 2.9 6.046 6.046 0 0 0 .743 7.097 5.98 5.98 0 0 0 .51 4.911 6.051 6.051 0 0 0 6.515 2.9A5.985 5.985 0 0 0 13.26 24a6.056 6.056 0 0 0 5.772-4.206 5.99 5.99 0 0 0 3.997-2.9 6.056 6.056 0 0 0-.747-7.073zM13.26 22.43a4.476 4.476 0 0 1-2.876-1.04l.141-.081 4.779-2.758a.795.795 0 0 0 .392-.681v-6.737l2.02 1.168a.071.071 0 0 1 .038.052v5.583a4.504 4.504 0 0 1-4.494 4.494zM3.6 18.304a4.47 4.47 0 0 1-.535-3.014l.142.085 4.783 2.759a.771.771 0 0 0 .78 0l5.843-3.369v2.332a.08.08 0 0 1-.033.062L9.74 19.95a4.5 4.5 0 0 1-6.14-1.646zM2.34 7.896a4.485 4.485 0 0 1 2.366-1.973V11.6a.766.766 0 0 0 .388.676l5.815 3.355-2.02 1.168a.076.076 0 0 1-.071 0l-4.83-2.786A4.504 4.504 0 0 1 2.34 7.896zm16.597 3.855l-5.833-3.387L15.119 7.2a.076.076 0 0 1 .071 0l4.83 2.791a4.494 4.494 0 0 1-.676 8.105v-5.678a.79.79 0 0 0-.407-.667zm2.01-3.023l-.141-.085-4.774-2.782a.776.776 0 0 0-.785 0L9.409 9.23V6.897a.066.066 0 0 1 .028-.061l4.83-2.787a4.5 4.5 0 0 1 6.68 4.66zm-12.64 4.135l-2.02-1.164a.08.08 0 0 1-.038-.057V6.075a4.5 4.5 0 0 1 7.375-3.453l-.142.08L8.704 5.46a.795.795 0 0 0-.393.681zm1.097-2.365l2.602-1.5 2.607 1.5v2.999l-2.597 1.5-2.607-1.5z"})}),"Chat with ChatGPT"]}),l&&_.jsx("button",{onClick:V,className:"px-4 py-3 bg-gradient-to-r from-amber-500 to-orange-500 text-white font-bold rounded-xl hover:from-amber-600 hover:to-orange-600 transition-all shadow-md active:scale-95",title:"Get vocabulary and sentences to help you",children:""})]}),_.jsx("p",{className:"text-[10px] text-gray-400 text-center",children:` Send the message first, click Voice Mode, then say "let's start" to begin!`})]}),ye&&_.jsx("div",{className:"fixed inset-0 z-[120] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:_.jsxs("div",{className:"bg-white w-full max-w-md rounded-2xl shadow-2xl p-6 space-y-4 animate-in zoom-in-95",children:[_.jsx("h3",{className:"text-lg font-bold text-gray-800",children:" Cheat Sheet Preferences"}),_.jsx("p",{className:"text-sm text-gray-500",children:"What direction would you like to take this conversation?"}),_.jsx("input",{type:"text",value:de,onChange:O=>ve(O.target.value),placeholder:"e.g., coffee, travel, work...",className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-amber-500 focus:border-transparent outline-none",autoFocus:!0}),_.jsxs("div",{className:"flex gap-2",children:[be&&He&&_.jsxs("button",{onClick:()=>{j(!1),J(!0)},className:"flex-1 py-2.5 bg-gray-100 text-gray-700 font-medium rounded-xl hover:bg-gray-200 transition-all text-sm",children:['Use last: "',be||"general",'"']}),_.jsx("button",{onClick:()=>X(!1),className:"flex-1 py-2.5 bg-amber-500 text-white font-bold rounded-xl hover:bg-amber-600 transition-all",children:"Generate"})]}),_.jsx("button",{onClick:()=>j(!1),className:"w-full py-2 text-gray-400 hover:text-gray-600 text-sm",children:"Cancel"})]})}),k&&(He||le)&&_.jsx(QA,{content:He||{vocabulary:[],sentences:[]},topic:h||"",userContext:be||de,isLoading:le,onClose:()=>J(!1)}),Me&&_.jsx("div",{className:"p-3 bg-red-50 text-red-700 rounded-xl text-sm",children:Me}),!h&&_.jsxs("div",{className:"p-8 text-center text-gray-400",children:[_.jsx("div",{className:"text-4xl mb-2",children:""}),_.jsx("p",{className:"text-sm",children:"Click a level button above to get a random topic"})]})]}),_.jsx("div",{className:"p-4 bg-gray-50 border-t border-gray-100 flex-shrink-0",children:_.jsxs("div",{className:"flex justify-center gap-6 text-xs text-gray-500",children:[_.jsxs("span",{children:[_.jsx("span",{className:"inline-block w-3 h-3 rounded bg-green-500 mr-1"})," A: Simple"]}),_.jsxs("span",{children:[_.jsx("span",{className:"inline-block w-3 h-3 rounded bg-amber-500 mr-1"})," B: Opinions"]}),_.jsxs("span",{children:[_.jsx("span",{className:"inline-block w-3 h-3 rounded bg-purple-500 mr-1"})," C: Abstract"]})]})})]})})},jA=o=>{if(!o.trim())return[];const t=o.split(`
`).filter(f=>f.trim().length>0),l=[];let a="",r="user";return t.forEach((f,h)=>{const g=f.match(/^\[(.*?)\](?:\s*\((.*?)\))?:\s*(.*)/);if(g){a=g[1];const y=a.toLowerCase();r=y.includes("chatgpt")||y.includes("ai")?"assistant":"user";let m=g[3].trim();m.startsWith('"')&&m.endsWith('"')&&(m=m.slice(1,-1)),m.startsWith('"')&&m.endsWith('"')&&(m=m.slice(1,-1)),l.push({id:`msg-${Date.now()}-${h}`,sender:a,role:r,text:m,timestamp:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})}else if(l.length>0){let y=f.trim();y.startsWith('"')&&y.endsWith('"')&&(y=y.slice(1,-1)),l[l.length-1].text+=`
`+y}}),l},eb={Afrikaans:"AF",Albanian:"SQ",Amharic:"AM",Arabic:"AR",Armenian:"HY",Azerbaijani:"AZ",Basque:"EU",Belarusian:"BE",Bengali:"BN",Bosnian:"BS",Bulgarian:"BG",Catalan:"CA",Chinese:"ZH",Croatian:"HR",Czech:"CS",Danish:"DA",Dutch:"NL",English:"EN",Estonian:"ET",Filipino:"TL",Finnish:"FI",French:"FR",Galician:"GL",Georgian:"KA",German:"DE",Greek:"EL",Gujarati:"GU",Hebrew:"HE",Hindi:"HI",Hungarian:"HU",Icelandic:"IS",Indonesian:"ID",Irish:"GA",Italian:"IT",Japanese:"JA",Kannada:"KN",Kazakh:"KK",Khmer:"KM",Korean:"KO",Kurdish:"KU",Lao:"LO",Latvian:"LV",Lithuanian:"LT",Macedonian:"MK",Malay:"MS",Malayalam:"ML",Marathi:"MR",Mongolian:"MN",Nepali:"NE",Norwegian:"NO",Persian:"FA",Polish:"PL",Portuguese:"PT",Punjabi:"PA",Romanian:"RO",Russian:"RU",Serbian:"SR",Sinhala:"SI",Slovak:"SK",Slovenian:"SL",Spanish:"ES",Swahili:"SW",Swedish:"SV",Tamil:"TA",Telugu:"TE",Thai:"TH",Turkish:"TR",Ukrainian:"UK",Urdu:"UR",Uzbek:"UZ",Vietnamese:"VI",Welsh:"CY",Yiddish:"YI",Zulu:"ZU"},tb={EN:"#3B82F6",JA:"#EF4444",ES:"#F59E0B",ZH:"#10B981",FR:"#8B5CF6",DE:"#EC4899",KO:"#14B8A6",PT:"#22C55E",IT:"#06B6D4",RU:"#6366F1",AR:"#84CC16",HI:"#F97316"},nb="#6B7280",Km=o=>{if(!o)return"EN";const t=o.trim();return eb[t]||t.substring(0,2).toUpperCase()},ob=o=>tb[o]||nb,Nu="gab_guide_conversations",Xm="gab_guide_settings",Qm="gab_guide_default_language",Zm={apiKey:"",model:Cn.GEMINI_3_FLASH_PREVIEW,colorByScoring:jn.AFTER_READ,customLanguages:[],showConversationScores:!1},ib=()=>{const[o,t]=re.useState(()=>{const q=localStorage.getItem(Nu);return q?JSON.parse(q):[]}),[l,a]=re.useState(()=>{const q=localStorage.getItem(Xm);if(q){const ce=JSON.parse(q);return{...Zm,...ce}}return Zm}),[r,f]=re.useState(null),[h,g]=re.useState(""),[y,m]=re.useState(null),[v,T]=re.useState(null),[E,x]=re.useState(it.IDLE),[D,H]=re.useState(!1),[U,P]=re.useState(!1),[K,F]=re.useState(!1),[Q,Y]=re.useState(!1),[ne,W]=re.useState(!1),[ye,j]=re.useState(!1),[de,ve]=re.useState(!1),[be,Te]=re.useState(new Set),[He,Ke]=re.useState(null),[k,J]=re.useState(!1),[le,Ne]=re.useState(!1),[Me,b]=re.useState(null),[V,X]=re.useState(()=>localStorage.getItem(Qm)||"English"),[ee,se]=re.useState(!1),$=o.find(q=>q.id===r),O=($==null?void 0:$.messages)||[],Le=($==null?void 0:$.summary)||null;re.useEffect(()=>{localStorage.setItem(Nu,JSON.stringify(o))},[o]),re.useEffect(()=>{localStorage.setItem(Xm,JSON.stringify(l))},[l]),re.useEffect(()=>{localStorage.setItem(Qm,V)},[V]);const Se=re.useCallback(q=>{r&&t(ce=>ce.map(pe=>pe.id===r?{...pe,...q,updatedAt:Date.now()}:pe))},[r]),Ut=()=>{const q=`conv-${Date.now()}`,ce={id:q,title:"New Conversation",createdAt:Date.now(),updatedAt:Date.now(),messages:[],summary:null};t(pe=>[ce,...pe]),f(q),g(""),T(null),x(it.IDLE),W(!1),ve(!1)},Lt=()=>{const q=jA(h);if(q.length!==0){if(r)Se({messages:[...O,...q]});else{const ce=`conv-${Date.now()}`,pe={id:ce,title:"Imported Chat",createdAt:Date.now(),updatedAt:Date.now(),messages:q,summary:null,language:V};t(we=>[pe,...we]),f(ce)}if(ee&&V.trim()){const ce=V.trim();["English","Japanese","Spanish",...l.customLanguages].includes(ce)||a(we=>({...we,customLanguages:[...we.customLanguages,ce]})),se(!1)}g("")}},ft=()=>l.apiKey?!0:(Y(!0),!1),Nn=async q=>{if(!(q.role!=="user"||!ft()||de)){if(m(q.id),q.analysis){T(q.analysis),x(it.SUCCESS),Se({messages:O.map(ce=>ce.id===q.id?{...ce,viewed:!0}:ce)});return}x(it.LOADING),T(null);try{const ce=O.findIndex(Ce=>Ce.id===q.id),pe=O.slice(Math.max(0,ce-9),ce+1).map(Ce=>`${Ce.sender}: ${Ce.text}`).join(`
`),we=await YA(l.apiKey,l.model,q.text,pe,($==null?void 0:$.language)||"English");Se({messages:O.map(Ce=>Ce.id===q.id?{...Ce,analysis:we,viewed:!0}:Ce)}),T(we),x(it.SUCCESS)}catch(ce){console.error(ce);const pe=(ce==null?void 0:ce.message)||"An unexpected error occurred during analysis.";b(pe),x(it.ERROR)}}},on=q=>{Te(ce=>{const pe=new Set(ce);return pe.has(q)?pe.delete(q):pe.add(q),pe})},mi=()=>{if(be.size===0)return;const q=O.filter(ce=>!be.has(ce.id));Se({messages:q}),ve(!1),Te(new Set),J(!1)},gi=async()=>{if(!(K||O.length===0||!ft())){F(!0);try{const q=O.map((Ce,to)=>({...Ce,index:to})).filter(Ce=>Ce.role==="user"&&!Ce.analysis);if(q.length===0){F(!1);return}const ce=await WA(l.apiKey,l.model,O,q.map(Ce=>({id:Ce.id,text:Ce.text,index:Ce.index})),($==null?void 0:$.language)||"English"),pe=new Map(ce.map(Ce=>[Ce.messageId,Ce.analysis])),we=O.map(Ce=>{const to=pe.get(Ce.id);return to?{...Ce,analysis:to}:Ce});Se({messages:we})}catch(q){console.error(q),b((q==null?void 0:q.message)||"An unexpected error occurred during batch analysis.")}F(!1)}},vl=async()=>{if(O.length===0||!ft())return null;if(Le)return H(!0),Le;P(!0);try{const q=O.map(we=>`${we.sender}: ${we.text}`).join(`
`),{summary:ce,title:pe}=await KA(l.apiKey,l.model,q,($==null?void 0:$.language)||"English");return Se({summary:ce,title:pe}),H(!0),ce}catch(q){return console.error(q),b((q==null?void 0:q.message)||"An unexpected error occurred while generating summary."),null}finally{P(!1)}},Sl=async()=>{if(!ft())return;let q=Le;if(q||(q=await vl()),!q)return;const ce=window.open("","_blank");if(!ce)return;const pe=`
      <html>
        <head>
          <title>Gab Guide - Report: ${$==null?void 0:$.title}</title>
          <script src="https://cdn.tailwindcss.com"><\/script>
          <style>
            @media print { .no-print { display: none; } body { background: white; } .page-break { page-break-after: always; } }
          </style>
        </head>
        <body class="bg-gray-50 p-8">
          <div class="max-w-4xl mx-auto bg-white p-10 shadow-lg rounded-xl border border-gray-100">
            <div class="flex justify-between items-center mb-10 pb-6 border-b-2 border-blue-600">
              <div>
                <h1 class="text-3xl font-black text-gray-900">Gab Guide Report</h1>
                <p class="text-gray-500 font-medium">Session: ${$==null?void 0:$.title}</p>
              </div>
              <div class="text-right text-sm text-gray-400">
                Generated: ${new Date().toLocaleDateString()}<br/>
                ${new Date().toLocaleTimeString()}
              </div>
            </div>

            <section class="mb-12">
              <h2 class="text-xl font-bold text-blue-700 mb-6 uppercase tracking-widest border-l-4 border-blue-600 pl-4">Overall Performance</h2>
              <div class="grid grid-cols-2 gap-8 mb-8">
                <div class="p-5 bg-blue-50 rounded-xl border border-blue-100">
                  <h3 class="text-xs font-black text-blue-800 uppercase mb-2">Grammar</h3>
                  <p class="text-gray-700 text-sm leading-relaxed">${q.grammarPerformance}</p>
                </div>
                <div class="p-5 bg-indigo-50 rounded-xl border border-indigo-100">
                  <h3 class="text-xs font-black text-indigo-800 uppercase mb-2">Clarity</h3>
                  <p class="text-gray-700 text-sm leading-relaxed">${q.clarityEvaluation}</p>
                </div>
              </div>
              <div class="p-5 bg-gray-50 rounded-xl mb-8 border border-gray-200">
                <h3 class="text-xs font-black text-gray-800 uppercase mb-2">Flow</h3>
                <p class="text-gray-700 text-sm leading-relaxed">${q.flowAnalysis}</p>
              </div>
              <div>
                <h3 class="text-sm font-bold text-gray-800 mb-4">Strategic Tips:</h3>
                <ul class="space-y-3">
                  ${q.keySuggestions.map(we=>`
                    <li class="flex items-start text-sm text-gray-700">
                      <span class="text-blue-600 font-bold mr-2"></span> ${we}
                    </li>
                  `).join("")}
                </ul>
              </div>
            </section>

            <section class="mb-12">
              <h2 class="text-xl font-bold text-indigo-700 mb-6 uppercase tracking-widest border-l-4 border-indigo-600 pl-4">Vocabulary Boosters</h2>
              <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                ${q.suggestedVocabulary.map(we=>`
                  <div class="bg-gray-50 p-4 rounded-xl border border-gray-100">
                    <div class="font-bold text-indigo-700 text-base mb-1">${we.phrase}</div>
                    <p class="text-[10px] text-gray-500 mb-2 italic">${we.reason}</p>
                    <p class="text-xs text-indigo-900 border-t border-indigo-50 pt-2"><span class="font-bold">Ex:</span> "${we.example}"</p>
                  </div>
                `).join("")}
              </div>
            </section>

            <div class="page-break"></div>

            <section>
              <h2 class="text-xl font-bold text-blue-700 mb-6 uppercase tracking-widest border-l-4 border-blue-600 pl-4">Analysis Details</h2>
              <div class="space-y-8">
                ${O.map(we=>`
                  <div class="pb-6 border-b border-gray-100 last:border-0">
                    <div class="flex items-center mb-2">
                      <span class="font-black text-xs uppercase tracking-tighter ${we.role==="user"?"text-blue-600":"text-gray-500"}">${we.sender}</span>
                      <span class="mx-2 text-gray-300"></span>
                      <span class="text-[10px] text-gray-400 font-mono">${we.timestamp}</span>
                    </div>
                    <p class="text-gray-800 text-sm bg-gray-50 p-3 rounded-lg border border-gray-100 italic mb-4">"${we.text}"</p>
                    ${we.analysis?`
                      <div class="ml-6 border-l-2 border-amber-200 pl-4 space-y-4">
                        <div class="flex gap-4">
                          <div class="px-3 py-1 bg-green-50 text-green-700 rounded text-xs font-bold border border-green-100">Score: ${we.analysis.grammarScore}/10</div>
                          <div class="px-3 py-1 bg-blue-50 text-blue-700 rounded text-xs font-bold border border-blue-100">Naturalness: ${we.analysis.naturalnessScore}/10</div>
                        </div>
                        <div>
                          <p class="text-xs font-black text-gray-500 uppercase mb-1">Correction:</p>
                          <p class="text-sm text-blue-800 font-semibold bg-blue-50 p-2 rounded border border-blue-100">"${we.analysis.improvement}"</p>
                        </div>
                      </div>
                    `:""}
                  </div>
                `).join("")}
              </div>
            </section>
            
            <div class="mt-12 pt-6 border-t border-gray-100 text-center text-[10px] text-gray-400 uppercase tracking-widest no-print">
              End of Gab Guide Report
              <button onclick="window.print()" class="block mx-auto mt-4 px-6 py-2 bg-blue-600 text-white rounded-lg font-bold hover:bg-blue-700 transition-colors">Print to PDF</button>
            </div>
          </div>
        </body>
      </html>
    `;ce.document.write(pe),ce.document.close()},yi=()=>{let q=`GAB GUIDE SESSION: ${($==null?void 0:$.title)||"Export"}
`;q+=`========================================

`,Le&&(q+=`PERFORMANCE SUMMARY
`,q+=`-------------------
`,q+=`Grammar: ${Le.grammarPerformance}
`,q+=`Clarity: ${Le.clarityEvaluation}
`,q+=`Flow: ${Le.flowAnalysis}

`,q+=`VOCABULARY BOOSTERS
`,Le.suggestedVocabulary.forEach(Ce=>{q+=`- ${Ce.phrase} (${Ce.reason}): "${Ce.example}"
`}),q+=`
`),q+=`CONVERSATION DETAILS
`,q+=`--------------------
`,O.forEach(Ce=>{q+=`[${Ce.sender}]: ${Ce.text}
`,Ce.analysis&&(q+=`  Correction: ${Ce.analysis.improvement}
`),q+=`
`});const ce=new Blob([q],{type:"text/plain"}),pe=URL.createObjectURL(ce),we=document.createElement("a");we.href=pe,we.download=`gab_guide_${($==null?void 0:$.title.replace(/\s+/g,"_"))||"export"}.txt`,document.body.appendChild(we),we.click(),document.body.removeChild(we),URL.revokeObjectURL(pe)},vi=()=>{He&&(t(q=>q.filter(ce=>ce.id!==He)),r===He&&(f(null),T(null),x(it.IDLE)),Ke(null))},Si=()=>{t([]),T(null),x(it.IDLE),f(null),localStorage.removeItem(Nu),Ne(!1)};return _.jsxs("div",{className:"flex flex-col h-screen max-h-screen bg-gray-50 overflow-hidden",children:[_.jsxs("header",{className:"bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between shadow-sm z-10",children:[_.jsxs("div",{className:"flex items-center space-x-3",children:[_.jsx("button",{onClick:()=>W(!ne),className:"p-2 hover:bg-gray-100 rounded-lg lg:hidden",children:_.jsx("svg",{className:"w-6 h-6 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})})}),_.jsx("div",{className:"flex-shrink-0",children:_.jsx("img",{src:"/gab-guide/logo.png",alt:"Gab Guide Logo",className:"w-10 h-10 rounded-xl shadow-sm"})}),_.jsxs("div",{className:"hidden sm:block",children:[_.jsx("h1",{className:"text-xl font-bold text-gray-900 leading-tight",children:"Gab Guide"}),_.jsx("p",{className:"text-xs text-gray-500 font-medium",children:"Your Local English Coach"})]})]}),_.jsxs("div",{className:"flex items-center space-x-2",children:[$&&O.length>0&&_.jsx(_.Fragment,{children:de?_.jsxs("div",{className:"flex items-center space-x-2 animate-in slide-in-from-top duration-300",children:[_.jsxs("span",{className:"text-xs font-bold text-blue-600 px-2 py-1 bg-blue-50 rounded-lg",children:[be.size," Selected"]}),_.jsx("button",{onClick:()=>J(!0),disabled:be.size===0,className:"flex items-center space-x-2 px-3 py-2 bg-red-50 text-red-600 font-bold rounded-lg hover:bg-red-100 transition-colors disabled:opacity-50 text-xs",children:"Delete Selected"}),_.jsx("button",{onClick:()=>{ve(!1),Te(new Set)},className:"flex items-center space-x-2 px-3 py-2 bg-gray-100 text-gray-700 font-bold rounded-lg hover:bg-gray-200 transition-colors text-xs",children:"Cancel"})]}):_.jsxs(_.Fragment,{children:[_.jsxs("button",{onClick:()=>ve(!0),className:"hidden sm:flex items-center space-x-2 px-3 py-2 text-gray-500 hover:text-gray-700 font-bold rounded-lg transition-colors text-xs border border-gray-100 bg-white",children:[_.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),_.jsx("span",{children:"Edit Chat"})]}),_.jsxs("button",{onClick:gi,disabled:K,className:"hidden md:flex items-center space-x-2 px-3 py-2 bg-gray-100 text-gray-700 font-bold rounded-lg hover:bg-gray-200 transition-colors disabled:opacity-50 text-xs",children:[K?_.jsx("span",{className:"w-3 h-3 border-2 border-gray-700 border-t-transparent animate-spin rounded-full"}):null,_.jsx("span",{children:"Analyze All"})]}),_.jsxs("button",{onClick:vl,disabled:U,className:"flex items-center space-x-2 px-3 py-2 bg-blue-50 text-blue-700 font-bold rounded-lg hover:bg-blue-100 transition-colors disabled:opacity-50 text-xs",children:[U?_.jsx("span",{className:"w-3 h-3 border-2 border-blue-700 border-t-transparent animate-spin rounded-full"}):null,_.jsx("span",{children:Le?"View Summary":"Summarize"})]}),_.jsxs("div",{className:"flex bg-gray-100 p-1 rounded-lg space-x-1",children:[_.jsx("button",{onClick:yi,className:"p-1.5 text-gray-500 hover:text-blue-600 hover:bg-white rounded transition-all",title:"Export as TXT",children:_.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),_.jsx("button",{onClick:Sl,className:"p-1.5 text-gray-500 hover:text-red-600 hover:bg-white rounded transition-all",title:"Export for PDF/Print",children:_.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"}),_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 17h6M9 13h6"})]})})]}),_.jsx("button",{onClick:()=>Ne(!0),className:"p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-lg transition-all",title:"Clear All History",children:_.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})}),_.jsx("button",{onClick:()=>Y(!0),className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-50 rounded-lg",children:_.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})})]})]}),_.jsxs("main",{className:"flex-1 flex overflow-hidden relative",children:[_.jsx("aside",{className:`
            fixed inset-y-0 left-0 z-40 w-72 bg-white border-r border-gray-100 transform transition-transform duration-300 lg:relative lg:translate-x-0
            ${ne?"translate-x-0":"-translate-x-full"}
          `,children:_.jsxs("div",{className:"h-full flex flex-col p-4 pt-[80px] lg:pt-4",children:[_.jsxs("button",{onClick:Ut,className:"w-full flex items-center justify-center space-x-2 py-3 bg-blue-600 text-white font-bold rounded-xl hover:bg-blue-700 transition-all mb-3 shadow-md shadow-blue-100",children:[_.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})}),_.jsx("span",{children:"New Analysis"})]}),_.jsxs("button",{onClick:()=>j(!0),className:"w-full flex items-center justify-center space-x-2 py-3 bg-gradient-to-r from-purple-500 to-indigo-500 text-white font-bold rounded-xl hover:from-purple-600 hover:to-indigo-600 transition-all mb-6 shadow-md shadow-purple-100",children:[_.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),_.jsx("span",{children:"Topic Idea"})]}),_.jsxs("div",{className:"flex-1 overflow-y-auto space-y-2 custom-scrollbar",children:[_.jsx("h3",{className:"px-2 text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-2",children:"History"}),o.length===0&&_.jsx("div",{className:"p-4 text-center text-xs text-gray-400 italic",children:"No history yet"}),o.map(q=>_.jsxs("div",{onClick:()=>{f(q.id),W(!1),ve(!1)},className:`
                    group flex items-center justify-between p-3 rounded-xl cursor-pointer transition-all
                    ${r===q.id?"bg-blue-50 border border-blue-100":"hover:bg-gray-50 border border-transparent"}
                  `,children:[_.jsxs("div",{className:"flex-1 min-w-0 mr-2",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("p",{className:`text-sm font-semibold truncate ${r===q.id?"text-blue-700":"text-gray-700"}`,children:q.title}),q.language&&_.jsx("span",{className:"flex-shrink-0 px-1.5 py-0.5 text-[10px] font-bold rounded",style:{backgroundColor:ob(Km(q.language)),color:"white",textShadow:"0 0 2px rgba(0,0,0,0.8), 0 0 2px rgba(0,0,0,0.8)"},children:Km(q.language)})]}),_.jsx("p",{className:"text-[10px] text-gray-400",children:new Date(q.updatedAt).toLocaleDateString()}),l.showConversationScores&&q.summary&&_.jsxs("div",{className:"flex gap-0.5 mt-1",children:[_.jsx("div",{className:`w-3 h-1.5 rounded-sm ${_u(q.summary.grammarScore)}`,title:`Grammar: ${q.summary.grammarScore}/10`}),_.jsx("div",{className:`w-3 h-1.5 rounded-sm ${_u(q.summary.clarityScore)}`,title:`Clarity: ${q.summary.clarityScore}/10`}),_.jsx("div",{className:`w-3 h-1.5 rounded-sm ${_u(q.summary.flowScore)}`,title:`Flow: ${q.summary.flowScore}/10`})]})]}),_.jsx("button",{onClick:ce=>{ce.stopPropagation(),Ke(q.id)},className:"p-1.5 text-gray-300 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-opacity",children:_.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]},q.id))]})]})}),ne&&_.jsx("div",{onClick:()=>W(!1),className:"lg:hidden fixed inset-0 bg-black/20 z-30"}),_.jsx("div",{className:`flex-1 flex flex-col transition-all duration-300 ${E!==it.IDLE?"md:mr-[380px]":""}`,children:!$||O.length===0?_.jsx("div",{className:"flex-1 flex flex-col items-center justify-center p-8 text-center bg-gray-50",children:_.jsx("div",{className:"max-w-md w-full animate-in fade-in zoom-in duration-500",children:_.jsxs("div",{className:"bg-white p-8 rounded-3xl shadow-xl border border-gray-100 mb-6",children:[_.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Ready to Guide Your Gab?"}),_.jsx("p",{className:"text-gray-500 mb-8 text-sm leading-relaxed",children:"Paste your chat history to start your linguistic analysis journey."}),_.jsx("textarea",{value:h,onChange:q=>g(q.target.value),placeholder:`[Steven]: "Hi there!"
[Coach]: "Hello Steven, how are you?"`,className:"w-full h-48 p-4 text-sm bg-gray-50 border border-gray-200 rounded-2xl focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all font-mono"}),_.jsxs("div",{className:"mt-4 space-y-2",children:[_.jsx("label",{className:"text-xs font-bold text-gray-600 block",children:"Analysis Language"}),_.jsxs("select",{value:["English","Japanese","Spanish",...l.customLanguages].includes(V)?V:"Other",onChange:q=>{q.target.value!=="Other"?(X(q.target.value),se(!1)):(X(""),se(!1))},className:"w-full px-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none text-sm",children:[_.jsx("option",{value:"English",children:"English"}),_.jsx("option",{value:"Japanese",children:"Japanese"}),_.jsx("option",{value:"Spanish",children:"Spanish"}),l.customLanguages.map(q=>_.jsx("option",{value:q,children:q},q)),_.jsx("option",{value:"Other",children:"Other..."})]}),!["English","Japanese","Spanish",...l.customLanguages].includes(V)&&_.jsxs("div",{className:"flex gap-2 items-center",children:[_.jsx("input",{type:"text",value:V,onChange:q=>X(q.target.value),placeholder:"Enter language name (e.g., German, French)",className:"flex-1 px-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none text-sm"}),_.jsxs("label",{className:"flex items-center gap-1 text-[10px] text-gray-500 whitespace-nowrap cursor-pointer",children:[_.jsx("input",{type:"checkbox",checked:ee,onChange:q=>se(q.target.checked),className:"w-3.5 h-3.5 rounded border-gray-300 text-blue-600"}),"Save"]})]})]}),_.jsx("button",{onClick:Lt,disabled:!h.trim(),className:"w-full mt-6 bg-blue-600 text-white font-bold py-3 rounded-xl hover:bg-blue-700 transition-all disabled:opacity-50 shadow-lg shadow-blue-100",children:"Load Transcript"})]})})}):_.jsx("div",{className:"flex-1 overflow-y-auto p-4 md:p-8 custom-scrollbar",children:_.jsxs("div",{className:"max-w-3xl mx-auto pb-20",children:[_.jsx("div",{className:"mb-8 flex items-center justify-between",children:_.jsx("input",{value:$.title,onChange:q=>Se({title:q.target.value}),className:"text-xl font-bold text-gray-800 bg-transparent border-none outline-none focus:ring-2 focus:ring-blue-100 rounded px-2 -ml-2"})}),O.map(q=>_.jsx(Av,{message:q,isSelected:y===q.id,isEditMode:de,isChecked:be.has(q.id),onToggleCheck:on,onClick:Nn,colorByScoring:l.colorByScoring},q.id))]})})}),_.jsx("aside",{className:`
            hidden md:block fixed right-0 top-[73px] bottom-0 w-[380px] z-20 transition-transform duration-300 transform
            ${E===it.IDLE?"translate-x-full":"translate-x-0"}
          `,children:_.jsx(up,{state:E,analysis:v,onClose:()=>{x(it.IDLE),m(null)}})}),E!==it.IDLE&&_.jsx("div",{className:"md:hidden fixed inset-0 z-50 flex flex-col bg-white",children:_.jsx(up,{state:E,analysis:v,onClose:()=>{x(it.IDLE),m(null)}})})]}),D&&_.jsx(Nv,{summary:Le,onClose:()=>H(!1)}),Q&&_.jsx(Mv,{currentKey:l.apiKey,currentModel:l.model,currentColorByScoring:l.colorByScoring,currentCustomLanguages:l.customLanguages,currentShowConversationScores:l.showConversationScores,onSave:q=>{a({apiKey:q.key,model:q.model,colorByScoring:q.colorByScoring,customLanguages:q.customLanguages,showConversationScores:q.showConversationScores}),Y(!1)},onClose:()=>Y(!1)}),ye&&_.jsx($A,{onClose:()=>j(!1),language:V,apiKey:l.apiKey,model:l.model,customLanguages:l.customLanguages,onAddCustomLanguage:q=>{["English","Japanese","Spanish",...l.customLanguages].includes(q)||a(pe=>({...pe,customLanguages:[...pe.customLanguages,q]}))}}),He&&_.jsx(gl,{title:"Delete Conversation",message:"Are you sure you want to delete this conversation? This action cannot be undone.",confirmLabel:"Delete",confirmVariant:"danger",onConfirm:vi,onCancel:()=>Ke(null)}),k&&_.jsx(gl,{title:"Delete Messages",message:`Are you sure you want to delete ${be.size} selected messages?`,confirmLabel:"Delete",confirmVariant:"danger",onConfirm:mi,onCancel:()=>J(!1)}),le&&_.jsx(gl,{title:"Reset Everything",message:"Are you sure you want to clear your entire conversation history? This cannot be undone.",confirmLabel:"Clear All",confirmVariant:"danger",onConfirm:Si,onCancel:()=>Ne(!1)}),Me&&_.jsx(gl,{title:"AI Analysis Error",message:Me,confirmLabel:"Close",confirmVariant:"primary",onConfirm:()=>b(null),onCancel:()=>b(null)}),_.jsx("style",{children:`
        .custom-scrollbar::-webkit-scrollbar { width: 6px; }
        .custom-scrollbar::-webkit-scrollbar-track { background: transparent; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background: #e2e8f0; border-radius: 10px; }
      `})]})},Yg=document.getElementById("root");if(!Yg)throw new Error("Could not find root element to mount to");const lb=Cv.createRoot(Yg);lb.render(_.jsx(mv.StrictMode,{children:_.jsx(ib,{})}));
