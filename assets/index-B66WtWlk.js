(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const f of r)if(f.type==="childList")for(const h of f.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&a(h)}).observe(document,{childList:!0,subtree:!0});function l(r){const f={};return r.integrity&&(f.integrity=r.integrity),r.referrerPolicy&&(f.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?f.credentials="include":r.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function a(r){if(r.ep)return;r.ep=!0;const f=l(r);fetch(r.href,f)}})();function eg(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}var vu={exports:{}},hl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jh;function hv(){if(jh)return hl;jh=1;var o=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function l(a,r,f){var h=null;if(f!==void 0&&(h=""+f),r.key!==void 0&&(h=""+r.key),"key"in r){f={};for(var g in r)g!=="key"&&(f[g]=r[g])}else f=r;return r=f.ref,{$$typeof:o,type:a,key:h,ref:r!==void 0?r:null,props:f}}return hl.Fragment=t,hl.jsx=l,hl.jsxs=l,hl}var ep;function pv(){return ep||(ep=1,vu.exports=hv()),vu.exports}var T=pv(),Su={exports:{}},he={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tp;function mv(){if(tp)return he;tp=1;var o=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),h=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),_=Symbol.iterator;function C(b){return b===null||typeof b!="object"?null:(b=_&&b[_]||b["@@iterator"],typeof b=="function"?b:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},H=Object.assign,U={};function P(b,q,X){this.props=b,this.context=q,this.refs=U,this.updater=X||D}P.prototype.isReactComponent={},P.prototype.setState=function(b,q){if(typeof b!="object"&&typeof b!="function"&&b!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,b,q,"setState")},P.prototype.forceUpdate=function(b){this.updater.enqueueForceUpdate(this,b,"forceUpdate")};function K(){}K.prototype=P.prototype;function O(b,q,X){this.props=b,this.context=q,this.refs=U,this.updater=X||D}var $=O.prototype=new K;$.constructor=O,H($,P.prototype),$.isPureReactComponent=!0;var Y=Array.isArray;function te(){}var W={H:null,A:null,T:null,S:null},Se=Object.prototype.hasOwnProperty;function j(b,q,X){var Q=X.ref;return{$$typeof:o,type:b,key:q,ref:Q!==void 0?Q:null,props:X}}function pe(b,q){return j(b.type,q,b.props)}function be(b){return typeof b=="object"&&b!==null&&b.$$typeof===o}function Me(b){var q={"=":"=0",":":"=2"};return"$"+b.replace(/[=:]/g,function(X){return q[X]})}var Ee=/\/+/g;function ke(b,q){return typeof b=="object"&&b!==null&&b.key!=null?Me(""+b.key):q.toString(36)}function Xe(b){switch(b.status){case"fulfilled":return b.value;case"rejected":throw b.reason;default:switch(typeof b.status=="string"?b.then(te,te):(b.status="pending",b.then(function(q){b.status==="pending"&&(b.status="fulfilled",b.value=q)},function(q){b.status==="pending"&&(b.status="rejected",b.reason=q)})),b.status){case"fulfilled":return b.value;case"rejected":throw b.reason}}throw b}function k(b,q,X,Q,ce){var me=typeof b;(me==="undefined"||me==="boolean")&&(b=null);var F=!1;if(b===null)F=!0;else switch(me){case"bigint":case"string":case"number":F=!0;break;case"object":switch(b.$$typeof){case o:case t:F=!0;break;case v:return F=b._init,k(F(b._payload),q,X,Q,ce)}}if(F)return ce=ce(b),F=Q===""?"."+ke(b,0):Q,Y(ce)?(X="",F!=null&&(X=F.replace(Ee,"$&/")+"/"),k(ce,q,X,"",function(Ye){return Ye})):ce!=null&&(be(ce)&&(ce=pe(ce,X+(ce.key==null||b&&b.key===ce.key?"":(""+ce.key).replace(Ee,"$&/")+"/")+F)),q.push(ce)),1;F=0;var ae=Q===""?".":Q+":";if(Y(b))for(var ue=0;ue<b.length;ue++)Q=b[ue],me=ae+ke(Q,ue),F+=k(Q,q,X,me,ce);else if(ue=C(b),typeof ue=="function")for(b=ue.call(b),ue=0;!(Q=b.next()).done;)Q=Q.value,me=ae+ke(Q,ue++),F+=k(Q,q,X,me,ce);else if(me==="object"){if(typeof b.then=="function")return k(Xe(b),q,X,Q,ce);throw q=String(b),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return F}function J(b,q,X){if(b==null)return b;var Q=[],ce=0;return k(b,Q,"","",function(me){return q.call(X,me,ce++)}),Q}function le(b){if(b._status===-1){var q=b._result;q=q(),q.then(function(X){(b._status===0||b._status===-1)&&(b._status=1,b._result=X)},function(X){(b._status===0||b._status===-1)&&(b._status=2,b._result=X)}),b._status===-1&&(b._status=0,b._result=q)}if(b._status===1)return b._result.default;throw b._result}var Ne=typeof reportError=="function"?reportError:function(b){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof b=="object"&&b!==null&&typeof b.message=="string"?String(b.message):String(b),error:b});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",b);return}console.error(b)},Ie={map:J,forEach:function(b,q,X){J(b,function(){q.apply(this,arguments)},X)},count:function(b){var q=0;return J(b,function(){q++}),q},toArray:function(b){return J(b,function(q){return q})||[]},only:function(b){if(!be(b))throw Error("React.Children.only expected to receive a single React element child.");return b}};return he.Activity=E,he.Children=Ie,he.Component=P,he.Fragment=l,he.Profiler=r,he.PureComponent=O,he.StrictMode=a,he.Suspense=y,he.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=W,he.__COMPILER_RUNTIME={__proto__:null,c:function(b){return W.H.useMemoCache(b)}},he.cache=function(b){return function(){return b.apply(null,arguments)}},he.cacheSignal=function(){return null},he.cloneElement=function(b,q,X){if(b==null)throw Error("The argument must be a React element, but you passed "+b+".");var Q=H({},b.props),ce=b.key;if(q!=null)for(me in q.key!==void 0&&(ce=""+q.key),q)!Se.call(q,me)||me==="key"||me==="__self"||me==="__source"||me==="ref"&&q.ref===void 0||(Q[me]=q[me]);var me=arguments.length-2;if(me===1)Q.children=X;else if(1<me){for(var F=Array(me),ae=0;ae<me;ae++)F[ae]=arguments[ae+2];Q.children=F}return j(b.type,ce,Q)},he.createContext=function(b){return b={$$typeof:h,_currentValue:b,_currentValue2:b,_threadCount:0,Provider:null,Consumer:null},b.Provider=b,b.Consumer={$$typeof:f,_context:b},b},he.createElement=function(b,q,X){var Q,ce={},me=null;if(q!=null)for(Q in q.key!==void 0&&(me=""+q.key),q)Se.call(q,Q)&&Q!=="key"&&Q!=="__self"&&Q!=="__source"&&(ce[Q]=q[Q]);var F=arguments.length-2;if(F===1)ce.children=X;else if(1<F){for(var ae=Array(F),ue=0;ue<F;ue++)ae[ue]=arguments[ue+2];ce.children=ae}if(b&&b.defaultProps)for(Q in F=b.defaultProps,F)ce[Q]===void 0&&(ce[Q]=F[Q]);return j(b,me,ce)},he.createRef=function(){return{current:null}},he.forwardRef=function(b){return{$$typeof:g,render:b}},he.isValidElement=be,he.lazy=function(b){return{$$typeof:v,_payload:{_status:-1,_result:b},_init:le}},he.memo=function(b,q){return{$$typeof:m,type:b,compare:q===void 0?null:q}},he.startTransition=function(b){var q=W.T,X={};W.T=X;try{var Q=b(),ce=W.S;ce!==null&&ce(X,Q),typeof Q=="object"&&Q!==null&&typeof Q.then=="function"&&Q.then(te,Ne)}catch(me){Ne(me)}finally{q!==null&&X.types!==null&&(q.types=X.types),W.T=q}},he.unstable_useCacheRefresh=function(){return W.H.useCacheRefresh()},he.use=function(b){return W.H.use(b)},he.useActionState=function(b,q,X){return W.H.useActionState(b,q,X)},he.useCallback=function(b,q){return W.H.useCallback(b,q)},he.useContext=function(b){return W.H.useContext(b)},he.useDebugValue=function(){},he.useDeferredValue=function(b,q){return W.H.useDeferredValue(b,q)},he.useEffect=function(b,q){return W.H.useEffect(b,q)},he.useEffectEvent=function(b){return W.H.useEffectEvent(b)},he.useId=function(){return W.H.useId()},he.useImperativeHandle=function(b,q,X){return W.H.useImperativeHandle(b,q,X)},he.useInsertionEffect=function(b,q){return W.H.useInsertionEffect(b,q)},he.useLayoutEffect=function(b,q){return W.H.useLayoutEffect(b,q)},he.useMemo=function(b,q){return W.H.useMemo(b,q)},he.useOptimistic=function(b,q){return W.H.useOptimistic(b,q)},he.useReducer=function(b,q,X){return W.H.useReducer(b,q,X)},he.useRef=function(b){return W.H.useRef(b)},he.useState=function(b){return W.H.useState(b)},he.useSyncExternalStore=function(b,q,X){return W.H.useSyncExternalStore(b,q,X)},he.useTransition=function(){return W.H.useTransition()},he.version="19.2.3",he}var np;function Ju(){return np||(np=1,Su.exports=mv()),Su.exports}var oe=Ju();const gv=eg(oe);var Eu={exports:{}},pl={},Tu={exports:{}},_u={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var op;function yv(){return op||(op=1,(function(o){function t(k,J){var le=k.length;k.push(J);e:for(;0<le;){var Ne=le-1>>>1,Ie=k[Ne];if(0<r(Ie,J))k[Ne]=J,k[le]=Ie,le=Ne;else break e}}function l(k){return k.length===0?null:k[0]}function a(k){if(k.length===0)return null;var J=k[0],le=k.pop();if(le!==J){k[0]=le;e:for(var Ne=0,Ie=k.length,b=Ie>>>1;Ne<b;){var q=2*(Ne+1)-1,X=k[q],Q=q+1,ce=k[Q];if(0>r(X,le))Q<Ie&&0>r(ce,X)?(k[Ne]=ce,k[Q]=le,Ne=Q):(k[Ne]=X,k[q]=le,Ne=q);else if(Q<Ie&&0>r(ce,le))k[Ne]=ce,k[Q]=le,Ne=Q;else break e}}return J}function r(k,J){var le=k.sortIndex-J.sortIndex;return le!==0?le:k.id-J.id}if(o.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;o.unstable_now=function(){return f.now()}}else{var h=Date,g=h.now();o.unstable_now=function(){return h.now()-g}}var y=[],m=[],v=1,E=null,_=3,C=!1,D=!1,H=!1,U=!1,P=typeof setTimeout=="function"?setTimeout:null,K=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function $(k){for(var J=l(m);J!==null;){if(J.callback===null)a(m);else if(J.startTime<=k)a(m),J.sortIndex=J.expirationTime,t(y,J);else break;J=l(m)}}function Y(k){if(H=!1,$(k),!D)if(l(y)!==null)D=!0,te||(te=!0,Me());else{var J=l(m);J!==null&&Xe(Y,J.startTime-k)}}var te=!1,W=-1,Se=5,j=-1;function pe(){return U?!0:!(o.unstable_now()-j<Se)}function be(){if(U=!1,te){var k=o.unstable_now();j=k;var J=!0;try{e:{D=!1,H&&(H=!1,K(W),W=-1),C=!0;var le=_;try{t:{for($(k),E=l(y);E!==null&&!(E.expirationTime>k&&pe());){var Ne=E.callback;if(typeof Ne=="function"){E.callback=null,_=E.priorityLevel;var Ie=Ne(E.expirationTime<=k);if(k=o.unstable_now(),typeof Ie=="function"){E.callback=Ie,$(k),J=!0;break t}E===l(y)&&a(y),$(k)}else a(y);E=l(y)}if(E!==null)J=!0;else{var b=l(m);b!==null&&Xe(Y,b.startTime-k),J=!1}}break e}finally{E=null,_=le,C=!1}J=void 0}}finally{J?Me():te=!1}}}var Me;if(typeof O=="function")Me=function(){O(be)};else if(typeof MessageChannel<"u"){var Ee=new MessageChannel,ke=Ee.port2;Ee.port1.onmessage=be,Me=function(){ke.postMessage(null)}}else Me=function(){P(be,0)};function Xe(k,J){W=P(function(){k(o.unstable_now())},J)}o.unstable_IdlePriority=5,o.unstable_ImmediatePriority=1,o.unstable_LowPriority=4,o.unstable_NormalPriority=3,o.unstable_Profiling=null,o.unstable_UserBlockingPriority=2,o.unstable_cancelCallback=function(k){k.callback=null},o.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Se=0<k?Math.floor(1e3/k):5},o.unstable_getCurrentPriorityLevel=function(){return _},o.unstable_next=function(k){switch(_){case 1:case 2:case 3:var J=3;break;default:J=_}var le=_;_=J;try{return k()}finally{_=le}},o.unstable_requestPaint=function(){U=!0},o.unstable_runWithPriority=function(k,J){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var le=_;_=k;try{return J()}finally{_=le}},o.unstable_scheduleCallback=function(k,J,le){var Ne=o.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?Ne+le:Ne):le=Ne,k){case 1:var Ie=-1;break;case 2:Ie=250;break;case 5:Ie=1073741823;break;case 4:Ie=1e4;break;default:Ie=5e3}return Ie=le+Ie,k={id:v++,callback:J,priorityLevel:k,startTime:le,expirationTime:Ie,sortIndex:-1},le>Ne?(k.sortIndex=le,t(m,k),l(y)===null&&k===l(m)&&(H?(K(W),W=-1):H=!0,Xe(Y,le-Ne))):(k.sortIndex=Ie,t(y,k),D||C||(D=!0,te||(te=!0,Me()))),k},o.unstable_shouldYield=pe,o.unstable_wrapCallback=function(k){var J=_;return function(){var le=_;_=J;try{return k.apply(this,arguments)}finally{_=le}}}})(_u)),_u}var ip;function vv(){return ip||(ip=1,Tu.exports=yv()),Tu.exports}var xu={exports:{}},ht={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lp;function Sv(){if(lp)return ht;lp=1;var o=Ju();function t(y){var m="https://react.dev/errors/"+y;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)m+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+y+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var a={d:{f:l,r:function(){throw Error(t(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},r=Symbol.for("react.portal");function f(y,m,v){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:E==null?null:""+E,children:y,containerInfo:m,implementation:v}}var h=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,m){if(y==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return ht.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,ht.createPortal=function(y,m){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return f(y,m,null,v)},ht.flushSync=function(y){var m=h.T,v=a.p;try{if(h.T=null,a.p=2,y)return y()}finally{h.T=m,a.p=v,a.d.f()}},ht.preconnect=function(y,m){typeof y=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,a.d.C(y,m))},ht.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},ht.preinit=function(y,m){if(typeof y=="string"&&m&&typeof m.as=="string"){var v=m.as,E=g(v,m.crossOrigin),_=typeof m.integrity=="string"?m.integrity:void 0,C=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;v==="style"?a.d.S(y,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:E,integrity:_,fetchPriority:C}):v==="script"&&a.d.X(y,{crossOrigin:E,integrity:_,fetchPriority:C,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},ht.preinitModule=function(y,m){if(typeof y=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var v=g(m.as,m.crossOrigin);a.d.M(y,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&a.d.M(y)},ht.preload=function(y,m){if(typeof y=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var v=m.as,E=g(v,m.crossOrigin);a.d.L(y,v,{crossOrigin:E,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},ht.preloadModule=function(y,m){if(typeof y=="string")if(m){var v=g(m.as,m.crossOrigin);a.d.m(y,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else a.d.m(y)},ht.requestFormReset=function(y){a.d.r(y)},ht.unstable_batchedUpdates=function(y,m){return y(m)},ht.useFormState=function(y,m,v){return h.H.useFormState(y,m,v)},ht.useFormStatus=function(){return h.H.useHostTransitionStatus()},ht.version="19.2.3",ht}var ap;function Ev(){if(ap)return xu.exports;ap=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(t){console.error(t)}}return o(),xu.exports=Sv(),xu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sp;function Tv(){if(sp)return pl;sp=1;var o=vv(),t=Ju(),l=Ev();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)n+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var n=e,i=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(i=n.return),e=n.return;while(e)}return n.tag===3?i:null}function h(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(f(e)!==e)throw Error(a(188))}function m(e){var n=e.alternate;if(!n){if(n=f(e),n===null)throw Error(a(188));return n!==e?null:e}for(var i=e,s=n;;){var d=i.return;if(d===null)break;var p=d.alternate;if(p===null){if(s=d.return,s!==null){i=s;continue}break}if(d.child===p.child){for(p=d.child;p;){if(p===i)return y(d),e;if(p===s)return y(d),n;p=p.sibling}throw Error(a(188))}if(i.return!==s.return)i=d,s=p;else{for(var S=!1,x=d.child;x;){if(x===i){S=!0,i=d,s=p;break}if(x===s){S=!0,s=d,i=p;break}x=x.sibling}if(!S){for(x=p.child;x;){if(x===i){S=!0,i=p,s=d;break}if(x===s){S=!0,s=p,i=d;break}x=x.sibling}if(!S)throw Error(a(189))}}if(i.alternate!==s)throw Error(a(190))}if(i.tag!==3)throw Error(a(188));return i.stateNode.current===i?e:n}function v(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=v(e),n!==null)return n;e=e.sibling}return null}var E=Object.assign,_=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),H=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),K=Symbol.for("react.consumer"),O=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),te=Symbol.for("react.suspense_list"),W=Symbol.for("react.memo"),Se=Symbol.for("react.lazy"),j=Symbol.for("react.activity"),pe=Symbol.for("react.memo_cache_sentinel"),be=Symbol.iterator;function Me(e){return e===null||typeof e!="object"?null:(e=be&&e[be]||e["@@iterator"],typeof e=="function"?e:null)}var Ee=Symbol.for("react.client.reference");function ke(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Ee?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case H:return"Fragment";case P:return"Profiler";case U:return"StrictMode";case Y:return"Suspense";case te:return"SuspenseList";case j:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case D:return"Portal";case O:return e.displayName||"Context";case K:return(e._context.displayName||"Context")+".Consumer";case $:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case W:return n=e.displayName||null,n!==null?n:ke(e.type)||"Memo";case Se:n=e._payload,e=e._init;try{return ke(e(n))}catch{}}return null}var Xe=Array.isArray,k=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le={pending:!1,data:null,method:null,action:null},Ne=[],Ie=-1;function b(e){return{current:e}}function q(e){0>Ie||(e.current=Ne[Ie],Ne[Ie]=null,Ie--)}function X(e,n){Ie++,Ne[Ie]=e.current,e.current=n}var Q=b(null),ce=b(null),me=b(null),F=b(null);function ae(e,n){switch(X(me,n),X(ce,e),X(Q,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?_h(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=_h(n),e=xh(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}q(Q),X(Q,e)}function ue(){q(Q),q(ce),q(me)}function Ye(e){e.memoizedState!==null&&X(F,e);var n=Q.current,i=xh(n,e.type);n!==i&&(X(ce,e),X(Q,i))}function nt(e){ce.current===e&&(q(Q),q(ce)),F.current===e&&(q(F),ul._currentValue=le)}var bt,wn;function Ht(e){if(bt===void 0)try{throw Error()}catch(i){var n=i.stack.trim().match(/\n( *(at )?)/);bt=n&&n[1]||"",wn=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+bt+e+wn}var yi=!1;function vi(e,n){if(!e||yi)return"";yi=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(n){var B=function(){throw Error()};if(Object.defineProperty(B.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(B,[])}catch(L){var I=L}Reflect.construct(e,[],B)}else{try{B.call()}catch(L){I=L}e.call(B.prototype)}}else{try{throw Error()}catch(L){I=L}(B=e())&&typeof B.catch=="function"&&B.catch(function(){})}}catch(L){if(L&&I&&typeof L.stack=="string")return[L.stack,I.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=s.DetermineComponentFrameRoot(),S=p[0],x=p[1];if(S&&x){var A=S.split(`
`),M=x.split(`
`);for(d=s=0;s<A.length&&!A[s].includes("DetermineComponentFrameRoot");)s++;for(;d<M.length&&!M[d].includes("DetermineComponentFrameRoot");)d++;if(s===A.length||d===M.length)for(s=A.length-1,d=M.length-1;1<=s&&0<=d&&A[s]!==M[d];)d--;for(;1<=s&&0<=d;s--,d--)if(A[s]!==M[d]){if(s!==1||d!==1)do if(s--,d--,0>d||A[s]!==M[d]){var G=`
`+A[s].replace(" at new "," at ");return e.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",e.displayName)),G}while(1<=s&&0<=d);break}}}finally{yi=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?Ht(i):""}function os(e,n){switch(e.tag){case 26:case 27:case 5:return Ht(e.type);case 16:return Ht("Lazy");case 13:return e.child!==n&&n!==null?Ht("Suspense Fallback"):Ht("Suspense");case 19:return Ht("SuspenseList");case 0:case 15:return vi(e.type,!1);case 11:return vi(e.type.render,!1);case 1:return vi(e.type,!0);case 31:return Ht("Activity");default:return""}}function Sl(e){try{var n="",i=null;do n+=os(e,i),i=e,e=e.return;while(e);return n}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var Si=Object.prototype.hasOwnProperty,Co=o.unstable_scheduleCallback,Ei=o.unstable_cancelCallback,is=o.unstable_shouldYield,ls=o.unstable_requestPaint,mt=o.unstable_now,V=o.unstable_getCurrentPriorityLevel,re=o.unstable_ImmediatePriority,Re=o.unstable_UserBlockingPriority,Te=o.unstable_NormalPriority,ye=o.unstable_LowPriority,no=o.unstable_IdlePriority,Xg=o.log,Qg=o.unstable_setDisableYieldValue,Ti=null,Nt=null;function Rn(e){if(typeof Xg=="function"&&Qg(e),Nt&&typeof Nt.setStrictMode=="function")try{Nt.setStrictMode(Ti,e)}catch{}}var wt=Math.clz32?Math.clz32:jg,$g=Math.log,Zg=Math.LN2;function jg(e){return e>>>=0,e===0?32:31-($g(e)/Zg|0)|0}var El=256,Tl=262144,_l=4194304;function oo(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function xl(e,n,i){var s=e.pendingLanes;if(s===0)return 0;var d=0,p=e.suspendedLanes,S=e.pingedLanes;e=e.warmLanes;var x=s&134217727;return x!==0?(s=x&~p,s!==0?d=oo(s):(S&=x,S!==0?d=oo(S):i||(i=x&~e,i!==0&&(d=oo(i))))):(x=s&~p,x!==0?d=oo(x):S!==0?d=oo(S):i||(i=s&~e,i!==0&&(d=oo(i)))),d===0?0:n!==0&&n!==d&&(n&p)===0&&(p=d&-d,i=n&-n,p>=i||p===32&&(i&4194048)!==0)?n:d}function _i(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function ey(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nc(){var e=_l;return _l<<=1,(_l&62914560)===0&&(_l=4194304),e}function as(e){for(var n=[],i=0;31>i;i++)n.push(e);return n}function xi(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function ty(e,n,i,s,d,p){var S=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var x=e.entanglements,A=e.expirationTimes,M=e.hiddenUpdates;for(i=S&~i;0<i;){var G=31-wt(i),B=1<<G;x[G]=0,A[G]=-1;var I=M[G];if(I!==null)for(M[G]=null,G=0;G<I.length;G++){var L=I[G];L!==null&&(L.lane&=-536870913)}i&=~B}s!==0&&oc(e,s,0),p!==0&&d===0&&e.tag!==0&&(e.suspendedLanes|=p&~(S&~n))}function oc(e,n,i){e.pendingLanes|=n,e.suspendedLanes&=~n;var s=31-wt(n);e.entangledLanes|=n,e.entanglements[s]=e.entanglements[s]|1073741824|i&261930}function ic(e,n){var i=e.entangledLanes|=n;for(e=e.entanglements;i;){var s=31-wt(i),d=1<<s;d&n|e[s]&n&&(e[s]|=n),i&=~d}}function lc(e,n){var i=n&-n;return i=(i&42)!==0?1:ss(i),(i&(e.suspendedLanes|n))!==0?0:i}function ss(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function rs(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ac(){var e=J.p;return e!==0?e:(e=window.event,e===void 0?32:Yh(e.type))}function sc(e,n){var i=J.p;try{return J.p=e,n()}finally{J.p=i}}var Mn=Math.random().toString(36).slice(2),rt="__reactFiber$"+Mn,St="__reactProps$"+Mn,Ao="__reactContainer$"+Mn,us="__reactEvents$"+Mn,ny="__reactListeners$"+Mn,oy="__reactHandles$"+Mn,rc="__reactResources$"+Mn,Ci="__reactMarker$"+Mn;function cs(e){delete e[rt],delete e[St],delete e[us],delete e[ny],delete e[oy]}function bo(e){var n=e[rt];if(n)return n;for(var i=e.parentNode;i;){if(n=i[Ao]||i[rt]){if(i=n.alternate,n.child!==null||i!==null&&i.child!==null)for(e=Mh(e);e!==null;){if(i=e[rt])return i;e=Mh(e)}return n}e=i,i=e.parentNode}return null}function No(e){if(e=e[rt]||e[Ao]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function Ai(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function wo(e){var n=e[rc];return n||(n=e[rc]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function it(e){e[Ci]=!0}var uc=new Set,cc={};function io(e,n){Ro(e,n),Ro(e+"Capture",n)}function Ro(e,n){for(cc[e]=n,e=0;e<n.length;e++)uc.add(n[e])}var iy=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),fc={},dc={};function ly(e){return Si.call(dc,e)?!0:Si.call(fc,e)?!1:iy.test(e)?dc[e]=!0:(fc[e]=!0,!1)}function Cl(e,n,i){if(ly(n))if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var s=n.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+i)}}function Al(e,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+i)}}function an(e,n,i,s){if(s===null)e.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(n,i,""+s)}}function Gt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function hc(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function ay(e,n,i){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var d=s.get,p=s.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return d.call(this)},set:function(S){i=""+S,p.call(this,S)}}),Object.defineProperty(e,n,{enumerable:s.enumerable}),{getValue:function(){return i},setValue:function(S){i=""+S},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function fs(e){if(!e._valueTracker){var n=hc(e)?"checked":"value";e._valueTracker=ay(e,n,""+e[n])}}function pc(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var i=n.getValue(),s="";return e&&(s=hc(e)?e.checked?"true":"false":e.value),e=s,e!==i?(n.setValue(e),!0):!1}function bl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var sy=/[\n"\\]/g;function Vt(e){return e.replace(sy,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ds(e,n,i,s,d,p,S,x){e.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?e.type=S:e.removeAttribute("type"),n!=null?S==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Gt(n)):e.value!==""+Gt(n)&&(e.value=""+Gt(n)):S!=="submit"&&S!=="reset"||e.removeAttribute("value"),n!=null?hs(e,S,Gt(n)):i!=null?hs(e,S,Gt(i)):s!=null&&e.removeAttribute("value"),d==null&&p!=null&&(e.defaultChecked=!!p),d!=null&&(e.checked=d&&typeof d!="function"&&typeof d!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?e.name=""+Gt(x):e.removeAttribute("name")}function mc(e,n,i,s,d,p,S,x){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.type=p),n!=null||i!=null){if(!(p!=="submit"&&p!=="reset"||n!=null)){fs(e);return}i=i!=null?""+Gt(i):"",n=n!=null?""+Gt(n):i,x||n===e.value||(e.value=n),e.defaultValue=n}s=s??d,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=x?e.checked:!!s,e.defaultChecked=!!s,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(e.name=S),fs(e)}function hs(e,n,i){n==="number"&&bl(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function Mo(e,n,i,s){if(e=e.options,n){n={};for(var d=0;d<i.length;d++)n["$"+i[d]]=!0;for(i=0;i<e.length;i++)d=n.hasOwnProperty("$"+e[i].value),e[i].selected!==d&&(e[i].selected=d),d&&s&&(e[i].defaultSelected=!0)}else{for(i=""+Gt(i),n=null,d=0;d<e.length;d++){if(e[d].value===i){e[d].selected=!0,s&&(e[d].defaultSelected=!0);return}n!==null||e[d].disabled||(n=e[d])}n!==null&&(n.selected=!0)}}function gc(e,n,i){if(n!=null&&(n=""+Gt(n),n!==e.value&&(e.value=n),i==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=i!=null?""+Gt(i):""}function yc(e,n,i,s){if(n==null){if(s!=null){if(i!=null)throw Error(a(92));if(Xe(s)){if(1<s.length)throw Error(a(93));s=s[0]}i=s}i==null&&(i=""),n=i}i=Gt(n),e.defaultValue=i,s=e.textContent,s===i&&s!==""&&s!==null&&(e.value=s),fs(e)}function Io(e,n){if(n){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=n;return}}e.textContent=n}var ry=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function vc(e,n,i){var s=n.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?s?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":s?e.setProperty(n,i):typeof i!="number"||i===0||ry.has(n)?n==="float"?e.cssFloat=i:e[n]=(""+i).trim():e[n]=i+"px"}function Sc(e,n,i){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,i!=null){for(var s in i)!i.hasOwnProperty(s)||n!=null&&n.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var d in n)s=n[d],n.hasOwnProperty(d)&&i[d]!==s&&vc(e,d,s)}else for(var p in n)n.hasOwnProperty(p)&&vc(e,p,n[p])}function ps(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uy=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),cy=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Nl(e){return cy.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function sn(){}var ms=null;function gs(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Do=null,Uo=null;function Ec(e){var n=No(e);if(n&&(e=n.stateNode)){var i=e[St]||null;e:switch(e=n.stateNode,n.type){case"input":if(ds(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),n=i.name,i.type==="radio"&&n!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+Vt(""+n)+'"][type="radio"]'),n=0;n<i.length;n++){var s=i[n];if(s!==e&&s.form===e.form){var d=s[St]||null;if(!d)throw Error(a(90));ds(s,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(n=0;n<i.length;n++)s=i[n],s.form===e.form&&pc(s)}break e;case"textarea":gc(e,i.value,i.defaultValue);break e;case"select":n=i.value,n!=null&&Mo(e,!!i.multiple,n,!1)}}}var ys=!1;function Tc(e,n,i){if(ys)return e(n,i);ys=!0;try{var s=e(n);return s}finally{if(ys=!1,(Do!==null||Uo!==null)&&(pa(),Do&&(n=Do,e=Uo,Uo=Do=null,Ec(n),e)))for(n=0;n<e.length;n++)Ec(e[n])}}function bi(e,n){var i=e.stateNode;if(i===null)return null;var s=i[St]||null;if(s===null)return null;i=s[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(a(231,n,typeof i));return i}var rn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vs=!1;if(rn)try{var Ni={};Object.defineProperty(Ni,"passive",{get:function(){vs=!0}}),window.addEventListener("test",Ni,Ni),window.removeEventListener("test",Ni,Ni)}catch{vs=!1}var In=null,Ss=null,wl=null;function _c(){if(wl)return wl;var e,n=Ss,i=n.length,s,d="value"in In?In.value:In.textContent,p=d.length;for(e=0;e<i&&n[e]===d[e];e++);var S=i-e;for(s=1;s<=S&&n[i-s]===d[p-s];s++);return wl=d.slice(e,1<s?1-s:void 0)}function Rl(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Ml(){return!0}function xc(){return!1}function Et(e){function n(i,s,d,p,S){this._reactName=i,this._targetInst=d,this.type=s,this.nativeEvent=p,this.target=S,this.currentTarget=null;for(var x in e)e.hasOwnProperty(x)&&(i=e[x],this[x]=i?i(p):p[x]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Ml:xc,this.isPropagationStopped=xc,this}return E(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Ml)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Ml)},persist:function(){},isPersistent:Ml}),n}var lo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Il=Et(lo),wi=E({},lo,{view:0,detail:0}),fy=Et(wi),Es,Ts,Ri,Dl=E({},wi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ri&&(Ri&&e.type==="mousemove"?(Es=e.screenX-Ri.screenX,Ts=e.screenY-Ri.screenY):Ts=Es=0,Ri=e),Es)},movementY:function(e){return"movementY"in e?e.movementY:Ts}}),Cc=Et(Dl),dy=E({},Dl,{dataTransfer:0}),hy=Et(dy),py=E({},wi,{relatedTarget:0}),_s=Et(py),my=E({},lo,{animationName:0,elapsedTime:0,pseudoElement:0}),gy=Et(my),yy=E({},lo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vy=Et(yy),Sy=E({},lo,{data:0}),Ac=Et(Sy),Ey={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ty={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_y={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xy(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=_y[e])?!!n[e]:!1}function xs(){return xy}var Cy=E({},wi,{key:function(e){if(e.key){var n=Ey[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Rl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ty[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xs,charCode:function(e){return e.type==="keypress"?Rl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Rl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ay=Et(Cy),by=E({},Dl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bc=Et(by),Ny=E({},wi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xs}),wy=Et(Ny),Ry=E({},lo,{propertyName:0,elapsedTime:0,pseudoElement:0}),My=Et(Ry),Iy=E({},Dl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dy=Et(Iy),Uy=E({},lo,{newState:0,oldState:0}),Ly=Et(Uy),ky=[9,13,27,32],Cs=rn&&"CompositionEvent"in window,Mi=null;rn&&"documentMode"in document&&(Mi=document.documentMode);var Hy=rn&&"TextEvent"in window&&!Mi,Nc=rn&&(!Cs||Mi&&8<Mi&&11>=Mi),wc=" ",Rc=!1;function Mc(e,n){switch(e){case"keyup":return ky.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ic(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Lo=!1;function Gy(e,n){switch(e){case"compositionend":return Ic(n);case"keypress":return n.which!==32?null:(Rc=!0,wc);case"textInput":return e=n.data,e===wc&&Rc?null:e;default:return null}}function Vy(e,n){if(Lo)return e==="compositionend"||!Cs&&Mc(e,n)?(e=_c(),wl=Ss=In=null,Lo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Nc&&n.locale!=="ko"?null:n.data;default:return null}}var zy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dc(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!zy[e.type]:n==="textarea"}function Uc(e,n,i,s){Do?Uo?Uo.push(s):Uo=[s]:Do=s,n=Ta(n,"onChange"),0<n.length&&(i=new Il("onChange","change",null,i,s),e.push({event:i,listeners:n}))}var Ii=null,Di=null;function qy(e){gh(e,0)}function Ul(e){var n=Ai(e);if(pc(n))return e}function Lc(e,n){if(e==="change")return n}var kc=!1;if(rn){var As;if(rn){var bs="oninput"in document;if(!bs){var Hc=document.createElement("div");Hc.setAttribute("oninput","return;"),bs=typeof Hc.oninput=="function"}As=bs}else As=!1;kc=As&&(!document.documentMode||9<document.documentMode)}function Gc(){Ii&&(Ii.detachEvent("onpropertychange",Vc),Di=Ii=null)}function Vc(e){if(e.propertyName==="value"&&Ul(Di)){var n=[];Uc(n,Di,e,gs(e)),Tc(qy,n)}}function By(e,n,i){e==="focusin"?(Gc(),Ii=n,Di=i,Ii.attachEvent("onpropertychange",Vc)):e==="focusout"&&Gc()}function Py(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ul(Di)}function Oy(e,n){if(e==="click")return Ul(n)}function Fy(e,n){if(e==="input"||e==="change")return Ul(n)}function Jy(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Rt=typeof Object.is=="function"?Object.is:Jy;function Ui(e,n){if(Rt(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var i=Object.keys(e),s=Object.keys(n);if(i.length!==s.length)return!1;for(s=0;s<i.length;s++){var d=i[s];if(!Si.call(n,d)||!Rt(e[d],n[d]))return!1}return!0}function zc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function qc(e,n){var i=zc(e);e=0;for(var s;i;){if(i.nodeType===3){if(s=e+i.textContent.length,e<=n&&s>=n)return{node:i,offset:n-e};e=s}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=zc(i)}}function Bc(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Bc(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Pc(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=bl(e.document);n instanceof e.HTMLIFrameElement;){try{var i=typeof n.contentWindow.location.href=="string"}catch{i=!1}if(i)e=n.contentWindow;else break;n=bl(e.document)}return n}function Ns(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var Yy=rn&&"documentMode"in document&&11>=document.documentMode,ko=null,ws=null,Li=null,Rs=!1;function Oc(e,n,i){var s=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Rs||ko==null||ko!==bl(s)||(s=ko,"selectionStart"in s&&Ns(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Li&&Ui(Li,s)||(Li=s,s=Ta(ws,"onSelect"),0<s.length&&(n=new Il("onSelect","select",null,n,i),e.push({event:n,listeners:s}),n.target=ko)))}function ao(e,n){var i={};return i[e.toLowerCase()]=n.toLowerCase(),i["Webkit"+e]="webkit"+n,i["Moz"+e]="moz"+n,i}var Ho={animationend:ao("Animation","AnimationEnd"),animationiteration:ao("Animation","AnimationIteration"),animationstart:ao("Animation","AnimationStart"),transitionrun:ao("Transition","TransitionRun"),transitionstart:ao("Transition","TransitionStart"),transitioncancel:ao("Transition","TransitionCancel"),transitionend:ao("Transition","TransitionEnd")},Ms={},Fc={};rn&&(Fc=document.createElement("div").style,"AnimationEvent"in window||(delete Ho.animationend.animation,delete Ho.animationiteration.animation,delete Ho.animationstart.animation),"TransitionEvent"in window||delete Ho.transitionend.transition);function so(e){if(Ms[e])return Ms[e];if(!Ho[e])return e;var n=Ho[e],i;for(i in n)if(n.hasOwnProperty(i)&&i in Fc)return Ms[e]=n[i];return e}var Jc=so("animationend"),Yc=so("animationiteration"),Wc=so("animationstart"),Wy=so("transitionrun"),Ky=so("transitionstart"),Xy=so("transitioncancel"),Kc=so("transitionend"),Xc=new Map,Is="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Is.push("scrollEnd");function Xt(e,n){Xc.set(e,n),io(n,[e])}var Ll=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},zt=[],Go=0,Ds=0;function kl(){for(var e=Go,n=Ds=Go=0;n<e;){var i=zt[n];zt[n++]=null;var s=zt[n];zt[n++]=null;var d=zt[n];zt[n++]=null;var p=zt[n];if(zt[n++]=null,s!==null&&d!==null){var S=s.pending;S===null?d.next=d:(d.next=S.next,S.next=d),s.pending=d}p!==0&&Qc(i,d,p)}}function Hl(e,n,i,s){zt[Go++]=e,zt[Go++]=n,zt[Go++]=i,zt[Go++]=s,Ds|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function Us(e,n,i,s){return Hl(e,n,i,s),Gl(e)}function ro(e,n){return Hl(e,null,null,n),Gl(e)}function Qc(e,n,i){e.lanes|=i;var s=e.alternate;s!==null&&(s.lanes|=i);for(var d=!1,p=e.return;p!==null;)p.childLanes|=i,s=p.alternate,s!==null&&(s.childLanes|=i),p.tag===22&&(e=p.stateNode,e===null||e._visibility&1||(d=!0)),e=p,p=p.return;return e.tag===3?(p=e.stateNode,d&&n!==null&&(d=31-wt(i),e=p.hiddenUpdates,s=e[d],s===null?e[d]=[n]:s.push(n),n.lane=i|536870912),p):null}function Gl(e){if(50<nl)throw nl=0,Pr=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Vo={};function Qy(e,n,i,s){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mt(e,n,i,s){return new Qy(e,n,i,s)}function Ls(e){return e=e.prototype,!(!e||!e.isReactComponent)}function un(e,n){var i=e.alternate;return i===null?(i=Mt(e.tag,n,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=n,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&65011712,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,n=e.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function $c(e,n){e.flags&=65011714;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,n=i.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Vl(e,n,i,s,d,p){var S=0;if(s=e,typeof e=="function")Ls(e)&&(S=1);else if(typeof e=="string")S=tv(e,i,Q.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case j:return e=Mt(31,i,n,d),e.elementType=j,e.lanes=p,e;case H:return uo(i.children,d,p,n);case U:S=8,d|=24;break;case P:return e=Mt(12,i,n,d|2),e.elementType=P,e.lanes=p,e;case Y:return e=Mt(13,i,n,d),e.elementType=Y,e.lanes=p,e;case te:return e=Mt(19,i,n,d),e.elementType=te,e.lanes=p,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case O:S=10;break e;case K:S=9;break e;case $:S=11;break e;case W:S=14;break e;case Se:S=16,s=null;break e}S=29,i=Error(a(130,e===null?"null":typeof e,"")),s=null}return n=Mt(S,i,n,d),n.elementType=e,n.type=s,n.lanes=p,n}function uo(e,n,i,s){return e=Mt(7,e,s,n),e.lanes=i,e}function ks(e,n,i){return e=Mt(6,e,null,n),e.lanes=i,e}function Zc(e){var n=Mt(18,null,null,0);return n.stateNode=e,n}function Hs(e,n,i){return n=Mt(4,e.children!==null?e.children:[],e.key,n),n.lanes=i,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var jc=new WeakMap;function qt(e,n){if(typeof e=="object"&&e!==null){var i=jc.get(e);return i!==void 0?i:(n={value:e,source:n,stack:Sl(n)},jc.set(e,n),n)}return{value:e,source:n,stack:Sl(n)}}var zo=[],qo=0,zl=null,ki=0,Bt=[],Pt=0,Dn=null,tn=1,nn="";function cn(e,n){zo[qo++]=ki,zo[qo++]=zl,zl=e,ki=n}function ef(e,n,i){Bt[Pt++]=tn,Bt[Pt++]=nn,Bt[Pt++]=Dn,Dn=e;var s=tn;e=nn;var d=32-wt(s)-1;s&=~(1<<d),i+=1;var p=32-wt(n)+d;if(30<p){var S=d-d%5;p=(s&(1<<S)-1).toString(32),s>>=S,d-=S,tn=1<<32-wt(n)+d|i<<d|s,nn=p+e}else tn=1<<p|i<<d|s,nn=e}function Gs(e){e.return!==null&&(cn(e,1),ef(e,1,0))}function Vs(e){for(;e===zl;)zl=zo[--qo],zo[qo]=null,ki=zo[--qo],zo[qo]=null;for(;e===Dn;)Dn=Bt[--Pt],Bt[Pt]=null,nn=Bt[--Pt],Bt[Pt]=null,tn=Bt[--Pt],Bt[Pt]=null}function tf(e,n){Bt[Pt++]=tn,Bt[Pt++]=nn,Bt[Pt++]=Dn,tn=n.id,nn=n.overflow,Dn=e}var ut=null,Oe=null,we=!1,Un=null,Ot=!1,zs=Error(a(519));function Ln(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Hi(qt(n,e)),zs}function nf(e){var n=e.stateNode,i=e.type,s=e.memoizedProps;switch(n[rt]=e,n[St]=s,i){case"dialog":xe("cancel",n),xe("close",n);break;case"iframe":case"object":case"embed":xe("load",n);break;case"video":case"audio":for(i=0;i<il.length;i++)xe(il[i],n);break;case"source":xe("error",n);break;case"img":case"image":case"link":xe("error",n),xe("load",n);break;case"details":xe("toggle",n);break;case"input":xe("invalid",n),mc(n,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":xe("invalid",n);break;case"textarea":xe("invalid",n),yc(n,s.value,s.defaultValue,s.children)}i=s.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||n.textContent===""+i||s.suppressHydrationWarning===!0||Eh(n.textContent,i)?(s.popover!=null&&(xe("beforetoggle",n),xe("toggle",n)),s.onScroll!=null&&xe("scroll",n),s.onScrollEnd!=null&&xe("scrollend",n),s.onClick!=null&&(n.onclick=sn),n=!0):n=!1,n||Ln(e,!0)}function of(e){for(ut=e.return;ut;)switch(ut.tag){case 5:case 31:case 13:Ot=!1;return;case 27:case 3:Ot=!0;return;default:ut=ut.return}}function Bo(e){if(e!==ut)return!1;if(!we)return of(e),we=!0,!1;var n=e.tag,i;if((i=n!==3&&n!==27)&&((i=n===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||ou(e.type,e.memoizedProps)),i=!i),i&&Oe&&Ln(e),of(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));Oe=Rh(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));Oe=Rh(e)}else n===27?(n=Oe,Kn(e.type)?(e=ru,ru=null,Oe=e):Oe=n):Oe=ut?Jt(e.stateNode.nextSibling):null;return!0}function co(){Oe=ut=null,we=!1}function qs(){var e=Un;return e!==null&&(Ct===null?Ct=e:Ct.push.apply(Ct,e),Un=null),e}function Hi(e){Un===null?Un=[e]:Un.push(e)}var Bs=b(null),fo=null,fn=null;function kn(e,n,i){X(Bs,n._currentValue),n._currentValue=i}function dn(e){e._currentValue=Bs.current,q(Bs)}function Ps(e,n,i){for(;e!==null;){var s=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,s!==null&&(s.childLanes|=n)):s!==null&&(s.childLanes&n)!==n&&(s.childLanes|=n),e===i)break;e=e.return}}function Os(e,n,i,s){var d=e.child;for(d!==null&&(d.return=e);d!==null;){var p=d.dependencies;if(p!==null){var S=d.child;p=p.firstContext;e:for(;p!==null;){var x=p;p=d;for(var A=0;A<n.length;A++)if(x.context===n[A]){p.lanes|=i,x=p.alternate,x!==null&&(x.lanes|=i),Ps(p.return,i,e),s||(S=null);break e}p=x.next}}else if(d.tag===18){if(S=d.return,S===null)throw Error(a(341));S.lanes|=i,p=S.alternate,p!==null&&(p.lanes|=i),Ps(S,i,e),S=null}else S=d.child;if(S!==null)S.return=d;else for(S=d;S!==null;){if(S===e){S=null;break}if(d=S.sibling,d!==null){d.return=S.return,S=d;break}S=S.return}d=S}}function Po(e,n,i,s){e=null;for(var d=n,p=!1;d!==null;){if(!p){if((d.flags&524288)!==0)p=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var S=d.alternate;if(S===null)throw Error(a(387));if(S=S.memoizedProps,S!==null){var x=d.type;Rt(d.pendingProps.value,S.value)||(e!==null?e.push(x):e=[x])}}else if(d===F.current){if(S=d.alternate,S===null)throw Error(a(387));S.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(e!==null?e.push(ul):e=[ul])}d=d.return}e!==null&&Os(n,e,i,s),n.flags|=262144}function ql(e){for(e=e.firstContext;e!==null;){if(!Rt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ho(e){fo=e,fn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ct(e){return lf(fo,e)}function Bl(e,n){return fo===null&&ho(e),lf(e,n)}function lf(e,n){var i=n._currentValue;if(n={context:n,memoizedValue:i,next:null},fn===null){if(e===null)throw Error(a(308));fn=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else fn=fn.next=n;return i}var $y=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(i,s){e.push(s)}};this.abort=function(){n.aborted=!0,e.forEach(function(i){return i()})}},Zy=o.unstable_scheduleCallback,jy=o.unstable_NormalPriority,Ze={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Fs(){return{controller:new $y,data:new Map,refCount:0}}function Gi(e){e.refCount--,e.refCount===0&&Zy(jy,function(){e.controller.abort()})}var Vi=null,Js=0,Oo=0,Fo=null;function e0(e,n){if(Vi===null){var i=Vi=[];Js=0,Oo=Kr(),Fo={status:"pending",value:void 0,then:function(s){i.push(s)}}}return Js++,n.then(af,af),n}function af(){if(--Js===0&&Vi!==null){Fo!==null&&(Fo.status="fulfilled");var e=Vi;Vi=null,Oo=0,Fo=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function t0(e,n){var i=[],s={status:"pending",value:null,reason:null,then:function(d){i.push(d)}};return e.then(function(){s.status="fulfilled",s.value=n;for(var d=0;d<i.length;d++)(0,i[d])(n)},function(d){for(s.status="rejected",s.reason=d,d=0;d<i.length;d++)(0,i[d])(void 0)}),s}var sf=k.S;k.S=function(e,n){Fd=mt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&e0(e,n),sf!==null&&sf(e,n)};var po=b(null);function Ys(){var e=po.current;return e!==null?e:Pe.pooledCache}function Pl(e,n){n===null?X(po,po.current):X(po,n.pool)}function rf(){var e=Ys();return e===null?null:{parent:Ze._currentValue,pool:e}}var Jo=Error(a(460)),Ws=Error(a(474)),Ol=Error(a(542)),Fl={then:function(){}};function uf(e){return e=e.status,e==="fulfilled"||e==="rejected"}function cf(e,n,i){switch(i=e[i],i===void 0?e.push(n):i!==n&&(n.then(sn,sn),n=i),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,df(e),e;default:if(typeof n.status=="string")n.then(sn,sn);else{if(e=Pe,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(s){if(n.status==="pending"){var d=n;d.status="fulfilled",d.value=s}},function(s){if(n.status==="pending"){var d=n;d.status="rejected",d.reason=s}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,df(e),e}throw go=n,Jo}}function mo(e){try{var n=e._init;return n(e._payload)}catch(i){throw i!==null&&typeof i=="object"&&typeof i.then=="function"?(go=i,Jo):i}}var go=null;function ff(){if(go===null)throw Error(a(459));var e=go;return go=null,e}function df(e){if(e===Jo||e===Ol)throw Error(a(483))}var Yo=null,zi=0;function Jl(e){var n=zi;return zi+=1,Yo===null&&(Yo=[]),cf(Yo,e,n)}function qi(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Yl(e,n){throw n.$$typeof===_?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function hf(e){function n(w,N){if(e){var R=w.deletions;R===null?(w.deletions=[N],w.flags|=16):R.push(N)}}function i(w,N){if(!e)return null;for(;N!==null;)n(w,N),N=N.sibling;return null}function s(w){for(var N=new Map;w!==null;)w.key!==null?N.set(w.key,w):N.set(w.index,w),w=w.sibling;return N}function d(w,N){return w=un(w,N),w.index=0,w.sibling=null,w}function p(w,N,R){return w.index=R,e?(R=w.alternate,R!==null?(R=R.index,R<N?(w.flags|=67108866,N):R):(w.flags|=67108866,N)):(w.flags|=1048576,N)}function S(w){return e&&w.alternate===null&&(w.flags|=67108866),w}function x(w,N,R,z){return N===null||N.tag!==6?(N=ks(R,w.mode,z),N.return=w,N):(N=d(N,R),N.return=w,N)}function A(w,N,R,z){var ie=R.type;return ie===H?G(w,N,R.props.children,z,R.key):N!==null&&(N.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===Se&&mo(ie)===N.type)?(N=d(N,R.props),qi(N,R),N.return=w,N):(N=Vl(R.type,R.key,R.props,null,w.mode,z),qi(N,R),N.return=w,N)}function M(w,N,R,z){return N===null||N.tag!==4||N.stateNode.containerInfo!==R.containerInfo||N.stateNode.implementation!==R.implementation?(N=Hs(R,w.mode,z),N.return=w,N):(N=d(N,R.children||[]),N.return=w,N)}function G(w,N,R,z,ie){return N===null||N.tag!==7?(N=uo(R,w.mode,z,ie),N.return=w,N):(N=d(N,R),N.return=w,N)}function B(w,N,R){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=ks(""+N,w.mode,R),N.return=w,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case C:return R=Vl(N.type,N.key,N.props,null,w.mode,R),qi(R,N),R.return=w,R;case D:return N=Hs(N,w.mode,R),N.return=w,N;case Se:return N=mo(N),B(w,N,R)}if(Xe(N)||Me(N))return N=uo(N,w.mode,R,null),N.return=w,N;if(typeof N.then=="function")return B(w,Jl(N),R);if(N.$$typeof===O)return B(w,Bl(w,N),R);Yl(w,N)}return null}function I(w,N,R,z){var ie=N!==null?N.key:null;if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return ie!==null?null:x(w,N,""+R,z);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case C:return R.key===ie?A(w,N,R,z):null;case D:return R.key===ie?M(w,N,R,z):null;case Se:return R=mo(R),I(w,N,R,z)}if(Xe(R)||Me(R))return ie!==null?null:G(w,N,R,z,null);if(typeof R.then=="function")return I(w,N,Jl(R),z);if(R.$$typeof===O)return I(w,N,Bl(w,R),z);Yl(w,R)}return null}function L(w,N,R,z,ie){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return w=w.get(R)||null,x(N,w,""+z,ie);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case C:return w=w.get(z.key===null?R:z.key)||null,A(N,w,z,ie);case D:return w=w.get(z.key===null?R:z.key)||null,M(N,w,z,ie);case Se:return z=mo(z),L(w,N,R,z,ie)}if(Xe(z)||Me(z))return w=w.get(R)||null,G(N,w,z,ie,null);if(typeof z.then=="function")return L(w,N,R,Jl(z),ie);if(z.$$typeof===O)return L(w,N,R,Bl(N,z),ie);Yl(N,z)}return null}function ee(w,N,R,z){for(var ie=null,De=null,ne=N,ve=N=0,Ae=null;ne!==null&&ve<R.length;ve++){ne.index>ve?(Ae=ne,ne=null):Ae=ne.sibling;var Ue=I(w,ne,R[ve],z);if(Ue===null){ne===null&&(ne=Ae);break}e&&ne&&Ue.alternate===null&&n(w,ne),N=p(Ue,N,ve),De===null?ie=Ue:De.sibling=Ue,De=Ue,ne=Ae}if(ve===R.length)return i(w,ne),we&&cn(w,ve),ie;if(ne===null){for(;ve<R.length;ve++)ne=B(w,R[ve],z),ne!==null&&(N=p(ne,N,ve),De===null?ie=ne:De.sibling=ne,De=ne);return we&&cn(w,ve),ie}for(ne=s(ne);ve<R.length;ve++)Ae=L(ne,w,ve,R[ve],z),Ae!==null&&(e&&Ae.alternate!==null&&ne.delete(Ae.key===null?ve:Ae.key),N=p(Ae,N,ve),De===null?ie=Ae:De.sibling=Ae,De=Ae);return e&&ne.forEach(function(jn){return n(w,jn)}),we&&cn(w,ve),ie}function se(w,N,R,z){if(R==null)throw Error(a(151));for(var ie=null,De=null,ne=N,ve=N=0,Ae=null,Ue=R.next();ne!==null&&!Ue.done;ve++,Ue=R.next()){ne.index>ve?(Ae=ne,ne=null):Ae=ne.sibling;var jn=I(w,ne,Ue.value,z);if(jn===null){ne===null&&(ne=Ae);break}e&&ne&&jn.alternate===null&&n(w,ne),N=p(jn,N,ve),De===null?ie=jn:De.sibling=jn,De=jn,ne=Ae}if(Ue.done)return i(w,ne),we&&cn(w,ve),ie;if(ne===null){for(;!Ue.done;ve++,Ue=R.next())Ue=B(w,Ue.value,z),Ue!==null&&(N=p(Ue,N,ve),De===null?ie=Ue:De.sibling=Ue,De=Ue);return we&&cn(w,ve),ie}for(ne=s(ne);!Ue.done;ve++,Ue=R.next())Ue=L(ne,w,ve,Ue.value,z),Ue!==null&&(e&&Ue.alternate!==null&&ne.delete(Ue.key===null?ve:Ue.key),N=p(Ue,N,ve),De===null?ie=Ue:De.sibling=Ue,De=Ue);return e&&ne.forEach(function(dv){return n(w,dv)}),we&&cn(w,ve),ie}function Be(w,N,R,z){if(typeof R=="object"&&R!==null&&R.type===H&&R.key===null&&(R=R.props.children),typeof R=="object"&&R!==null){switch(R.$$typeof){case C:e:{for(var ie=R.key;N!==null;){if(N.key===ie){if(ie=R.type,ie===H){if(N.tag===7){i(w,N.sibling),z=d(N,R.props.children),z.return=w,w=z;break e}}else if(N.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===Se&&mo(ie)===N.type){i(w,N.sibling),z=d(N,R.props),qi(z,R),z.return=w,w=z;break e}i(w,N);break}else n(w,N);N=N.sibling}R.type===H?(z=uo(R.props.children,w.mode,z,R.key),z.return=w,w=z):(z=Vl(R.type,R.key,R.props,null,w.mode,z),qi(z,R),z.return=w,w=z)}return S(w);case D:e:{for(ie=R.key;N!==null;){if(N.key===ie)if(N.tag===4&&N.stateNode.containerInfo===R.containerInfo&&N.stateNode.implementation===R.implementation){i(w,N.sibling),z=d(N,R.children||[]),z.return=w,w=z;break e}else{i(w,N);break}else n(w,N);N=N.sibling}z=Hs(R,w.mode,z),z.return=w,w=z}return S(w);case Se:return R=mo(R),Be(w,N,R,z)}if(Xe(R))return ee(w,N,R,z);if(Me(R)){if(ie=Me(R),typeof ie!="function")throw Error(a(150));return R=ie.call(R),se(w,N,R,z)}if(typeof R.then=="function")return Be(w,N,Jl(R),z);if(R.$$typeof===O)return Be(w,N,Bl(w,R),z);Yl(w,R)}return typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint"?(R=""+R,N!==null&&N.tag===6?(i(w,N.sibling),z=d(N,R),z.return=w,w=z):(i(w,N),z=ks(R,w.mode,z),z.return=w,w=z),S(w)):i(w,N)}return function(w,N,R,z){try{zi=0;var ie=Be(w,N,R,z);return Yo=null,ie}catch(ne){if(ne===Jo||ne===Ol)throw ne;var De=Mt(29,ne,null,w.mode);return De.lanes=z,De.return=w,De}finally{}}}var yo=hf(!0),pf=hf(!1),Hn=!1;function Ks(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Xs(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Gn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Vn(e,n,i){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(He&2)!==0){var d=s.pending;return d===null?n.next=n:(n.next=d.next,d.next=n),s.pending=n,n=Gl(e),Qc(e,null,i),n}return Hl(e,s,n,i),Gl(e)}function Bi(e,n,i){if(n=n.updateQueue,n!==null&&(n=n.shared,(i&4194048)!==0)){var s=n.lanes;s&=e.pendingLanes,i|=s,n.lanes=i,ic(e,i)}}function Qs(e,n){var i=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,i===s)){var d=null,p=null;if(i=i.firstBaseUpdate,i!==null){do{var S={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};p===null?d=p=S:p=p.next=S,i=i.next}while(i!==null);p===null?d=p=n:p=p.next=n}else d=p=n;i={baseState:s.baseState,firstBaseUpdate:d,lastBaseUpdate:p,shared:s.shared,callbacks:s.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=n:e.next=n,i.lastBaseUpdate=n}var $s=!1;function Pi(){if($s){var e=Fo;if(e!==null)throw e}}function Oi(e,n,i,s){$s=!1;var d=e.updateQueue;Hn=!1;var p=d.firstBaseUpdate,S=d.lastBaseUpdate,x=d.shared.pending;if(x!==null){d.shared.pending=null;var A=x,M=A.next;A.next=null,S===null?p=M:S.next=M,S=A;var G=e.alternate;G!==null&&(G=G.updateQueue,x=G.lastBaseUpdate,x!==S&&(x===null?G.firstBaseUpdate=M:x.next=M,G.lastBaseUpdate=A))}if(p!==null){var B=d.baseState;S=0,G=M=A=null,x=p;do{var I=x.lane&-536870913,L=I!==x.lane;if(L?(Ce&I)===I:(s&I)===I){I!==0&&I===Oo&&($s=!0),G!==null&&(G=G.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});e:{var ee=e,se=x;I=n;var Be=i;switch(se.tag){case 1:if(ee=se.payload,typeof ee=="function"){B=ee.call(Be,B,I);break e}B=ee;break e;case 3:ee.flags=ee.flags&-65537|128;case 0:if(ee=se.payload,I=typeof ee=="function"?ee.call(Be,B,I):ee,I==null)break e;B=E({},B,I);break e;case 2:Hn=!0}}I=x.callback,I!==null&&(e.flags|=64,L&&(e.flags|=8192),L=d.callbacks,L===null?d.callbacks=[I]:L.push(I))}else L={lane:I,tag:x.tag,payload:x.payload,callback:x.callback,next:null},G===null?(M=G=L,A=B):G=G.next=L,S|=I;if(x=x.next,x===null){if(x=d.shared.pending,x===null)break;L=x,x=L.next,L.next=null,d.lastBaseUpdate=L,d.shared.pending=null}}while(!0);G===null&&(A=B),d.baseState=A,d.firstBaseUpdate=M,d.lastBaseUpdate=G,p===null&&(d.shared.lanes=0),On|=S,e.lanes=S,e.memoizedState=B}}function mf(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function gf(e,n){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)mf(i[e],n)}var Wo=b(null),Wl=b(0);function yf(e,n){e=Tn,X(Wl,e),X(Wo,n),Tn=e|n.baseLanes}function Zs(){X(Wl,Tn),X(Wo,Wo.current)}function js(){Tn=Wl.current,q(Wo),q(Wl)}var It=b(null),Ft=null;function zn(e){var n=e.alternate;X(Qe,Qe.current&1),X(It,e),Ft===null&&(n===null||Wo.current!==null||n.memoizedState!==null)&&(Ft=e)}function er(e){X(Qe,Qe.current),X(It,e),Ft===null&&(Ft=e)}function vf(e){e.tag===22?(X(Qe,Qe.current),X(It,e),Ft===null&&(Ft=e)):qn()}function qn(){X(Qe,Qe.current),X(It,It.current)}function Dt(e){q(It),Ft===e&&(Ft=null),q(Qe)}var Qe=b(0);function Kl(e){for(var n=e;n!==null;){if(n.tag===13){var i=n.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||au(i)||su(i)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var hn=0,ge=null,ze=null,je=null,Xl=!1,Ko=!1,vo=!1,Ql=0,Fi=0,Xo=null,n0=0;function We(){throw Error(a(321))}function tr(e,n){if(n===null)return!1;for(var i=0;i<n.length&&i<e.length;i++)if(!Rt(e[i],n[i]))return!1;return!0}function nr(e,n,i,s,d,p){return hn=p,ge=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,k.H=e===null||e.memoizedState===null?td:yr,vo=!1,p=i(s,d),vo=!1,Ko&&(p=Ef(n,i,s,d)),Sf(e),p}function Sf(e){k.H=Wi;var n=ze!==null&&ze.next!==null;if(hn=0,je=ze=ge=null,Xl=!1,Fi=0,Xo=null,n)throw Error(a(300));e===null||et||(e=e.dependencies,e!==null&&ql(e)&&(et=!0))}function Ef(e,n,i,s){ge=e;var d=0;do{if(Ko&&(Xo=null),Fi=0,Ko=!1,25<=d)throw Error(a(301));if(d+=1,je=ze=null,e.updateQueue!=null){var p=e.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}k.H=nd,p=n(i,s)}while(Ko);return p}function o0(){var e=k.H,n=e.useState()[0];return n=typeof n.then=="function"?Ji(n):n,e=e.useState()[0],(ze!==null?ze.memoizedState:null)!==e&&(ge.flags|=1024),n}function or(){var e=Ql!==0;return Ql=0,e}function ir(e,n,i){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~i}function lr(e){if(Xl){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Xl=!1}hn=0,je=ze=ge=null,Ko=!1,Fi=Ql=0,Xo=null}function gt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return je===null?ge.memoizedState=je=e:je=je.next=e,je}function $e(){if(ze===null){var e=ge.alternate;e=e!==null?e.memoizedState:null}else e=ze.next;var n=je===null?ge.memoizedState:je.next;if(n!==null)je=n,ze=e;else{if(e===null)throw ge.alternate===null?Error(a(467)):Error(a(310));ze=e,e={memoizedState:ze.memoizedState,baseState:ze.baseState,baseQueue:ze.baseQueue,queue:ze.queue,next:null},je===null?ge.memoizedState=je=e:je=je.next=e}return je}function $l(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ji(e){var n=Fi;return Fi+=1,Xo===null&&(Xo=[]),e=cf(Xo,e,n),n=ge,(je===null?n.memoizedState:je.next)===null&&(n=n.alternate,k.H=n===null||n.memoizedState===null?td:yr),e}function Zl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ji(e);if(e.$$typeof===O)return ct(e)}throw Error(a(438,String(e)))}function ar(e){var n=null,i=ge.updateQueue;if(i!==null&&(n=i.memoCache),n==null){var s=ge.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(n={data:s.data.map(function(d){return d.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),i===null&&(i=$l(),ge.updateQueue=i),i.memoCache=n,i=n.data[n.index],i===void 0)for(i=n.data[n.index]=Array(e),s=0;s<e;s++)i[s]=pe;return n.index++,i}function pn(e,n){return typeof n=="function"?n(e):n}function jl(e){var n=$e();return sr(n,ze,e)}function sr(e,n,i){var s=e.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=i;var d=e.baseQueue,p=s.pending;if(p!==null){if(d!==null){var S=d.next;d.next=p.next,p.next=S}n.baseQueue=d=p,s.pending=null}if(p=e.baseState,d===null)e.memoizedState=p;else{n=d.next;var x=S=null,A=null,M=n,G=!1;do{var B=M.lane&-536870913;if(B!==M.lane?(Ce&B)===B:(hn&B)===B){var I=M.revertLane;if(I===0)A!==null&&(A=A.next={lane:0,revertLane:0,gesture:null,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null}),B===Oo&&(G=!0);else if((hn&I)===I){M=M.next,I===Oo&&(G=!0);continue}else B={lane:0,revertLane:M.revertLane,gesture:null,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null},A===null?(x=A=B,S=p):A=A.next=B,ge.lanes|=I,On|=I;B=M.action,vo&&i(p,B),p=M.hasEagerState?M.eagerState:i(p,B)}else I={lane:B,revertLane:M.revertLane,gesture:M.gesture,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null},A===null?(x=A=I,S=p):A=A.next=I,ge.lanes|=B,On|=B;M=M.next}while(M!==null&&M!==n);if(A===null?S=p:A.next=x,!Rt(p,e.memoizedState)&&(et=!0,G&&(i=Fo,i!==null)))throw i;e.memoizedState=p,e.baseState=S,e.baseQueue=A,s.lastRenderedState=p}return d===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function rr(e){var n=$e(),i=n.queue;if(i===null)throw Error(a(311));i.lastRenderedReducer=e;var s=i.dispatch,d=i.pending,p=n.memoizedState;if(d!==null){i.pending=null;var S=d=d.next;do p=e(p,S.action),S=S.next;while(S!==d);Rt(p,n.memoizedState)||(et=!0),n.memoizedState=p,n.baseQueue===null&&(n.baseState=p),i.lastRenderedState=p}return[p,s]}function Tf(e,n,i){var s=ge,d=$e(),p=we;if(p){if(i===void 0)throw Error(a(407));i=i()}else i=n();var S=!Rt((ze||d).memoizedState,i);if(S&&(d.memoizedState=i,et=!0),d=d.queue,fr(Cf.bind(null,s,d,e),[e]),d.getSnapshot!==n||S||je!==null&&je.memoizedState.tag&1){if(s.flags|=2048,Qo(9,{destroy:void 0},xf.bind(null,s,d,i,n),null),Pe===null)throw Error(a(349));p||(hn&127)!==0||_f(s,n,i)}return i}function _f(e,n,i){e.flags|=16384,e={getSnapshot:n,value:i},n=ge.updateQueue,n===null?(n=$l(),ge.updateQueue=n,n.stores=[e]):(i=n.stores,i===null?n.stores=[e]:i.push(e))}function xf(e,n,i,s){n.value=i,n.getSnapshot=s,Af(n)&&bf(e)}function Cf(e,n,i){return i(function(){Af(n)&&bf(e)})}function Af(e){var n=e.getSnapshot;e=e.value;try{var i=n();return!Rt(e,i)}catch{return!0}}function bf(e){var n=ro(e,2);n!==null&&At(n,e,2)}function ur(e){var n=gt();if(typeof e=="function"){var i=e;if(e=i(),vo){Rn(!0);try{i()}finally{Rn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pn,lastRenderedState:e},n}function Nf(e,n,i,s){return e.baseState=i,sr(e,ze,typeof s=="function"?s:pn)}function i0(e,n,i,s,d){if(na(e))throw Error(a(485));if(e=n.action,e!==null){var p={payload:d,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){p.listeners.push(S)}};k.T!==null?i(!0):p.isTransition=!1,s(p),i=n.pending,i===null?(p.next=n.pending=p,wf(n,p)):(p.next=i.next,n.pending=i.next=p)}}function wf(e,n){var i=n.action,s=n.payload,d=e.state;if(n.isTransition){var p=k.T,S={};k.T=S;try{var x=i(d,s),A=k.S;A!==null&&A(S,x),Rf(e,n,x)}catch(M){cr(e,n,M)}finally{p!==null&&S.types!==null&&(p.types=S.types),k.T=p}}else try{p=i(d,s),Rf(e,n,p)}catch(M){cr(e,n,M)}}function Rf(e,n,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(s){Mf(e,n,s)},function(s){return cr(e,n,s)}):Mf(e,n,i)}function Mf(e,n,i){n.status="fulfilled",n.value=i,If(n),e.state=i,n=e.pending,n!==null&&(i=n.next,i===n?e.pending=null:(i=i.next,n.next=i,wf(e,i)))}function cr(e,n,i){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do n.status="rejected",n.reason=i,If(n),n=n.next;while(n!==s)}e.action=null}function If(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Df(e,n){return n}function Uf(e,n){if(we){var i=Pe.formState;if(i!==null){e:{var s=ge;if(we){if(Oe){t:{for(var d=Oe,p=Ot;d.nodeType!==8;){if(!p){d=null;break t}if(d=Jt(d.nextSibling),d===null){d=null;break t}}p=d.data,d=p==="F!"||p==="F"?d:null}if(d){Oe=Jt(d.nextSibling),s=d.data==="F!";break e}}Ln(s)}s=!1}s&&(n=i[0])}}return i=gt(),i.memoizedState=i.baseState=n,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Df,lastRenderedState:n},i.queue=s,i=Zf.bind(null,ge,s),s.dispatch=i,s=ur(!1),p=gr.bind(null,ge,!1,s.queue),s=gt(),d={state:n,dispatch:null,action:e,pending:null},s.queue=d,i=i0.bind(null,ge,d,p,i),d.dispatch=i,s.memoizedState=e,[n,i,!1]}function Lf(e){var n=$e();return kf(n,ze,e)}function kf(e,n,i){if(n=sr(e,n,Df)[0],e=jl(pn)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var s=Ji(n)}catch(S){throw S===Jo?Ol:S}else s=n;n=$e();var d=n.queue,p=d.dispatch;return i!==n.memoizedState&&(ge.flags|=2048,Qo(9,{destroy:void 0},l0.bind(null,d,i),null)),[s,p,e]}function l0(e,n){e.action=n}function Hf(e){var n=$e(),i=ze;if(i!==null)return kf(n,i,e);$e(),n=n.memoizedState,i=$e();var s=i.queue.dispatch;return i.memoizedState=e,[n,s,!1]}function Qo(e,n,i,s){return e={tag:e,create:i,deps:s,inst:n,next:null},n=ge.updateQueue,n===null&&(n=$l(),ge.updateQueue=n),i=n.lastEffect,i===null?n.lastEffect=e.next=e:(s=i.next,i.next=e,e.next=s,n.lastEffect=e),e}function Gf(){return $e().memoizedState}function ea(e,n,i,s){var d=gt();ge.flags|=e,d.memoizedState=Qo(1|n,{destroy:void 0},i,s===void 0?null:s)}function ta(e,n,i,s){var d=$e();s=s===void 0?null:s;var p=d.memoizedState.inst;ze!==null&&s!==null&&tr(s,ze.memoizedState.deps)?d.memoizedState=Qo(n,p,i,s):(ge.flags|=e,d.memoizedState=Qo(1|n,p,i,s))}function Vf(e,n){ea(8390656,8,e,n)}function fr(e,n){ta(2048,8,e,n)}function a0(e){ge.flags|=4;var n=ge.updateQueue;if(n===null)n=$l(),ge.updateQueue=n,n.events=[e];else{var i=n.events;i===null?n.events=[e]:i.push(e)}}function zf(e){var n=$e().memoizedState;return a0({ref:n,nextImpl:e}),function(){if((He&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function qf(e,n){return ta(4,2,e,n)}function Bf(e,n){return ta(4,4,e,n)}function Pf(e,n){if(typeof n=="function"){e=e();var i=n(e);return function(){typeof i=="function"?i():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Of(e,n,i){i=i!=null?i.concat([e]):null,ta(4,4,Pf.bind(null,n,e),i)}function dr(){}function Ff(e,n){var i=$e();n=n===void 0?null:n;var s=i.memoizedState;return n!==null&&tr(n,s[1])?s[0]:(i.memoizedState=[e,n],e)}function Jf(e,n){var i=$e();n=n===void 0?null:n;var s=i.memoizedState;if(n!==null&&tr(n,s[1]))return s[0];if(s=e(),vo){Rn(!0);try{e()}finally{Rn(!1)}}return i.memoizedState=[s,n],s}function hr(e,n,i){return i===void 0||(hn&1073741824)!==0&&(Ce&261930)===0?e.memoizedState=n:(e.memoizedState=i,e=Yd(),ge.lanes|=e,On|=e,i)}function Yf(e,n,i,s){return Rt(i,n)?i:Wo.current!==null?(e=hr(e,i,s),Rt(e,n)||(et=!0),e):(hn&42)===0||(hn&1073741824)!==0&&(Ce&261930)===0?(et=!0,e.memoizedState=i):(e=Yd(),ge.lanes|=e,On|=e,n)}function Wf(e,n,i,s,d){var p=J.p;J.p=p!==0&&8>p?p:8;var S=k.T,x={};k.T=x,gr(e,!1,n,i);try{var A=d(),M=k.S;if(M!==null&&M(x,A),A!==null&&typeof A=="object"&&typeof A.then=="function"){var G=t0(A,s);Yi(e,n,G,kt(e))}else Yi(e,n,s,kt(e))}catch(B){Yi(e,n,{then:function(){},status:"rejected",reason:B},kt())}finally{J.p=p,S!==null&&x.types!==null&&(S.types=x.types),k.T=S}}function s0(){}function pr(e,n,i,s){if(e.tag!==5)throw Error(a(476));var d=Kf(e).queue;Wf(e,d,n,le,i===null?s0:function(){return Xf(e),i(s)})}function Kf(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:le,baseState:le,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pn,lastRenderedState:le},next:null};var i={};return n.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pn,lastRenderedState:i},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Xf(e){var n=Kf(e);n.next===null&&(n=e.alternate.memoizedState),Yi(e,n.next.queue,{},kt())}function mr(){return ct(ul)}function Qf(){return $e().memoizedState}function $f(){return $e().memoizedState}function r0(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var i=kt();e=Gn(i);var s=Vn(n,e,i);s!==null&&(At(s,n,i),Bi(s,n,i)),n={cache:Fs()},e.payload=n;return}n=n.return}}function u0(e,n,i){var s=kt();i={lane:s,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},na(e)?jf(n,i):(i=Us(e,n,i,s),i!==null&&(At(i,e,s),ed(i,n,s)))}function Zf(e,n,i){var s=kt();Yi(e,n,i,s)}function Yi(e,n,i,s){var d={lane:s,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null};if(na(e))jf(n,d);else{var p=e.alternate;if(e.lanes===0&&(p===null||p.lanes===0)&&(p=n.lastRenderedReducer,p!==null))try{var S=n.lastRenderedState,x=p(S,i);if(d.hasEagerState=!0,d.eagerState=x,Rt(x,S))return Hl(e,n,d,0),Pe===null&&kl(),!1}catch{}finally{}if(i=Us(e,n,d,s),i!==null)return At(i,e,s),ed(i,n,s),!0}return!1}function gr(e,n,i,s){if(s={lane:2,revertLane:Kr(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},na(e)){if(n)throw Error(a(479))}else n=Us(e,i,s,2),n!==null&&At(n,e,2)}function na(e){var n=e.alternate;return e===ge||n!==null&&n===ge}function jf(e,n){Ko=Xl=!0;var i=e.pending;i===null?n.next=n:(n.next=i.next,i.next=n),e.pending=n}function ed(e,n,i){if((i&4194048)!==0){var s=n.lanes;s&=e.pendingLanes,i|=s,n.lanes=i,ic(e,i)}}var Wi={readContext:ct,use:Zl,useCallback:We,useContext:We,useEffect:We,useImperativeHandle:We,useLayoutEffect:We,useInsertionEffect:We,useMemo:We,useReducer:We,useRef:We,useState:We,useDebugValue:We,useDeferredValue:We,useTransition:We,useSyncExternalStore:We,useId:We,useHostTransitionStatus:We,useFormState:We,useActionState:We,useOptimistic:We,useMemoCache:We,useCacheRefresh:We};Wi.useEffectEvent=We;var td={readContext:ct,use:Zl,useCallback:function(e,n){return gt().memoizedState=[e,n===void 0?null:n],e},useContext:ct,useEffect:Vf,useImperativeHandle:function(e,n,i){i=i!=null?i.concat([e]):null,ea(4194308,4,Pf.bind(null,n,e),i)},useLayoutEffect:function(e,n){return ea(4194308,4,e,n)},useInsertionEffect:function(e,n){ea(4,2,e,n)},useMemo:function(e,n){var i=gt();n=n===void 0?null:n;var s=e();if(vo){Rn(!0);try{e()}finally{Rn(!1)}}return i.memoizedState=[s,n],s},useReducer:function(e,n,i){var s=gt();if(i!==void 0){var d=i(n);if(vo){Rn(!0);try{i(n)}finally{Rn(!1)}}}else d=n;return s.memoizedState=s.baseState=d,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:d},s.queue=e,e=e.dispatch=u0.bind(null,ge,e),[s.memoizedState,e]},useRef:function(e){var n=gt();return e={current:e},n.memoizedState=e},useState:function(e){e=ur(e);var n=e.queue,i=Zf.bind(null,ge,n);return n.dispatch=i,[e.memoizedState,i]},useDebugValue:dr,useDeferredValue:function(e,n){var i=gt();return hr(i,e,n)},useTransition:function(){var e=ur(!1);return e=Wf.bind(null,ge,e.queue,!0,!1),gt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,i){var s=ge,d=gt();if(we){if(i===void 0)throw Error(a(407));i=i()}else{if(i=n(),Pe===null)throw Error(a(349));(Ce&127)!==0||_f(s,n,i)}d.memoizedState=i;var p={value:i,getSnapshot:n};return d.queue=p,Vf(Cf.bind(null,s,p,e),[e]),s.flags|=2048,Qo(9,{destroy:void 0},xf.bind(null,s,p,i,n),null),i},useId:function(){var e=gt(),n=Pe.identifierPrefix;if(we){var i=nn,s=tn;i=(s&~(1<<32-wt(s)-1)).toString(32)+i,n="_"+n+"R_"+i,i=Ql++,0<i&&(n+="H"+i.toString(32)),n+="_"}else i=n0++,n="_"+n+"r_"+i.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:mr,useFormState:Uf,useActionState:Uf,useOptimistic:function(e){var n=gt();n.memoizedState=n.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=i,n=gr.bind(null,ge,!0,i),i.dispatch=n,[e,n]},useMemoCache:ar,useCacheRefresh:function(){return gt().memoizedState=r0.bind(null,ge)},useEffectEvent:function(e){var n=gt(),i={impl:e};return n.memoizedState=i,function(){if((He&2)!==0)throw Error(a(440));return i.impl.apply(void 0,arguments)}}},yr={readContext:ct,use:Zl,useCallback:Ff,useContext:ct,useEffect:fr,useImperativeHandle:Of,useInsertionEffect:qf,useLayoutEffect:Bf,useMemo:Jf,useReducer:jl,useRef:Gf,useState:function(){return jl(pn)},useDebugValue:dr,useDeferredValue:function(e,n){var i=$e();return Yf(i,ze.memoizedState,e,n)},useTransition:function(){var e=jl(pn)[0],n=$e().memoizedState;return[typeof e=="boolean"?e:Ji(e),n]},useSyncExternalStore:Tf,useId:Qf,useHostTransitionStatus:mr,useFormState:Lf,useActionState:Lf,useOptimistic:function(e,n){var i=$e();return Nf(i,ze,e,n)},useMemoCache:ar,useCacheRefresh:$f};yr.useEffectEvent=zf;var nd={readContext:ct,use:Zl,useCallback:Ff,useContext:ct,useEffect:fr,useImperativeHandle:Of,useInsertionEffect:qf,useLayoutEffect:Bf,useMemo:Jf,useReducer:rr,useRef:Gf,useState:function(){return rr(pn)},useDebugValue:dr,useDeferredValue:function(e,n){var i=$e();return ze===null?hr(i,e,n):Yf(i,ze.memoizedState,e,n)},useTransition:function(){var e=rr(pn)[0],n=$e().memoizedState;return[typeof e=="boolean"?e:Ji(e),n]},useSyncExternalStore:Tf,useId:Qf,useHostTransitionStatus:mr,useFormState:Hf,useActionState:Hf,useOptimistic:function(e,n){var i=$e();return ze!==null?Nf(i,ze,e,n):(i.baseState=e,[e,i.queue.dispatch])},useMemoCache:ar,useCacheRefresh:$f};nd.useEffectEvent=zf;function vr(e,n,i,s){n=e.memoizedState,i=i(s,n),i=i==null?n:E({},n,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var Sr={enqueueSetState:function(e,n,i){e=e._reactInternals;var s=kt(),d=Gn(s);d.payload=n,i!=null&&(d.callback=i),n=Vn(e,d,s),n!==null&&(At(n,e,s),Bi(n,e,s))},enqueueReplaceState:function(e,n,i){e=e._reactInternals;var s=kt(),d=Gn(s);d.tag=1,d.payload=n,i!=null&&(d.callback=i),n=Vn(e,d,s),n!==null&&(At(n,e,s),Bi(n,e,s))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var i=kt(),s=Gn(i);s.tag=2,n!=null&&(s.callback=n),n=Vn(e,s,i),n!==null&&(At(n,e,i),Bi(n,e,i))}};function od(e,n,i,s,d,p,S){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,p,S):n.prototype&&n.prototype.isPureReactComponent?!Ui(i,s)||!Ui(d,p):!0}function id(e,n,i,s){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(i,s),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(i,s),n.state!==e&&Sr.enqueueReplaceState(n,n.state,null)}function So(e,n){var i=n;if("ref"in n){i={};for(var s in n)s!=="ref"&&(i[s]=n[s])}if(e=e.defaultProps){i===n&&(i=E({},i));for(var d in e)i[d]===void 0&&(i[d]=e[d])}return i}function ld(e){Ll(e)}function ad(e){console.error(e)}function sd(e){Ll(e)}function oa(e,n){try{var i=e.onUncaughtError;i(n.value,{componentStack:n.stack})}catch(s){setTimeout(function(){throw s})}}function rd(e,n,i){try{var s=e.onCaughtError;s(i.value,{componentStack:i.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Er(e,n,i){return i=Gn(i),i.tag=3,i.payload={element:null},i.callback=function(){oa(e,n)},i}function ud(e){return e=Gn(e),e.tag=3,e}function cd(e,n,i,s){var d=i.type.getDerivedStateFromError;if(typeof d=="function"){var p=s.value;e.payload=function(){return d(p)},e.callback=function(){rd(n,i,s)}}var S=i.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(e.callback=function(){rd(n,i,s),typeof d!="function"&&(Fn===null?Fn=new Set([this]):Fn.add(this));var x=s.stack;this.componentDidCatch(s.value,{componentStack:x!==null?x:""})})}function c0(e,n,i,s,d){if(i.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(n=i.alternate,n!==null&&Po(n,i,d,!0),i=It.current,i!==null){switch(i.tag){case 31:case 13:return Ft===null?ma():i.alternate===null&&Ke===0&&(Ke=3),i.flags&=-257,i.flags|=65536,i.lanes=d,s===Fl?i.flags|=16384:(n=i.updateQueue,n===null?i.updateQueue=new Set([s]):n.add(s),Jr(e,s,d)),!1;case 22:return i.flags|=65536,s===Fl?i.flags|=16384:(n=i.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([s])},i.updateQueue=n):(i=n.retryQueue,i===null?n.retryQueue=new Set([s]):i.add(s)),Jr(e,s,d)),!1}throw Error(a(435,i.tag))}return Jr(e,s,d),ma(),!1}if(we)return n=It.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=d,s!==zs&&(e=Error(a(422),{cause:s}),Hi(qt(e,i)))):(s!==zs&&(n=Error(a(423),{cause:s}),Hi(qt(n,i))),e=e.current.alternate,e.flags|=65536,d&=-d,e.lanes|=d,s=qt(s,i),d=Er(e.stateNode,s,d),Qs(e,d),Ke!==4&&(Ke=2)),!1;var p=Error(a(520),{cause:s});if(p=qt(p,i),tl===null?tl=[p]:tl.push(p),Ke!==4&&(Ke=2),n===null)return!0;s=qt(s,i),i=n;do{switch(i.tag){case 3:return i.flags|=65536,e=d&-d,i.lanes|=e,e=Er(i.stateNode,s,e),Qs(i,e),!1;case 1:if(n=i.type,p=i.stateNode,(i.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Fn===null||!Fn.has(p))))return i.flags|=65536,d&=-d,i.lanes|=d,d=ud(d),cd(d,e,i,s),Qs(i,d),!1}i=i.return}while(i!==null);return!1}var Tr=Error(a(461)),et=!1;function ft(e,n,i,s){n.child=e===null?pf(n,null,i,s):yo(n,e.child,i,s)}function fd(e,n,i,s,d){i=i.render;var p=n.ref;if("ref"in s){var S={};for(var x in s)x!=="ref"&&(S[x]=s[x])}else S=s;return ho(n),s=nr(e,n,i,S,p,d),x=or(),e!==null&&!et?(ir(e,n,d),mn(e,n,d)):(we&&x&&Gs(n),n.flags|=1,ft(e,n,s,d),n.child)}function dd(e,n,i,s,d){if(e===null){var p=i.type;return typeof p=="function"&&!Ls(p)&&p.defaultProps===void 0&&i.compare===null?(n.tag=15,n.type=p,hd(e,n,p,s,d)):(e=Vl(i.type,null,s,n,n.mode,d),e.ref=n.ref,e.return=n,n.child=e)}if(p=e.child,!Rr(e,d)){var S=p.memoizedProps;if(i=i.compare,i=i!==null?i:Ui,i(S,s)&&e.ref===n.ref)return mn(e,n,d)}return n.flags|=1,e=un(p,s),e.ref=n.ref,e.return=n,n.child=e}function hd(e,n,i,s,d){if(e!==null){var p=e.memoizedProps;if(Ui(p,s)&&e.ref===n.ref)if(et=!1,n.pendingProps=s=p,Rr(e,d))(e.flags&131072)!==0&&(et=!0);else return n.lanes=e.lanes,mn(e,n,d)}return _r(e,n,i,s,d)}function pd(e,n,i,s){var d=s.children,p=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((n.flags&128)!==0){if(p=p!==null?p.baseLanes|i:i,e!==null){for(s=n.child=e.child,d=0;s!==null;)d=d|s.lanes|s.childLanes,s=s.sibling;s=d&~p}else s=0,n.child=null;return md(e,n,p,i,s)}if((i&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Pl(n,p!==null?p.cachePool:null),p!==null?yf(n,p):Zs(),vf(n);else return s=n.lanes=536870912,md(e,n,p!==null?p.baseLanes|i:i,i,s)}else p!==null?(Pl(n,p.cachePool),yf(n,p),qn(),n.memoizedState=null):(e!==null&&Pl(n,null),Zs(),qn());return ft(e,n,d,i),n.child}function Ki(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function md(e,n,i,s,d){var p=Ys();return p=p===null?null:{parent:Ze._currentValue,pool:p},n.memoizedState={baseLanes:i,cachePool:p},e!==null&&Pl(n,null),Zs(),vf(n),e!==null&&Po(e,n,s,!0),n.childLanes=d,null}function ia(e,n){return n=aa({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function gd(e,n,i){return yo(n,e.child,null,i),e=ia(n,n.pendingProps),e.flags|=2,Dt(n),n.memoizedState=null,e}function f0(e,n,i){var s=n.pendingProps,d=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(we){if(s.mode==="hidden")return e=ia(n,s),n.lanes=536870912,Ki(null,e);if(er(n),(e=Oe)?(e=wh(e,Ot),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Dn!==null?{id:tn,overflow:nn}:null,retryLane:536870912,hydrationErrors:null},i=Zc(e),i.return=n,n.child=i,ut=n,Oe=null)):e=null,e===null)throw Ln(n);return n.lanes=536870912,null}return ia(n,s)}var p=e.memoizedState;if(p!==null){var S=p.dehydrated;if(er(n),d)if(n.flags&256)n.flags&=-257,n=gd(e,n,i);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(et||Po(e,n,i,!1),d=(i&e.childLanes)!==0,et||d){if(s=Pe,s!==null&&(S=lc(s,i),S!==0&&S!==p.retryLane))throw p.retryLane=S,ro(e,S),At(s,e,S),Tr;ma(),n=gd(e,n,i)}else e=p.treeContext,Oe=Jt(S.nextSibling),ut=n,we=!0,Un=null,Ot=!1,e!==null&&tf(n,e),n=ia(n,s),n.flags|=4096;return n}return e=un(e.child,{mode:s.mode,children:s.children}),e.ref=n.ref,n.child=e,e.return=n,e}function la(e,n){var i=n.ref;if(i===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(a(284));(e===null||e.ref!==i)&&(n.flags|=4194816)}}function _r(e,n,i,s,d){return ho(n),i=nr(e,n,i,s,void 0,d),s=or(),e!==null&&!et?(ir(e,n,d),mn(e,n,d)):(we&&s&&Gs(n),n.flags|=1,ft(e,n,i,d),n.child)}function yd(e,n,i,s,d,p){return ho(n),n.updateQueue=null,i=Ef(n,s,i,d),Sf(e),s=or(),e!==null&&!et?(ir(e,n,p),mn(e,n,p)):(we&&s&&Gs(n),n.flags|=1,ft(e,n,i,p),n.child)}function vd(e,n,i,s,d){if(ho(n),n.stateNode===null){var p=Vo,S=i.contextType;typeof S=="object"&&S!==null&&(p=ct(S)),p=new i(s,p),n.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Sr,n.stateNode=p,p._reactInternals=n,p=n.stateNode,p.props=s,p.state=n.memoizedState,p.refs={},Ks(n),S=i.contextType,p.context=typeof S=="object"&&S!==null?ct(S):Vo,p.state=n.memoizedState,S=i.getDerivedStateFromProps,typeof S=="function"&&(vr(n,i,S,s),p.state=n.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(S=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),S!==p.state&&Sr.enqueueReplaceState(p,p.state,null),Oi(n,s,p,d),Pi(),p.state=n.memoizedState),typeof p.componentDidMount=="function"&&(n.flags|=4194308),s=!0}else if(e===null){p=n.stateNode;var x=n.memoizedProps,A=So(i,x);p.props=A;var M=p.context,G=i.contextType;S=Vo,typeof G=="object"&&G!==null&&(S=ct(G));var B=i.getDerivedStateFromProps;G=typeof B=="function"||typeof p.getSnapshotBeforeUpdate=="function",x=n.pendingProps!==x,G||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(x||M!==S)&&id(n,p,s,S),Hn=!1;var I=n.memoizedState;p.state=I,Oi(n,s,p,d),Pi(),M=n.memoizedState,x||I!==M||Hn?(typeof B=="function"&&(vr(n,i,B,s),M=n.memoizedState),(A=Hn||od(n,i,A,s,I,M,S))?(G||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(n.flags|=4194308)):(typeof p.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=s,n.memoizedState=M),p.props=s,p.state=M,p.context=S,s=A):(typeof p.componentDidMount=="function"&&(n.flags|=4194308),s=!1)}else{p=n.stateNode,Xs(e,n),S=n.memoizedProps,G=So(i,S),p.props=G,B=n.pendingProps,I=p.context,M=i.contextType,A=Vo,typeof M=="object"&&M!==null&&(A=ct(M)),x=i.getDerivedStateFromProps,(M=typeof x=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(S!==B||I!==A)&&id(n,p,s,A),Hn=!1,I=n.memoizedState,p.state=I,Oi(n,s,p,d),Pi();var L=n.memoizedState;S!==B||I!==L||Hn||e!==null&&e.dependencies!==null&&ql(e.dependencies)?(typeof x=="function"&&(vr(n,i,x,s),L=n.memoizedState),(G=Hn||od(n,i,G,s,I,L,A)||e!==null&&e.dependencies!==null&&ql(e.dependencies))?(M||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(s,L,A),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(s,L,A)),typeof p.componentDidUpdate=="function"&&(n.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof p.componentDidUpdate!="function"||S===e.memoizedProps&&I===e.memoizedState||(n.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&I===e.memoizedState||(n.flags|=1024),n.memoizedProps=s,n.memoizedState=L),p.props=s,p.state=L,p.context=A,s=G):(typeof p.componentDidUpdate!="function"||S===e.memoizedProps&&I===e.memoizedState||(n.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&I===e.memoizedState||(n.flags|=1024),s=!1)}return p=s,la(e,n),s=(n.flags&128)!==0,p||s?(p=n.stateNode,i=s&&typeof i.getDerivedStateFromError!="function"?null:p.render(),n.flags|=1,e!==null&&s?(n.child=yo(n,e.child,null,d),n.child=yo(n,null,i,d)):ft(e,n,i,d),n.memoizedState=p.state,e=n.child):e=mn(e,n,d),e}function Sd(e,n,i,s){return co(),n.flags|=256,ft(e,n,i,s),n.child}var xr={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Cr(e){return{baseLanes:e,cachePool:rf()}}function Ar(e,n,i){return e=e!==null?e.childLanes&~i:0,n&&(e|=Lt),e}function Ed(e,n,i){var s=n.pendingProps,d=!1,p=(n.flags&128)!==0,S;if((S=p)||(S=e!==null&&e.memoizedState===null?!1:(Qe.current&2)!==0),S&&(d=!0,n.flags&=-129),S=(n.flags&32)!==0,n.flags&=-33,e===null){if(we){if(d?zn(n):qn(),(e=Oe)?(e=wh(e,Ot),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Dn!==null?{id:tn,overflow:nn}:null,retryLane:536870912,hydrationErrors:null},i=Zc(e),i.return=n,n.child=i,ut=n,Oe=null)):e=null,e===null)throw Ln(n);return su(e)?n.lanes=32:n.lanes=536870912,null}var x=s.children;return s=s.fallback,d?(qn(),d=n.mode,x=aa({mode:"hidden",children:x},d),s=uo(s,d,i,null),x.return=n,s.return=n,x.sibling=s,n.child=x,s=n.child,s.memoizedState=Cr(i),s.childLanes=Ar(e,S,i),n.memoizedState=xr,Ki(null,s)):(zn(n),br(n,x))}var A=e.memoizedState;if(A!==null&&(x=A.dehydrated,x!==null)){if(p)n.flags&256?(zn(n),n.flags&=-257,n=Nr(e,n,i)):n.memoizedState!==null?(qn(),n.child=e.child,n.flags|=128,n=null):(qn(),x=s.fallback,d=n.mode,s=aa({mode:"visible",children:s.children},d),x=uo(x,d,i,null),x.flags|=2,s.return=n,x.return=n,s.sibling=x,n.child=s,yo(n,e.child,null,i),s=n.child,s.memoizedState=Cr(i),s.childLanes=Ar(e,S,i),n.memoizedState=xr,n=Ki(null,s));else if(zn(n),su(x)){if(S=x.nextSibling&&x.nextSibling.dataset,S)var M=S.dgst;S=M,s=Error(a(419)),s.stack="",s.digest=S,Hi({value:s,source:null,stack:null}),n=Nr(e,n,i)}else if(et||Po(e,n,i,!1),S=(i&e.childLanes)!==0,et||S){if(S=Pe,S!==null&&(s=lc(S,i),s!==0&&s!==A.retryLane))throw A.retryLane=s,ro(e,s),At(S,e,s),Tr;au(x)||ma(),n=Nr(e,n,i)}else au(x)?(n.flags|=192,n.child=e.child,n=null):(e=A.treeContext,Oe=Jt(x.nextSibling),ut=n,we=!0,Un=null,Ot=!1,e!==null&&tf(n,e),n=br(n,s.children),n.flags|=4096);return n}return d?(qn(),x=s.fallback,d=n.mode,A=e.child,M=A.sibling,s=un(A,{mode:"hidden",children:s.children}),s.subtreeFlags=A.subtreeFlags&65011712,M!==null?x=un(M,x):(x=uo(x,d,i,null),x.flags|=2),x.return=n,s.return=n,s.sibling=x,n.child=s,Ki(null,s),s=n.child,x=e.child.memoizedState,x===null?x=Cr(i):(d=x.cachePool,d!==null?(A=Ze._currentValue,d=d.parent!==A?{parent:A,pool:A}:d):d=rf(),x={baseLanes:x.baseLanes|i,cachePool:d}),s.memoizedState=x,s.childLanes=Ar(e,S,i),n.memoizedState=xr,Ki(e.child,s)):(zn(n),i=e.child,e=i.sibling,i=un(i,{mode:"visible",children:s.children}),i.return=n,i.sibling=null,e!==null&&(S=n.deletions,S===null?(n.deletions=[e],n.flags|=16):S.push(e)),n.child=i,n.memoizedState=null,i)}function br(e,n){return n=aa({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function aa(e,n){return e=Mt(22,e,null,n),e.lanes=0,e}function Nr(e,n,i){return yo(n,e.child,null,i),e=br(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Td(e,n,i){e.lanes|=n;var s=e.alternate;s!==null&&(s.lanes|=n),Ps(e.return,n,i)}function wr(e,n,i,s,d,p){var S=e.memoizedState;S===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:s,tail:i,tailMode:d,treeForkCount:p}:(S.isBackwards=n,S.rendering=null,S.renderingStartTime=0,S.last=s,S.tail=i,S.tailMode=d,S.treeForkCount=p)}function _d(e,n,i){var s=n.pendingProps,d=s.revealOrder,p=s.tail;s=s.children;var S=Qe.current,x=(S&2)!==0;if(x?(S=S&1|2,n.flags|=128):S&=1,X(Qe,S),ft(e,n,s,i),s=we?ki:0,!x&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Td(e,i,n);else if(e.tag===19)Td(e,i,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(d){case"forwards":for(i=n.child,d=null;i!==null;)e=i.alternate,e!==null&&Kl(e)===null&&(d=i),i=i.sibling;i=d,i===null?(d=n.child,n.child=null):(d=i.sibling,i.sibling=null),wr(n,!1,d,i,p,s);break;case"backwards":case"unstable_legacy-backwards":for(i=null,d=n.child,n.child=null;d!==null;){if(e=d.alternate,e!==null&&Kl(e)===null){n.child=d;break}e=d.sibling,d.sibling=i,i=d,d=e}wr(n,!0,i,null,p,s);break;case"together":wr(n,!1,null,null,void 0,s);break;default:n.memoizedState=null}return n.child}function mn(e,n,i){if(e!==null&&(n.dependencies=e.dependencies),On|=n.lanes,(i&n.childLanes)===0)if(e!==null){if(Po(e,n,i,!1),(i&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,i=un(e,e.pendingProps),n.child=i,i.return=n;e.sibling!==null;)e=e.sibling,i=i.sibling=un(e,e.pendingProps),i.return=n;i.sibling=null}return n.child}function Rr(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&ql(e)))}function d0(e,n,i){switch(n.tag){case 3:ae(n,n.stateNode.containerInfo),kn(n,Ze,e.memoizedState.cache),co();break;case 27:case 5:Ye(n);break;case 4:ae(n,n.stateNode.containerInfo);break;case 10:kn(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,er(n),null;break;case 13:var s=n.memoizedState;if(s!==null)return s.dehydrated!==null?(zn(n),n.flags|=128,null):(i&n.child.childLanes)!==0?Ed(e,n,i):(zn(n),e=mn(e,n,i),e!==null?e.sibling:null);zn(n);break;case 19:var d=(e.flags&128)!==0;if(s=(i&n.childLanes)!==0,s||(Po(e,n,i,!1),s=(i&n.childLanes)!==0),d){if(s)return _d(e,n,i);n.flags|=128}if(d=n.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),X(Qe,Qe.current),s)break;return null;case 22:return n.lanes=0,pd(e,n,i,n.pendingProps);case 24:kn(n,Ze,e.memoizedState.cache)}return mn(e,n,i)}function xd(e,n,i){if(e!==null)if(e.memoizedProps!==n.pendingProps)et=!0;else{if(!Rr(e,i)&&(n.flags&128)===0)return et=!1,d0(e,n,i);et=(e.flags&131072)!==0}else et=!1,we&&(n.flags&1048576)!==0&&ef(n,ki,n.index);switch(n.lanes=0,n.tag){case 16:e:{var s=n.pendingProps;if(e=mo(n.elementType),n.type=e,typeof e=="function")Ls(e)?(s=So(e,s),n.tag=1,n=vd(null,n,e,s,i)):(n.tag=0,n=_r(null,n,e,s,i));else{if(e!=null){var d=e.$$typeof;if(d===$){n.tag=11,n=fd(null,n,e,s,i);break e}else if(d===W){n.tag=14,n=dd(null,n,e,s,i);break e}}throw n=ke(e)||e,Error(a(306,n,""))}}return n;case 0:return _r(e,n,n.type,n.pendingProps,i);case 1:return s=n.type,d=So(s,n.pendingProps),vd(e,n,s,d,i);case 3:e:{if(ae(n,n.stateNode.containerInfo),e===null)throw Error(a(387));s=n.pendingProps;var p=n.memoizedState;d=p.element,Xs(e,n),Oi(n,s,null,i);var S=n.memoizedState;if(s=S.cache,kn(n,Ze,s),s!==p.cache&&Os(n,[Ze],i,!0),Pi(),s=S.element,p.isDehydrated)if(p={element:s,isDehydrated:!1,cache:S.cache},n.updateQueue.baseState=p,n.memoizedState=p,n.flags&256){n=Sd(e,n,s,i);break e}else if(s!==d){d=qt(Error(a(424)),n),Hi(d),n=Sd(e,n,s,i);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Oe=Jt(e.firstChild),ut=n,we=!0,Un=null,Ot=!0,i=pf(n,null,s,i),n.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(co(),s===d){n=mn(e,n,i);break e}ft(e,n,s,i)}n=n.child}return n;case 26:return la(e,n),e===null?(i=Lh(n.type,null,n.pendingProps,null))?n.memoizedState=i:we||(i=n.type,e=n.pendingProps,s=_a(me.current).createElement(i),s[rt]=n,s[St]=e,dt(s,i,e),it(s),n.stateNode=s):n.memoizedState=Lh(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Ye(n),e===null&&we&&(s=n.stateNode=Ih(n.type,n.pendingProps,me.current),ut=n,Ot=!0,d=Oe,Kn(n.type)?(ru=d,Oe=Jt(s.firstChild)):Oe=d),ft(e,n,n.pendingProps.children,i),la(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&we&&((d=s=Oe)&&(s=P0(s,n.type,n.pendingProps,Ot),s!==null?(n.stateNode=s,ut=n,Oe=Jt(s.firstChild),Ot=!1,d=!0):d=!1),d||Ln(n)),Ye(n),d=n.type,p=n.pendingProps,S=e!==null?e.memoizedProps:null,s=p.children,ou(d,p)?s=null:S!==null&&ou(d,S)&&(n.flags|=32),n.memoizedState!==null&&(d=nr(e,n,o0,null,null,i),ul._currentValue=d),la(e,n),ft(e,n,s,i),n.child;case 6:return e===null&&we&&((e=i=Oe)&&(i=O0(i,n.pendingProps,Ot),i!==null?(n.stateNode=i,ut=n,Oe=null,e=!0):e=!1),e||Ln(n)),null;case 13:return Ed(e,n,i);case 4:return ae(n,n.stateNode.containerInfo),s=n.pendingProps,e===null?n.child=yo(n,null,s,i):ft(e,n,s,i),n.child;case 11:return fd(e,n,n.type,n.pendingProps,i);case 7:return ft(e,n,n.pendingProps,i),n.child;case 8:return ft(e,n,n.pendingProps.children,i),n.child;case 12:return ft(e,n,n.pendingProps.children,i),n.child;case 10:return s=n.pendingProps,kn(n,n.type,s.value),ft(e,n,s.children,i),n.child;case 9:return d=n.type._context,s=n.pendingProps.children,ho(n),d=ct(d),s=s(d),n.flags|=1,ft(e,n,s,i),n.child;case 14:return dd(e,n,n.type,n.pendingProps,i);case 15:return hd(e,n,n.type,n.pendingProps,i);case 19:return _d(e,n,i);case 31:return f0(e,n,i);case 22:return pd(e,n,i,n.pendingProps);case 24:return ho(n),s=ct(Ze),e===null?(d=Ys(),d===null&&(d=Pe,p=Fs(),d.pooledCache=p,p.refCount++,p!==null&&(d.pooledCacheLanes|=i),d=p),n.memoizedState={parent:s,cache:d},Ks(n),kn(n,Ze,d)):((e.lanes&i)!==0&&(Xs(e,n),Oi(n,null,null,i),Pi()),d=e.memoizedState,p=n.memoizedState,d.parent!==s?(d={parent:s,cache:s},n.memoizedState=d,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=d),kn(n,Ze,s)):(s=p.cache,kn(n,Ze,s),s!==d.cache&&Os(n,[Ze],i,!0))),ft(e,n,n.pendingProps.children,i),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function gn(e){e.flags|=4}function Mr(e,n,i,s,d){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(d&335544128)===d)if(e.stateNode.complete)e.flags|=8192;else if(Qd())e.flags|=8192;else throw go=Fl,Ws}else e.flags&=-16777217}function Cd(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!zh(n))if(Qd())e.flags|=8192;else throw go=Fl,Ws}function sa(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?nc():536870912,e.lanes|=n,ei|=n)}function Xi(e,n){if(!we)switch(e.tailMode){case"hidden":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Fe(e){var n=e.alternate!==null&&e.alternate.child===e.child,i=0,s=0;if(n)for(var d=e.child;d!==null;)i|=d.lanes|d.childLanes,s|=d.subtreeFlags&65011712,s|=d.flags&65011712,d.return=e,d=d.sibling;else for(d=e.child;d!==null;)i|=d.lanes|d.childLanes,s|=d.subtreeFlags,s|=d.flags,d.return=e,d=d.sibling;return e.subtreeFlags|=s,e.childLanes=i,n}function h0(e,n,i){var s=n.pendingProps;switch(Vs(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Fe(n),null;case 1:return Fe(n),null;case 3:return i=n.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),dn(Ze),ue(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(Bo(n)?gn(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,qs())),Fe(n),null;case 26:var d=n.type,p=n.memoizedState;return e===null?(gn(n),p!==null?(Fe(n),Cd(n,p)):(Fe(n),Mr(n,d,null,s,i))):p?p!==e.memoizedState?(gn(n),Fe(n),Cd(n,p)):(Fe(n),n.flags&=-16777217):(e=e.memoizedProps,e!==s&&gn(n),Fe(n),Mr(n,d,e,s,i)),null;case 27:if(nt(n),i=me.current,d=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==s&&gn(n);else{if(!s){if(n.stateNode===null)throw Error(a(166));return Fe(n),null}e=Q.current,Bo(n)?nf(n):(e=Ih(d,s,i),n.stateNode=e,gn(n))}return Fe(n),null;case 5:if(nt(n),d=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==s&&gn(n);else{if(!s){if(n.stateNode===null)throw Error(a(166));return Fe(n),null}if(p=Q.current,Bo(n))nf(n);else{var S=_a(me.current);switch(p){case 1:p=S.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:p=S.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":p=S.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":p=S.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":p=S.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof s.is=="string"?S.createElement("select",{is:s.is}):S.createElement("select"),s.multiple?p.multiple=!0:s.size&&(p.size=s.size);break;default:p=typeof s.is=="string"?S.createElement(d,{is:s.is}):S.createElement(d)}}p[rt]=n,p[St]=s;e:for(S=n.child;S!==null;){if(S.tag===5||S.tag===6)p.appendChild(S.stateNode);else if(S.tag!==4&&S.tag!==27&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===n)break e;for(;S.sibling===null;){if(S.return===null||S.return===n)break e;S=S.return}S.sibling.return=S.return,S=S.sibling}n.stateNode=p;e:switch(dt(p,d,s),d){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&gn(n)}}return Fe(n),Mr(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,i),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==s&&gn(n);else{if(typeof s!="string"&&n.stateNode===null)throw Error(a(166));if(e=me.current,Bo(n)){if(e=n.stateNode,i=n.memoizedProps,s=null,d=ut,d!==null)switch(d.tag){case 27:case 5:s=d.memoizedProps}e[rt]=n,e=!!(e.nodeValue===i||s!==null&&s.suppressHydrationWarning===!0||Eh(e.nodeValue,i)),e||Ln(n,!0)}else e=_a(e).createTextNode(s),e[rt]=n,n.stateNode=e}return Fe(n),null;case 31:if(i=n.memoizedState,e===null||e.memoizedState!==null){if(s=Bo(n),i!==null){if(e===null){if(!s)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[rt]=n}else co(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Fe(n),e=!1}else i=qs(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),e=!0;if(!e)return n.flags&256?(Dt(n),n):(Dt(n),null);if((n.flags&128)!==0)throw Error(a(558))}return Fe(n),null;case 13:if(s=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(d=Bo(n),s!==null&&s.dehydrated!==null){if(e===null){if(!d)throw Error(a(318));if(d=n.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(a(317));d[rt]=n}else co(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Fe(n),d=!1}else d=qs(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=d),d=!0;if(!d)return n.flags&256?(Dt(n),n):(Dt(n),null)}return Dt(n),(n.flags&128)!==0?(n.lanes=i,n):(i=s!==null,e=e!==null&&e.memoizedState!==null,i&&(s=n.child,d=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(d=s.alternate.memoizedState.cachePool.pool),p=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(p=s.memoizedState.cachePool.pool),p!==d&&(s.flags|=2048)),i!==e&&i&&(n.child.flags|=8192),sa(n,n.updateQueue),Fe(n),null);case 4:return ue(),e===null&&Zr(n.stateNode.containerInfo),Fe(n),null;case 10:return dn(n.type),Fe(n),null;case 19:if(q(Qe),s=n.memoizedState,s===null)return Fe(n),null;if(d=(n.flags&128)!==0,p=s.rendering,p===null)if(d)Xi(s,!1);else{if(Ke!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(p=Kl(e),p!==null){for(n.flags|=128,Xi(s,!1),e=p.updateQueue,n.updateQueue=e,sa(n,e),n.subtreeFlags=0,e=i,i=n.child;i!==null;)$c(i,e),i=i.sibling;return X(Qe,Qe.current&1|2),we&&cn(n,s.treeForkCount),n.child}e=e.sibling}s.tail!==null&&mt()>da&&(n.flags|=128,d=!0,Xi(s,!1),n.lanes=4194304)}else{if(!d)if(e=Kl(p),e!==null){if(n.flags|=128,d=!0,e=e.updateQueue,n.updateQueue=e,sa(n,e),Xi(s,!0),s.tail===null&&s.tailMode==="hidden"&&!p.alternate&&!we)return Fe(n),null}else 2*mt()-s.renderingStartTime>da&&i!==536870912&&(n.flags|=128,d=!0,Xi(s,!1),n.lanes=4194304);s.isBackwards?(p.sibling=n.child,n.child=p):(e=s.last,e!==null?e.sibling=p:n.child=p,s.last=p)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=mt(),e.sibling=null,i=Qe.current,X(Qe,d?i&1|2:i&1),we&&cn(n,s.treeForkCount),e):(Fe(n),null);case 22:case 23:return Dt(n),js(),s=n.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(n.flags|=8192):s&&(n.flags|=8192),s?(i&536870912)!==0&&(n.flags&128)===0&&(Fe(n),n.subtreeFlags&6&&(n.flags|=8192)):Fe(n),i=n.updateQueue,i!==null&&sa(n,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),s=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),s!==i&&(n.flags|=2048),e!==null&&q(po),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),n.memoizedState.cache!==i&&(n.flags|=2048),dn(Ze),Fe(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function p0(e,n){switch(Vs(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return dn(Ze),ue(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return nt(n),null;case 31:if(n.memoizedState!==null){if(Dt(n),n.alternate===null)throw Error(a(340));co()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(Dt(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));co()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return q(Qe),null;case 4:return ue(),null;case 10:return dn(n.type),null;case 22:case 23:return Dt(n),js(),e!==null&&q(po),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return dn(Ze),null;case 25:return null;default:return null}}function Ad(e,n){switch(Vs(n),n.tag){case 3:dn(Ze),ue();break;case 26:case 27:case 5:nt(n);break;case 4:ue();break;case 31:n.memoizedState!==null&&Dt(n);break;case 13:Dt(n);break;case 19:q(Qe);break;case 10:dn(n.type);break;case 22:case 23:Dt(n),js(),e!==null&&q(po);break;case 24:dn(Ze)}}function Qi(e,n){try{var i=n.updateQueue,s=i!==null?i.lastEffect:null;if(s!==null){var d=s.next;i=d;do{if((i.tag&e)===e){s=void 0;var p=i.create,S=i.inst;s=p(),S.destroy=s}i=i.next}while(i!==d)}}catch(x){Ve(n,n.return,x)}}function Bn(e,n,i){try{var s=n.updateQueue,d=s!==null?s.lastEffect:null;if(d!==null){var p=d.next;s=p;do{if((s.tag&e)===e){var S=s.inst,x=S.destroy;if(x!==void 0){S.destroy=void 0,d=n;var A=i,M=x;try{M()}catch(G){Ve(d,A,G)}}}s=s.next}while(s!==p)}}catch(G){Ve(n,n.return,G)}}function bd(e){var n=e.updateQueue;if(n!==null){var i=e.stateNode;try{gf(n,i)}catch(s){Ve(e,e.return,s)}}}function Nd(e,n,i){i.props=So(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(s){Ve(e,n,s)}}function $i(e,n){try{var i=e.ref;if(i!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof i=="function"?e.refCleanup=i(s):i.current=s}}catch(d){Ve(e,n,d)}}function on(e,n){var i=e.ref,s=e.refCleanup;if(i!==null)if(typeof s=="function")try{s()}catch(d){Ve(e,n,d)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(d){Ve(e,n,d)}else i.current=null}function wd(e){var n=e.type,i=e.memoizedProps,s=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":i.autoFocus&&s.focus();break e;case"img":i.src?s.src=i.src:i.srcSet&&(s.srcset=i.srcSet)}}catch(d){Ve(e,e.return,d)}}function Ir(e,n,i){try{var s=e.stateNode;H0(s,e.type,i,n),s[St]=n}catch(d){Ve(e,e.return,d)}}function Rd(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Kn(e.type)||e.tag===4}function Dr(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Rd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Kn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ur(e,n,i){var s=e.tag;if(s===5||s===6)e=e.stateNode,n?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(e,n):(n=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,n.appendChild(e),i=i._reactRootContainer,i!=null||n.onclick!==null||(n.onclick=sn));else if(s!==4&&(s===27&&Kn(e.type)&&(i=e.stateNode,n=null),e=e.child,e!==null))for(Ur(e,n,i),e=e.sibling;e!==null;)Ur(e,n,i),e=e.sibling}function ra(e,n,i){var s=e.tag;if(s===5||s===6)e=e.stateNode,n?i.insertBefore(e,n):i.appendChild(e);else if(s!==4&&(s===27&&Kn(e.type)&&(i=e.stateNode),e=e.child,e!==null))for(ra(e,n,i),e=e.sibling;e!==null;)ra(e,n,i),e=e.sibling}function Md(e){var n=e.stateNode,i=e.memoizedProps;try{for(var s=e.type,d=n.attributes;d.length;)n.removeAttributeNode(d[0]);dt(n,s,i),n[rt]=e,n[St]=i}catch(p){Ve(e,e.return,p)}}var yn=!1,tt=!1,Lr=!1,Id=typeof WeakSet=="function"?WeakSet:Set,lt=null;function m0(e,n){if(e=e.containerInfo,tu=Ra,e=Pc(e),Ns(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var s=i.getSelection&&i.getSelection();if(s&&s.rangeCount!==0){i=s.anchorNode;var d=s.anchorOffset,p=s.focusNode;s=s.focusOffset;try{i.nodeType,p.nodeType}catch{i=null;break e}var S=0,x=-1,A=-1,M=0,G=0,B=e,I=null;t:for(;;){for(var L;B!==i||d!==0&&B.nodeType!==3||(x=S+d),B!==p||s!==0&&B.nodeType!==3||(A=S+s),B.nodeType===3&&(S+=B.nodeValue.length),(L=B.firstChild)!==null;)I=B,B=L;for(;;){if(B===e)break t;if(I===i&&++M===d&&(x=S),I===p&&++G===s&&(A=S),(L=B.nextSibling)!==null)break;B=I,I=B.parentNode}B=L}i=x===-1||A===-1?null:{start:x,end:A}}else i=null}i=i||{start:0,end:0}}else i=null;for(nu={focusedElem:e,selectionRange:i},Ra=!1,lt=n;lt!==null;)if(n=lt,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,lt=e;else for(;lt!==null;){switch(n=lt,p=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(i=0;i<e.length;i++)d=e[i],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&p!==null){e=void 0,i=n,d=p.memoizedProps,p=p.memoizedState,s=i.stateNode;try{var ee=So(i.type,d);e=s.getSnapshotBeforeUpdate(ee,p),s.__reactInternalSnapshotBeforeUpdate=e}catch(se){Ve(i,i.return,se)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,i=e.nodeType,i===9)lu(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":lu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,lt=e;break}lt=n.return}}function Dd(e,n,i){var s=i.flags;switch(i.tag){case 0:case 11:case 15:Sn(e,i),s&4&&Qi(5,i);break;case 1:if(Sn(e,i),s&4)if(e=i.stateNode,n===null)try{e.componentDidMount()}catch(S){Ve(i,i.return,S)}else{var d=So(i.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(d,n,e.__reactInternalSnapshotBeforeUpdate)}catch(S){Ve(i,i.return,S)}}s&64&&bd(i),s&512&&$i(i,i.return);break;case 3:if(Sn(e,i),s&64&&(e=i.updateQueue,e!==null)){if(n=null,i.child!==null)switch(i.child.tag){case 27:case 5:n=i.child.stateNode;break;case 1:n=i.child.stateNode}try{gf(e,n)}catch(S){Ve(i,i.return,S)}}break;case 27:n===null&&s&4&&Md(i);case 26:case 5:Sn(e,i),n===null&&s&4&&wd(i),s&512&&$i(i,i.return);break;case 12:Sn(e,i);break;case 31:Sn(e,i),s&4&&kd(e,i);break;case 13:Sn(e,i),s&4&&Hd(e,i),s&64&&(e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(i=C0.bind(null,i),F0(e,i))));break;case 22:if(s=i.memoizedState!==null||yn,!s){n=n!==null&&n.memoizedState!==null||tt,d=yn;var p=tt;yn=s,(tt=n)&&!p?En(e,i,(i.subtreeFlags&8772)!==0):Sn(e,i),yn=d,tt=p}break;case 30:break;default:Sn(e,i)}}function Ud(e){var n=e.alternate;n!==null&&(e.alternate=null,Ud(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&cs(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Je=null,Tt=!1;function vn(e,n,i){for(i=i.child;i!==null;)Ld(e,n,i),i=i.sibling}function Ld(e,n,i){if(Nt&&typeof Nt.onCommitFiberUnmount=="function")try{Nt.onCommitFiberUnmount(Ti,i)}catch{}switch(i.tag){case 26:tt||on(i,n),vn(e,n,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:tt||on(i,n);var s=Je,d=Tt;Kn(i.type)&&(Je=i.stateNode,Tt=!1),vn(e,n,i),al(i.stateNode),Je=s,Tt=d;break;case 5:tt||on(i,n);case 6:if(s=Je,d=Tt,Je=null,vn(e,n,i),Je=s,Tt=d,Je!==null)if(Tt)try{(Je.nodeType===9?Je.body:Je.nodeName==="HTML"?Je.ownerDocument.body:Je).removeChild(i.stateNode)}catch(p){Ve(i,n,p)}else try{Je.removeChild(i.stateNode)}catch(p){Ve(i,n,p)}break;case 18:Je!==null&&(Tt?(e=Je,bh(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,i.stateNode),ri(e)):bh(Je,i.stateNode));break;case 4:s=Je,d=Tt,Je=i.stateNode.containerInfo,Tt=!0,vn(e,n,i),Je=s,Tt=d;break;case 0:case 11:case 14:case 15:Bn(2,i,n),tt||Bn(4,i,n),vn(e,n,i);break;case 1:tt||(on(i,n),s=i.stateNode,typeof s.componentWillUnmount=="function"&&Nd(i,n,s)),vn(e,n,i);break;case 21:vn(e,n,i);break;case 22:tt=(s=tt)||i.memoizedState!==null,vn(e,n,i),tt=s;break;default:vn(e,n,i)}}function kd(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ri(e)}catch(i){Ve(n,n.return,i)}}}function Hd(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ri(e)}catch(i){Ve(n,n.return,i)}}function g0(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Id),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Id),n;default:throw Error(a(435,e.tag))}}function ua(e,n){var i=g0(e);n.forEach(function(s){if(!i.has(s)){i.add(s);var d=A0.bind(null,e,s);s.then(d,d)}})}function _t(e,n){var i=n.deletions;if(i!==null)for(var s=0;s<i.length;s++){var d=i[s],p=e,S=n,x=S;e:for(;x!==null;){switch(x.tag){case 27:if(Kn(x.type)){Je=x.stateNode,Tt=!1;break e}break;case 5:Je=x.stateNode,Tt=!1;break e;case 3:case 4:Je=x.stateNode.containerInfo,Tt=!0;break e}x=x.return}if(Je===null)throw Error(a(160));Ld(p,S,d),Je=null,Tt=!1,p=d.alternate,p!==null&&(p.return=null),d.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Gd(n,e),n=n.sibling}var Qt=null;function Gd(e,n){var i=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:_t(n,e),xt(e),s&4&&(Bn(3,e,e.return),Qi(3,e),Bn(5,e,e.return));break;case 1:_t(n,e),xt(e),s&512&&(tt||i===null||on(i,i.return)),s&64&&yn&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?s:i.concat(s))));break;case 26:var d=Qt;if(_t(n,e),xt(e),s&512&&(tt||i===null||on(i,i.return)),s&4){var p=i!==null?i.memoizedState:null;if(s=e.memoizedState,i===null)if(s===null)if(e.stateNode===null){e:{s=e.type,i=e.memoizedProps,d=d.ownerDocument||d;t:switch(s){case"title":p=d.getElementsByTagName("title")[0],(!p||p[Ci]||p[rt]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=d.createElement(s),d.head.insertBefore(p,d.querySelector("head > title"))),dt(p,s,i),p[rt]=e,it(p),s=p;break e;case"link":var S=Gh("link","href",d).get(s+(i.href||""));if(S){for(var x=0;x<S.length;x++)if(p=S[x],p.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&p.getAttribute("rel")===(i.rel==null?null:i.rel)&&p.getAttribute("title")===(i.title==null?null:i.title)&&p.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){S.splice(x,1);break t}}p=d.createElement(s),dt(p,s,i),d.head.appendChild(p);break;case"meta":if(S=Gh("meta","content",d).get(s+(i.content||""))){for(x=0;x<S.length;x++)if(p=S[x],p.getAttribute("content")===(i.content==null?null:""+i.content)&&p.getAttribute("name")===(i.name==null?null:i.name)&&p.getAttribute("property")===(i.property==null?null:i.property)&&p.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&p.getAttribute("charset")===(i.charSet==null?null:i.charSet)){S.splice(x,1);break t}}p=d.createElement(s),dt(p,s,i),d.head.appendChild(p);break;default:throw Error(a(468,s))}p[rt]=e,it(p),s=p}e.stateNode=s}else Vh(d,e.type,e.stateNode);else e.stateNode=Hh(d,s,e.memoizedProps);else p!==s?(p===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):p.count--,s===null?Vh(d,e.type,e.stateNode):Hh(d,s,e.memoizedProps)):s===null&&e.stateNode!==null&&Ir(e,e.memoizedProps,i.memoizedProps)}break;case 27:_t(n,e),xt(e),s&512&&(tt||i===null||on(i,i.return)),i!==null&&s&4&&Ir(e,e.memoizedProps,i.memoizedProps);break;case 5:if(_t(n,e),xt(e),s&512&&(tt||i===null||on(i,i.return)),e.flags&32){d=e.stateNode;try{Io(d,"")}catch(ee){Ve(e,e.return,ee)}}s&4&&e.stateNode!=null&&(d=e.memoizedProps,Ir(e,d,i!==null?i.memoizedProps:d)),s&1024&&(Lr=!0);break;case 6:if(_t(n,e),xt(e),s&4){if(e.stateNode===null)throw Error(a(162));s=e.memoizedProps,i=e.stateNode;try{i.nodeValue=s}catch(ee){Ve(e,e.return,ee)}}break;case 3:if(Aa=null,d=Qt,Qt=xa(n.containerInfo),_t(n,e),Qt=d,xt(e),s&4&&i!==null&&i.memoizedState.isDehydrated)try{ri(n.containerInfo)}catch(ee){Ve(e,e.return,ee)}Lr&&(Lr=!1,Vd(e));break;case 4:s=Qt,Qt=xa(e.stateNode.containerInfo),_t(n,e),xt(e),Qt=s;break;case 12:_t(n,e),xt(e);break;case 31:_t(n,e),xt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,ua(e,s)));break;case 13:_t(n,e),xt(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(fa=mt()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,ua(e,s)));break;case 22:d=e.memoizedState!==null;var A=i!==null&&i.memoizedState!==null,M=yn,G=tt;if(yn=M||d,tt=G||A,_t(n,e),tt=G,yn=M,xt(e),s&8192)e:for(n=e.stateNode,n._visibility=d?n._visibility&-2:n._visibility|1,d&&(i===null||A||yn||tt||Eo(e)),i=null,n=e;;){if(n.tag===5||n.tag===26){if(i===null){A=i=n;try{if(p=A.stateNode,d)S=p.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{x=A.stateNode;var B=A.memoizedProps.style,I=B!=null&&B.hasOwnProperty("display")?B.display:null;x.style.display=I==null||typeof I=="boolean"?"":(""+I).trim()}}catch(ee){Ve(A,A.return,ee)}}}else if(n.tag===6){if(i===null){A=n;try{A.stateNode.nodeValue=d?"":A.memoizedProps}catch(ee){Ve(A,A.return,ee)}}}else if(n.tag===18){if(i===null){A=n;try{var L=A.stateNode;d?Nh(L,!0):Nh(A.stateNode,!1)}catch(ee){Ve(A,A.return,ee)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;i===n&&(i=null),n=n.return}i===n&&(i=null),n.sibling.return=n.return,n=n.sibling}s&4&&(s=e.updateQueue,s!==null&&(i=s.retryQueue,i!==null&&(s.retryQueue=null,ua(e,i))));break;case 19:_t(n,e),xt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,ua(e,s)));break;case 30:break;case 21:break;default:_t(n,e),xt(e)}}function xt(e){var n=e.flags;if(n&2){try{for(var i,s=e.return;s!==null;){if(Rd(s)){i=s;break}s=s.return}if(i==null)throw Error(a(160));switch(i.tag){case 27:var d=i.stateNode,p=Dr(e);ra(e,p,d);break;case 5:var S=i.stateNode;i.flags&32&&(Io(S,""),i.flags&=-33);var x=Dr(e);ra(e,x,S);break;case 3:case 4:var A=i.stateNode.containerInfo,M=Dr(e);Ur(e,M,A);break;default:throw Error(a(161))}}catch(G){Ve(e,e.return,G)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Vd(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Vd(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Sn(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Dd(e,n.alternate,n),n=n.sibling}function Eo(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Bn(4,n,n.return),Eo(n);break;case 1:on(n,n.return);var i=n.stateNode;typeof i.componentWillUnmount=="function"&&Nd(n,n.return,i),Eo(n);break;case 27:al(n.stateNode);case 26:case 5:on(n,n.return),Eo(n);break;case 22:n.memoizedState===null&&Eo(n);break;case 30:Eo(n);break;default:Eo(n)}e=e.sibling}}function En(e,n,i){for(i=i&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var s=n.alternate,d=e,p=n,S=p.flags;switch(p.tag){case 0:case 11:case 15:En(d,p,i),Qi(4,p);break;case 1:if(En(d,p,i),s=p,d=s.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(M){Ve(s,s.return,M)}if(s=p,d=s.updateQueue,d!==null){var x=s.stateNode;try{var A=d.shared.hiddenCallbacks;if(A!==null)for(d.shared.hiddenCallbacks=null,d=0;d<A.length;d++)mf(A[d],x)}catch(M){Ve(s,s.return,M)}}i&&S&64&&bd(p),$i(p,p.return);break;case 27:Md(p);case 26:case 5:En(d,p,i),i&&s===null&&S&4&&wd(p),$i(p,p.return);break;case 12:En(d,p,i);break;case 31:En(d,p,i),i&&S&4&&kd(d,p);break;case 13:En(d,p,i),i&&S&4&&Hd(d,p);break;case 22:p.memoizedState===null&&En(d,p,i),$i(p,p.return);break;case 30:break;default:En(d,p,i)}n=n.sibling}}function kr(e,n){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&Gi(i))}function Hr(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Gi(e))}function $t(e,n,i,s){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)zd(e,n,i,s),n=n.sibling}function zd(e,n,i,s){var d=n.flags;switch(n.tag){case 0:case 11:case 15:$t(e,n,i,s),d&2048&&Qi(9,n);break;case 1:$t(e,n,i,s);break;case 3:$t(e,n,i,s),d&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Gi(e)));break;case 12:if(d&2048){$t(e,n,i,s),e=n.stateNode;try{var p=n.memoizedProps,S=p.id,x=p.onPostCommit;typeof x=="function"&&x(S,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(A){Ve(n,n.return,A)}}else $t(e,n,i,s);break;case 31:$t(e,n,i,s);break;case 13:$t(e,n,i,s);break;case 23:break;case 22:p=n.stateNode,S=n.alternate,n.memoizedState!==null?p._visibility&2?$t(e,n,i,s):Zi(e,n):p._visibility&2?$t(e,n,i,s):(p._visibility|=2,$o(e,n,i,s,(n.subtreeFlags&10256)!==0||!1)),d&2048&&kr(S,n);break;case 24:$t(e,n,i,s),d&2048&&Hr(n.alternate,n);break;default:$t(e,n,i,s)}}function $o(e,n,i,s,d){for(d=d&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var p=e,S=n,x=i,A=s,M=S.flags;switch(S.tag){case 0:case 11:case 15:$o(p,S,x,A,d),Qi(8,S);break;case 23:break;case 22:var G=S.stateNode;S.memoizedState!==null?G._visibility&2?$o(p,S,x,A,d):Zi(p,S):(G._visibility|=2,$o(p,S,x,A,d)),d&&M&2048&&kr(S.alternate,S);break;case 24:$o(p,S,x,A,d),d&&M&2048&&Hr(S.alternate,S);break;default:$o(p,S,x,A,d)}n=n.sibling}}function Zi(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var i=e,s=n,d=s.flags;switch(s.tag){case 22:Zi(i,s),d&2048&&kr(s.alternate,s);break;case 24:Zi(i,s),d&2048&&Hr(s.alternate,s);break;default:Zi(i,s)}n=n.sibling}}var ji=8192;function Zo(e,n,i){if(e.subtreeFlags&ji)for(e=e.child;e!==null;)qd(e,n,i),e=e.sibling}function qd(e,n,i){switch(e.tag){case 26:Zo(e,n,i),e.flags&ji&&e.memoizedState!==null&&nv(i,Qt,e.memoizedState,e.memoizedProps);break;case 5:Zo(e,n,i);break;case 3:case 4:var s=Qt;Qt=xa(e.stateNode.containerInfo),Zo(e,n,i),Qt=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=ji,ji=16777216,Zo(e,n,i),ji=s):Zo(e,n,i));break;default:Zo(e,n,i)}}function Bd(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function el(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var i=0;i<n.length;i++){var s=n[i];lt=s,Od(s,e)}Bd(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Pd(e),e=e.sibling}function Pd(e){switch(e.tag){case 0:case 11:case 15:el(e),e.flags&2048&&Bn(9,e,e.return);break;case 3:el(e);break;case 12:el(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,ca(e)):el(e);break;default:el(e)}}function ca(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var i=0;i<n.length;i++){var s=n[i];lt=s,Od(s,e)}Bd(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Bn(8,n,n.return),ca(n);break;case 22:i=n.stateNode,i._visibility&2&&(i._visibility&=-3,ca(n));break;default:ca(n)}e=e.sibling}}function Od(e,n){for(;lt!==null;){var i=lt;switch(i.tag){case 0:case 11:case 15:Bn(8,i,n);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var s=i.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:Gi(i.memoizedState.cache)}if(s=i.child,s!==null)s.return=i,lt=s;else e:for(i=e;lt!==null;){s=lt;var d=s.sibling,p=s.return;if(Ud(s),s===i){lt=null;break e}if(d!==null){d.return=p,lt=d;break e}lt=p}}}var y0={getCacheForType:function(e){var n=ct(Ze),i=n.data.get(e);return i===void 0&&(i=e(),n.data.set(e,i)),i},cacheSignal:function(){return ct(Ze).controller.signal}},v0=typeof WeakMap=="function"?WeakMap:Map,He=0,Pe=null,_e=null,Ce=0,Ge=0,Ut=null,Pn=!1,jo=!1,Gr=!1,Tn=0,Ke=0,On=0,To=0,Vr=0,Lt=0,ei=0,tl=null,Ct=null,zr=!1,fa=0,Fd=0,da=1/0,ha=null,Fn=null,ot=0,Jn=null,ti=null,_n=0,qr=0,Br=null,Jd=null,nl=0,Pr=null;function kt(){return(He&2)!==0&&Ce!==0?Ce&-Ce:k.T!==null?Kr():ac()}function Yd(){if(Lt===0)if((Ce&536870912)===0||we){var e=Tl;Tl<<=1,(Tl&3932160)===0&&(Tl=262144),Lt=e}else Lt=536870912;return e=It.current,e!==null&&(e.flags|=32),Lt}function At(e,n,i){(e===Pe&&(Ge===2||Ge===9)||e.cancelPendingCommit!==null)&&(ni(e,0),Yn(e,Ce,Lt,!1)),xi(e,i),((He&2)===0||e!==Pe)&&(e===Pe&&((He&2)===0&&(To|=i),Ke===4&&Yn(e,Ce,Lt,!1)),ln(e))}function Wd(e,n,i){if((He&6)!==0)throw Error(a(327));var s=!i&&(n&127)===0&&(n&e.expiredLanes)===0||_i(e,n),d=s?T0(e,n):Fr(e,n,!0),p=s;do{if(d===0){jo&&!s&&Yn(e,n,0,!1);break}else{if(i=e.current.alternate,p&&!S0(i)){d=Fr(e,n,!1),p=!1;continue}if(d===2){if(p=n,e.errorRecoveryDisabledLanes&p)var S=0;else S=e.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){n=S;e:{var x=e;d=tl;var A=x.current.memoizedState.isDehydrated;if(A&&(ni(x,S).flags|=256),S=Fr(x,S,!1),S!==2){if(Gr&&!A){x.errorRecoveryDisabledLanes|=p,To|=p,d=4;break e}p=Ct,Ct=d,p!==null&&(Ct===null?Ct=p:Ct.push.apply(Ct,p))}d=S}if(p=!1,d!==2)continue}}if(d===1){ni(e,0),Yn(e,n,0,!0);break}e:{switch(s=e,p=d,p){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Yn(s,n,Lt,!Pn);break e;case 2:Ct=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(d=fa+300-mt(),10<d)){if(Yn(s,n,Lt,!Pn),xl(s,0,!0)!==0)break e;_n=n,s.timeoutHandle=Ch(Kd.bind(null,s,i,Ct,ha,zr,n,Lt,To,ei,Pn,p,"Throttled",-0,0),d);break e}Kd(s,i,Ct,ha,zr,n,Lt,To,ei,Pn,p,null,-0,0)}}break}while(!0);ln(e)}function Kd(e,n,i,s,d,p,S,x,A,M,G,B,I,L){if(e.timeoutHandle=-1,B=n.subtreeFlags,B&8192||(B&16785408)===16785408){B={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:sn},qd(n,p,B);var ee=(p&62914560)===p?fa-mt():(p&4194048)===p?Fd-mt():0;if(ee=ov(B,ee),ee!==null){_n=p,e.cancelPendingCommit=ee(nh.bind(null,e,n,p,i,s,d,S,x,A,G,B,null,I,L)),Yn(e,p,S,!M);return}}nh(e,n,p,i,s,d,S,x,A)}function S0(e){for(var n=e;;){var i=n.tag;if((i===0||i===11||i===15)&&n.flags&16384&&(i=n.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var s=0;s<i.length;s++){var d=i[s],p=d.getSnapshot;d=d.value;try{if(!Rt(p(),d))return!1}catch{return!1}}if(i=n.child,n.subtreeFlags&16384&&i!==null)i.return=n,n=i;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Yn(e,n,i,s){n&=~Vr,n&=~To,e.suspendedLanes|=n,e.pingedLanes&=~n,s&&(e.warmLanes|=n),s=e.expirationTimes;for(var d=n;0<d;){var p=31-wt(d),S=1<<p;s[p]=-1,d&=~S}i!==0&&oc(e,i,n)}function pa(){return(He&6)===0?(ol(0),!1):!0}function Or(){if(_e!==null){if(Ge===0)var e=_e.return;else e=_e,fn=fo=null,lr(e),Yo=null,zi=0,e=_e;for(;e!==null;)Ad(e.alternate,e),e=e.return;_e=null}}function ni(e,n){var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,z0(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),_n=0,Or(),Pe=e,_e=i=un(e.current,null),Ce=n,Ge=0,Ut=null,Pn=!1,jo=_i(e,n),Gr=!1,ei=Lt=Vr=To=On=Ke=0,Ct=tl=null,zr=!1,(n&8)!==0&&(n|=n&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=n;0<s;){var d=31-wt(s),p=1<<d;n|=e[d],s&=~p}return Tn=n,kl(),i}function Xd(e,n){ge=null,k.H=Wi,n===Jo||n===Ol?(n=ff(),Ge=3):n===Ws?(n=ff(),Ge=4):Ge=n===Tr?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Ut=n,_e===null&&(Ke=1,oa(e,qt(n,e.current)))}function Qd(){var e=It.current;return e===null?!0:(Ce&4194048)===Ce?Ft===null:(Ce&62914560)===Ce||(Ce&536870912)!==0?e===Ft:!1}function $d(){var e=k.H;return k.H=Wi,e===null?Wi:e}function Zd(){var e=k.A;return k.A=y0,e}function ma(){Ke=4,Pn||(Ce&4194048)!==Ce&&It.current!==null||(jo=!0),(On&134217727)===0&&(To&134217727)===0||Pe===null||Yn(Pe,Ce,Lt,!1)}function Fr(e,n,i){var s=He;He|=2;var d=$d(),p=Zd();(Pe!==e||Ce!==n)&&(ha=null,ni(e,n)),n=!1;var S=Ke;e:do try{if(Ge!==0&&_e!==null){var x=_e,A=Ut;switch(Ge){case 8:Or(),S=6;break e;case 3:case 2:case 9:case 6:It.current===null&&(n=!0);var M=Ge;if(Ge=0,Ut=null,oi(e,x,A,M),i&&jo){S=0;break e}break;default:M=Ge,Ge=0,Ut=null,oi(e,x,A,M)}}E0(),S=Ke;break}catch(G){Xd(e,G)}while(!0);return n&&e.shellSuspendCounter++,fn=fo=null,He=s,k.H=d,k.A=p,_e===null&&(Pe=null,Ce=0,kl()),S}function E0(){for(;_e!==null;)jd(_e)}function T0(e,n){var i=He;He|=2;var s=$d(),d=Zd();Pe!==e||Ce!==n?(ha=null,da=mt()+500,ni(e,n)):jo=_i(e,n);e:do try{if(Ge!==0&&_e!==null){n=_e;var p=Ut;t:switch(Ge){case 1:Ge=0,Ut=null,oi(e,n,p,1);break;case 2:case 9:if(uf(p)){Ge=0,Ut=null,eh(n);break}n=function(){Ge!==2&&Ge!==9||Pe!==e||(Ge=7),ln(e)},p.then(n,n);break e;case 3:Ge=7;break e;case 4:Ge=5;break e;case 7:uf(p)?(Ge=0,Ut=null,eh(n)):(Ge=0,Ut=null,oi(e,n,p,7));break;case 5:var S=null;switch(_e.tag){case 26:S=_e.memoizedState;case 5:case 27:var x=_e;if(S?zh(S):x.stateNode.complete){Ge=0,Ut=null;var A=x.sibling;if(A!==null)_e=A;else{var M=x.return;M!==null?(_e=M,ga(M)):_e=null}break t}}Ge=0,Ut=null,oi(e,n,p,5);break;case 6:Ge=0,Ut=null,oi(e,n,p,6);break;case 8:Or(),Ke=6;break e;default:throw Error(a(462))}}_0();break}catch(G){Xd(e,G)}while(!0);return fn=fo=null,k.H=s,k.A=d,He=i,_e!==null?0:(Pe=null,Ce=0,kl(),Ke)}function _0(){for(;_e!==null&&!is();)jd(_e)}function jd(e){var n=xd(e.alternate,e,Tn);e.memoizedProps=e.pendingProps,n===null?ga(e):_e=n}function eh(e){var n=e,i=n.alternate;switch(n.tag){case 15:case 0:n=yd(i,n,n.pendingProps,n.type,void 0,Ce);break;case 11:n=yd(i,n,n.pendingProps,n.type.render,n.ref,Ce);break;case 5:lr(n);default:Ad(i,n),n=_e=$c(n,Tn),n=xd(i,n,Tn)}e.memoizedProps=e.pendingProps,n===null?ga(e):_e=n}function oi(e,n,i,s){fn=fo=null,lr(n),Yo=null,zi=0;var d=n.return;try{if(c0(e,d,n,i,Ce)){Ke=1,oa(e,qt(i,e.current)),_e=null;return}}catch(p){if(d!==null)throw _e=d,p;Ke=1,oa(e,qt(i,e.current)),_e=null;return}n.flags&32768?(we||s===1?e=!0:jo||(Ce&536870912)!==0?e=!1:(Pn=e=!0,(s===2||s===9||s===3||s===6)&&(s=It.current,s!==null&&s.tag===13&&(s.flags|=16384))),th(n,e)):ga(n)}function ga(e){var n=e;do{if((n.flags&32768)!==0){th(n,Pn);return}e=n.return;var i=h0(n.alternate,n,Tn);if(i!==null){_e=i;return}if(n=n.sibling,n!==null){_e=n;return}_e=n=e}while(n!==null);Ke===0&&(Ke=5)}function th(e,n){do{var i=p0(e.alternate,e);if(i!==null){i.flags&=32767,_e=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!n&&(e=e.sibling,e!==null)){_e=e;return}_e=e=i}while(e!==null);Ke=6,_e=null}function nh(e,n,i,s,d,p,S,x,A){e.cancelPendingCommit=null;do ya();while(ot!==0);if((He&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(p=n.lanes|n.childLanes,p|=Ds,ty(e,i,p,S,x,A),e===Pe&&(_e=Pe=null,Ce=0),ti=n,Jn=e,_n=i,qr=p,Br=d,Jd=s,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,b0(Te,function(){return sh(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||s){s=k.T,k.T=null,d=J.p,J.p=2,S=He,He|=4;try{m0(e,n,i)}finally{He=S,J.p=d,k.T=s}}ot=1,oh(),ih(),lh()}}function oh(){if(ot===1){ot=0;var e=Jn,n=ti,i=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||i){i=k.T,k.T=null;var s=J.p;J.p=2;var d=He;He|=4;try{Gd(n,e);var p=nu,S=Pc(e.containerInfo),x=p.focusedElem,A=p.selectionRange;if(S!==x&&x&&x.ownerDocument&&Bc(x.ownerDocument.documentElement,x)){if(A!==null&&Ns(x)){var M=A.start,G=A.end;if(G===void 0&&(G=M),"selectionStart"in x)x.selectionStart=M,x.selectionEnd=Math.min(G,x.value.length);else{var B=x.ownerDocument||document,I=B&&B.defaultView||window;if(I.getSelection){var L=I.getSelection(),ee=x.textContent.length,se=Math.min(A.start,ee),Be=A.end===void 0?se:Math.min(A.end,ee);!L.extend&&se>Be&&(S=Be,Be=se,se=S);var w=qc(x,se),N=qc(x,Be);if(w&&N&&(L.rangeCount!==1||L.anchorNode!==w.node||L.anchorOffset!==w.offset||L.focusNode!==N.node||L.focusOffset!==N.offset)){var R=B.createRange();R.setStart(w.node,w.offset),L.removeAllRanges(),se>Be?(L.addRange(R),L.extend(N.node,N.offset)):(R.setEnd(N.node,N.offset),L.addRange(R))}}}}for(B=[],L=x;L=L.parentNode;)L.nodeType===1&&B.push({element:L,left:L.scrollLeft,top:L.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<B.length;x++){var z=B[x];z.element.scrollLeft=z.left,z.element.scrollTop=z.top}}Ra=!!tu,nu=tu=null}finally{He=d,J.p=s,k.T=i}}e.current=n,ot=2}}function ih(){if(ot===2){ot=0;var e=Jn,n=ti,i=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||i){i=k.T,k.T=null;var s=J.p;J.p=2;var d=He;He|=4;try{Dd(e,n.alternate,n)}finally{He=d,J.p=s,k.T=i}}ot=3}}function lh(){if(ot===4||ot===3){ot=0,ls();var e=Jn,n=ti,i=_n,s=Jd;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?ot=5:(ot=0,ti=Jn=null,ah(e,e.pendingLanes));var d=e.pendingLanes;if(d===0&&(Fn=null),rs(i),n=n.stateNode,Nt&&typeof Nt.onCommitFiberRoot=="function")try{Nt.onCommitFiberRoot(Ti,n,void 0,(n.current.flags&128)===128)}catch{}if(s!==null){n=k.T,d=J.p,J.p=2,k.T=null;try{for(var p=e.onRecoverableError,S=0;S<s.length;S++){var x=s[S];p(x.value,{componentStack:x.stack})}}finally{k.T=n,J.p=d}}(_n&3)!==0&&ya(),ln(e),d=e.pendingLanes,(i&261930)!==0&&(d&42)!==0?e===Pr?nl++:(nl=0,Pr=e):nl=0,ol(0)}}function ah(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Gi(n)))}function ya(){return oh(),ih(),lh(),sh()}function sh(){if(ot!==5)return!1;var e=Jn,n=qr;qr=0;var i=rs(_n),s=k.T,d=J.p;try{J.p=32>i?32:i,k.T=null,i=Br,Br=null;var p=Jn,S=_n;if(ot=0,ti=Jn=null,_n=0,(He&6)!==0)throw Error(a(331));var x=He;if(He|=4,Pd(p.current),zd(p,p.current,S,i),He=x,ol(0,!1),Nt&&typeof Nt.onPostCommitFiberRoot=="function")try{Nt.onPostCommitFiberRoot(Ti,p)}catch{}return!0}finally{J.p=d,k.T=s,ah(e,n)}}function rh(e,n,i){n=qt(i,n),n=Er(e.stateNode,n,2),e=Vn(e,n,2),e!==null&&(xi(e,2),ln(e))}function Ve(e,n,i){if(e.tag===3)rh(e,e,i);else for(;n!==null;){if(n.tag===3){rh(n,e,i);break}else if(n.tag===1){var s=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Fn===null||!Fn.has(s))){e=qt(i,e),i=ud(2),s=Vn(n,i,2),s!==null&&(cd(i,s,n,e),xi(s,2),ln(s));break}}n=n.return}}function Jr(e,n,i){var s=e.pingCache;if(s===null){s=e.pingCache=new v0;var d=new Set;s.set(n,d)}else d=s.get(n),d===void 0&&(d=new Set,s.set(n,d));d.has(i)||(Gr=!0,d.add(i),e=x0.bind(null,e,n,i),n.then(e,e))}function x0(e,n,i){var s=e.pingCache;s!==null&&s.delete(n),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,Pe===e&&(Ce&i)===i&&(Ke===4||Ke===3&&(Ce&62914560)===Ce&&300>mt()-fa?(He&2)===0&&ni(e,0):Vr|=i,ei===Ce&&(ei=0)),ln(e)}function uh(e,n){n===0&&(n=nc()),e=ro(e,n),e!==null&&(xi(e,n),ln(e))}function C0(e){var n=e.memoizedState,i=0;n!==null&&(i=n.retryLane),uh(e,i)}function A0(e,n){var i=0;switch(e.tag){case 31:case 13:var s=e.stateNode,d=e.memoizedState;d!==null&&(i=d.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(a(314))}s!==null&&s.delete(n),uh(e,i)}function b0(e,n){return Co(e,n)}var va=null,ii=null,Yr=!1,Sa=!1,Wr=!1,Wn=0;function ln(e){e!==ii&&e.next===null&&(ii===null?va=ii=e:ii=ii.next=e),Sa=!0,Yr||(Yr=!0,w0())}function ol(e,n){if(!Wr&&Sa){Wr=!0;do for(var i=!1,s=va;s!==null;){if(e!==0){var d=s.pendingLanes;if(d===0)var p=0;else{var S=s.suspendedLanes,x=s.pingedLanes;p=(1<<31-wt(42|e)+1)-1,p&=d&~(S&~x),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(i=!0,hh(s,p))}else p=Ce,p=xl(s,s===Pe?p:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(p&3)===0||_i(s,p)||(i=!0,hh(s,p));s=s.next}while(i);Wr=!1}}function N0(){ch()}function ch(){Sa=Yr=!1;var e=0;Wn!==0&&V0()&&(e=Wn);for(var n=mt(),i=null,s=va;s!==null;){var d=s.next,p=fh(s,n);p===0?(s.next=null,i===null?va=d:i.next=d,d===null&&(ii=i)):(i=s,(e!==0||(p&3)!==0)&&(Sa=!0)),s=d}ot!==0&&ot!==5||ol(e),Wn!==0&&(Wn=0)}function fh(e,n){for(var i=e.suspendedLanes,s=e.pingedLanes,d=e.expirationTimes,p=e.pendingLanes&-62914561;0<p;){var S=31-wt(p),x=1<<S,A=d[S];A===-1?((x&i)===0||(x&s)!==0)&&(d[S]=ey(x,n)):A<=n&&(e.expiredLanes|=x),p&=~x}if(n=Pe,i=Ce,i=xl(e,e===n?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,i===0||e===n&&(Ge===2||Ge===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&Ei(s),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||_i(e,i)){if(n=i&-i,n===e.callbackPriority)return n;switch(s!==null&&Ei(s),rs(i)){case 2:case 8:i=Re;break;case 32:i=Te;break;case 268435456:i=no;break;default:i=Te}return s=dh.bind(null,e),i=Co(i,s),e.callbackPriority=n,e.callbackNode=i,n}return s!==null&&s!==null&&Ei(s),e.callbackPriority=2,e.callbackNode=null,2}function dh(e,n){if(ot!==0&&ot!==5)return e.callbackNode=null,e.callbackPriority=0,null;var i=e.callbackNode;if(ya()&&e.callbackNode!==i)return null;var s=Ce;return s=xl(e,e===Pe?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(Wd(e,s,n),fh(e,mt()),e.callbackNode!=null&&e.callbackNode===i?dh.bind(null,e):null)}function hh(e,n){if(ya())return null;Wd(e,n,!0)}function w0(){q0(function(){(He&6)!==0?Co(re,N0):ch()})}function Kr(){if(Wn===0){var e=Oo;e===0&&(e=El,El<<=1,(El&261888)===0&&(El=256)),Wn=e}return Wn}function ph(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Nl(""+e)}function mh(e,n){var i=n.ownerDocument.createElement("input");return i.name=n.name,i.value=n.value,e.id&&i.setAttribute("form",e.id),n.parentNode.insertBefore(i,n),e=new FormData(e),i.parentNode.removeChild(i),e}function R0(e,n,i,s,d){if(n==="submit"&&i&&i.stateNode===d){var p=ph((d[St]||null).action),S=s.submitter;S&&(n=(n=S[St]||null)?ph(n.formAction):S.getAttribute("formAction"),n!==null&&(p=n,S=null));var x=new Il("action","action",null,s,d);e.push({event:x,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(Wn!==0){var A=S?mh(d,S):new FormData(d);pr(i,{pending:!0,data:A,method:d.method,action:p},null,A)}}else typeof p=="function"&&(x.preventDefault(),A=S?mh(d,S):new FormData(d),pr(i,{pending:!0,data:A,method:d.method,action:p},p,A))},currentTarget:d}]})}}for(var Xr=0;Xr<Is.length;Xr++){var Qr=Is[Xr],M0=Qr.toLowerCase(),I0=Qr[0].toUpperCase()+Qr.slice(1);Xt(M0,"on"+I0)}Xt(Jc,"onAnimationEnd"),Xt(Yc,"onAnimationIteration"),Xt(Wc,"onAnimationStart"),Xt("dblclick","onDoubleClick"),Xt("focusin","onFocus"),Xt("focusout","onBlur"),Xt(Wy,"onTransitionRun"),Xt(Ky,"onTransitionStart"),Xt(Xy,"onTransitionCancel"),Xt(Kc,"onTransitionEnd"),Ro("onMouseEnter",["mouseout","mouseover"]),Ro("onMouseLeave",["mouseout","mouseover"]),Ro("onPointerEnter",["pointerout","pointerover"]),Ro("onPointerLeave",["pointerout","pointerover"]),io("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),io("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),io("onBeforeInput",["compositionend","keypress","textInput","paste"]),io("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),io("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),io("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var il="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),D0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(il));function gh(e,n){n=(n&4)!==0;for(var i=0;i<e.length;i++){var s=e[i],d=s.event;s=s.listeners;e:{var p=void 0;if(n)for(var S=s.length-1;0<=S;S--){var x=s[S],A=x.instance,M=x.currentTarget;if(x=x.listener,A!==p&&d.isPropagationStopped())break e;p=x,d.currentTarget=M;try{p(d)}catch(G){Ll(G)}d.currentTarget=null,p=A}else for(S=0;S<s.length;S++){if(x=s[S],A=x.instance,M=x.currentTarget,x=x.listener,A!==p&&d.isPropagationStopped())break e;p=x,d.currentTarget=M;try{p(d)}catch(G){Ll(G)}d.currentTarget=null,p=A}}}}function xe(e,n){var i=n[us];i===void 0&&(i=n[us]=new Set);var s=e+"__bubble";i.has(s)||(yh(n,e,2,!1),i.add(s))}function $r(e,n,i){var s=0;n&&(s|=4),yh(i,e,s,n)}var Ea="_reactListening"+Math.random().toString(36).slice(2);function Zr(e){if(!e[Ea]){e[Ea]=!0,uc.forEach(function(i){i!=="selectionchange"&&(D0.has(i)||$r(i,!1,e),$r(i,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Ea]||(n[Ea]=!0,$r("selectionchange",!1,n))}}function yh(e,n,i,s){switch(Yh(n)){case 2:var d=av;break;case 8:d=sv;break;default:d=hu}i=d.bind(null,n,i,e),d=void 0,!vs||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(d=!0),s?d!==void 0?e.addEventListener(n,i,{capture:!0,passive:d}):e.addEventListener(n,i,!0):d!==void 0?e.addEventListener(n,i,{passive:d}):e.addEventListener(n,i,!1)}function jr(e,n,i,s,d){var p=s;if((n&1)===0&&(n&2)===0&&s!==null)e:for(;;){if(s===null)return;var S=s.tag;if(S===3||S===4){var x=s.stateNode.containerInfo;if(x===d)break;if(S===4)for(S=s.return;S!==null;){var A=S.tag;if((A===3||A===4)&&S.stateNode.containerInfo===d)return;S=S.return}for(;x!==null;){if(S=bo(x),S===null)return;if(A=S.tag,A===5||A===6||A===26||A===27){s=p=S;continue e}x=x.parentNode}}s=s.return}Tc(function(){var M=p,G=gs(i),B=[];e:{var I=Xc.get(e);if(I!==void 0){var L=Il,ee=e;switch(e){case"keypress":if(Rl(i)===0)break e;case"keydown":case"keyup":L=Ay;break;case"focusin":ee="focus",L=_s;break;case"focusout":ee="blur",L=_s;break;case"beforeblur":case"afterblur":L=_s;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":L=Cc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":L=hy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":L=wy;break;case Jc:case Yc:case Wc:L=gy;break;case Kc:L=My;break;case"scroll":case"scrollend":L=fy;break;case"wheel":L=Dy;break;case"copy":case"cut":case"paste":L=vy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":L=bc;break;case"toggle":case"beforetoggle":L=Ly}var se=(n&4)!==0,Be=!se&&(e==="scroll"||e==="scrollend"),w=se?I!==null?I+"Capture":null:I;se=[];for(var N=M,R;N!==null;){var z=N;if(R=z.stateNode,z=z.tag,z!==5&&z!==26&&z!==27||R===null||w===null||(z=bi(N,w),z!=null&&se.push(ll(N,z,R))),Be)break;N=N.return}0<se.length&&(I=new L(I,ee,null,i,G),B.push({event:I,listeners:se}))}}if((n&7)===0){e:{if(I=e==="mouseover"||e==="pointerover",L=e==="mouseout"||e==="pointerout",I&&i!==ms&&(ee=i.relatedTarget||i.fromElement)&&(bo(ee)||ee[Ao]))break e;if((L||I)&&(I=G.window===G?G:(I=G.ownerDocument)?I.defaultView||I.parentWindow:window,L?(ee=i.relatedTarget||i.toElement,L=M,ee=ee?bo(ee):null,ee!==null&&(Be=f(ee),se=ee.tag,ee!==Be||se!==5&&se!==27&&se!==6)&&(ee=null)):(L=null,ee=M),L!==ee)){if(se=Cc,z="onMouseLeave",w="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(se=bc,z="onPointerLeave",w="onPointerEnter",N="pointer"),Be=L==null?I:Ai(L),R=ee==null?I:Ai(ee),I=new se(z,N+"leave",L,i,G),I.target=Be,I.relatedTarget=R,z=null,bo(G)===M&&(se=new se(w,N+"enter",ee,i,G),se.target=R,se.relatedTarget=Be,z=se),Be=z,L&&ee)t:{for(se=U0,w=L,N=ee,R=0,z=w;z;z=se(z))R++;z=0;for(var ie=N;ie;ie=se(ie))z++;for(;0<R-z;)w=se(w),R--;for(;0<z-R;)N=se(N),z--;for(;R--;){if(w===N||N!==null&&w===N.alternate){se=w;break t}w=se(w),N=se(N)}se=null}else se=null;L!==null&&vh(B,I,L,se,!1),ee!==null&&Be!==null&&vh(B,Be,ee,se,!0)}}e:{if(I=M?Ai(M):window,L=I.nodeName&&I.nodeName.toLowerCase(),L==="select"||L==="input"&&I.type==="file")var De=Lc;else if(Dc(I))if(kc)De=Fy;else{De=Py;var ne=By}else L=I.nodeName,!L||L.toLowerCase()!=="input"||I.type!=="checkbox"&&I.type!=="radio"?M&&ps(M.elementType)&&(De=Lc):De=Oy;if(De&&(De=De(e,M))){Uc(B,De,i,G);break e}ne&&ne(e,I,M),e==="focusout"&&M&&I.type==="number"&&M.memoizedProps.value!=null&&hs(I,"number",I.value)}switch(ne=M?Ai(M):window,e){case"focusin":(Dc(ne)||ne.contentEditable==="true")&&(ko=ne,ws=M,Li=null);break;case"focusout":Li=ws=ko=null;break;case"mousedown":Rs=!0;break;case"contextmenu":case"mouseup":case"dragend":Rs=!1,Oc(B,i,G);break;case"selectionchange":if(Yy)break;case"keydown":case"keyup":Oc(B,i,G)}var ve;if(Cs)e:{switch(e){case"compositionstart":var Ae="onCompositionStart";break e;case"compositionend":Ae="onCompositionEnd";break e;case"compositionupdate":Ae="onCompositionUpdate";break e}Ae=void 0}else Lo?Mc(e,i)&&(Ae="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(Ae="onCompositionStart");Ae&&(Nc&&i.locale!=="ko"&&(Lo||Ae!=="onCompositionStart"?Ae==="onCompositionEnd"&&Lo&&(ve=_c()):(In=G,Ss="value"in In?In.value:In.textContent,Lo=!0)),ne=Ta(M,Ae),0<ne.length&&(Ae=new Ac(Ae,e,null,i,G),B.push({event:Ae,listeners:ne}),ve?Ae.data=ve:(ve=Ic(i),ve!==null&&(Ae.data=ve)))),(ve=Hy?Gy(e,i):Vy(e,i))&&(Ae=Ta(M,"onBeforeInput"),0<Ae.length&&(ne=new Ac("onBeforeInput","beforeinput",null,i,G),B.push({event:ne,listeners:Ae}),ne.data=ve)),R0(B,e,M,i,G)}gh(B,n)})}function ll(e,n,i){return{instance:e,listener:n,currentTarget:i}}function Ta(e,n){for(var i=n+"Capture",s=[];e!==null;){var d=e,p=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||p===null||(d=bi(e,i),d!=null&&s.unshift(ll(e,d,p)),d=bi(e,n),d!=null&&s.push(ll(e,d,p))),e.tag===3)return s;e=e.return}return[]}function U0(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function vh(e,n,i,s,d){for(var p=n._reactName,S=[];i!==null&&i!==s;){var x=i,A=x.alternate,M=x.stateNode;if(x=x.tag,A!==null&&A===s)break;x!==5&&x!==26&&x!==27||M===null||(A=M,d?(M=bi(i,p),M!=null&&S.unshift(ll(i,M,A))):d||(M=bi(i,p),M!=null&&S.push(ll(i,M,A)))),i=i.return}S.length!==0&&e.push({event:n,listeners:S})}var L0=/\r\n?/g,k0=/\u0000|\uFFFD/g;function Sh(e){return(typeof e=="string"?e:""+e).replace(L0,`
`).replace(k0,"")}function Eh(e,n){return n=Sh(n),Sh(e)===n}function qe(e,n,i,s,d,p){switch(i){case"children":typeof s=="string"?n==="body"||n==="textarea"&&s===""||Io(e,s):(typeof s=="number"||typeof s=="bigint")&&n!=="body"&&Io(e,""+s);break;case"className":Al(e,"class",s);break;case"tabIndex":Al(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":Al(e,i,s);break;case"style":Sc(e,s,p);break;case"data":if(n!=="object"){Al(e,"data",s);break}case"src":case"href":if(s===""&&(n!=="a"||i!=="href")){e.removeAttribute(i);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(i);break}s=Nl(""+s),e.setAttribute(i,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(i==="formAction"?(n!=="input"&&qe(e,n,"name",d.name,d,null),qe(e,n,"formEncType",d.formEncType,d,null),qe(e,n,"formMethod",d.formMethod,d,null),qe(e,n,"formTarget",d.formTarget,d,null)):(qe(e,n,"encType",d.encType,d,null),qe(e,n,"method",d.method,d,null),qe(e,n,"target",d.target,d,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(i);break}s=Nl(""+s),e.setAttribute(i,s);break;case"onClick":s!=null&&(e.onclick=sn);break;case"onScroll":s!=null&&xe("scroll",e);break;case"onScrollEnd":s!=null&&xe("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(a(61));if(i=s.__html,i!=null){if(d.children!=null)throw Error(a(60));e.innerHTML=i}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}i=Nl(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(i,""+s):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":s===!0?e.setAttribute(i,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(i,s):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(i,s):e.removeAttribute(i);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(i):e.setAttribute(i,s);break;case"popover":xe("beforetoggle",e),xe("toggle",e),Cl(e,"popover",s);break;case"xlinkActuate":an(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":an(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":an(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":an(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":an(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":an(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":an(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":an(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":an(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":Cl(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=uy.get(i)||i,Cl(e,i,s))}}function eu(e,n,i,s,d,p){switch(i){case"style":Sc(e,s,p);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(a(61));if(i=s.__html,i!=null){if(d.children!=null)throw Error(a(60));e.innerHTML=i}}break;case"children":typeof s=="string"?Io(e,s):(typeof s=="number"||typeof s=="bigint")&&Io(e,""+s);break;case"onScroll":s!=null&&xe("scroll",e);break;case"onScrollEnd":s!=null&&xe("scrollend",e);break;case"onClick":s!=null&&(e.onclick=sn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!cc.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(d=i.endsWith("Capture"),n=i.slice(2,d?i.length-7:void 0),p=e[St]||null,p=p!=null?p[i]:null,typeof p=="function"&&e.removeEventListener(n,p,d),typeof s=="function")){typeof p!="function"&&p!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(n,s,d);break e}i in e?e[i]=s:s===!0?e.setAttribute(i,""):Cl(e,i,s)}}}function dt(e,n,i){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xe("error",e),xe("load",e);var s=!1,d=!1,p;for(p in i)if(i.hasOwnProperty(p)){var S=i[p];if(S!=null)switch(p){case"src":s=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:qe(e,n,p,S,i,null)}}d&&qe(e,n,"srcSet",i.srcSet,i,null),s&&qe(e,n,"src",i.src,i,null);return;case"input":xe("invalid",e);var x=p=S=d=null,A=null,M=null;for(s in i)if(i.hasOwnProperty(s)){var G=i[s];if(G!=null)switch(s){case"name":d=G;break;case"type":S=G;break;case"checked":A=G;break;case"defaultChecked":M=G;break;case"value":p=G;break;case"defaultValue":x=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,n));break;default:qe(e,n,s,G,i,null)}}mc(e,p,x,A,M,S,d,!1);return;case"select":xe("invalid",e),s=S=p=null;for(d in i)if(i.hasOwnProperty(d)&&(x=i[d],x!=null))switch(d){case"value":p=x;break;case"defaultValue":S=x;break;case"multiple":s=x;default:qe(e,n,d,x,i,null)}n=p,i=S,e.multiple=!!s,n!=null?Mo(e,!!s,n,!1):i!=null&&Mo(e,!!s,i,!0);return;case"textarea":xe("invalid",e),p=d=s=null;for(S in i)if(i.hasOwnProperty(S)&&(x=i[S],x!=null))switch(S){case"value":s=x;break;case"defaultValue":d=x;break;case"children":p=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(a(91));break;default:qe(e,n,S,x,i,null)}yc(e,s,d,p);return;case"option":for(A in i)if(i.hasOwnProperty(A)&&(s=i[A],s!=null))switch(A){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:qe(e,n,A,s,i,null)}return;case"dialog":xe("beforetoggle",e),xe("toggle",e),xe("cancel",e),xe("close",e);break;case"iframe":case"object":xe("load",e);break;case"video":case"audio":for(s=0;s<il.length;s++)xe(il[s],e);break;case"image":xe("error",e),xe("load",e);break;case"details":xe("toggle",e);break;case"embed":case"source":case"link":xe("error",e),xe("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(M in i)if(i.hasOwnProperty(M)&&(s=i[M],s!=null))switch(M){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:qe(e,n,M,s,i,null)}return;default:if(ps(n)){for(G in i)i.hasOwnProperty(G)&&(s=i[G],s!==void 0&&eu(e,n,G,s,i,void 0));return}}for(x in i)i.hasOwnProperty(x)&&(s=i[x],s!=null&&qe(e,n,x,s,i,null))}function H0(e,n,i,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,p=null,S=null,x=null,A=null,M=null,G=null;for(L in i){var B=i[L];if(i.hasOwnProperty(L)&&B!=null)switch(L){case"checked":break;case"value":break;case"defaultValue":A=B;default:s.hasOwnProperty(L)||qe(e,n,L,null,s,B)}}for(var I in s){var L=s[I];if(B=i[I],s.hasOwnProperty(I)&&(L!=null||B!=null))switch(I){case"type":p=L;break;case"name":d=L;break;case"checked":M=L;break;case"defaultChecked":G=L;break;case"value":S=L;break;case"defaultValue":x=L;break;case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(a(137,n));break;default:L!==B&&qe(e,n,I,L,s,B)}}ds(e,S,x,A,M,G,p,d);return;case"select":L=S=x=I=null;for(p in i)if(A=i[p],i.hasOwnProperty(p)&&A!=null)switch(p){case"value":break;case"multiple":L=A;default:s.hasOwnProperty(p)||qe(e,n,p,null,s,A)}for(d in s)if(p=s[d],A=i[d],s.hasOwnProperty(d)&&(p!=null||A!=null))switch(d){case"value":I=p;break;case"defaultValue":x=p;break;case"multiple":S=p;default:p!==A&&qe(e,n,d,p,s,A)}n=x,i=S,s=L,I!=null?Mo(e,!!i,I,!1):!!s!=!!i&&(n!=null?Mo(e,!!i,n,!0):Mo(e,!!i,i?[]:"",!1));return;case"textarea":L=I=null;for(x in i)if(d=i[x],i.hasOwnProperty(x)&&d!=null&&!s.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:qe(e,n,x,null,s,d)}for(S in s)if(d=s[S],p=i[S],s.hasOwnProperty(S)&&(d!=null||p!=null))switch(S){case"value":I=d;break;case"defaultValue":L=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(a(91));break;default:d!==p&&qe(e,n,S,d,s,p)}gc(e,I,L);return;case"option":for(var ee in i)if(I=i[ee],i.hasOwnProperty(ee)&&I!=null&&!s.hasOwnProperty(ee))switch(ee){case"selected":e.selected=!1;break;default:qe(e,n,ee,null,s,I)}for(A in s)if(I=s[A],L=i[A],s.hasOwnProperty(A)&&I!==L&&(I!=null||L!=null))switch(A){case"selected":e.selected=I&&typeof I!="function"&&typeof I!="symbol";break;default:qe(e,n,A,I,s,L)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var se in i)I=i[se],i.hasOwnProperty(se)&&I!=null&&!s.hasOwnProperty(se)&&qe(e,n,se,null,s,I);for(M in s)if(I=s[M],L=i[M],s.hasOwnProperty(M)&&I!==L&&(I!=null||L!=null))switch(M){case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(a(137,n));break;default:qe(e,n,M,I,s,L)}return;default:if(ps(n)){for(var Be in i)I=i[Be],i.hasOwnProperty(Be)&&I!==void 0&&!s.hasOwnProperty(Be)&&eu(e,n,Be,void 0,s,I);for(G in s)I=s[G],L=i[G],!s.hasOwnProperty(G)||I===L||I===void 0&&L===void 0||eu(e,n,G,I,s,L);return}}for(var w in i)I=i[w],i.hasOwnProperty(w)&&I!=null&&!s.hasOwnProperty(w)&&qe(e,n,w,null,s,I);for(B in s)I=s[B],L=i[B],!s.hasOwnProperty(B)||I===L||I==null&&L==null||qe(e,n,B,I,s,L)}function Th(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function G0(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,i=performance.getEntriesByType("resource"),s=0;s<i.length;s++){var d=i[s],p=d.transferSize,S=d.initiatorType,x=d.duration;if(p&&x&&Th(S)){for(S=0,x=d.responseEnd,s+=1;s<i.length;s++){var A=i[s],M=A.startTime;if(M>x)break;var G=A.transferSize,B=A.initiatorType;G&&Th(B)&&(A=A.responseEnd,S+=G*(A<x?1:(x-M)/(A-M)))}if(--s,n+=8*(p+S)/(d.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var tu=null,nu=null;function _a(e){return e.nodeType===9?e:e.ownerDocument}function _h(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function xh(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function ou(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var iu=null;function V0(){var e=window.event;return e&&e.type==="popstate"?e===iu?!1:(iu=e,!0):(iu=null,!1)}var Ch=typeof setTimeout=="function"?setTimeout:void 0,z0=typeof clearTimeout=="function"?clearTimeout:void 0,Ah=typeof Promise=="function"?Promise:void 0,q0=typeof queueMicrotask=="function"?queueMicrotask:typeof Ah<"u"?function(e){return Ah.resolve(null).then(e).catch(B0)}:Ch;function B0(e){setTimeout(function(){throw e})}function Kn(e){return e==="head"}function bh(e,n){var i=n,s=0;do{var d=i.nextSibling;if(e.removeChild(i),d&&d.nodeType===8)if(i=d.data,i==="/$"||i==="/&"){if(s===0){e.removeChild(d),ri(n);return}s--}else if(i==="$"||i==="$?"||i==="$~"||i==="$!"||i==="&")s++;else if(i==="html")al(e.ownerDocument.documentElement);else if(i==="head"){i=e.ownerDocument.head,al(i);for(var p=i.firstChild;p;){var S=p.nextSibling,x=p.nodeName;p[Ci]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&p.rel.toLowerCase()==="stylesheet"||i.removeChild(p),p=S}}else i==="body"&&al(e.ownerDocument.body);i=d}while(i);ri(n)}function Nh(e,n){var i=e;e=0;do{var s=i.nextSibling;if(i.nodeType===1?n?(i._stashedDisplay=i.style.display,i.style.display="none"):(i.style.display=i._stashedDisplay||"",i.getAttribute("style")===""&&i.removeAttribute("style")):i.nodeType===3&&(n?(i._stashedText=i.nodeValue,i.nodeValue=""):i.nodeValue=i._stashedText||""),s&&s.nodeType===8)if(i=s.data,i==="/$"){if(e===0)break;e--}else i!=="$"&&i!=="$?"&&i!=="$~"&&i!=="$!"||e++;i=s}while(i)}function lu(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var i=n;switch(n=n.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":lu(i),cs(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function P0(e,n,i,s){for(;e.nodeType===1;){var d=i;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[Ci])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(p=e.getAttribute("rel"),p==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(p!==d.rel||e.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||e.getAttribute("title")!==(d.title==null?null:d.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(p=e.getAttribute("src"),(p!==(d.src==null?null:d.src)||e.getAttribute("type")!==(d.type==null?null:d.type)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&p&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var p=d.name==null?null:""+d.name;if(d.type==="hidden"&&e.getAttribute("name")===p)return e}else return e;if(e=Jt(e.nextSibling),e===null)break}return null}function O0(e,n,i){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=Jt(e.nextSibling),e===null))return null;return e}function wh(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Jt(e.nextSibling),e===null))return null;return e}function au(e){return e.data==="$?"||e.data==="$~"}function su(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function F0(e,n){var i=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||i.readyState!=="loading")n();else{var s=function(){n(),i.removeEventListener("DOMContentLoaded",s)};i.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function Jt(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var ru=null;function Rh(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"||i==="/&"){if(n===0)return Jt(e.nextSibling);n--}else i!=="$"&&i!=="$!"&&i!=="$?"&&i!=="$~"&&i!=="&"||n++}e=e.nextSibling}return null}function Mh(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"){if(n===0)return e;n--}else i!=="/$"&&i!=="/&"||n++}e=e.previousSibling}return null}function Ih(e,n,i){switch(n=_a(i),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function al(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);cs(e)}var Yt=new Map,Dh=new Set;function xa(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var xn=J.d;J.d={f:J0,r:Y0,D:W0,C:K0,L:X0,m:Q0,X:Z0,S:$0,M:j0};function J0(){var e=xn.f(),n=pa();return e||n}function Y0(e){var n=No(e);n!==null&&n.tag===5&&n.type==="form"?Xf(n):xn.r(e)}var li=typeof document>"u"?null:document;function Uh(e,n,i){var s=li;if(s&&typeof n=="string"&&n){var d=Vt(n);d='link[rel="'+e+'"][href="'+d+'"]',typeof i=="string"&&(d+='[crossorigin="'+i+'"]'),Dh.has(d)||(Dh.add(d),e={rel:e,crossOrigin:i,href:n},s.querySelector(d)===null&&(n=s.createElement("link"),dt(n,"link",e),it(n),s.head.appendChild(n)))}}function W0(e){xn.D(e),Uh("dns-prefetch",e,null)}function K0(e,n){xn.C(e,n),Uh("preconnect",e,n)}function X0(e,n,i){xn.L(e,n,i);var s=li;if(s&&e&&n){var d='link[rel="preload"][as="'+Vt(n)+'"]';n==="image"&&i&&i.imageSrcSet?(d+='[imagesrcset="'+Vt(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(d+='[imagesizes="'+Vt(i.imageSizes)+'"]')):d+='[href="'+Vt(e)+'"]';var p=d;switch(n){case"style":p=ai(e);break;case"script":p=si(e)}Yt.has(p)||(e=E({rel:"preload",href:n==="image"&&i&&i.imageSrcSet?void 0:e,as:n},i),Yt.set(p,e),s.querySelector(d)!==null||n==="style"&&s.querySelector(sl(p))||n==="script"&&s.querySelector(rl(p))||(n=s.createElement("link"),dt(n,"link",e),it(n),s.head.appendChild(n)))}}function Q0(e,n){xn.m(e,n);var i=li;if(i&&e){var s=n&&typeof n.as=="string"?n.as:"script",d='link[rel="modulepreload"][as="'+Vt(s)+'"][href="'+Vt(e)+'"]',p=d;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=si(e)}if(!Yt.has(p)&&(e=E({rel:"modulepreload",href:e},n),Yt.set(p,e),i.querySelector(d)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(rl(p)))return}s=i.createElement("link"),dt(s,"link",e),it(s),i.head.appendChild(s)}}}function $0(e,n,i){xn.S(e,n,i);var s=li;if(s&&e){var d=wo(s).hoistableStyles,p=ai(e);n=n||"default";var S=d.get(p);if(!S){var x={loading:0,preload:null};if(S=s.querySelector(sl(p)))x.loading=5;else{e=E({rel:"stylesheet",href:e,"data-precedence":n},i),(i=Yt.get(p))&&uu(e,i);var A=S=s.createElement("link");it(A),dt(A,"link",e),A._p=new Promise(function(M,G){A.onload=M,A.onerror=G}),A.addEventListener("load",function(){x.loading|=1}),A.addEventListener("error",function(){x.loading|=2}),x.loading|=4,Ca(S,n,s)}S={type:"stylesheet",instance:S,count:1,state:x},d.set(p,S)}}}function Z0(e,n){xn.X(e,n);var i=li;if(i&&e){var s=wo(i).hoistableScripts,d=si(e),p=s.get(d);p||(p=i.querySelector(rl(d)),p||(e=E({src:e,async:!0},n),(n=Yt.get(d))&&cu(e,n),p=i.createElement("script"),it(p),dt(p,"link",e),i.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},s.set(d,p))}}function j0(e,n){xn.M(e,n);var i=li;if(i&&e){var s=wo(i).hoistableScripts,d=si(e),p=s.get(d);p||(p=i.querySelector(rl(d)),p||(e=E({src:e,async:!0,type:"module"},n),(n=Yt.get(d))&&cu(e,n),p=i.createElement("script"),it(p),dt(p,"link",e),i.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},s.set(d,p))}}function Lh(e,n,i,s){var d=(d=me.current)?xa(d):null;if(!d)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(n=ai(i.href),i=wo(d).hoistableStyles,s=i.get(n),s||(s={type:"style",instance:null,count:0,state:null},i.set(n,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=ai(i.href);var p=wo(d).hoistableStyles,S=p.get(e);if(S||(d=d.ownerDocument||d,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(e,S),(p=d.querySelector(sl(e)))&&!p._p&&(S.instance=p,S.state.loading=5),Yt.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},Yt.set(e,i),p||ev(d,e,i,S.state))),n&&s===null)throw Error(a(528,""));return S}if(n&&s!==null)throw Error(a(529,""));return null;case"script":return n=i.async,i=i.src,typeof i=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=si(i),i=wo(d).hoistableScripts,s=i.get(n),s||(s={type:"script",instance:null,count:0,state:null},i.set(n,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function ai(e){return'href="'+Vt(e)+'"'}function sl(e){return'link[rel="stylesheet"]['+e+"]"}function kh(e){return E({},e,{"data-precedence":e.precedence,precedence:null})}function ev(e,n,i,s){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?s.loading=1:(n=e.createElement("link"),s.preload=n,n.addEventListener("load",function(){return s.loading|=1}),n.addEventListener("error",function(){return s.loading|=2}),dt(n,"link",i),it(n),e.head.appendChild(n))}function si(e){return'[src="'+Vt(e)+'"]'}function rl(e){return"script[async]"+e}function Hh(e,n,i){if(n.count++,n.instance===null)switch(n.type){case"style":var s=e.querySelector('style[data-href~="'+Vt(i.href)+'"]');if(s)return n.instance=s,it(s),s;var d=E({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),it(s),dt(s,"style",d),Ca(s,i.precedence,e),n.instance=s;case"stylesheet":d=ai(i.href);var p=e.querySelector(sl(d));if(p)return n.state.loading|=4,n.instance=p,it(p),p;s=kh(i),(d=Yt.get(d))&&uu(s,d),p=(e.ownerDocument||e).createElement("link"),it(p);var S=p;return S._p=new Promise(function(x,A){S.onload=x,S.onerror=A}),dt(p,"link",s),n.state.loading|=4,Ca(p,i.precedence,e),n.instance=p;case"script":return p=si(i.src),(d=e.querySelector(rl(p)))?(n.instance=d,it(d),d):(s=i,(d=Yt.get(p))&&(s=E({},i),cu(s,d)),e=e.ownerDocument||e,d=e.createElement("script"),it(d),dt(d,"link",s),e.head.appendChild(d),n.instance=d);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(s=n.instance,n.state.loading|=4,Ca(s,i.precedence,e));return n.instance}function Ca(e,n,i){for(var s=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=s.length?s[s.length-1]:null,p=d,S=0;S<s.length;S++){var x=s[S];if(x.dataset.precedence===n)p=x;else if(p!==d)break}p?p.parentNode.insertBefore(e,p.nextSibling):(n=i.nodeType===9?i.head:i,n.insertBefore(e,n.firstChild))}function uu(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function cu(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Aa=null;function Gh(e,n,i){if(Aa===null){var s=new Map,d=Aa=new Map;d.set(i,s)}else d=Aa,s=d.get(i),s||(s=new Map,d.set(i,s));if(s.has(e))return s;for(s.set(e,null),i=i.getElementsByTagName(e),d=0;d<i.length;d++){var p=i[d];if(!(p[Ci]||p[rt]||e==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var S=p.getAttribute(n)||"";S=e+S;var x=s.get(S);x?x.push(p):s.set(S,[p])}}return s}function Vh(e,n,i){e=e.ownerDocument||e,e.head.insertBefore(i,n==="title"?e.querySelector("head > title"):null)}function tv(e,n,i){if(i===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function zh(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function nv(e,n,i,s){if(i.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var d=ai(s.href),p=n.querySelector(sl(d));if(p){n=p._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=ba.bind(e),n.then(e,e)),i.state.loading|=4,i.instance=p,it(p);return}p=n.ownerDocument||n,s=kh(s),(d=Yt.get(d))&&uu(s,d),p=p.createElement("link"),it(p);var S=p;S._p=new Promise(function(x,A){S.onload=x,S.onerror=A}),dt(p,"link",s),i.instance=p}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(i,n),(n=i.state.preload)&&(i.state.loading&3)===0&&(e.count++,i=ba.bind(e),n.addEventListener("load",i),n.addEventListener("error",i))}}var fu=0;function ov(e,n){return e.stylesheets&&e.count===0&&wa(e,e.stylesheets),0<e.count||0<e.imgCount?function(i){var s=setTimeout(function(){if(e.stylesheets&&wa(e,e.stylesheets),e.unsuspend){var p=e.unsuspend;e.unsuspend=null,p()}},6e4+n);0<e.imgBytes&&fu===0&&(fu=62500*G0());var d=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&wa(e,e.stylesheets),e.unsuspend)){var p=e.unsuspend;e.unsuspend=null,p()}},(e.imgBytes>fu?50:800)+n);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(d)}}:null}function ba(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)wa(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Na=null;function wa(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Na=new Map,n.forEach(iv,e),Na=null,ba.call(e))}function iv(e,n){if(!(n.state.loading&4)){var i=Na.get(e);if(i)var s=i.get(null);else{i=new Map,Na.set(e,i);for(var d=e.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<d.length;p++){var S=d[p];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(i.set(S.dataset.precedence,S),s=S)}s&&i.set(null,s)}d=n.instance,S=d.getAttribute("data-precedence"),p=i.get(S)||s,p===s&&i.set(null,d),i.set(S,d),this.count++,s=ba.bind(this),d.addEventListener("load",s),d.addEventListener("error",s),p?p.parentNode.insertBefore(d,p.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(d,e.firstChild)),n.state.loading|=4}}var ul={$$typeof:O,Provider:null,Consumer:null,_currentValue:le,_currentValue2:le,_threadCount:0};function lv(e,n,i,s,d,p,S,x,A){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=as(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=as(0),this.hiddenUpdates=as(null),this.identifierPrefix=s,this.onUncaughtError=d,this.onCaughtError=p,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function qh(e,n,i,s,d,p,S,x,A,M,G,B){return e=new lv(e,n,i,S,A,M,G,B,x),n=1,p===!0&&(n|=24),p=Mt(3,null,null,n),e.current=p,p.stateNode=e,n=Fs(),n.refCount++,e.pooledCache=n,n.refCount++,p.memoizedState={element:s,isDehydrated:i,cache:n},Ks(p),e}function Bh(e){return e?(e=Vo,e):Vo}function Ph(e,n,i,s,d,p){d=Bh(d),s.context===null?s.context=d:s.pendingContext=d,s=Gn(n),s.payload={element:i},p=p===void 0?null:p,p!==null&&(s.callback=p),i=Vn(e,s,n),i!==null&&(At(i,e,n),Bi(i,e,n))}function Oh(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<n?i:n}}function du(e,n){Oh(e,n),(e=e.alternate)&&Oh(e,n)}function Fh(e){if(e.tag===13||e.tag===31){var n=ro(e,67108864);n!==null&&At(n,e,67108864),du(e,67108864)}}function Jh(e){if(e.tag===13||e.tag===31){var n=kt();n=ss(n);var i=ro(e,n);i!==null&&At(i,e,n),du(e,n)}}var Ra=!0;function av(e,n,i,s){var d=k.T;k.T=null;var p=J.p;try{J.p=2,hu(e,n,i,s)}finally{J.p=p,k.T=d}}function sv(e,n,i,s){var d=k.T;k.T=null;var p=J.p;try{J.p=8,hu(e,n,i,s)}finally{J.p=p,k.T=d}}function hu(e,n,i,s){if(Ra){var d=pu(s);if(d===null)jr(e,n,s,Ma,i),Wh(e,s);else if(uv(d,e,n,i,s))s.stopPropagation();else if(Wh(e,s),n&4&&-1<rv.indexOf(e)){for(;d!==null;){var p=No(d);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var S=oo(p.pendingLanes);if(S!==0){var x=p;for(x.pendingLanes|=2,x.entangledLanes|=2;S;){var A=1<<31-wt(S);x.entanglements[1]|=A,S&=~A}ln(p),(He&6)===0&&(da=mt()+500,ol(0))}}break;case 31:case 13:x=ro(p,2),x!==null&&At(x,p,2),pa(),du(p,2)}if(p=pu(s),p===null&&jr(e,n,s,Ma,i),p===d)break;d=p}d!==null&&s.stopPropagation()}else jr(e,n,s,null,i)}}function pu(e){return e=gs(e),mu(e)}var Ma=null;function mu(e){if(Ma=null,e=bo(e),e!==null){var n=f(e);if(n===null)e=null;else{var i=n.tag;if(i===13){if(e=h(n),e!==null)return e;e=null}else if(i===31){if(e=g(n),e!==null)return e;e=null}else if(i===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Ma=e,null}function Yh(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(V()){case re:return 2;case Re:return 8;case Te:case ye:return 32;case no:return 268435456;default:return 32}default:return 32}}var gu=!1,Xn=null,Qn=null,$n=null,cl=new Map,fl=new Map,Zn=[],rv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Wh(e,n){switch(e){case"focusin":case"focusout":Xn=null;break;case"dragenter":case"dragleave":Qn=null;break;case"mouseover":case"mouseout":$n=null;break;case"pointerover":case"pointerout":cl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":fl.delete(n.pointerId)}}function dl(e,n,i,s,d,p){return e===null||e.nativeEvent!==p?(e={blockedOn:n,domEventName:i,eventSystemFlags:s,nativeEvent:p,targetContainers:[d]},n!==null&&(n=No(n),n!==null&&Fh(n)),e):(e.eventSystemFlags|=s,n=e.targetContainers,d!==null&&n.indexOf(d)===-1&&n.push(d),e)}function uv(e,n,i,s,d){switch(n){case"focusin":return Xn=dl(Xn,e,n,i,s,d),!0;case"dragenter":return Qn=dl(Qn,e,n,i,s,d),!0;case"mouseover":return $n=dl($n,e,n,i,s,d),!0;case"pointerover":var p=d.pointerId;return cl.set(p,dl(cl.get(p)||null,e,n,i,s,d)),!0;case"gotpointercapture":return p=d.pointerId,fl.set(p,dl(fl.get(p)||null,e,n,i,s,d)),!0}return!1}function Kh(e){var n=bo(e.target);if(n!==null){var i=f(n);if(i!==null){if(n=i.tag,n===13){if(n=h(i),n!==null){e.blockedOn=n,sc(e.priority,function(){Jh(i)});return}}else if(n===31){if(n=g(i),n!==null){e.blockedOn=n,sc(e.priority,function(){Jh(i)});return}}else if(n===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ia(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var i=pu(e.nativeEvent);if(i===null){i=e.nativeEvent;var s=new i.constructor(i.type,i);ms=s,i.target.dispatchEvent(s),ms=null}else return n=No(i),n!==null&&Fh(n),e.blockedOn=i,!1;n.shift()}return!0}function Xh(e,n,i){Ia(e)&&i.delete(n)}function cv(){gu=!1,Xn!==null&&Ia(Xn)&&(Xn=null),Qn!==null&&Ia(Qn)&&(Qn=null),$n!==null&&Ia($n)&&($n=null),cl.forEach(Xh),fl.forEach(Xh)}function Da(e,n){e.blockedOn===n&&(e.blockedOn=null,gu||(gu=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,cv)))}var Ua=null;function Qh(e){Ua!==e&&(Ua=e,o.unstable_scheduleCallback(o.unstable_NormalPriority,function(){Ua===e&&(Ua=null);for(var n=0;n<e.length;n+=3){var i=e[n],s=e[n+1],d=e[n+2];if(typeof s!="function"){if(mu(s||i)===null)continue;break}var p=No(i);p!==null&&(e.splice(n,3),n-=3,pr(p,{pending:!0,data:d,method:i.method,action:s},s,d))}}))}function ri(e){function n(A){return Da(A,e)}Xn!==null&&Da(Xn,e),Qn!==null&&Da(Qn,e),$n!==null&&Da($n,e),cl.forEach(n),fl.forEach(n);for(var i=0;i<Zn.length;i++){var s=Zn[i];s.blockedOn===e&&(s.blockedOn=null)}for(;0<Zn.length&&(i=Zn[0],i.blockedOn===null);)Kh(i),i.blockedOn===null&&Zn.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(s=0;s<i.length;s+=3){var d=i[s],p=i[s+1],S=d[St]||null;if(typeof p=="function")S||Qh(i);else if(S){var x=null;if(p&&p.hasAttribute("formAction")){if(d=p,S=p[St]||null)x=S.formAction;else if(mu(d)!==null)continue}else x=S.action;typeof x=="function"?i[s+1]=x:(i.splice(s,3),s-=3),Qh(i)}}}function $h(){function e(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(S){return d=S})},focusReset:"manual",scroll:"manual"})}function n(){d!==null&&(d(),d=null),s||setTimeout(i,20)}function i(){if(!s&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,d=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(i,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),d!==null&&(d(),d=null)}}}function yu(e){this._internalRoot=e}La.prototype.render=yu.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var i=n.current,s=kt();Ph(i,s,e,n,null,null)},La.prototype.unmount=yu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Ph(e.current,2,null,e,null,null),pa(),n[Ao]=null}};function La(e){this._internalRoot=e}La.prototype.unstable_scheduleHydration=function(e){if(e){var n=ac();e={blockedOn:null,target:e,priority:n};for(var i=0;i<Zn.length&&n!==0&&n<Zn[i].priority;i++);Zn.splice(i,0,e),i===0&&Kh(e)}};var Zh=t.version;if(Zh!=="19.2.3")throw Error(a(527,Zh,"19.2.3"));J.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=m(n),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var fv={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:k,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ka=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ka.isDisabled&&ka.supportsFiber)try{Ti=ka.inject(fv),Nt=ka}catch{}}return pl.createRoot=function(e,n){if(!r(e))throw Error(a(299));var i=!1,s="",d=ld,p=ad,S=sd;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onUncaughtError!==void 0&&(d=n.onUncaughtError),n.onCaughtError!==void 0&&(p=n.onCaughtError),n.onRecoverableError!==void 0&&(S=n.onRecoverableError)),n=qh(e,1,!1,null,null,i,s,null,d,p,S,$h),e[Ao]=n.current,Zr(e),new yu(n)},pl.hydrateRoot=function(e,n,i){if(!r(e))throw Error(a(299));var s=!1,d="",p=ld,S=ad,x=sd,A=null;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(d=i.identifierPrefix),i.onUncaughtError!==void 0&&(p=i.onUncaughtError),i.onCaughtError!==void 0&&(S=i.onCaughtError),i.onRecoverableError!==void 0&&(x=i.onRecoverableError),i.formState!==void 0&&(A=i.formState)),n=qh(e,1,!0,n,i??null,s,d,A,p,S,x,$h),n.context=Bh(null),i=n.current,s=kt(),s=ss(s),d=Gn(s),d.callback=null,Vn(i,d,s),i=s,n.current.lanes=i,xi(n,i),ln(n),e[Ao]=n.current,Zr(e),new La(n)},pl.version="19.2.3",pl}var rp;function _v(){if(rp)return Eu.exports;rp=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(t){console.error(t)}}return o(),Eu.exports=Tv(),Eu.exports}var xv=_v();const Cv=eg(xv);var Cn=(o=>(o.GEMINI_2_0_FLASH="gemini-2.0-flash",o.GEMINI_2_0_FLASH_LITE="gemini-2.0-flash-lite",o.GEMINI_2_5_PRO="gemini-2.5-pro",o.GEMINI_2_5_FLASH_LITE="gemini-2.5-flash-lite",o.GEMINI_2_5_FLASH_PREVIEW="gemini-2.5-flash-preview",o.GEMINI_3_PRO_PREVIEW="gemini-3-pro-preview",o.GEMINI_3_FLASH_PREVIEW="gemini-3-flash-preview",o))(Cn||{}),eo=(o=>(o.ALWAYS="always",o.AFTER_READ="afterRead",o.NEVER="never",o))(eo||{}),at=(o=>(o.IDLE="IDLE",o.LOADING="LOADING",o.SUCCESS="SUCCESS",o.ERROR="ERROR",o))(at||{});const Av=(o,t)=>{const l=up(o),a=up(t);return`linear-gradient(to right, ${l} 0%, ${l} 50%, ${a} 50%, ${a} 100%)`},up=o=>o>=8?"rgba(134, 239, 172, 0.4)":o>=5?"rgba(252, 211, 77, 0.4)":"rgba(252, 165, 165, 0.4)",bv=({message:o,onClick:t,isSelected:l,isEditMode:a,isChecked:r,onToggleCheck:f,onToggleExclude:h,colorByScoring:g=eo.AFTER_READ})=>{const y=o.role==="user",m=!!o.analysis,v=!!o.viewed,E=!!o.excluded,C=E||!y||!m||g===eo.NEVER?!1:g===eo.ALWAYS?!0:v,D=C&&o.analysis?{background:Av(o.analysis.grammarScore,o.analysis.naturalnessScore)}:{},H=U=>{if(a){U.stopPropagation(),f==null||f(o.id);return}y&&!E&&(t==null||t(o))};return T.jsxs("div",{className:`flex mb-6 group transition-all duration-200 ${y?"justify-end":"justify-start"} ${E?"opacity-40":""}`,children:[a&&T.jsx("div",{className:"flex items-center self-center px-4 transition-all duration-300 transform scale-100",children:T.jsx("input",{type:"checkbox",checked:r,onChange:()=>f==null?void 0:f(o.id),className:"w-5 h-5 rounded-full border-gray-300 text-blue-600 focus:ring-blue-500 cursor-pointer"})}),T.jsxs("div",{className:`relative flex flex-col ${y?"items-end":"items-start"} max-w-[85%] md:max-w-[70%] ${!y&&!a?"ml-8":""}`,children:[T.jsxs("div",{className:`flex items-center mb-1 space-x-2 ${y?"flex-row-reverse space-x-reverse":""}`,children:[T.jsx("span",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider",children:o.sender}),T.jsx("span",{className:"text-[10px] text-gray-400",children:o.timestamp})]}),T.jsxs("div",{onClick:H,style:D,className:`
            relative px-4 py-3 rounded-2xl shadow-sm transition-all duration-200 w-full
            ${y&&!C?`bg-blue-600 text-white rounded-tr-none ${E?"cursor-default":"hover:bg-blue-700 cursor-pointer"}`:y&&C?"text-gray-800 rounded-tr-none cursor-pointer border border-gray-200":"bg-white text-gray-800 border border-gray-100 rounded-tl-none shadow-gray-100"}
            ${l&&!a?"ring-2 ring-blue-400 scale-[1.02]":""}
            ${r&&a?"ring-4 ring-blue-100 opacity-80":""}
          `,children:[T.jsx("p",{className:"text-sm md:text-base leading-relaxed whitespace-pre-wrap",children:o.text}),y&&!a&&T.jsxs("div",{className:"mt-2 flex justify-between items-center space-x-2",children:[T.jsx("div",{className:"flex items-center",children:m&&!E&&T.jsx("div",{className:"flex items-center mr-2",children:v?T.jsx("svg",{className:`w-4 h-4 ${C?"text-green-600":"text-green-400"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M5 13l4 4L19 7"})}):T.jsx("svg",{className:`w-4 h-4 ${C?"text-gray-500":"text-gray-300"} opacity-60`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M5 13l4 4L19 7"})})})}),T.jsxs("span",{className:`text-[10px] ${C?"text-gray-600":"opacity-70"} flex items-center`,children:[T.jsx("svg",{className:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),m?"Analysis Ready":"Click to Analyze"]})]})]}),!a&&h&&T.jsx("button",{onClick:U=>{U.stopPropagation(),h(o.id)},className:`absolute bottom-0 -left-8 mb-3 px-1 opacity-0 group-hover:opacity-100 transition-opacity ${E?"!opacity-100":""}`,title:E?"Include in analysis":"Exclude from analysis",children:E?T.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):T.jsxs("svg",{className:"w-4 h-4 text-gray-300 hover:text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]})},cp=({score:o,label:t})=>{const l=a=>a>=8?"bg-green-100 text-green-700 border-green-200":a>=5?"bg-amber-100 text-amber-700 border-amber-200":"bg-red-100 text-red-700 border-red-200";return T.jsxs("div",{className:`flex flex-col items-center justify-center p-2 rounded-lg border ${l(o)}`,children:[T.jsx("span",{className:"text-[10px] font-bold uppercase tracking-tighter opacity-70",children:t}),T.jsxs("span",{className:"text-xl font-black",children:[o,T.jsx("span",{className:"text-xs font-normal opacity-60",children:"/10"})]})]})},fp=({analysis:o,state:t,onClose:l})=>t===at.IDLE?null:T.jsxs("div",{className:"h-full flex flex-col bg-white border-l border-gray-200 shadow-xl overflow-y-auto",children:[T.jsxs("div",{className:"p-4 border-b border-gray-100 flex justify-between items-center sticky top-0 bg-white z-10",children:[T.jsxs("h3",{className:"text-lg font-bold text-gray-800 flex items-center",children:[T.jsx("svg",{className:"w-5 h-5 mr-2 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})}),"Linguistic Insights"]}),T.jsx("button",{onClick:l,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:T.jsx("svg",{className:"w-5 h-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),T.jsxs("div",{className:"p-6 space-y-8",children:[t===at.LOADING&&T.jsxs("div",{className:"flex flex-col items-center justify-center py-12 space-y-4",children:[T.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),T.jsx("p",{className:"text-gray-500 animate-pulse",children:"Analyzing nuances..."})]}),t===at.ERROR&&T.jsxs("div",{className:"p-4 bg-red-50 text-red-700 rounded-lg border border-red-100",children:[T.jsx("p",{className:"font-medium",children:"Failed to analyze message."}),T.jsx("p",{className:"text-sm",children:"Please check your API key or connection."})]}),t===at.SUCCESS&&o&&T.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-right-4 duration-300",children:[T.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[T.jsx(cp,{score:o.grammarScore,label:"Grammar"}),T.jsx(cp,{score:o.naturalnessScore,label:"Naturalness"})]}),T.jsxs("section",{children:[T.jsxs("div",{className:"flex items-center mb-2",children:[T.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] font-bold uppercase tracking-wider mr-2 ${o.isNatural?"bg-green-100 text-green-700":"bg-amber-100 text-amber-700"}`,children:o.isNatural?"Natural":"Needs Polish"}),T.jsx("h4",{className:"font-semibold text-gray-700",children:"Grammar & Phrasing"})]}),T.jsx("p",{className:"text-sm text-gray-600 bg-gray-50 p-3 rounded-lg border border-gray-100",children:o.grammarErrors})]}),T.jsxs("section",{children:[T.jsx("h4",{className:"font-semibold text-gray-700 mb-2",children:"Naturalness Context"}),T.jsx("p",{className:"text-sm text-gray-600",children:o.naturalnessRating})]}),T.jsxs("section",{children:[T.jsxs("h4",{className:"font-semibold text-blue-700 mb-2 flex items-center",children:[T.jsxs("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:[T.jsx("path",{d:"M17.414 2.586a2 2 0 00-2.828 0L7 10.172V13h2.828l7.586-7.586a2 2 0 000-2.828z"}),T.jsx("path",{fillRule:"evenodd",d:"M2 6a2 2 0 012-2h4a1 1 0 010 2H4v10h10v-4a1 1 0 112 0v4a2 2 0 01-2 2H4a2 2 0 01-2-2V6z",clipRule:"evenodd"})]}),"Better Alternative"]}),T.jsxs("div",{className:"bg-blue-50 border border-blue-100 p-4 rounded-xl italic text-blue-900 shadow-sm",children:['"',o.improvement,'"']})]}),T.jsxs("section",{children:[T.jsxs("h4",{className:"font-semibold text-gray-700 mb-2 flex items-center",children:[T.jsx("svg",{className:"w-4 h-4 mr-1 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:T.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-11a1 1 0 10-2 0v2H7a1 1 0 100 2h2v2a1 1 0 102 0v-2h2a1 1 0 100-2h-2V7z",clipRule:"evenodd"})}),"Small Talk Boosters"]}),T.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:o.extensions})]})]})]})]}),dp={HIGH:7,MEDIUM:4},tg=o=>o>=dp.HIGH?"high":o>=dp.MEDIUM?"medium":"low",Cu=o=>{const t=tg(o);return t==="high"?"bg-green-400":t==="medium"?"bg-amber-400":"bg-red-400"},Nv=o=>{const t=tg(o);return t==="high"?"bg-green-100 text-green-700 border-green-200":t==="medium"?"bg-amber-100 text-amber-700 border-amber-200":"bg-red-100 text-red-700 border-red-200"},Au=({score:o,label:t})=>{const l=Nv(o);return T.jsxs("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-bold border ${l}`,children:[t,": ",o,"/10"]})},wv=({summary:o,onClose:t})=>o?T.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-in fade-in duration-200",children:T.jsxs("div",{className:"bg-white w-full max-w-3xl rounded-2xl shadow-2xl overflow-hidden flex flex-col max-h-[90vh] animate-in zoom-in-95 duration-200",children:[T.jsxs("div",{className:"p-6 bg-gradient-to-r from-blue-600 to-indigo-700 text-white flex justify-between items-center flex-shrink-0",children:[T.jsxs("div",{children:[T.jsx("h2",{className:"text-2xl font-bold",children:"Session Summary"}),T.jsx("p",{className:"text-blue-100 text-sm mt-1",children:"Overall conversation analysis & vocabulary"})]}),T.jsx("button",{onClick:t,className:"p-2 hover:bg-white/10 rounded-full transition-colors",children:T.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),T.jsxs("div",{className:"p-6 md:p-8 overflow-y-auto space-y-10 custom-scrollbar",children:[T.jsxs("section",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[T.jsxs("div",{className:"space-y-2",children:[T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsx("h3",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Grammar Skills"}),T.jsx(Au,{score:o.grammarScore,label:"Score"})]}),T.jsx("p",{className:"text-gray-700 leading-relaxed text-sm",children:o.grammarPerformance})]}),T.jsxs("div",{className:"space-y-2",children:[T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsx("h3",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Communication Clarity"}),T.jsx(Au,{score:o.clarityScore,label:"Score"})]}),T.jsx("p",{className:"text-gray-700 leading-relaxed text-sm",children:o.clarityEvaluation})]}),T.jsxs("div",{className:"md:col-span-2 space-y-2",children:[T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsx("h3",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Conversation Flow"}),T.jsx(Au,{score:o.flowScore,label:"Score"})]}),T.jsx("p",{className:"text-gray-700 leading-relaxed text-sm",children:o.flowAnalysis})]})]}),T.jsxs("section",{className:"space-y-4 pt-6 border-t border-gray-100",children:[T.jsxs("h3",{className:"text-lg font-bold text-gray-800 flex items-center",children:[T.jsx("svg",{className:"w-5 h-5 mr-2 text-blue-500",fill:"currentColor",viewBox:"0 0 20 20",children:T.jsx("path",{d:"M11 3a1 1 0 10-2 0v1a1 1 0 102 0V3zM15.657 5.757a1 1 0 00-1.414-1.414l-.707.707a1 1 0 001.414 1.414l.707-.707zM18 10a1 1 0 01-1 1h-1a1 1 0 110-2h1a1 1 0 011 1zM5.05 6.464A1 1 0 106.464 5.05l-.707-.707a1 1 0 00-1.414 1.414l.707.707zM5 10a1 1 0 01-1 1H3a1 1 0 110-2h1a1 1 0 011 1zM8 16v-1a1 1 0 112 0v1a1 1 0 11-2 0zM13.536 14.95a1 1 0 011.414 0l.707.707a1 1 0 01-1.414 1.414l-.707-.707a1 1 0 010-1.414zM6.464 14.95a1 1 0 00-1.414 1.414l.707.707a1 1 0 001.414-1.414l-.707-.707z"})}),"Strategy Improvements"]}),T.jsx("div",{className:"grid grid-cols-1 gap-3",children:o.keySuggestions.map((l,a)=>T.jsxs("div",{className:"flex items-start bg-blue-50 p-4 rounded-xl border border-blue-100",children:[T.jsx("div",{className:"bg-blue-100 text-blue-700 w-6 h-6 rounded-full flex items-center justify-center font-bold text-xs mr-3 flex-shrink-0",children:a+1}),T.jsx("p",{className:"text-blue-900 text-sm font-medium",children:l})]},a))})]}),T.jsxs("section",{className:"space-y-4 pt-6 border-t border-gray-100",children:[T.jsxs("h3",{className:"text-lg font-bold text-gray-800 flex items-center",children:[T.jsx("svg",{className:"w-5 h-5 mr-2 text-indigo-500",fill:"currentColor",viewBox:"0 0 20 20",children:T.jsx("path",{d:"M9 4.804A7.993 7.993 0 002 12a8 8 0 1016 0c0-3.085-1.744-5.761-4.305-7.135L14.4 3.1a1 1 0 10-1.8-.883l-.85 1.733a8.07 8.07 0 00-1.75-.154 8.07 8.07 0 00-1.75.154l-.85-1.733a1 1 0 10-1.8.883l.705 1.439zM9 13a1 1 0 011-1h0a1 1 0 110 2H10a1 1 0 01-1-1z"})}),"Vocabulary Boosters"]}),T.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:o.suggestedVocabulary.map((l,a)=>T.jsxs("div",{className:"bg-gray-50 border border-gray-100 p-4 rounded-xl hover:shadow-md transition-shadow duration-200",children:[T.jsx("div",{className:"font-bold text-indigo-700 text-base mb-1",children:l.phrase}),T.jsx("p",{className:"text-xs text-gray-500 mb-2 italic",children:l.reason}),T.jsxs("div",{className:"bg-white p-2 rounded border border-indigo-50 text-xs text-indigo-900",children:[T.jsx("span",{className:"font-bold mr-1",children:"Ex:"}),' "',l.example,'"']})]},a))})]})]}),T.jsx("div",{className:"p-6 border-t border-gray-100 bg-gray-50 flex justify-end flex-shrink-0",children:T.jsx("button",{onClick:t,className:"px-6 py-2.5 bg-gray-800 text-white font-semibold rounded-xl hover:bg-gray-900 transition-all shadow-md active:scale-95",children:"Review Complete"})})]})}):null,yl=({title:o,message:t,confirmLabel:l="Delete",confirmVariant:a="danger",onConfirm:r,onCancel:f})=>T.jsx("div",{className:"fixed inset-0 z-[110] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-in fade-in duration-200",children:T.jsxs("div",{className:"bg-white w-full max-w-sm rounded-2xl shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200",children:[T.jsxs("div",{className:"p-6 text-center",children:[T.jsx("div",{className:`mx-auto flex items-center justify-center h-12 w-12 rounded-full mb-4 ${a==="danger"?"bg-red-100 text-red-600":"bg-blue-100 text-blue-600"}`,children:T.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),T.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:o}),T.jsx("p",{className:"text-sm text-gray-500",children:t})]}),T.jsxs("div",{className:"bg-gray-50 px-6 py-4 flex flex-col-reverse sm:flex-row sm:justify-end gap-2",children:[T.jsx("button",{onClick:f,className:"w-full sm:w-auto px-4 py-2 bg-white border border-gray-200 text-gray-700 font-semibold rounded-xl hover:bg-gray-50 transition-colors",children:"Cancel"}),T.jsx("button",{onClick:r,className:`w-full sm:w-auto px-4 py-2 text-white font-semibold rounded-xl shadow-sm transition-all active:scale-95 ${a==="danger"?"bg-red-600 hover:bg-red-700":"bg-blue-600 hover:bg-blue-700"}`,children:l})]})]})}),Rv=[{value:Cn.GEMINI_3_FLASH_PREVIEW,label:"Gemini 3 Flash Preview",description:"Latest v3 model, optimized for speed and reasoning"},{value:Cn.GEMINI_3_PRO_PREVIEW,label:"Gemini 3 Pro Preview",description:"Most capable v3 model for complex tasks"},{value:Cn.GEMINI_2_0_FLASH,label:"Gemini 2.0 Flash",description:"Fast and balanced (v2.0)"},{value:Cn.GEMINI_2_0_FLASH_LITE,label:"Gemini 2.0 Flash Lite",description:"Highly efficient, low latency (v2.0)"},{value:Cn.GEMINI_2_5_PRO,label:"Gemini 2.5 Pro",description:"Advanced reasoning and capability (v2.5)"},{value:Cn.GEMINI_2_5_FLASH_LITE,label:"Gemini 2.5 Flash Lite",description:"Fastest v2.5 model"},{value:Cn.GEMINI_2_5_FLASH_PREVIEW,label:"Gemini 2.5 Flash Preview",description:"Cutting-edge v2.5 features"}],Mv=[{value:eo.ALWAYS,label:"Always",description:"Color when analyzed"},{value:eo.AFTER_READ,label:"After Review",description:"Color after you view the score"},{value:eo.NEVER,label:"Never",description:"No coloring"}],Iv=({currentKey:o,currentModel:t,currentColorByScoring:l,currentCustomLanguages:a,currentShowConversationScores:r,onSave:f,onClose:h})=>{const[g,y]=oe.useState(o),[m,v]=oe.useState(t),[E,_]=oe.useState(l),[C,D]=oe.useState(a),[H,U]=oe.useState(r),[P,K]=oe.useState(null),O=Y=>{D(te=>te.filter(W=>W!==Y)),K(null)},$=()=>{f({key:g,model:m,colorByScoring:E,customLanguages:C,showConversationScores:H})};return T.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/60 backdrop-blur-md animate-in fade-in duration-200",children:[T.jsxs("div",{className:"bg-white w-full max-w-md rounded-2xl shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200 max-h-[90vh] flex flex-col",children:[T.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center flex-shrink-0",children:[T.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Settings"}),T.jsx("button",{onClick:h,className:"p-2 hover:bg-gray-100 rounded-full",children:T.jsx("svg",{className:"w-5 h-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),T.jsxs("div",{className:"p-6 space-y-6 overflow-y-auto",children:[T.jsxs("div",{className:"space-y-2",children:[T.jsx("label",{className:"text-sm font-bold text-gray-700 block",children:"Google AI Studio API Key"}),T.jsx("input",{type:"password",value:g,onChange:Y=>y(Y.target.value),placeholder:"Paste your API key here...",className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none text-sm"}),T.jsxs("p",{className:"text-[10px] text-gray-500",children:["Get one for free at ",T.jsx("a",{href:"https://aistudio.google.com/",target:"_blank",className:"text-blue-600 underline",children:"aistudio.google.com"})]})]}),T.jsxs("div",{className:"space-y-2",children:[T.jsx("label",{className:"text-sm font-bold text-gray-700 block",children:"AI Model"}),T.jsx("select",{value:m,onChange:Y=>v(Y.target.value),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none text-sm",children:Rv.map(Y=>T.jsxs("option",{value:Y.value,children:[Y.label,"  ",Y.description]},Y.value))})]}),T.jsxs("div",{className:"space-y-2",children:[T.jsx("label",{className:"text-sm font-bold text-gray-700 block",children:"Color By Scoring"}),T.jsx("select",{value:E,onChange:Y=>_(Y.target.value),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none text-sm",children:Mv.map(Y=>T.jsxs("option",{value:Y.value,children:[Y.label,"  ",Y.description]},Y.value))}),T.jsx("p",{className:"text-[10px] text-gray-500",children:"Color the message bubble based on grammar (left) and naturalness (right) scores."})]}),T.jsx("div",{className:"space-y-2",children:T.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[T.jsx("input",{type:"checkbox",checked:H,onChange:Y=>U(Y.target.checked),className:"w-5 h-5 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),T.jsxs("div",{children:[T.jsx("span",{className:"text-sm font-bold text-gray-700",children:"Show Conversation Scores"}),T.jsx("p",{className:"text-[10px] text-gray-500",children:"Display Grammar, Clarity, Flow scores in history"})]})]})}),T.jsxs("div",{className:"space-y-3 p-4 bg-gray-50 rounded-xl border border-gray-100",children:[T.jsx("label",{className:"text-sm font-bold text-gray-700 block",children:"Custom Languages"}),C.length===0?T.jsx("p",{className:"text-xs text-gray-400 italic",children:"No custom languages yet. Add from language dropdowns."}):T.jsx("div",{className:"flex flex-wrap gap-2",children:C.map(Y=>T.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1.5 bg-white border border-gray-200 rounded-full text-sm",children:[Y,T.jsx("button",{onClick:()=>K(Y),className:"text-gray-400 hover:text-red-500 ml-1",children:""})]},Y))}),T.jsx("p",{className:"text-[10px] text-gray-500",children:"Languages added here appear directly in dropdown menus."})]}),T.jsxs("div",{className:"p-4 bg-amber-50 rounded-xl border border-amber-100 space-y-2",children:[T.jsxs("div",{className:"flex items-center text-amber-800 font-bold text-xs uppercase tracking-wider",children:[T.jsx("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:T.jsx("path",{fillRule:"evenodd",d:"M2.166 15.833A2 2 0 010 13.833V4.167A2 2 0 012.166 2.167h15.668A2 2 0 0120 4.167v9.666a2 2 0 01-2.166 2H2.166zM10 4a6 6 0 100 12 6 6 0 000-12z",clipRule:"evenodd"})}),"Privacy First"]}),T.jsxs("p",{className:"text-xs text-amber-900 leading-relaxed",children:["We never save your data or keys on any server. Everything is stored ",T.jsx("span",{className:"font-bold",children:"locally in your browser's memory"}),". Deleting your browser cache will clear all history."]})]})]}),T.jsx("div",{className:"p-6 bg-gray-50 flex justify-end flex-shrink-0",children:T.jsx("button",{onClick:$,className:"px-6 py-2.5 bg-blue-600 text-white font-bold rounded-xl hover:bg-blue-700 transition-all shadow-md active:scale-95",children:"Save Changes"})})]}),P&&T.jsx(yl,{title:"Remove Language",message:`Remove "${P}" from your custom languages?`,confirmText:"Remove",onConfirm:()=>O(P),onCancel:()=>K(null)})]})},Dv={A:["How has your week been so far?","What did you do after you woke up today?","Did you sleep well last night?","Do you like cooking at home?","What do you usually eat for lunch?","Do you prefer coffee or tea?","What's your favorite meal of the day?","Did you have breakfast this morning?","What's the weather like where you are?","Do you prefer staying in or going out?","Do you like going for walks?","What kind of food do you eat most often?","Do you usually eat breakfast at home?","What kind of weather do you enjoy most?","Do you like watching short videos?","Do you like warm drinks?","What's your favorite weekday?","Do you like waking up early?","What's your favorite thing to snack on?","Do you prefer cats or dogs?","What's your favorite dessert?","What's your favorite ice cream flavor?","Do you like spicy food?","What's your favorite kind of soup?","What's your favorite kind of bread?","Do you prefer sweet or salty snacks?","What's your favorite simple meal?","What's your go-to comfort food?","What app do you use the most on your phone?","Do you prefer online shopping or in-store?","Do you prefer texting or calling?","What's something you always carry with you?","Do you like taking photos?","What's your favorite season of the year?","Did you grow up in this city?","Do you enjoy rainy days?","Do you like cloudy days?","What kind of music have you been listening to lately?","What kind of shows do you usually watch?","Are you more of a morning person or a night owl?","Do you prefer early nights or late nights?","Do you like staying up late?"],B:["Is there anything exciting happening this week?","What do you usually do in the evening?","What kind of videos do you watch most?","What's your favorite thing to do on a lazy day?","Have you been busy lately?","What's something you enjoy doing alone?","What kind of music helps you focus?","What's your favorite way to start the day?","Do you like surprises?","What's something you recently discovered?","Do you enjoy chatting with people online?","What's your favorite casual hobby?","Do you like background noise or silence?","What's something you often procrastinate on?","Do you enjoy learning new apps or tools?","What's your favorite thing to do during breaks?","What's something you're proud of recently?","What's your favorite thing to do after dinner?","Do you like trying new drinks?","What's something that helps you relax quickly?","Do you enjoy casual conversations?","What's your favorite thing about your routine?","Do you usually listen to music while commuting?","What's something you do when you feel bored?","Do you like exploring new neighborhoods?","Do you enjoy journaling or writing?","What's something you want to improve?","Do you like working with music on?","What's your favorite thing to do in the morning?","Do you enjoy watching documentaries?","What's something you always notice first?","What's your favorite thing to do on Sundays?","Do you like staying organized?","What's something you've been thinking about lately?","Do you enjoy watching people cook?","What's your favorite casual game?","What's something you enjoy learning about?","Do you prefer quiet cafes or lively ones?","What's your favorite smell?","Do you enjoy stretching or light exercise?","What's your favorite way to end the day?","Do you like listening to stories?","What's something you do to clear your mind?","Do you enjoy planning your day?","What's your favorite casual outfit?","Do you like listening to music with lyrics or without?","What's something that makes your day better?","Do you enjoy watching vlogs?","What's something you find relaxing to watch?","Do you enjoy cleaning or tidying up?","Do you like working in silence?","What's something you want to try one day?","Do you enjoy light conversations?","What's your favorite time to take a break?","Do you like handwritten notebooks?","What's something you do before bed?","Do you enjoy watching people talk about their hobbies?","What's your favorite everyday drink?","Do you like calm music?","What's something you do when you feel tired?","Do you enjoy slow mornings?","What's your favorite thing about your city?","Do you like listening to audio content?","What's something that motivates you?","Do you enjoy checking off to-do lists?","What's your favorite casual activity outdoors?","What's something you enjoy doing without a goal?","Do you enjoy watching interviews?","What's your favorite way to stay comfortable?","Do you like minimal or cozy spaces?","What's something you like to do while waiting?","Do you enjoy learning from videos?","Do you like taking short breaks often?","What's something you've gotten better at?","Do you enjoy background music in cafes?","What's your favorite casual topic to talk about?","Do you like keeping a routine?","What's something that helps you focus?","Do you enjoy late-night quiet time?","What's your favorite thing to do while traveling?","Have you watched any good movies recently?","What do you usually do to relax after work?","Did you do anything interesting last weekend?","What's something small that made you happy recently?","Do you like cooking or eating out more?","What's your favorite place to hang out?","Have you traveled anywhere nice before?","What's your favorite snack?","Do you enjoy exercising?","Do you like trying new things?","Have you read any good books lately?","What's something you're looking forward to?","Do you like working from home?","What's your favorite way to spend a day off?","Have you learned anything new recently?","What kind of hobbies do you have?","Do you enjoy going to cafes?","What's your favorite drink?","What's the best meal you've had recently?","Do you usually plan ahead or go with the flow?","What's your favorite holiday?","Have you ever tried a new skill just for fun?","What's your favorite thing to do at night?","Do you like quiet places or busy places?","What's something you do every day without thinking?","What kind of food do you like the most?","Have you watched anything interesting online lately?","What's your favorite way to spend time with friends?","What's your favorite thing about weekends?","Do you usually listen to music or podcasts?","What's your favorite type of movie?","Have you ever picked up a hobby and dropped it?","What's your favorite time of the day?","What's a place you want to visit someday?","Have you tried any new restaurants recently?","Do you like working alone or with others?","What's your favorite way to unwind?","Do you enjoy walking around the city?","What's your favorite kind of weather?","What's your favorite app for entertainment?","What's something you're curious about lately?","Do you enjoy learning languages?","What's your favorite simple pleasure?","Do you like watching the sunrise or sunset?","What's your favorite thing to do indoors?","Do you prefer handwritten notes or digital ones?","What's a habit you're trying to build?","Do you enjoy quiet mornings?","What's your favorite casual activity?","Do you like window shopping?","What's your favorite way to kill time?","Do you enjoy organizing things?","What's your favorite sound?","What's something you do to recharge?","Do you enjoy people-watching?","What's your favorite casual conversation topic?","Do you like planning trips?","What's your favorite thing about today?","Do you enjoy trying new cafes?","Do you like background music while working?","What's a small goal you have right now?","Do you enjoy short trips?","What's your favorite everyday routine?","How did you get into what you're doing now?","What's the last thing you laughed at?","Have you been busy or taking it easy lately?","What kind of food do you miss the most?","Do you usually follow trends or ignore them?","What's a place nearby you like but rarely visit?","How do you usually spend your commute time?","What's a random fact you know?","Do you prefer planning trips or deciding on the spot?","What's the last song that got stuck in your head?","Have you changed any habits recently?","What's something you enjoyed more than expected?","Do you like hosting or being invited more?","What's your favorite way to spend a free hour?","Have you picked up anything new this year?","What's a food you didn't like before but like now?","Do you usually eat quickly or slowly?","What's something people are often surprised about you?","How do you usually celebrate small wins?","What's the last place you visited for the first time?","Do you prefer mornings with plans or open days?","What's a smell that brings back memories?","How do you usually decide what to watch?","What's a skill you admire in other people?","Do you like working late or finishing early?","What's a simple thing that improves your mood?","How do you usually unwind on weekdays?","What's your favorite way to spend time alone?","Do you like background TV or complete quiet?","What's a food you could eat anytime?","How do you usually deal with stress?","Do you enjoy long conversations or short ones?","What's your favorite way to celebrate birthdays?","Do you usually arrive early or right on time?","What's a place you feel comfortable quickly?","How do you usually decide where to eat?","What's something you wish you did more often?","Do you like keeping busy or having empty time?","What's your favorite way to spend money on yourself?","How do you usually spend holidays?","What's something you enjoy explaining to others?","Do you like routines or variety more?","What's a topic you can talk about for hours?","How do you usually choose gifts?","Do you enjoy road trips?","What's your favorite casual hangout activity?","How do you usually recover from a long day?","Do you prefer familiar places or new ones?","What's something you always notice in a room?","How do you usually start conversations?","What's your favorite kind of break?","Do you like working at home or outside?","What's a food you associate with comfort?","How do you usually decide when to stop working?","What's something you enjoy doing with friends?","Do you like spontaneous plans?","What's a place you could visit again and again?","How do you usually organize your thoughts?","What's something you enjoy teaching yourself?","Do you prefer deep talks or casual chats?","What's a habit you picked up unintentionally?","How do you usually celebrate good news?","What's your favorite kind of casual outing?","Do you enjoy people who talk a lot or listen more?","What's something that helps you reset mentally?","How do you usually react to unexpected plans?","What's a simple luxury you enjoy?","Do you like being busy on weekends?","How do you usually pick restaurants?","What's your favorite thing to do with no schedule?","Do you like conversations with strangers?","What's something you enjoy noticing about people?","How do you usually handle indecision?","What's your favorite kind of social setting?","Do you enjoy trying things without expectations?","How do you usually balance work and rest?","What's a question you like being asked?","Do you like keeping things flexible?","What's something you enjoy watching others do?","How do you usually recharge after socializing?","What's your favorite kind of casual compliment?","Do you enjoy small gatherings or big ones?","How do you usually decide what's important?","What's a place you like for short visits?","Do you like structured days?","What's something you enjoy sharing with others?","How do you usually mark the end of the day?","What's your favorite way to spend unexpected free time?","Do you enjoy learning from conversations?","What's something you enjoy noticing in daily life?","How do you usually slow yourself down?","What's your favorite way to feel productive?","Do you like talking while doing activities?","What's something you enjoy remembering?","How do you usually respond to change?","What's a simple activity you never get tired of?","Do you like calm or energetic environments?","How do you usually choose how to spend your time?","What's your favorite way to connect with friends?","Do you enjoy casual silence with people?","What's something you enjoy without explaining?","How do you usually end conversations?","What's your favorite low-effort activity?","Do you like conversations that drift naturally?","What's something you enjoy observing quietly?","How do you usually feel at the end of the week?","What's a small routine you enjoy?","Do you like mixing work and breaks?","What's something you appreciate in friendships?","How do you usually decide what to prioritize?","What's your favorite way to feel relaxed around others?"],C:["What kind of experiences tend to leave a lasting impression on you?","How do you usually recognize when you need a change of pace?","What's something subtle that strongly influences your mood?","How do you decide which opinions are worth holding onto?","What's a belief you've gradually refined over time?","How do you usually interpret silence in conversations?","What's something that feels simple but is actually difficult to master?","How do you distinguish between being busy and being fulfilled?","What kind of environments bring out your best thinking?","What's a habit that quietly shapes your daily life?","How do you usually respond to uncertainty?","What's something you've learned to appreciate only through experience?","How do you decide when to speak up and when to hold back?","What's a moment that shifted your perspective in a small way?","How do you define balance in your own terms?","What kind of conversations do you find most energizing?","How do you usually approach decisions with no clear answer?","What's a personal standard you try to live by?","How do you tell when something is worth long-term effort?","What's a topic you enjoy revisiting with new insight?","How do you usually process disappointment?","What kind of progress feels most meaningful to you?","How do you decide what deserves your attention?","What's something that challenges you in a good way?","How do you usually interpret other people's motivations?","What's an assumption you often question?","How do you handle conflicting priorities?","What kind of feedback do you find most useful?","How do you usually notice personal growth?","What's something that has become more complex the more you learned about it?","How do you define success outside of conventional measures?","What kind of situations make you more reflective?","How do you usually respond to unexpected responsibility?","What's a value you've become more conscious of over time?","How do you decide which risks are worth taking?","What's something you've learned from observing others?","How do you usually reframe setbacks?","What kind of routines support your long-term goals?","How do you distinguish between intuition and impulse?","What's a question you ask yourself regularly?","How do you usually regain clarity when overwhelmed?","What's something you've outgrown without noticing at first?","How do you approach conversations with differing viewpoints?","What kind of effort feels sustainable to you?","How do you decide when to push forward versus pause?","What's something you've redefined for yourself?","How do you usually interpret success in others?","What kind of learning sticks with you the longest?","How do you usually respond to ambiguity?","What's a quiet influence that shapes your decisions?","How do you determine what's worth maintaining long term?","What's something you've learned to do imperfectly on purpose?","How do you balance consistency with flexibility?","What kind of challenges do you find most engaging?","How do you usually identify your own biases?","What's something that changed once you stopped rushing it?","How do you decide what to let go of?","What kind of conversations change how you think?","How do you usually react to being misunderstood?","What's a concept that became clearer through practice rather than theory?","How do you manage expectationsyour own or others'?","What's something that rewards patience more than talent?","How do you usually measure personal progress?","What kind of constraints help you be more creative?","How do you recognize when something aligns with you?","What's a trade-off you consciously accept?","How do you usually adapt to new dynamics?","What's something that became meaningful only in hindsight?","How do you decide which details matter?","What kind of effort feels underestimated by others?","How do you usually navigate long-term commitments?","What's something you've learned by changing your environment?","How do you approach conversations that have no clear conclusion?","What kind of mistakes taught you the most?","How do you usually recalibrate after burnout?","What's a subtle sign that something is working?","How do you balance ambition with contentment?","What's something that improved once you simplified it?","How do you usually evaluate advice from others?","What kind of independence matters most to you?","How do you recognize when you're avoiding something?","What's a question that helps you think more clearly?","How do you usually manage competing interests?","What's something you now approach more deliberately?","How do you decide when effort becomes diminishing returns?","What kind of clarity comes only with distance?","How do you usually respond to pressure without urgency?","What's something you learned by slowing down?","How do you define meaningful contribution?","What kind of structure helps you think better?","How do you navigate conversations with unspoken tension?","What's a mindset you've intentionally cultivated?","How do you decide what deserves consistency?","What's something you appreciate more after struggling with it?","How do you usually regain motivation after a lull?","What kind of goals evolve rather than end?","How do you recognize alignment between values and actions?","What's something you've learned by observing patterns?","How do you usually respond when plans dissolve?","What kind of simplicity feels earned rather than naive?","How do you balance openness with boundaries?","What's a perspective that changed after repeated exposure?","How do you usually ground yourself during transitions?","What's something that revealed itself only over time?","How do you decide when refinement matters more than speed?","What kind of conversations leave you thinking afterward?","How do you usually interpret calm versus stagnation?","What's something you've learned by teaching yourself?","How do you navigate periods of low momentum?","What kind of effort compounds quietly?","How do you decide what deserves revisiting?","What's a realization that arrived gradually rather than suddenly?","How do you usually manage internal contradictions?","What kind of work feels aligned even when difficult?","How do you distinguish progress from motion?","What's something you approach with more humility now?","How do you usually respond to subtle dissatisfaction?","What kind of questions open better discussions?","How do you recognize when something has run its course?","What's a skill that changed how you see other skills?","How do you usually negotiate trade-offs in daily life?","What kind of clarity comes from constraint?","How do you decide when something is 'good enough'?","What's something you understand better through repetition?","How do you usually assess long-term impact?","What kind of thinking benefits from solitude?","How do you navigate growth without urgency?","What's something you've learned by paying attention longer?","How do you usually define personal integrity?","What kind of habits support thinking rather than productivity?","How do you recognize when effort is misdirected?","What's something that gained meaning through consistency?","How do you usually approach unresolved questions?","What kind of balance feels dynamic rather than fixed?","How do you decide when refinement stops being useful?","What's something you've learned by observing your reactions?","How do you usually recalibrate expectations over time?","What kind of progress feels invisible day to day?","How do you navigate conversations with implicit assumptions?","What's something that required unlearning first?","How do you usually define a well-spent day?","What's something you've changed your mind about?","What's something you've learned the hard way?","What's a small change that made a big difference?","What's something you recently realized?","What's something you've grown to appreciate?","What's something you enjoy about getting older?","What's something you appreciate more as you get older?","What's something you value more now than before?"]},hp=o=>{const t=Dv[o],l=Math.floor(Math.random()*t.length);return t[l]},Uv=o=>({A:"Beginner",B:"Intermediate",C:"Advanced"})[o];var Lv={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let kv,Hv;function Gv(){return{geminiUrl:kv,vertexUrl:Hv}}function Vv(o,t,l,a){var r,f;if(!(o!=null&&o.baseUrl)){const h=Gv();return t?(r=h.vertexUrl)!==null&&r!==void 0?r:l:(f=h.geminiUrl)!==null&&f!==void 0?f:a}return o.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bn{}function Z(o,t){const l=/\{([^}]+)\}/g;return o.replace(l,(a,r)=>{if(Object.prototype.hasOwnProperty.call(t,r)){const f=t[r];return f!=null?String(f):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function c(o,t,l){for(let f=0;f<t.length-1;f++){const h=t[f];if(h.endsWith("[]")){const g=h.slice(0,-2);if(!(g in o))if(Array.isArray(l))o[g]=Array.from({length:l.length},()=>({}));else throw new Error(`Value must be a list given an array path ${h}`);if(Array.isArray(o[g])){const y=o[g];if(Array.isArray(l))for(let m=0;m<y.length;m++){const v=y[m];c(v,t.slice(f+1),l[m])}else for(const m of y)c(m,t.slice(f+1),l)}return}else if(h.endsWith("[0]")){const g=h.slice(0,-3);g in o||(o[g]=[{}]);const y=o[g];c(y[0],t.slice(f+1),l);return}(!o[h]||typeof o[h]!="object")&&(o[h]={}),o=o[h]}const a=t[t.length-1],r=o[a];if(r!==void 0){if(!l||typeof l=="object"&&Object.keys(l).length===0||l===r)return;if(typeof r=="object"&&typeof l=="object"&&r!==null&&l!==null)Object.assign(r,l);else throw new Error(`Cannot set value for an existing key. Key: ${a}`)}else a==="_self"&&typeof l=="object"&&l!==null&&!Array.isArray(l)?Object.assign(o,l):o[a]=l}function u(o,t,l=void 0){try{if(t.length===1&&t[0]==="_self")return o;for(let a=0;a<t.length;a++){if(typeof o!="object"||o===null)return l;const r=t[a];if(r.endsWith("[]")){const f=r.slice(0,-2);if(f in o){const h=o[f];return Array.isArray(h)?h.map(g=>u(g,t.slice(a+1),l)):l}else return l}else o=o[r]}return o}catch(a){if(a instanceof TypeError)return l;throw a}}function zv(o,t){for(const[l,a]of Object.entries(t)){const r=l.split("."),f=a.split("."),h=new Set;let g=-1;for(let y=0;y<r.length;y++)if(r[y]==="*"){g=y;break}if(g!==-1&&f.length>g)for(let y=g;y<f.length;y++){const m=f[y];m!=="*"&&!m.endsWith("[]")&&!m.endsWith("[0]")&&h.add(m)}Iu(o,r,f,0,h)}}function Iu(o,t,l,a,r){if(a>=t.length||typeof o!="object"||o===null)return;const f=t[a];if(f.endsWith("[]")){const h=f.slice(0,-2),g=o;if(h in g&&Array.isArray(g[h]))for(const y of g[h])Iu(y,t,l,a+1,r)}else if(f==="*"){if(typeof o=="object"&&o!==null&&!Array.isArray(o)){const h=o,g=Object.keys(h).filter(m=>!m.startsWith("_")&&!r.has(m)),y={};for(const m of g)y[m]=h[m];for(const[m,v]of Object.entries(y)){const E=[];for(const _ of l.slice(a))_==="*"?E.push(m):E.push(_);c(h,E,v)}for(const m of g)delete h[m]}}else{const h=o;f in h&&Iu(h[f],t,l,a+1,r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Yu(o){if(typeof o!="string")throw new Error("fromImageBytes must be a string");return o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qv(o){const t={},l=u(o,["operationName"]);l!=null&&c(t,["operationName"],l);const a=u(o,["resourceName"]);return a!=null&&c(t,["_url","resourceName"],a),t}function Bv(o){const t={},l=u(o,["name"]);l!=null&&c(t,["name"],l);const a=u(o,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(o,["done"]);r!=null&&c(t,["done"],r);const f=u(o,["error"]);f!=null&&c(t,["error"],f);const h=u(o,["response","generateVideoResponse"]);return h!=null&&c(t,["response"],Ov(h)),t}function Pv(o){const t={},l=u(o,["name"]);l!=null&&c(t,["name"],l);const a=u(o,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(o,["done"]);r!=null&&c(t,["done"],r);const f=u(o,["error"]);f!=null&&c(t,["error"],f);const h=u(o,["response"]);return h!=null&&c(t,["response"],Fv(h)),t}function Ov(o){const t={},l=u(o,["generatedSamples"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(h=>Jv(h))),c(t,["generatedVideos"],f)}const a=u(o,["raiMediaFilteredCount"]);a!=null&&c(t,["raiMediaFilteredCount"],a);const r=u(o,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function Fv(o){const t={},l=u(o,["videos"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(h=>Yv(h))),c(t,["generatedVideos"],f)}const a=u(o,["raiMediaFilteredCount"]);a!=null&&c(t,["raiMediaFilteredCount"],a);const r=u(o,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function Jv(o){const t={},l=u(o,["video"]);return l!=null&&c(t,["video"],Zv(l)),t}function Yv(o){const t={},l=u(o,["_self"]);return l!=null&&c(t,["video"],jv(l)),t}function Wv(o){const t={},l=u(o,["operationName"]);return l!=null&&c(t,["_url","operationName"],l),t}function Kv(o){const t={},l=u(o,["operationName"]);return l!=null&&c(t,["_url","operationName"],l),t}function Xv(o){const t={},l=u(o,["name"]);l!=null&&c(t,["name"],l);const a=u(o,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(o,["done"]);r!=null&&c(t,["done"],r);const f=u(o,["error"]);f!=null&&c(t,["error"],f);const h=u(o,["response"]);return h!=null&&c(t,["response"],Qv(h)),t}function Qv(o){const t={},l=u(o,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(o,["parent"]);a!=null&&c(t,["parent"],a);const r=u(o,["documentName"]);return r!=null&&c(t,["documentName"],r),t}function ng(o){const t={},l=u(o,["name"]);l!=null&&c(t,["name"],l);const a=u(o,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(o,["done"]);r!=null&&c(t,["done"],r);const f=u(o,["error"]);f!=null&&c(t,["error"],f);const h=u(o,["response"]);return h!=null&&c(t,["response"],$v(h)),t}function $v(o){const t={},l=u(o,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(o,["parent"]);a!=null&&c(t,["parent"],a);const r=u(o,["documentName"]);return r!=null&&c(t,["documentName"],r),t}function Zv(o){const t={},l=u(o,["uri"]);l!=null&&c(t,["uri"],l);const a=u(o,["encodedVideo"]);a!=null&&c(t,["videoBytes"],Yu(a));const r=u(o,["encoding"]);return r!=null&&c(t,["mimeType"],r),t}function jv(o){const t={},l=u(o,["gcsUri"]);l!=null&&c(t,["uri"],l);const a=u(o,["bytesBase64Encoded"]);a!=null&&c(t,["videoBytes"],Yu(a));const r=u(o,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var pp;(function(o){o.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",o.OUTCOME_OK="OUTCOME_OK",o.OUTCOME_FAILED="OUTCOME_FAILED",o.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(pp||(pp={}));var mp;(function(o){o.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",o.PYTHON="PYTHON"})(mp||(mp={}));var gp;(function(o){o.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",o.SILENT="SILENT",o.WHEN_IDLE="WHEN_IDLE",o.INTERRUPT="INTERRUPT"})(gp||(gp={}));var fe;(function(o){o.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",o.STRING="STRING",o.NUMBER="NUMBER",o.INTEGER="INTEGER",o.BOOLEAN="BOOLEAN",o.ARRAY="ARRAY",o.OBJECT="OBJECT",o.NULL="NULL"})(fe||(fe={}));var yp;(function(o){o.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",o.SIMPLE_SEARCH="SIMPLE_SEARCH",o.ELASTIC_SEARCH="ELASTIC_SEARCH"})(yp||(yp={}));var vp;(function(o){o.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",o.NO_AUTH="NO_AUTH",o.API_KEY_AUTH="API_KEY_AUTH",o.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",o.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",o.OAUTH="OAUTH",o.OIDC_AUTH="OIDC_AUTH"})(vp||(vp={}));var Sp;(function(o){o.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",o.HTTP_IN_QUERY="HTTP_IN_QUERY",o.HTTP_IN_HEADER="HTTP_IN_HEADER",o.HTTP_IN_PATH="HTTP_IN_PATH",o.HTTP_IN_BODY="HTTP_IN_BODY",o.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(Sp||(Sp={}));var Ep;(function(o){o.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",o.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",o.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",o.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",o.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",o.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",o.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Ep||(Ep={}));var Tp;(function(o){o.UNSPECIFIED="UNSPECIFIED",o.BLOCKING="BLOCKING",o.NON_BLOCKING="NON_BLOCKING"})(Tp||(Tp={}));var _p;(function(o){o.MODE_UNSPECIFIED="MODE_UNSPECIFIED",o.MODE_DYNAMIC="MODE_DYNAMIC"})(_p||(_p={}));var xp;(function(o){o.MODE_UNSPECIFIED="MODE_UNSPECIFIED",o.AUTO="AUTO",o.ANY="ANY",o.NONE="NONE",o.VALIDATED="VALIDATED"})(xp||(xp={}));var Cp;(function(o){o.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",o.LOW="LOW",o.MEDIUM="MEDIUM",o.HIGH="HIGH",o.MINIMAL="MINIMAL"})(Cp||(Cp={}));var Ap;(function(o){o.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",o.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",o.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",o.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",o.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",o.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",o.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",o.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",o.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",o.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",o.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Ap||(Ap={}));var bp;(function(o){o.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",o.SEVERITY="SEVERITY",o.PROBABILITY="PROBABILITY"})(bp||(bp={}));var Np;(function(o){o.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",o.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",o.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",o.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",o.BLOCK_NONE="BLOCK_NONE",o.OFF="OFF"})(Np||(Np={}));var wp;(function(o){o.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",o.STOP="STOP",o.MAX_TOKENS="MAX_TOKENS",o.SAFETY="SAFETY",o.RECITATION="RECITATION",o.LANGUAGE="LANGUAGE",o.OTHER="OTHER",o.BLOCKLIST="BLOCKLIST",o.PROHIBITED_CONTENT="PROHIBITED_CONTENT",o.SPII="SPII",o.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",o.IMAGE_SAFETY="IMAGE_SAFETY",o.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",o.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",o.NO_IMAGE="NO_IMAGE",o.IMAGE_RECITATION="IMAGE_RECITATION",o.IMAGE_OTHER="IMAGE_OTHER"})(wp||(wp={}));var Rp;(function(o){o.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",o.NEGLIGIBLE="NEGLIGIBLE",o.LOW="LOW",o.MEDIUM="MEDIUM",o.HIGH="HIGH"})(Rp||(Rp={}));var Mp;(function(o){o.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",o.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",o.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",o.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",o.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Mp||(Mp={}));var Ip;(function(o){o.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",o.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",o.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",o.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",o.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Ip||(Ip={}));var Dp;(function(o){o.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",o.SAFETY="SAFETY",o.OTHER="OTHER",o.BLOCKLIST="BLOCKLIST",o.PROHIBITED_CONTENT="PROHIBITED_CONTENT",o.IMAGE_SAFETY="IMAGE_SAFETY",o.MODEL_ARMOR="MODEL_ARMOR",o.JAILBREAK="JAILBREAK"})(Dp||(Dp={}));var Up;(function(o){o.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",o.ON_DEMAND="ON_DEMAND",o.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Up||(Up={}));var Oa;(function(o){o.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",o.TEXT="TEXT",o.IMAGE="IMAGE",o.AUDIO="AUDIO"})(Oa||(Oa={}));var Lp;(function(o){o.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",o.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",o.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",o.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Lp||(Lp={}));var kp;(function(o){o.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",o.TUNING_MODE_FULL="TUNING_MODE_FULL",o.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(kp||(kp={}));var Hp;(function(o){o.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",o.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",o.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",o.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",o.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",o.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",o.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Hp||(Hp={}));var Du;(function(o){o.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",o.JOB_STATE_QUEUED="JOB_STATE_QUEUED",o.JOB_STATE_PENDING="JOB_STATE_PENDING",o.JOB_STATE_RUNNING="JOB_STATE_RUNNING",o.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",o.JOB_STATE_FAILED="JOB_STATE_FAILED",o.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",o.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",o.JOB_STATE_PAUSED="JOB_STATE_PAUSED",o.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",o.JOB_STATE_UPDATING="JOB_STATE_UPDATING",o.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Du||(Du={}));var Gp;(function(o){o.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",o.TUNING_TASK_I2V="TUNING_TASK_I2V",o.TUNING_TASK_T2V="TUNING_TASK_T2V",o.TUNING_TASK_R2V="TUNING_TASK_R2V"})(Gp||(Gp={}));var Vp;(function(o){o.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",o.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",o.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",o.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",o.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(Vp||(Vp={}));var zp;(function(o){o.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",o.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",o.BALANCED="BALANCED",o.PRIORITIZE_COST="PRIORITIZE_COST"})(zp||(zp={}));var qp;(function(o){o.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",o.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(qp||(qp={}));var Bp;(function(o){o.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",o.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",o.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",o.BLOCK_NONE="BLOCK_NONE"})(Bp||(Bp={}));var Pp;(function(o){o.DONT_ALLOW="DONT_ALLOW",o.ALLOW_ADULT="ALLOW_ADULT",o.ALLOW_ALL="ALLOW_ALL"})(Pp||(Pp={}));var Op;(function(o){o.auto="auto",o.en="en",o.ja="ja",o.ko="ko",o.hi="hi",o.zh="zh",o.pt="pt",o.es="es"})(Op||(Op={}));var Fp;(function(o){o.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",o.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",o.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",o.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",o.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Fp||(Fp={}));var Jp;(function(o){o.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",o.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",o.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",o.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Jp||(Jp={}));var Yp;(function(o){o.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",o.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",o.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",o.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Yp||(Yp={}));var Wp;(function(o){o.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",o.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",o.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",o.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",o.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",o.EDIT_MODE_STYLE="EDIT_MODE_STYLE",o.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",o.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Wp||(Wp={}));var Kp;(function(o){o.FOREGROUND="FOREGROUND",o.BACKGROUND="BACKGROUND",o.PROMPT="PROMPT",o.SEMANTIC="SEMANTIC",o.INTERACTIVE="INTERACTIVE"})(Kp||(Kp={}));var Xp;(function(o){o.ASSET="ASSET",o.STYLE="STYLE"})(Xp||(Xp={}));var Qp;(function(o){o.INSERT="INSERT",o.REMOVE="REMOVE",o.REMOVE_STATIC="REMOVE_STATIC",o.OUTPAINT="OUTPAINT"})(Qp||(Qp={}));var $p;(function(o){o.OPTIMIZED="OPTIMIZED",o.LOSSLESS="LOSSLESS"})($p||($p={}));var Zp;(function(o){o.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",o.PREFERENCE_TUNING="PREFERENCE_TUNING"})(Zp||(Zp={}));var jp;(function(o){o.STATE_UNSPECIFIED="STATE_UNSPECIFIED",o.STATE_PENDING="STATE_PENDING",o.STATE_ACTIVE="STATE_ACTIVE",o.STATE_FAILED="STATE_FAILED"})(jp||(jp={}));var em;(function(o){o.STATE_UNSPECIFIED="STATE_UNSPECIFIED",o.PROCESSING="PROCESSING",o.ACTIVE="ACTIVE",o.FAILED="FAILED"})(em||(em={}));var tm;(function(o){o.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",o.UPLOADED="UPLOADED",o.GENERATED="GENERATED",o.REGISTERED="REGISTERED"})(tm||(tm={}));var nm;(function(o){o.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",o.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",o.RESPONSE_REJECTED="RESPONSE_REJECTED",o.NEED_MORE_INPUT="NEED_MORE_INPUT"})(nm||(nm={}));var om;(function(o){o.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",o.TEXT="TEXT",o.IMAGE="IMAGE",o.VIDEO="VIDEO",o.AUDIO="AUDIO",o.DOCUMENT="DOCUMENT"})(om||(om={}));var im;(function(o){o.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",o.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",o.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(im||(im={}));var lm;(function(o){o.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",o.ACTIVITY_START="ACTIVITY_START",o.ACTIVITY_END="ACTIVITY_END"})(lm||(lm={}));var am;(function(o){o.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",o.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",o.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(am||(am={}));var sm;(function(o){o.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",o.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",o.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(sm||(sm={}));var rm;(function(o){o.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",o.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",o.NO_INTERRUPTION="NO_INTERRUPTION"})(rm||(rm={}));var um;(function(o){o.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",o.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",o.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(um||(um={}));var cm;(function(o){o.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",o.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",o.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",o.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",o.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",o.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",o.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",o.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",o.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",o.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",o.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",o.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",o.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(cm||(cm={}));var fm;(function(o){o.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",o.QUALITY="QUALITY",o.DIVERSITY="DIVERSITY",o.VOCALIZATION="VOCALIZATION"})(fm||(fm={}));var ci;(function(o){o.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",o.PLAY="PLAY",o.PAUSE="PAUSE",o.STOP="STOP",o.RESET_CONTEXT="RESET_CONTEXT"})(ci||(ci={}));class Uu{constructor(t){const l={};for(const a of t.headers.entries())l[a[0]]=a[1];this.headers=l,this.responseInternal=t}json(){return this.responseInternal.json()}}class ml{get text(){var t,l,a,r,f,h,g,y;if(((r=(a=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let m="",v=!1;const E=[];for(const _ of(y=(g=(h=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||h===void 0?void 0:h.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[C,D]of Object.entries(_))C!=="text"&&C!=="thought"&&C!=="thoughtSignature"&&(D!==null||D!==void 0)&&E.push(C);if(typeof _.text=="string"){if(typeof _.thought=="boolean"&&_.thought)continue;v=!0,m+=_.text}}return E.length>0&&console.warn(`there are non-text parts ${E} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?m:void 0}get data(){var t,l,a,r,f,h,g,y;if(((r=(a=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let m="";const v=[];for(const E of(y=(g=(h=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||h===void 0?void 0:h.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[_,C]of Object.entries(E))_!=="inlineData"&&(C!==null||C!==void 0)&&v.push(_);E.inlineData&&typeof E.inlineData.data=="string"&&(m+=atob(E.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),m.length>0?btoa(m):void 0}get functionCalls(){var t,l,a,r,f,h,g,y;if(((r=(a=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const m=(y=(g=(h=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||h===void 0?void 0:h.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if((m==null?void 0:m.length)!==0)return m}get executableCode(){var t,l,a,r,f,h,g,y,m;if(((r=(a=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(y=(g=(h=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||h===void 0?void 0:h.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(E=>E.executableCode).map(E=>E.executableCode).filter(E=>E!==void 0);if((v==null?void 0:v.length)!==0)return(m=v==null?void 0:v[0])===null||m===void 0?void 0:m.code}get codeExecutionResult(){var t,l,a,r,f,h,g,y,m;if(((r=(a=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(y=(g=(h=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||h===void 0?void 0:h.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(E=>E.codeExecutionResult).map(E=>E.codeExecutionResult).filter(E=>E!==void 0);if((v==null?void 0:v.length)!==0)return(m=v==null?void 0:v[0])===null||m===void 0?void 0:m.output}}class dm{}class hm{}class eS{}class tS{}class nS{}class oS{}class pm{}class mm{}class gm{}class iS{}class Fa{_fromAPIResponse({apiResponse:t,_isVertexAI:l}){const a=new Fa;let r;const f=t;return l?r=Pv(f):r=Bv(f),Object.assign(a,r),a}}class ym{}class vm{}class Sm{}class Em{}class lS{}class aS{}class sS{}class Wu{_fromAPIResponse({apiResponse:t,_isVertexAI:l}){const a=new Wu,f=Xv(t);return Object.assign(a,f),a}}class rS{}class uS{}class cS{}class Tm{}class fS{get text(){var t,l,a;let r="",f=!1;const h=[];for(const g of(a=(l=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||l===void 0?void 0:l.parts)!==null&&a!==void 0?a:[]){for(const[y,m]of Object.entries(g))y!=="text"&&y!=="thought"&&m!==null&&h.push(y);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;f=!0,r+=g.text}}return h.length>0&&console.warn(`there are non-text parts ${h} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),f?r:void 0}get data(){var t,l,a;let r="";const f=[];for(const h of(a=(l=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||l===void 0?void 0:l.parts)!==null&&a!==void 0?a:[]){for(const[g,y]of Object.entries(h))g!=="inlineData"&&y!==null&&f.push(g);h.inlineData&&typeof h.inlineData.data=="string"&&(r+=atob(h.inlineData.data))}return f.length>0&&console.warn(`there are non-data parts ${f} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class dS{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Ku{_fromAPIResponse({apiResponse:t,_isVertexAI:l}){const a=new Ku,f=ng(t);return Object.assign(a,f),a}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Le(o,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(o.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const l=t.split("/",2);return`publishers/${l[0]}/models/${l[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function og(o,t){const l=Le(o,t);return l?l.startsWith("publishers/")&&o.isVertexAI()?`projects/${o.getProject()}/locations/${o.getLocation()}/${l}`:l.startsWith("models/")&&o.isVertexAI()?`projects/${o.getProject()}/locations/${o.getLocation()}/publishers/google/${l}`:l:""}function ig(o){return Array.isArray(o)?o.map(t=>Ja(t)):[Ja(o)]}function Ja(o){if(typeof o=="object"&&o!==null)return o;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof o}`)}function lg(o){const t=Ja(o);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function ag(o){const t=Ja(o);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function _m(o){if(o==null)throw new Error("PartUnion is required");if(typeof o=="object")return o;if(typeof o=="string")return{text:o};throw new Error(`Unsupported part type: ${typeof o}`)}function sg(o){if(o==null||Array.isArray(o)&&o.length===0)throw new Error("PartListUnion is required");return Array.isArray(o)?o.map(t=>_m(t)):[_m(o)]}function Lu(o){return o!=null&&typeof o=="object"&&"parts"in o&&Array.isArray(o.parts)}function xm(o){return o!=null&&typeof o=="object"&&"functionCall"in o}function Cm(o){return o!=null&&typeof o=="object"&&"functionResponse"in o}function pt(o){if(o==null)throw new Error("ContentUnion is required");return Lu(o)?o:{role:"user",parts:sg(o)}}function Xu(o,t){if(!t)return[];if(o.isVertexAI()&&Array.isArray(t))return t.flatMap(l=>{const a=pt(l);return a.parts&&a.parts.length>0&&a.parts[0].text!==void 0?[a.parts[0].text]:[]});if(o.isVertexAI()){const l=pt(t);return l.parts&&l.parts.length>0&&l.parts[0].text!==void 0?[l.parts[0].text]:[]}return Array.isArray(t)?t.map(l=>pt(l)):[pt(t)]}function Wt(o){if(o==null||Array.isArray(o)&&o.length===0)throw new Error("contents are required");if(!Array.isArray(o)){if(xm(o)||Cm(o))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[pt(o)]}const t=[],l=[],a=Lu(o[0]);for(const r of o){const f=Lu(r);if(f!=a)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(f)t.push(r);else{if(xm(r)||Cm(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");l.push(r)}}return a||t.push({role:"user",parts:sg(l)}),t}function hS(o,t){o.includes("null")&&(t.nullable=!0);const l=o.filter(a=>a!=="null");if(l.length===1)t.type=Object.values(fe).includes(l[0].toUpperCase())?l[0].toUpperCase():fe.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const a of l)t.anyOf.push({type:Object.values(fe).includes(a.toUpperCase())?a.toUpperCase():fe.TYPE_UNSPECIFIED})}}function di(o){const t={},l=["items"],a=["anyOf"],r=["properties"];if(o.type&&o.anyOf)throw new Error("type and anyOf cannot be both populated.");const f=o.anyOf;f!=null&&f.length==2&&(f[0].type==="null"?(t.nullable=!0,o=f[1]):f[1].type==="null"&&(t.nullable=!0,o=f[0])),o.type instanceof Array&&hS(o.type,t);for(const[h,g]of Object.entries(o))if(g!=null)if(h=="type"){if(g==="null")throw new Error("type: null can not be the only possible type for the field.");if(g instanceof Array)continue;t.type=Object.values(fe).includes(g.toUpperCase())?g.toUpperCase():fe.TYPE_UNSPECIFIED}else if(l.includes(h))t[h]=di(g);else if(a.includes(h)){const y=[];for(const m of g){if(m.type=="null"){t.nullable=!0;continue}y.push(di(m))}t[h]=y}else if(r.includes(h)){const y={};for(const[m,v]of Object.entries(g))y[m]=di(v);t[h]=y}else{if(h==="additionalProperties")continue;t[h]=g}return t}function Qu(o){return di(o)}function $u(o){if(typeof o=="object")return o;if(typeof o=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:o}}};throw new Error(`Unsupported speechConfig type: ${typeof o}`)}function Zu(o){if("multiSpeakerVoiceConfig"in o)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return o}function pi(o){if(o.functionDeclarations)for(const t of o.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=di(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=di(t.response));return o}function mi(o){if(o==null)throw new Error("tools is required");if(!Array.isArray(o))throw new Error("tools is required and must be an array of Tools");const t=[];for(const l of o)t.push(l);return t}function pS(o,t,l,a=1){const r=!t.startsWith(`${l}/`)&&t.split("/").length===a;return o.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${o.getProject()}/${t}`:t.startsWith(`${l}/`)?`projects/${o.getProject()}/locations/${o.getLocation()}/${t}`:r?`projects/${o.getProject()}/locations/${o.getLocation()}/${l}/${t}`:t:r?`${l}/${t}`:t}function Nn(o,t){if(typeof t!="string")throw new Error("name must be a string");return pS(o,t,"cachedContents")}function rg(o){switch(o){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return o}}function to(o){return Yu(o)}function mS(o){return o!=null&&typeof o=="object"&&"name"in o}function gS(o){return o!=null&&typeof o=="object"&&"video"in o}function yS(o){return o!=null&&typeof o=="object"&&"uri"in o}function ug(o){var t;let l;if(mS(o)&&(l=o.name),!(yS(o)&&(l=o.uri,l===void 0))&&!(gS(o)&&(l=(t=o.video)===null||t===void 0?void 0:t.uri,l===void 0))){if(typeof o=="string"&&(l=o),l===void 0)throw new Error("Could not extract file name from the provided input.");if(l.startsWith("https://")){const r=l.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${l}`);l=r[0]}else l.startsWith("files/")&&(l=l.split("files/")[1]);return l}}function cg(o,t){let l;return o.isVertexAI()?l=t?"publishers/google/models":"models":l=t?"models":"tunedModels",l}function fg(o){for(const t of["models","tunedModels","publisherModels"])if(vS(o,t))return o[t];return[]}function vS(o,t){return o!==null&&typeof o=="object"&&t in o}function SS(o,t={}){const l=o,a={name:l.name,description:l.description,parametersJsonSchema:l.inputSchema};return l.outputSchema&&(a.responseJsonSchema=l.outputSchema),t.behavior&&(a.behavior=t.behavior),{functionDeclarations:[a]}}function ES(o,t={}){const l=[],a=new Set;for(const r of o){const f=r.name;if(a.has(f))throw new Error(`Duplicate function name ${f} found in MCP tools. Please ensure function names are unique.`);a.add(f);const h=SS(r,t);h.functionDeclarations&&l.push(...h.functionDeclarations)}return{functionDeclarations:l}}function dg(o,t){let l;if(typeof t=="string")if(o.isVertexAI())if(t.startsWith("gs://"))l={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))l={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))l={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(o.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");l={inlinedRequests:t}}else l=t;const a=[l.gcsUri,l.bigqueryUri].filter(Boolean).length,r=[l.inlinedRequests,l.fileName].filter(Boolean).length;if(o.isVertexAI()){if(r>0||a!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(a>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return l}function TS(o){if(typeof o!="string")return o;const t=o;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function hg(o){if(typeof o!="object"||o===null)return{};const t=o,l=t.inlinedResponses;if(typeof l!="object"||l===null)return o;const r=l.inlinedResponses;if(!Array.isArray(r)||r.length===0)return o;let f=!1;for(const h of r){if(typeof h!="object"||h===null)continue;const y=h.response;if(typeof y!="object"||y===null)continue;if(y.embedding!==void 0){f=!0;break}}return f&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),o}function gi(o,t){const l=t;if(!o.isVertexAI()){if(/batches\/[^/]+$/.test(l))return l.split("/").pop();throw new Error(`Invalid batch job name: ${l}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(l))return l.split("/").pop();if(/^\d+$/.test(l))return l;throw new Error(`Invalid batch job name: ${l}.`)}function pg(o){const t=o;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _S(o){const t={},l=u(o,["responsesFile"]);l!=null&&c(t,["fileName"],l);const a=u(o,["inlinedResponses","inlinedResponses"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(h=>nE(h))),c(t,["inlinedResponses"],f)}const r=u(o,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(h=>h)),c(t,["inlinedEmbedContentResponses"],f)}return t}function xS(o){const t={},l=u(o,["predictionsFormat"]);l!=null&&c(t,["format"],l);const a=u(o,["gcsDestination","outputUriPrefix"]);a!=null&&c(t,["gcsUri"],a);const r=u(o,["bigqueryDestination","outputUri"]);return r!=null&&c(t,["bigqueryUri"],r),t}function CS(o){const t={},l=u(o,["format"]);l!=null&&c(t,["predictionsFormat"],l);const a=u(o,["gcsUri"]);a!=null&&c(t,["gcsDestination","outputUriPrefix"],a);const r=u(o,["bigqueryUri"]);if(r!=null&&c(t,["bigqueryDestination","outputUri"],r),u(o,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(o,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(u(o,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function Ba(o){const t={},l=u(o,["name"]);l!=null&&c(t,["name"],l);const a=u(o,["metadata","displayName"]);a!=null&&c(t,["displayName"],a);const r=u(o,["metadata","state"]);r!=null&&c(t,["state"],pg(r));const f=u(o,["metadata","createTime"]);f!=null&&c(t,["createTime"],f);const h=u(o,["metadata","endTime"]);h!=null&&c(t,["endTime"],h);const g=u(o,["metadata","updateTime"]);g!=null&&c(t,["updateTime"],g);const y=u(o,["metadata","model"]);y!=null&&c(t,["model"],y);const m=u(o,["metadata","output"]);return m!=null&&c(t,["dest"],_S(hg(m))),t}function ku(o){const t={},l=u(o,["name"]);l!=null&&c(t,["name"],l);const a=u(o,["displayName"]);a!=null&&c(t,["displayName"],a);const r=u(o,["state"]);r!=null&&c(t,["state"],pg(r));const f=u(o,["error"]);f!=null&&c(t,["error"],f);const h=u(o,["createTime"]);h!=null&&c(t,["createTime"],h);const g=u(o,["startTime"]);g!=null&&c(t,["startTime"],g);const y=u(o,["endTime"]);y!=null&&c(t,["endTime"],y);const m=u(o,["updateTime"]);m!=null&&c(t,["updateTime"],m);const v=u(o,["model"]);v!=null&&c(t,["model"],v);const E=u(o,["inputConfig"]);E!=null&&c(t,["src"],AS(E));const _=u(o,["outputConfig"]);_!=null&&c(t,["dest"],xS(hg(_)));const C=u(o,["completionStats"]);return C!=null&&c(t,["completionStats"],C),t}function AS(o){const t={},l=u(o,["instancesFormat"]);l!=null&&c(t,["format"],l);const a=u(o,["gcsSource","uris"]);a!=null&&c(t,["gcsUri"],a);const r=u(o,["bigquerySource","inputUri"]);return r!=null&&c(t,["bigqueryUri"],r),t}function bS(o,t){const l={};if(u(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(u(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const a=u(t,["fileName"]);a!=null&&c(l,["fileName"],a);const r=u(t,["inlinedRequests"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(h=>tE(o,h))),c(l,["requests","requests"],f)}return l}function NS(o){const t={},l=u(o,["format"]);l!=null&&c(t,["instancesFormat"],l);const a=u(o,["gcsUri"]);a!=null&&c(t,["gcsSource","uris"],a);const r=u(o,["bigqueryUri"]);if(r!=null&&c(t,["bigquerySource","inputUri"],r),u(o,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(o,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function wS(o){const t={},l=u(o,["data"]);if(l!=null&&c(t,["data"],l),u(o,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(o,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function RS(o,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],gi(o,a)),l}function MS(o,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],gi(o,a)),l}function IS(o){const t={},l=u(o,["content"]);l!=null&&c(t,["content"],l);const a=u(o,["citationMetadata"]);a!=null&&c(t,["citationMetadata"],DS(a));const r=u(o,["tokenCount"]);r!=null&&c(t,["tokenCount"],r);const f=u(o,["finishReason"]);f!=null&&c(t,["finishReason"],f);const h=u(o,["avgLogprobs"]);h!=null&&c(t,["avgLogprobs"],h);const g=u(o,["groundingMetadata"]);g!=null&&c(t,["groundingMetadata"],g);const y=u(o,["index"]);y!=null&&c(t,["index"],y);const m=u(o,["logprobsResult"]);m!=null&&c(t,["logprobsResult"],m);const v=u(o,["safetyRatings"]);if(v!=null){let _=v;Array.isArray(_)&&(_=_.map(C=>C)),c(t,["safetyRatings"],_)}const E=u(o,["urlContextMetadata"]);return E!=null&&c(t,["urlContextMetadata"],E),t}function DS(o){const t={},l=u(o,["citationSources"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(r=>r)),c(t,["citations"],a)}return t}function mg(o){const t={},l=u(o,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(f=>uE(f))),c(t,["parts"],r)}const a=u(o,["role"]);return a!=null&&c(t,["role"],a),t}function US(o,t){const l={},a=u(o,["displayName"]);if(t!==void 0&&a!=null&&c(t,["batch","displayName"],a),u(o,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return l}function LS(o,t){const l={},a=u(o,["displayName"]);t!==void 0&&a!=null&&c(t,["displayName"],a);const r=u(o,["dest"]);return t!==void 0&&r!=null&&c(t,["outputConfig"],CS(TS(r))),l}function Am(o,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Le(o,a));const r=u(t,["src"]);r!=null&&c(l,["batch","inputConfig"],bS(o,dg(o,r)));const f=u(t,["config"]);return f!=null&&US(f,l),l}function kS(o,t){const l={},a=u(t,["model"]);a!=null&&c(l,["model"],Le(o,a));const r=u(t,["src"]);r!=null&&c(l,["inputConfig"],NS(dg(o,r)));const f=u(t,["config"]);return f!=null&&LS(f,l),l}function HS(o,t){const l={},a=u(o,["displayName"]);return t!==void 0&&a!=null&&c(t,["batch","displayName"],a),l}function GS(o,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Le(o,a));const r=u(t,["src"]);r!=null&&c(l,["batch","inputConfig"],FS(o,r));const f=u(t,["config"]);return f!=null&&HS(f,l),l}function VS(o,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],gi(o,a)),l}function zS(o,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],gi(o,a)),l}function qS(o){const t={},l=u(o,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(o,["name"]);a!=null&&c(t,["name"],a);const r=u(o,["done"]);r!=null&&c(t,["done"],r);const f=u(o,["error"]);return f!=null&&c(t,["error"],f),t}function BS(o){const t={},l=u(o,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(o,["name"]);a!=null&&c(t,["name"],a);const r=u(o,["done"]);r!=null&&c(t,["done"],r);const f=u(o,["error"]);return f!=null&&c(t,["error"],f),t}function PS(o,t){const l={},a=u(t,["contents"]);if(a!=null){let f=Xu(o,a);Array.isArray(f)&&(f=f.map(h=>h)),c(l,["requests[]","request","content"],f)}const r=u(t,["config"]);return r!=null&&(c(l,["_self"],OS(r,l)),zv(l,{"requests[].*":"requests[].request.*"})),l}function OS(o,t){const l={},a=u(o,["taskType"]);t!==void 0&&a!=null&&c(t,["requests[]","taskType"],a);const r=u(o,["title"]);t!==void 0&&r!=null&&c(t,["requests[]","title"],r);const f=u(o,["outputDimensionality"]);if(t!==void 0&&f!=null&&c(t,["requests[]","outputDimensionality"],f),u(o,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(o,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return l}function FS(o,t){const l={},a=u(t,["fileName"]);a!=null&&c(l,["file_name"],a);const r=u(t,["inlinedRequests"]);return r!=null&&c(l,["requests"],PS(o,r)),l}function JS(o){const t={};if(u(o,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(o,["fileUri"]);l!=null&&c(t,["fileUri"],l);const a=u(o,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function YS(o){const t={},l=u(o,["id"]);l!=null&&c(t,["id"],l);const a=u(o,["args"]);a!=null&&c(t,["args"],a);const r=u(o,["name"]);if(r!=null&&c(t,["name"],r),u(o,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(o,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function WS(o){const t={},l=u(o,["allowedFunctionNames"]);l!=null&&c(t,["allowedFunctionNames"],l);const a=u(o,["mode"]);if(a!=null&&c(t,["mode"],a),u(o,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function KS(o,t,l){const a={},r=u(t,["systemInstruction"]);l!==void 0&&r!=null&&c(l,["systemInstruction"],mg(pt(r)));const f=u(t,["temperature"]);f!=null&&c(a,["temperature"],f);const h=u(t,["topP"]);h!=null&&c(a,["topP"],h);const g=u(t,["topK"]);g!=null&&c(a,["topK"],g);const y=u(t,["candidateCount"]);y!=null&&c(a,["candidateCount"],y);const m=u(t,["maxOutputTokens"]);m!=null&&c(a,["maxOutputTokens"],m);const v=u(t,["stopSequences"]);v!=null&&c(a,["stopSequences"],v);const E=u(t,["responseLogprobs"]);E!=null&&c(a,["responseLogprobs"],E);const _=u(t,["logprobs"]);_!=null&&c(a,["logprobs"],_);const C=u(t,["presencePenalty"]);C!=null&&c(a,["presencePenalty"],C);const D=u(t,["frequencyPenalty"]);D!=null&&c(a,["frequencyPenalty"],D);const H=u(t,["seed"]);H!=null&&c(a,["seed"],H);const U=u(t,["responseMimeType"]);U!=null&&c(a,["responseMimeType"],U);const P=u(t,["responseSchema"]);P!=null&&c(a,["responseSchema"],Qu(P));const K=u(t,["responseJsonSchema"]);if(K!=null&&c(a,["responseJsonSchema"],K),u(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const O=u(t,["safetySettings"]);if(l!==void 0&&O!=null){let Ee=O;Array.isArray(Ee)&&(Ee=Ee.map(ke=>cE(ke))),c(l,["safetySettings"],Ee)}const $=u(t,["tools"]);if(l!==void 0&&$!=null){let Ee=mi($);Array.isArray(Ee)&&(Ee=Ee.map(ke=>dE(pi(ke)))),c(l,["tools"],Ee)}const Y=u(t,["toolConfig"]);if(l!==void 0&&Y!=null&&c(l,["toolConfig"],fE(Y)),u(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const te=u(t,["cachedContent"]);l!==void 0&&te!=null&&c(l,["cachedContent"],Nn(o,te));const W=u(t,["responseModalities"]);W!=null&&c(a,["responseModalities"],W);const Se=u(t,["mediaResolution"]);Se!=null&&c(a,["mediaResolution"],Se);const j=u(t,["speechConfig"]);if(j!=null&&c(a,["speechConfig"],$u(j)),u(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const pe=u(t,["thinkingConfig"]);pe!=null&&c(a,["thinkingConfig"],pe);const be=u(t,["imageConfig"]);be!=null&&c(a,["imageConfig"],eE(be));const Me=u(t,["enableEnhancedCivicAnswers"]);return Me!=null&&c(a,["enableEnhancedCivicAnswers"],Me),a}function XS(o){const t={},l=u(o,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(o,["candidates"]);if(a!=null){let y=a;Array.isArray(y)&&(y=y.map(m=>IS(m))),c(t,["candidates"],y)}const r=u(o,["modelVersion"]);r!=null&&c(t,["modelVersion"],r);const f=u(o,["promptFeedback"]);f!=null&&c(t,["promptFeedback"],f);const h=u(o,["responseId"]);h!=null&&c(t,["responseId"],h);const g=u(o,["usageMetadata"]);return g!=null&&c(t,["usageMetadata"],g),t}function QS(o,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],gi(o,a)),l}function $S(o,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],gi(o,a)),l}function ZS(o){const t={};if(u(o,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(o,["enableWidget"]);return l!=null&&c(t,["enableWidget"],l),t}function jS(o){const t={};if(u(o,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(o,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(o,["timeRangeFilter"]);return l!=null&&c(t,["timeRangeFilter"],l),t}function eE(o){const t={},l=u(o,["aspectRatio"]);l!=null&&c(t,["aspectRatio"],l);const a=u(o,["imageSize"]);if(a!=null&&c(t,["imageSize"],a),u(o,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(u(o,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(o,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function tE(o,t){const l={},a=u(t,["model"]);a!=null&&c(l,["request","model"],Le(o,a));const r=u(t,["contents"]);if(r!=null){let g=Wt(r);Array.isArray(g)&&(g=g.map(y=>mg(y))),c(l,["request","contents"],g)}const f=u(t,["metadata"]);f!=null&&c(l,["metadata"],f);const h=u(t,["config"]);return h!=null&&c(l,["request","generationConfig"],KS(o,h,u(l,["request"],{}))),l}function nE(o){const t={},l=u(o,["response"]);l!=null&&c(t,["response"],XS(l));const a=u(o,["error"]);return a!=null&&c(t,["error"],a),t}function oE(o,t){const l={},a=u(o,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(o,["pageToken"]);if(t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),u(o,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return l}function iE(o,t){const l={},a=u(o,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(o,["pageToken"]);t!==void 0&&r!=null&&c(t,["_query","pageToken"],r);const f=u(o,["filter"]);return t!==void 0&&f!=null&&c(t,["_query","filter"],f),l}function lE(o){const t={},l=u(o,["config"]);return l!=null&&oE(l,t),t}function aE(o){const t={},l=u(o,["config"]);return l!=null&&iE(l,t),t}function sE(o){const t={},l=u(o,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(o,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(o,["operations"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(h=>Ba(h))),c(t,["batchJobs"],f)}return t}function rE(o){const t={},l=u(o,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(o,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(o,["batchPredictionJobs"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(h=>ku(h))),c(t,["batchJobs"],f)}return t}function uE(o){const t={},l=u(o,["mediaResolution"]);l!=null&&c(t,["mediaResolution"],l);const a=u(o,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(o,["executableCode"]);r!=null&&c(t,["executableCode"],r);const f=u(o,["fileData"]);f!=null&&c(t,["fileData"],JS(f));const h=u(o,["functionCall"]);h!=null&&c(t,["functionCall"],YS(h));const g=u(o,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const y=u(o,["inlineData"]);y!=null&&c(t,["inlineData"],wS(y));const m=u(o,["text"]);m!=null&&c(t,["text"],m);const v=u(o,["thought"]);v!=null&&c(t,["thought"],v);const E=u(o,["thoughtSignature"]);E!=null&&c(t,["thoughtSignature"],E);const _=u(o,["videoMetadata"]);return _!=null&&c(t,["videoMetadata"],_),t}function cE(o){const t={},l=u(o,["category"]);if(l!=null&&c(t,["category"],l),u(o,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const a=u(o,["threshold"]);return a!=null&&c(t,["threshold"],a),t}function fE(o){const t={},l=u(o,["retrievalConfig"]);l!=null&&c(t,["retrievalConfig"],l);const a=u(o,["functionCallingConfig"]);return a!=null&&c(t,["functionCallingConfig"],WS(a)),t}function dE(o){const t={};if(u(o,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=u(o,["computerUse"]);l!=null&&c(t,["computerUse"],l);const a=u(o,["fileSearch"]);a!=null&&c(t,["fileSearch"],a);const r=u(o,["codeExecution"]);if(r!=null&&c(t,["codeExecution"],r),u(o,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=u(o,["functionDeclarations"]);if(f!=null){let v=f;Array.isArray(v)&&(v=v.map(E=>E)),c(t,["functionDeclarations"],v)}const h=u(o,["googleMaps"]);h!=null&&c(t,["googleMaps"],ZS(h));const g=u(o,["googleSearch"]);g!=null&&c(t,["googleSearch"],jS(g));const y=u(o,["googleSearchRetrieval"]);y!=null&&c(t,["googleSearchRetrieval"],y);const m=u(o,["urlContext"]);return m!=null&&c(t,["urlContext"],m),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var An;(function(o){o.PAGED_ITEM_BATCH_JOBS="batchJobs",o.PAGED_ITEM_MODELS="models",o.PAGED_ITEM_TUNING_JOBS="tuningJobs",o.PAGED_ITEM_FILES="files",o.PAGED_ITEM_CACHED_CONTENTS="cachedContents",o.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",o.PAGED_ITEM_DOCUMENTS="documents"})(An||(An={}));class xo{constructor(t,l,a,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=l,this.init(t,a,r)}init(t,l,a){var r,f;this.nameInternal=t,this.pageInternal=l[this.nameInternal]||[],this.sdkHttpResponseInternal=l==null?void 0:l.sdkHttpResponse,this.idxInternal=0;let h={config:{}};!a||Object.keys(a).length===0?h={config:{}}:typeof a=="object"?h=Object.assign({},a):h=a,h.config&&(h.config.pageToken=l.nextPageToken),this.paramsInternal=h,this.pageInternalSize=(f=(r=h.config)===null||r===void 0?void 0:r.pageSize)!==null&&f!==void 0?f:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class hE extends bn{constructor(t){super(),this.apiClient=t,this.list=async(l={})=>new xo(An.PAGED_ITEM_BATCH_JOBS,a=>this.listInternal(a),await this.listInternal(l),l),this.create=async l=>(this.apiClient.isVertexAI()&&(l.config=this.formatDestination(l.src,l.config)),this.createInternal(l)),this.createEmbeddings=async l=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(l)}}createInlinedGenerateContentRequest(t){const l=Am(this.apiClient,t),a=l._url,r=Z("{model}:batchGenerateContent",a),g=l.batch.inputConfig.requests,y=g.requests,m=[];for(const v of y){const E=Object.assign({},v);if(E.systemInstruction){const _=E.systemInstruction;delete E.systemInstruction;const C=E.request;C.systemInstruction=_,E.request=C}m.push(E)}return g.requests=m,delete l.config,delete l._url,delete l._query,{path:r,body:l}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,l){const a=l?Object.assign({},l):{},r=Date.now().toString();if(a.displayName||(a.displayName=`genaiBatchJob_${r}`),a.dest===void 0){const f=this.getGcsUri(t),h=this.getBigqueryUri(t);if(f)f.endsWith(".jsonl")?a.dest=`${f.slice(0,-6)}/dest`:a.dest=`${f}_dest_${r}`;else if(h)a.dest=`${h}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return a}async createInternal(t){var l,a,r,f;let h,g="",y={};if(this.apiClient.isVertexAI()){const m=kS(this.apiClient,t);return g=Z("batchPredictionJobs",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),h.then(v=>ku(v))}else{const m=Am(this.apiClient,t);return g=Z("{model}:batchGenerateContent",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),h.then(v=>Ba(v))}}async createEmbeddingsInternal(t){var l,a;let r,f="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=GS(this.apiClient,t);return f=Z("{model}:asyncBatchEmbedContent",g._url),h=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>Ba(y))}}async get(t){var l,a,r,f;let h,g="",y={};if(this.apiClient.isVertexAI()){const m=$S(this.apiClient,t);return g=Z("batchPredictionJobs/{name}",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),h.then(v=>ku(v))}else{const m=QS(this.apiClient,t);return g=Z("batches/{name}",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),h.then(v=>Ba(v))}}async cancel(t){var l,a,r,f;let h="",g={};if(this.apiClient.isVertexAI()){const y=MS(this.apiClient,t);h=Z("batchPredictionJobs/{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}else{const y=RS(this.apiClient,t);h=Z("batches/{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal})}}async listInternal(t){var l,a,r,f;let h,g="",y={};if(this.apiClient.isVertexAI()){const m=aE(t);return g=Z("batchPredictionJobs",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),h.then(v=>{const E=rE(v),_=new Tm;return Object.assign(_,E),_})}else{const m=lE(t);return g=Z("batches",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),h.then(v=>{const E=sE(v),_=new Tm;return Object.assign(_,E),_})}}async delete(t){var l,a,r,f;let h,g="",y={};if(this.apiClient.isVertexAI()){const m=zS(this.apiClient,t);return g=Z("batchPredictionJobs/{name}",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),h.then(v=>BS(v))}else{const m=VS(this.apiClient,t);return g=Z("batches/{name}",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),h.then(v=>qS(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pE(o){const t={},l=u(o,["data"]);if(l!=null&&c(t,["data"],l),u(o,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(o,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function bm(o){const t={},l=u(o,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(f=>GE(f))),c(t,["parts"],r)}const a=u(o,["role"]);return a!=null&&c(t,["role"],a),t}function mE(o,t){const l={},a=u(o,["ttl"]);t!==void 0&&a!=null&&c(t,["ttl"],a);const r=u(o,["expireTime"]);t!==void 0&&r!=null&&c(t,["expireTime"],r);const f=u(o,["displayName"]);t!==void 0&&f!=null&&c(t,["displayName"],f);const h=u(o,["contents"]);if(t!==void 0&&h!=null){let v=Wt(h);Array.isArray(v)&&(v=v.map(E=>bm(E))),c(t,["contents"],v)}const g=u(o,["systemInstruction"]);t!==void 0&&g!=null&&c(t,["systemInstruction"],bm(pt(g)));const y=u(o,["tools"]);if(t!==void 0&&y!=null){let v=y;Array.isArray(v)&&(v=v.map(E=>zE(E))),c(t,["tools"],v)}const m=u(o,["toolConfig"]);if(t!==void 0&&m!=null&&c(t,["toolConfig"],VE(m)),u(o,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return l}function gE(o,t){const l={},a=u(o,["ttl"]);t!==void 0&&a!=null&&c(t,["ttl"],a);const r=u(o,["expireTime"]);t!==void 0&&r!=null&&c(t,["expireTime"],r);const f=u(o,["displayName"]);t!==void 0&&f!=null&&c(t,["displayName"],f);const h=u(o,["contents"]);if(t!==void 0&&h!=null){let E=Wt(h);Array.isArray(E)&&(E=E.map(_=>_)),c(t,["contents"],E)}const g=u(o,["systemInstruction"]);t!==void 0&&g!=null&&c(t,["systemInstruction"],pt(g));const y=u(o,["tools"]);if(t!==void 0&&y!=null){let E=y;Array.isArray(E)&&(E=E.map(_=>qE(_))),c(t,["tools"],E)}const m=u(o,["toolConfig"]);t!==void 0&&m!=null&&c(t,["toolConfig"],m);const v=u(o,["kmsKeyName"]);return t!==void 0&&v!=null&&c(t,["encryption_spec","kmsKeyName"],v),l}function yE(o,t){const l={},a=u(t,["model"]);a!=null&&c(l,["model"],og(o,a));const r=u(t,["config"]);return r!=null&&mE(r,l),l}function vE(o,t){const l={},a=u(t,["model"]);a!=null&&c(l,["model"],og(o,a));const r=u(t,["config"]);return r!=null&&gE(r,l),l}function SE(o,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],Nn(o,a)),l}function EE(o,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],Nn(o,a)),l}function TE(o){const t={},l=u(o,["sdkHttpResponse"]);return l!=null&&c(t,["sdkHttpResponse"],l),t}function _E(o){const t={},l=u(o,["sdkHttpResponse"]);return l!=null&&c(t,["sdkHttpResponse"],l),t}function xE(o){const t={};if(u(o,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(o,["fileUri"]);l!=null&&c(t,["fileUri"],l);const a=u(o,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function CE(o){const t={},l=u(o,["id"]);l!=null&&c(t,["id"],l);const a=u(o,["args"]);a!=null&&c(t,["args"],a);const r=u(o,["name"]);if(r!=null&&c(t,["name"],r),u(o,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(o,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function AE(o){const t={},l=u(o,["allowedFunctionNames"]);l!=null&&c(t,["allowedFunctionNames"],l);const a=u(o,["mode"]);if(a!=null&&c(t,["mode"],a),u(o,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function bE(o){const t={},l=u(o,["description"]);l!=null&&c(t,["description"],l);const a=u(o,["name"]);a!=null&&c(t,["name"],a);const r=u(o,["parameters"]);r!=null&&c(t,["parameters"],r);const f=u(o,["parametersJsonSchema"]);f!=null&&c(t,["parametersJsonSchema"],f);const h=u(o,["response"]);h!=null&&c(t,["response"],h);const g=u(o,["responseJsonSchema"]);if(g!=null&&c(t,["responseJsonSchema"],g),u(o,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function NE(o,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],Nn(o,a)),l}function wE(o,t){const l={},a=u(t,["name"]);return a!=null&&c(l,["_url","name"],Nn(o,a)),l}function RE(o){const t={};if(u(o,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(o,["enableWidget"]);return l!=null&&c(t,["enableWidget"],l),t}function ME(o){const t={};if(u(o,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(o,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(o,["timeRangeFilter"]);return l!=null&&c(t,["timeRangeFilter"],l),t}function IE(o,t){const l={},a=u(o,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(o,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),l}function DE(o,t){const l={},a=u(o,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(o,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),l}function UE(o){const t={},l=u(o,["config"]);return l!=null&&IE(l,t),t}function LE(o){const t={},l=u(o,["config"]);return l!=null&&DE(l,t),t}function kE(o){const t={},l=u(o,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(o,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(o,["cachedContents"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(h=>h)),c(t,["cachedContents"],f)}return t}function HE(o){const t={},l=u(o,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(o,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(o,["cachedContents"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(h=>h)),c(t,["cachedContents"],f)}return t}function GE(o){const t={},l=u(o,["mediaResolution"]);l!=null&&c(t,["mediaResolution"],l);const a=u(o,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(o,["executableCode"]);r!=null&&c(t,["executableCode"],r);const f=u(o,["fileData"]);f!=null&&c(t,["fileData"],xE(f));const h=u(o,["functionCall"]);h!=null&&c(t,["functionCall"],CE(h));const g=u(o,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const y=u(o,["inlineData"]);y!=null&&c(t,["inlineData"],pE(y));const m=u(o,["text"]);m!=null&&c(t,["text"],m);const v=u(o,["thought"]);v!=null&&c(t,["thought"],v);const E=u(o,["thoughtSignature"]);E!=null&&c(t,["thoughtSignature"],E);const _=u(o,["videoMetadata"]);return _!=null&&c(t,["videoMetadata"],_),t}function VE(o){const t={},l=u(o,["retrievalConfig"]);l!=null&&c(t,["retrievalConfig"],l);const a=u(o,["functionCallingConfig"]);return a!=null&&c(t,["functionCallingConfig"],AE(a)),t}function zE(o){const t={};if(u(o,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=u(o,["computerUse"]);l!=null&&c(t,["computerUse"],l);const a=u(o,["fileSearch"]);a!=null&&c(t,["fileSearch"],a);const r=u(o,["codeExecution"]);if(r!=null&&c(t,["codeExecution"],r),u(o,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=u(o,["functionDeclarations"]);if(f!=null){let v=f;Array.isArray(v)&&(v=v.map(E=>E)),c(t,["functionDeclarations"],v)}const h=u(o,["googleMaps"]);h!=null&&c(t,["googleMaps"],RE(h));const g=u(o,["googleSearch"]);g!=null&&c(t,["googleSearch"],ME(g));const y=u(o,["googleSearchRetrieval"]);y!=null&&c(t,["googleSearchRetrieval"],y);const m=u(o,["urlContext"]);return m!=null&&c(t,["urlContext"],m),t}function qE(o){const t={},l=u(o,["retrieval"]);l!=null&&c(t,["retrieval"],l);const a=u(o,["computerUse"]);if(a!=null&&c(t,["computerUse"],a),u(o,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=u(o,["codeExecution"]);r!=null&&c(t,["codeExecution"],r);const f=u(o,["enterpriseWebSearch"]);f!=null&&c(t,["enterpriseWebSearch"],f);const h=u(o,["functionDeclarations"]);if(h!=null){let E=h;Array.isArray(E)&&(E=E.map(_=>bE(_))),c(t,["functionDeclarations"],E)}const g=u(o,["googleMaps"]);g!=null&&c(t,["googleMaps"],g);const y=u(o,["googleSearch"]);y!=null&&c(t,["googleSearch"],y);const m=u(o,["googleSearchRetrieval"]);m!=null&&c(t,["googleSearchRetrieval"],m);const v=u(o,["urlContext"]);return v!=null&&c(t,["urlContext"],v),t}function BE(o,t){const l={},a=u(o,["ttl"]);t!==void 0&&a!=null&&c(t,["ttl"],a);const r=u(o,["expireTime"]);return t!==void 0&&r!=null&&c(t,["expireTime"],r),l}function PE(o,t){const l={},a=u(o,["ttl"]);t!==void 0&&a!=null&&c(t,["ttl"],a);const r=u(o,["expireTime"]);return t!==void 0&&r!=null&&c(t,["expireTime"],r),l}function OE(o,t){const l={},a=u(t,["name"]);a!=null&&c(l,["_url","name"],Nn(o,a));const r=u(t,["config"]);return r!=null&&BE(r,l),l}function FE(o,t){const l={},a=u(t,["name"]);a!=null&&c(l,["_url","name"],Nn(o,a));const r=u(t,["config"]);return r!=null&&PE(r,l),l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class JE extends bn{constructor(t){super(),this.apiClient=t,this.list=async(l={})=>new xo(An.PAGED_ITEM_CACHED_CONTENTS,a=>this.listInternal(a),await this.listInternal(l),l)}async create(t){var l,a,r,f;let h,g="",y={};if(this.apiClient.isVertexAI()){const m=vE(this.apiClient,t);return g=Z("cachedContents",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),h.then(v=>v)}else{const m=yE(this.apiClient,t);return g=Z("cachedContents",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),h.then(v=>v)}}async get(t){var l,a,r,f;let h,g="",y={};if(this.apiClient.isVertexAI()){const m=wE(this.apiClient,t);return g=Z("{name}",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),h.then(v=>v)}else{const m=NE(this.apiClient,t);return g=Z("{name}",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),h.then(v=>v)}}async delete(t){var l,a,r,f;let h,g="",y={};if(this.apiClient.isVertexAI()){const m=EE(this.apiClient,t);return g=Z("{name}",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),h.then(v=>{const E=_E(v),_=new Sm;return Object.assign(_,E),_})}else{const m=SE(this.apiClient,t);return g=Z("{name}",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),h.then(v=>{const E=TE(v),_=new Sm;return Object.assign(_,E),_})}}async update(t){var l,a,r,f;let h,g="",y={};if(this.apiClient.isVertexAI()){const m=FE(this.apiClient,t);return g=Z("{name}",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),h.then(v=>v)}else{const m=OE(this.apiClient,t);return g=Z("{name}",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),h.then(v=>v)}}async listInternal(t){var l,a,r,f;let h,g="",y={};if(this.apiClient.isVertexAI()){const m=LE(t);return g=Z("cachedContents",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),h.then(v=>{const E=HE(v),_=new Em;return Object.assign(_,E),_})}else{const m=UE(t);return g=Z("cachedContents",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),h.then(v=>{const E=kE(v),_=new Em;return Object.assign(_,E),_})}}}function Ya(o,t){var l={};for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&t.indexOf(a)<0&&(l[a]=o[a]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,a=Object.getOwnPropertySymbols(o);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(o,a[r])&&(l[a[r]]=o[a[r]]);return l}function Nm(o){var t=typeof Symbol=="function"&&Symbol.iterator,l=t&&o[t],a=0;if(l)return l.call(o);if(o&&typeof o.length=="number")return{next:function(){return o&&a>=o.length&&(o=void 0),{value:o&&o[a++],done:!o}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function de(o){return this instanceof de?(this.v=o,this):new de(o)}function Zt(o,t,l){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=l.apply(o,t||[]),r,f=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),g("next"),g("throw"),g("return",h),r[Symbol.asyncIterator]=function(){return this},r;function h(C){return function(D){return Promise.resolve(D).then(C,E)}}function g(C,D){a[C]&&(r[C]=function(H){return new Promise(function(U,P){f.push([C,H,U,P])>1||y(C,H)})},D&&(r[C]=D(r[C])))}function y(C,D){try{m(a[C](D))}catch(H){_(f[0][3],H)}}function m(C){C.value instanceof de?Promise.resolve(C.value.v).then(v,E):_(f[0][2],C)}function v(C){y("next",C)}function E(C){y("throw",C)}function _(C,D){C(D),f.shift(),f.length&&y(f[0][0],f[0][1])}}function jt(o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=o[Symbol.asyncIterator],l;return t?t.call(o):(o=typeof Nm=="function"?Nm(o):o[Symbol.iterator](),l={},a("next"),a("throw"),a("return"),l[Symbol.asyncIterator]=function(){return this},l);function a(f){l[f]=o[f]&&function(h){return new Promise(function(g,y){h=o[f](h),r(g,y,h.done,h.value)})}}function r(f,h,g,y){Promise.resolve(y).then(function(m){f({value:m,done:g})},h)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function YE(o){var t;if(o.candidates==null||o.candidates.length===0)return!1;const l=(t=o.candidates[0])===null||t===void 0?void 0:t.content;return l===void 0?!1:gg(l)}function gg(o){if(o.parts===void 0||o.parts.length===0)return!1;for(const t of o.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function WE(o){if(o.length!==0){for(const t of o)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function wm(o){if(o===void 0||o.length===0)return[];const t=[],l=o.length;let a=0;for(;a<l;)if(o[a].role==="user")t.push(o[a]),a++;else{const r=[];let f=!0;for(;a<l&&o[a].role==="model";)r.push(o[a]),f&&!gg(o[a])&&(f=!1),a++;f?t.push(...r):t.pop()}return t}class KE{constructor(t,l){this.modelsModule=t,this.apiClient=l}create(t){return new XE(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class XE{constructor(t,l,a,r={},f=[]){this.apiClient=t,this.modelsModule=l,this.model=a,this.config=r,this.history=f,this.sendPromise=Promise.resolve(),WE(f)}async sendMessage(t){var l;await this.sendPromise;const a=pt(t.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(a),config:(l=t.config)!==null&&l!==void 0?l:this.config});return this.sendPromise=(async()=>{var f,h,g;const y=await r,m=(h=(f=y.candidates)===null||f===void 0?void 0:f[0])===null||h===void 0?void 0:h.content,v=y.automaticFunctionCallingHistory,E=this.getHistory(!0).length;let _=[];v!=null&&(_=(g=v.slice(E))!==null&&g!==void 0?g:[]);const C=m?[m]:[];this.recordHistory(a,C,_)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(t){var l;await this.sendPromise;const a=pt(t.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(a),config:(l=t.config)!==null&&l!==void 0?l:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const f=await r;return this.processStreamResponse(f,a)}getHistory(t=!1){const l=t?wm(this.history):this.history;return structuredClone(l)}processStreamResponse(t,l){return Zt(this,arguments,function*(){var r,f,h,g,y,m;const v=[];try{for(var E=!0,_=jt(t),C;C=yield de(_.next()),r=C.done,!r;E=!0){g=C.value,E=!1;const D=g;if(YE(D)){const H=(m=(y=D.candidates)===null||y===void 0?void 0:y[0])===null||m===void 0?void 0:m.content;H!==void 0&&v.push(H)}yield yield de(D)}}catch(D){f={error:D}}finally{try{!E&&!r&&(h=_.return)&&(yield de(h.call(_)))}finally{if(f)throw f.error}}this.recordHistory(l,v)})}recordHistory(t,l,a){let r=[];l.length>0&&l.every(f=>f.role!==void 0)?r=l:r.push({role:"model",parts:[]}),a&&a.length>0?this.history.push(...wm(a)):this.history.push(t),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Xa extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,Xa.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function QE(o){const t={},l=u(o,["file"]);return l!=null&&c(t,["file"],l),t}function $E(o){const t={},l=u(o,["sdkHttpResponse"]);return l!=null&&c(t,["sdkHttpResponse"],l),t}function ZE(o){const t={},l=u(o,["name"]);return l!=null&&c(t,["_url","file"],ug(l)),t}function jE(o){const t={},l=u(o,["sdkHttpResponse"]);return l!=null&&c(t,["sdkHttpResponse"],l),t}function eT(o){const t={},l=u(o,["name"]);return l!=null&&c(t,["_url","file"],ug(l)),t}function tT(o,t){const l={},a=u(o,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(o,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),l}function nT(o){const t={},l=u(o,["config"]);return l!=null&&tT(l,t),t}function oT(o){const t={},l=u(o,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(o,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(o,["files"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(h=>h)),c(t,["files"],f)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class iT extends bn{constructor(t){super(),this.apiClient=t,this.list=async(l={})=>new xo(An.PAGED_ITEM_FILES,a=>this.listInternal(a),await this.listInternal(l),l)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(l=>l)}async download(t){await this.apiClient.downloadFile(t)}async listInternal(t){var l,a;let r,f="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=nT(t);return f=Z("files",g._url),h=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const m=oT(y),v=new rS;return Object.assign(v,m),v})}}async createInternal(t){var l,a;let r,f="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=QE(t);return f=Z("upload/v1beta/files",g._url),h=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const m=$E(y),v=new uS;return Object.assign(v,m),v})}}async get(t){var l,a;let r,f="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=eT(t);return f=Z("files/{file}",g._url),h=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(t){var l,a;let r,f="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=ZE(t);return f=Z("files/{file}",g._url),h=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const m=jE(y),v=new cS;return Object.assign(v,m),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Pa(o){const t={},l=u(o,["data"]);if(l!=null&&c(t,["data"],l),u(o,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(o,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function lT(o){const t={},l=u(o,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(f=>TT(f))),c(t,["parts"],r)}const a=u(o,["role"]);return a!=null&&c(t,["role"],a),t}function aT(o){const t={};if(u(o,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(o,["fileUri"]);l!=null&&c(t,["fileUri"],l);const a=u(o,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function sT(o){const t={},l=u(o,["id"]);l!=null&&c(t,["id"],l);const a=u(o,["args"]);a!=null&&c(t,["args"],a);const r=u(o,["name"]);if(r!=null&&c(t,["name"],r),u(o,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(o,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function rT(o){const t={},l=u(o,["description"]);l!=null&&c(t,["description"],l);const a=u(o,["name"]);a!=null&&c(t,["name"],a);const r=u(o,["parameters"]);r!=null&&c(t,["parameters"],r);const f=u(o,["parametersJsonSchema"]);f!=null&&c(t,["parametersJsonSchema"],f);const h=u(o,["response"]);h!=null&&c(t,["response"],h);const g=u(o,["responseJsonSchema"]);if(g!=null&&c(t,["responseJsonSchema"],g),u(o,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function uT(o){const t={},l=u(o,["modelSelectionConfig"]);l!=null&&c(t,["modelConfig"],l);const a=u(o,["responseJsonSchema"]);a!=null&&c(t,["responseJsonSchema"],a);const r=u(o,["audioTimestamp"]);r!=null&&c(t,["audioTimestamp"],r);const f=u(o,["candidateCount"]);f!=null&&c(t,["candidateCount"],f);const h=u(o,["enableAffectiveDialog"]);h!=null&&c(t,["enableAffectiveDialog"],h);const g=u(o,["frequencyPenalty"]);g!=null&&c(t,["frequencyPenalty"],g);const y=u(o,["logprobs"]);y!=null&&c(t,["logprobs"],y);const m=u(o,["maxOutputTokens"]);m!=null&&c(t,["maxOutputTokens"],m);const v=u(o,["mediaResolution"]);v!=null&&c(t,["mediaResolution"],v);const E=u(o,["presencePenalty"]);E!=null&&c(t,["presencePenalty"],E);const _=u(o,["responseLogprobs"]);_!=null&&c(t,["responseLogprobs"],_);const C=u(o,["responseMimeType"]);C!=null&&c(t,["responseMimeType"],C);const D=u(o,["responseModalities"]);D!=null&&c(t,["responseModalities"],D);const H=u(o,["responseSchema"]);H!=null&&c(t,["responseSchema"],H);const U=u(o,["routingConfig"]);U!=null&&c(t,["routingConfig"],U);const P=u(o,["seed"]);P!=null&&c(t,["seed"],P);const K=u(o,["speechConfig"]);K!=null&&c(t,["speechConfig"],K);const O=u(o,["stopSequences"]);O!=null&&c(t,["stopSequences"],O);const $=u(o,["temperature"]);$!=null&&c(t,["temperature"],$);const Y=u(o,["thinkingConfig"]);Y!=null&&c(t,["thinkingConfig"],Y);const te=u(o,["topK"]);te!=null&&c(t,["topK"],te);const W=u(o,["topP"]);if(W!=null&&c(t,["topP"],W),u(o,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function cT(o){const t={};if(u(o,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(o,["enableWidget"]);return l!=null&&c(t,["enableWidget"],l),t}function fT(o){const t={};if(u(o,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(o,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(o,["timeRangeFilter"]);return l!=null&&c(t,["timeRangeFilter"],l),t}function dT(o,t){const l={},a=u(o,["generationConfig"]);t!==void 0&&a!=null&&c(t,["setup","generationConfig"],a);const r=u(o,["responseModalities"]);t!==void 0&&r!=null&&c(t,["setup","generationConfig","responseModalities"],r);const f=u(o,["temperature"]);t!==void 0&&f!=null&&c(t,["setup","generationConfig","temperature"],f);const h=u(o,["topP"]);t!==void 0&&h!=null&&c(t,["setup","generationConfig","topP"],h);const g=u(o,["topK"]);t!==void 0&&g!=null&&c(t,["setup","generationConfig","topK"],g);const y=u(o,["maxOutputTokens"]);t!==void 0&&y!=null&&c(t,["setup","generationConfig","maxOutputTokens"],y);const m=u(o,["mediaResolution"]);t!==void 0&&m!=null&&c(t,["setup","generationConfig","mediaResolution"],m);const v=u(o,["seed"]);t!==void 0&&v!=null&&c(t,["setup","generationConfig","seed"],v);const E=u(o,["speechConfig"]);t!==void 0&&E!=null&&c(t,["setup","generationConfig","speechConfig"],Zu(E));const _=u(o,["thinkingConfig"]);t!==void 0&&_!=null&&c(t,["setup","generationConfig","thinkingConfig"],_);const C=u(o,["enableAffectiveDialog"]);t!==void 0&&C!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],C);const D=u(o,["systemInstruction"]);t!==void 0&&D!=null&&c(t,["setup","systemInstruction"],lT(pt(D)));const H=u(o,["tools"]);if(t!==void 0&&H!=null){let te=mi(H);Array.isArray(te)&&(te=te.map(W=>xT(pi(W)))),c(t,["setup","tools"],te)}const U=u(o,["sessionResumption"]);t!==void 0&&U!=null&&c(t,["setup","sessionResumption"],_T(U));const P=u(o,["inputAudioTranscription"]);t!==void 0&&P!=null&&c(t,["setup","inputAudioTranscription"],P);const K=u(o,["outputAudioTranscription"]);t!==void 0&&K!=null&&c(t,["setup","outputAudioTranscription"],K);const O=u(o,["realtimeInputConfig"]);t!==void 0&&O!=null&&c(t,["setup","realtimeInputConfig"],O);const $=u(o,["contextWindowCompression"]);t!==void 0&&$!=null&&c(t,["setup","contextWindowCompression"],$);const Y=u(o,["proactivity"]);if(t!==void 0&&Y!=null&&c(t,["setup","proactivity"],Y),u(o,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return l}function hT(o,t){const l={},a=u(o,["generationConfig"]);t!==void 0&&a!=null&&c(t,["setup","generationConfig"],uT(a));const r=u(o,["responseModalities"]);t!==void 0&&r!=null&&c(t,["setup","generationConfig","responseModalities"],r);const f=u(o,["temperature"]);t!==void 0&&f!=null&&c(t,["setup","generationConfig","temperature"],f);const h=u(o,["topP"]);t!==void 0&&h!=null&&c(t,["setup","generationConfig","topP"],h);const g=u(o,["topK"]);t!==void 0&&g!=null&&c(t,["setup","generationConfig","topK"],g);const y=u(o,["maxOutputTokens"]);t!==void 0&&y!=null&&c(t,["setup","generationConfig","maxOutputTokens"],y);const m=u(o,["mediaResolution"]);t!==void 0&&m!=null&&c(t,["setup","generationConfig","mediaResolution"],m);const v=u(o,["seed"]);t!==void 0&&v!=null&&c(t,["setup","generationConfig","seed"],v);const E=u(o,["speechConfig"]);t!==void 0&&E!=null&&c(t,["setup","generationConfig","speechConfig"],Zu(E));const _=u(o,["thinkingConfig"]);t!==void 0&&_!=null&&c(t,["setup","generationConfig","thinkingConfig"],_);const C=u(o,["enableAffectiveDialog"]);t!==void 0&&C!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],C);const D=u(o,["systemInstruction"]);t!==void 0&&D!=null&&c(t,["setup","systemInstruction"],pt(D));const H=u(o,["tools"]);if(t!==void 0&&H!=null){let W=mi(H);Array.isArray(W)&&(W=W.map(Se=>CT(pi(Se)))),c(t,["setup","tools"],W)}const U=u(o,["sessionResumption"]);t!==void 0&&U!=null&&c(t,["setup","sessionResumption"],U);const P=u(o,["inputAudioTranscription"]);t!==void 0&&P!=null&&c(t,["setup","inputAudioTranscription"],P);const K=u(o,["outputAudioTranscription"]);t!==void 0&&K!=null&&c(t,["setup","outputAudioTranscription"],K);const O=u(o,["realtimeInputConfig"]);t!==void 0&&O!=null&&c(t,["setup","realtimeInputConfig"],O);const $=u(o,["contextWindowCompression"]);t!==void 0&&$!=null&&c(t,["setup","contextWindowCompression"],$);const Y=u(o,["proactivity"]);t!==void 0&&Y!=null&&c(t,["setup","proactivity"],Y);const te=u(o,["explicitVadSignal"]);return t!==void 0&&te!=null&&c(t,["setup","explicitVadSignal"],te),l}function pT(o,t){const l={},a=u(t,["model"]);a!=null&&c(l,["setup","model"],Le(o,a));const r=u(t,["config"]);return r!=null&&c(l,["config"],dT(r,l)),l}function mT(o,t){const l={},a=u(t,["model"]);a!=null&&c(l,["setup","model"],Le(o,a));const r=u(t,["config"]);return r!=null&&c(l,["config"],hT(r,l)),l}function gT(o){const t={},l=u(o,["musicGenerationConfig"]);return l!=null&&c(t,["musicGenerationConfig"],l),t}function yT(o){const t={},l=u(o,["weightedPrompts"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(r=>r)),c(t,["weightedPrompts"],a)}return t}function vT(o){const t={},l=u(o,["media"]);if(l!=null){let m=ig(l);Array.isArray(m)&&(m=m.map(v=>Pa(v))),c(t,["mediaChunks"],m)}const a=u(o,["audio"]);a!=null&&c(t,["audio"],Pa(ag(a)));const r=u(o,["audioStreamEnd"]);r!=null&&c(t,["audioStreamEnd"],r);const f=u(o,["video"]);f!=null&&c(t,["video"],Pa(lg(f)));const h=u(o,["text"]);h!=null&&c(t,["text"],h);const g=u(o,["activityStart"]);g!=null&&c(t,["activityStart"],g);const y=u(o,["activityEnd"]);return y!=null&&c(t,["activityEnd"],y),t}function ST(o){const t={},l=u(o,["media"]);if(l!=null){let m=ig(l);Array.isArray(m)&&(m=m.map(v=>v)),c(t,["mediaChunks"],m)}const a=u(o,["audio"]);a!=null&&c(t,["audio"],ag(a));const r=u(o,["audioStreamEnd"]);r!=null&&c(t,["audioStreamEnd"],r);const f=u(o,["video"]);f!=null&&c(t,["video"],lg(f));const h=u(o,["text"]);h!=null&&c(t,["text"],h);const g=u(o,["activityStart"]);g!=null&&c(t,["activityStart"],g);const y=u(o,["activityEnd"]);return y!=null&&c(t,["activityEnd"],y),t}function ET(o){const t={},l=u(o,["setupComplete"]);l!=null&&c(t,["setupComplete"],l);const a=u(o,["serverContent"]);a!=null&&c(t,["serverContent"],a);const r=u(o,["toolCall"]);r!=null&&c(t,["toolCall"],r);const f=u(o,["toolCallCancellation"]);f!=null&&c(t,["toolCallCancellation"],f);const h=u(o,["usageMetadata"]);h!=null&&c(t,["usageMetadata"],AT(h));const g=u(o,["goAway"]);g!=null&&c(t,["goAway"],g);const y=u(o,["sessionResumptionUpdate"]);y!=null&&c(t,["sessionResumptionUpdate"],y);const m=u(o,["voiceActivityDetectionSignal"]);m!=null&&c(t,["voiceActivityDetectionSignal"],m);const v=u(o,["voiceActivity"]);return v!=null&&c(t,["voiceActivity"],bT(v)),t}function TT(o){const t={},l=u(o,["mediaResolution"]);l!=null&&c(t,["mediaResolution"],l);const a=u(o,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(o,["executableCode"]);r!=null&&c(t,["executableCode"],r);const f=u(o,["fileData"]);f!=null&&c(t,["fileData"],aT(f));const h=u(o,["functionCall"]);h!=null&&c(t,["functionCall"],sT(h));const g=u(o,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const y=u(o,["inlineData"]);y!=null&&c(t,["inlineData"],Pa(y));const m=u(o,["text"]);m!=null&&c(t,["text"],m);const v=u(o,["thought"]);v!=null&&c(t,["thought"],v);const E=u(o,["thoughtSignature"]);E!=null&&c(t,["thoughtSignature"],E);const _=u(o,["videoMetadata"]);return _!=null&&c(t,["videoMetadata"],_),t}function _T(o){const t={},l=u(o,["handle"]);if(l!=null&&c(t,["handle"],l),u(o,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function xT(o){const t={};if(u(o,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=u(o,["computerUse"]);l!=null&&c(t,["computerUse"],l);const a=u(o,["fileSearch"]);a!=null&&c(t,["fileSearch"],a);const r=u(o,["codeExecution"]);if(r!=null&&c(t,["codeExecution"],r),u(o,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=u(o,["functionDeclarations"]);if(f!=null){let v=f;Array.isArray(v)&&(v=v.map(E=>E)),c(t,["functionDeclarations"],v)}const h=u(o,["googleMaps"]);h!=null&&c(t,["googleMaps"],cT(h));const g=u(o,["googleSearch"]);g!=null&&c(t,["googleSearch"],fT(g));const y=u(o,["googleSearchRetrieval"]);y!=null&&c(t,["googleSearchRetrieval"],y);const m=u(o,["urlContext"]);return m!=null&&c(t,["urlContext"],m),t}function CT(o){const t={},l=u(o,["retrieval"]);l!=null&&c(t,["retrieval"],l);const a=u(o,["computerUse"]);if(a!=null&&c(t,["computerUse"],a),u(o,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=u(o,["codeExecution"]);r!=null&&c(t,["codeExecution"],r);const f=u(o,["enterpriseWebSearch"]);f!=null&&c(t,["enterpriseWebSearch"],f);const h=u(o,["functionDeclarations"]);if(h!=null){let E=h;Array.isArray(E)&&(E=E.map(_=>rT(_))),c(t,["functionDeclarations"],E)}const g=u(o,["googleMaps"]);g!=null&&c(t,["googleMaps"],g);const y=u(o,["googleSearch"]);y!=null&&c(t,["googleSearch"],y);const m=u(o,["googleSearchRetrieval"]);m!=null&&c(t,["googleSearchRetrieval"],m);const v=u(o,["urlContext"]);return v!=null&&c(t,["urlContext"],v),t}function AT(o){const t={},l=u(o,["promptTokenCount"]);l!=null&&c(t,["promptTokenCount"],l);const a=u(o,["cachedContentTokenCount"]);a!=null&&c(t,["cachedContentTokenCount"],a);const r=u(o,["candidatesTokenCount"]);r!=null&&c(t,["responseTokenCount"],r);const f=u(o,["toolUsePromptTokenCount"]);f!=null&&c(t,["toolUsePromptTokenCount"],f);const h=u(o,["thoughtsTokenCount"]);h!=null&&c(t,["thoughtsTokenCount"],h);const g=u(o,["totalTokenCount"]);g!=null&&c(t,["totalTokenCount"],g);const y=u(o,["promptTokensDetails"]);if(y!=null){let C=y;Array.isArray(C)&&(C=C.map(D=>D)),c(t,["promptTokensDetails"],C)}const m=u(o,["cacheTokensDetails"]);if(m!=null){let C=m;Array.isArray(C)&&(C=C.map(D=>D)),c(t,["cacheTokensDetails"],C)}const v=u(o,["candidatesTokensDetails"]);if(v!=null){let C=v;Array.isArray(C)&&(C=C.map(D=>D)),c(t,["responseTokensDetails"],C)}const E=u(o,["toolUsePromptTokensDetails"]);if(E!=null){let C=E;Array.isArray(C)&&(C=C.map(D=>D)),c(t,["toolUsePromptTokensDetails"],C)}const _=u(o,["trafficType"]);return _!=null&&c(t,["trafficType"],_),t}function bT(o){const t={},l=u(o,["type"]);return l!=null&&c(t,["voiceActivityType"],l),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function NT(o){const t={},l=u(o,["data"]);if(l!=null&&c(t,["data"],l),u(o,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(o,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function wT(o){const t={},l=u(o,["content"]);l!=null&&c(t,["content"],l);const a=u(o,["citationMetadata"]);a!=null&&c(t,["citationMetadata"],RT(a));const r=u(o,["tokenCount"]);r!=null&&c(t,["tokenCount"],r);const f=u(o,["finishReason"]);f!=null&&c(t,["finishReason"],f);const h=u(o,["avgLogprobs"]);h!=null&&c(t,["avgLogprobs"],h);const g=u(o,["groundingMetadata"]);g!=null&&c(t,["groundingMetadata"],g);const y=u(o,["index"]);y!=null&&c(t,["index"],y);const m=u(o,["logprobsResult"]);m!=null&&c(t,["logprobsResult"],m);const v=u(o,["safetyRatings"]);if(v!=null){let _=v;Array.isArray(_)&&(_=_.map(C=>C)),c(t,["safetyRatings"],_)}const E=u(o,["urlContextMetadata"]);return E!=null&&c(t,["urlContextMetadata"],E),t}function RT(o){const t={},l=u(o,["citationSources"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(r=>r)),c(t,["citations"],a)}return t}function MT(o,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Le(o,a));const r=u(t,["contents"]);if(r!=null){let f=Wt(r);Array.isArray(f)&&(f=f.map(h=>h)),c(l,["contents"],f)}return l}function IT(o){const t={},l=u(o,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(o,["tokensInfo"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(f=>f)),c(t,["tokensInfo"],r)}return t}function DT(o){const t={},l=u(o,["values"]);l!=null&&c(t,["values"],l);const a=u(o,["statistics"]);return a!=null&&c(t,["statistics"],UT(a)),t}function UT(o){const t={},l=u(o,["truncated"]);l!=null&&c(t,["truncated"],l);const a=u(o,["token_count"]);return a!=null&&c(t,["tokenCount"],a),t}function Qa(o){const t={},l=u(o,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(f=>P_(f))),c(t,["parts"],r)}const a=u(o,["role"]);return a!=null&&c(t,["role"],a),t}function LT(o){const t={},l=u(o,["controlType"]);l!=null&&c(t,["controlType"],l);const a=u(o,["enableControlImageComputation"]);return a!=null&&c(t,["computeControl"],a),t}function kT(o){const t={};if(u(o,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(u(o,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(u(o,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function HT(o,t){const l={},a=u(o,["systemInstruction"]);t!==void 0&&a!=null&&c(t,["systemInstruction"],pt(a));const r=u(o,["tools"]);if(t!==void 0&&r!=null){let h=r;Array.isArray(h)&&(h=h.map(g=>Eg(g))),c(t,["tools"],h)}const f=u(o,["generationConfig"]);return t!==void 0&&f!=null&&c(t,["generationConfig"],N_(f)),l}function GT(o,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Le(o,a));const r=u(t,["contents"]);if(r!=null){let h=Wt(r);Array.isArray(h)&&(h=h.map(g=>Qa(g))),c(l,["contents"],h)}const f=u(t,["config"]);return f!=null&&kT(f),l}function VT(o,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Le(o,a));const r=u(t,["contents"]);if(r!=null){let h=Wt(r);Array.isArray(h)&&(h=h.map(g=>g)),c(l,["contents"],h)}const f=u(t,["config"]);return f!=null&&HT(f,l),l}function zT(o){const t={},l=u(o,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(o,["totalTokens"]);a!=null&&c(t,["totalTokens"],a);const r=u(o,["cachedContentTokenCount"]);return r!=null&&c(t,["cachedContentTokenCount"],r),t}function qT(o){const t={},l=u(o,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(o,["totalTokens"]);return a!=null&&c(t,["totalTokens"],a),t}function BT(o,t){const l={},a=u(t,["model"]);return a!=null&&c(l,["_url","name"],Le(o,a)),l}function PT(o,t){const l={},a=u(t,["model"]);return a!=null&&c(l,["_url","name"],Le(o,a)),l}function OT(o){const t={},l=u(o,["sdkHttpResponse"]);return l!=null&&c(t,["sdkHttpResponse"],l),t}function FT(o){const t={},l=u(o,["sdkHttpResponse"]);return l!=null&&c(t,["sdkHttpResponse"],l),t}function JT(o,t){const l={},a=u(o,["outputGcsUri"]);t!==void 0&&a!=null&&c(t,["parameters","storageUri"],a);const r=u(o,["negativePrompt"]);t!==void 0&&r!=null&&c(t,["parameters","negativePrompt"],r);const f=u(o,["numberOfImages"]);t!==void 0&&f!=null&&c(t,["parameters","sampleCount"],f);const h=u(o,["aspectRatio"]);t!==void 0&&h!=null&&c(t,["parameters","aspectRatio"],h);const g=u(o,["guidanceScale"]);t!==void 0&&g!=null&&c(t,["parameters","guidanceScale"],g);const y=u(o,["seed"]);t!==void 0&&y!=null&&c(t,["parameters","seed"],y);const m=u(o,["safetyFilterLevel"]);t!==void 0&&m!=null&&c(t,["parameters","safetySetting"],m);const v=u(o,["personGeneration"]);t!==void 0&&v!=null&&c(t,["parameters","personGeneration"],v);const E=u(o,["includeSafetyAttributes"]);t!==void 0&&E!=null&&c(t,["parameters","includeSafetyAttributes"],E);const _=u(o,["includeRaiReason"]);t!==void 0&&_!=null&&c(t,["parameters","includeRaiReason"],_);const C=u(o,["language"]);t!==void 0&&C!=null&&c(t,["parameters","language"],C);const D=u(o,["outputMimeType"]);t!==void 0&&D!=null&&c(t,["parameters","outputOptions","mimeType"],D);const H=u(o,["outputCompressionQuality"]);t!==void 0&&H!=null&&c(t,["parameters","outputOptions","compressionQuality"],H);const U=u(o,["addWatermark"]);t!==void 0&&U!=null&&c(t,["parameters","addWatermark"],U);const P=u(o,["labels"]);t!==void 0&&P!=null&&c(t,["labels"],P);const K=u(o,["editMode"]);t!==void 0&&K!=null&&c(t,["parameters","editMode"],K);const O=u(o,["baseSteps"]);return t!==void 0&&O!=null&&c(t,["parameters","editConfig","baseSteps"],O),l}function YT(o,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Le(o,a));const r=u(t,["prompt"]);r!=null&&c(l,["instances[0]","prompt"],r);const f=u(t,["referenceImages"]);if(f!=null){let g=f;Array.isArray(g)&&(g=g.map(y=>K_(y))),c(l,["instances[0]","referenceImages"],g)}const h=u(t,["config"]);return h!=null&&JT(h,l),l}function WT(o){const t={},l=u(o,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(o,["predictions"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(f=>$a(f))),c(t,["generatedImages"],r)}return t}function KT(o,t){const l={},a=u(o,["taskType"]);t!==void 0&&a!=null&&c(t,["requests[]","taskType"],a);const r=u(o,["title"]);t!==void 0&&r!=null&&c(t,["requests[]","title"],r);const f=u(o,["outputDimensionality"]);if(t!==void 0&&f!=null&&c(t,["requests[]","outputDimensionality"],f),u(o,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(o,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return l}function XT(o,t){const l={},a=u(o,["taskType"]);t!==void 0&&a!=null&&c(t,["instances[]","task_type"],a);const r=u(o,["title"]);t!==void 0&&r!=null&&c(t,["instances[]","title"],r);const f=u(o,["outputDimensionality"]);t!==void 0&&f!=null&&c(t,["parameters","outputDimensionality"],f);const h=u(o,["mimeType"]);t!==void 0&&h!=null&&c(t,["instances[]","mimeType"],h);const g=u(o,["autoTruncate"]);return t!==void 0&&g!=null&&c(t,["parameters","autoTruncate"],g),l}function QT(o,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Le(o,a));const r=u(t,["contents"]);if(r!=null){let g=Xu(o,r);Array.isArray(g)&&(g=g.map(y=>y)),c(l,["requests[]","content"],g)}const f=u(t,["config"]);f!=null&&KT(f,l);const h=u(t,["model"]);return h!==void 0&&c(l,["requests[]","model"],Le(o,h)),l}function $T(o,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Le(o,a));const r=u(t,["contents"]);if(r!=null){let h=Xu(o,r);Array.isArray(h)&&(h=h.map(g=>g)),c(l,["instances[]","content"],h)}const f=u(t,["config"]);return f!=null&&XT(f,l),l}function ZT(o){const t={},l=u(o,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(o,["embeddings"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(h=>h)),c(t,["embeddings"],f)}const r=u(o,["metadata"]);return r!=null&&c(t,["metadata"],r),t}function jT(o){const t={},l=u(o,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(o,["predictions[]","embeddings"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(h=>DT(h))),c(t,["embeddings"],f)}const r=u(o,["metadata"]);return r!=null&&c(t,["metadata"],r),t}function e_(o){const t={},l=u(o,["endpoint"]);l!=null&&c(t,["name"],l);const a=u(o,["deployedModelId"]);return a!=null&&c(t,["deployedModelId"],a),t}function t_(o){const t={};if(u(o,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(o,["fileUri"]);l!=null&&c(t,["fileUri"],l);const a=u(o,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function n_(o){const t={},l=u(o,["id"]);l!=null&&c(t,["id"],l);const a=u(o,["args"]);a!=null&&c(t,["args"],a);const r=u(o,["name"]);if(r!=null&&c(t,["name"],r),u(o,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(o,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function o_(o){const t={},l=u(o,["allowedFunctionNames"]);l!=null&&c(t,["allowedFunctionNames"],l);const a=u(o,["mode"]);if(a!=null&&c(t,["mode"],a),u(o,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function i_(o){const t={},l=u(o,["description"]);l!=null&&c(t,["description"],l);const a=u(o,["name"]);a!=null&&c(t,["name"],a);const r=u(o,["parameters"]);r!=null&&c(t,["parameters"],r);const f=u(o,["parametersJsonSchema"]);f!=null&&c(t,["parametersJsonSchema"],f);const h=u(o,["response"]);h!=null&&c(t,["response"],h);const g=u(o,["responseJsonSchema"]);if(g!=null&&c(t,["responseJsonSchema"],g),u(o,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function l_(o,t,l){const a={},r=u(t,["systemInstruction"]);l!==void 0&&r!=null&&c(l,["systemInstruction"],Qa(pt(r)));const f=u(t,["temperature"]);f!=null&&c(a,["temperature"],f);const h=u(t,["topP"]);h!=null&&c(a,["topP"],h);const g=u(t,["topK"]);g!=null&&c(a,["topK"],g);const y=u(t,["candidateCount"]);y!=null&&c(a,["candidateCount"],y);const m=u(t,["maxOutputTokens"]);m!=null&&c(a,["maxOutputTokens"],m);const v=u(t,["stopSequences"]);v!=null&&c(a,["stopSequences"],v);const E=u(t,["responseLogprobs"]);E!=null&&c(a,["responseLogprobs"],E);const _=u(t,["logprobs"]);_!=null&&c(a,["logprobs"],_);const C=u(t,["presencePenalty"]);C!=null&&c(a,["presencePenalty"],C);const D=u(t,["frequencyPenalty"]);D!=null&&c(a,["frequencyPenalty"],D);const H=u(t,["seed"]);H!=null&&c(a,["seed"],H);const U=u(t,["responseMimeType"]);U!=null&&c(a,["responseMimeType"],U);const P=u(t,["responseSchema"]);P!=null&&c(a,["responseSchema"],Qu(P));const K=u(t,["responseJsonSchema"]);if(K!=null&&c(a,["responseJsonSchema"],K),u(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const O=u(t,["safetySettings"]);if(l!==void 0&&O!=null){let Ee=O;Array.isArray(Ee)&&(Ee=Ee.map(ke=>X_(ke))),c(l,["safetySettings"],Ee)}const $=u(t,["tools"]);if(l!==void 0&&$!=null){let Ee=mi($);Array.isArray(Ee)&&(Ee=Ee.map(ke=>nx(pi(ke)))),c(l,["tools"],Ee)}const Y=u(t,["toolConfig"]);if(l!==void 0&&Y!=null&&c(l,["toolConfig"],tx(Y)),u(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const te=u(t,["cachedContent"]);l!==void 0&&te!=null&&c(l,["cachedContent"],Nn(o,te));const W=u(t,["responseModalities"]);W!=null&&c(a,["responseModalities"],W);const Se=u(t,["mediaResolution"]);Se!=null&&c(a,["mediaResolution"],Se);const j=u(t,["speechConfig"]);if(j!=null&&c(a,["speechConfig"],$u(j)),u(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const pe=u(t,["thinkingConfig"]);pe!=null&&c(a,["thinkingConfig"],pe);const be=u(t,["imageConfig"]);be!=null&&c(a,["imageConfig"],D_(be));const Me=u(t,["enableEnhancedCivicAnswers"]);return Me!=null&&c(a,["enableEnhancedCivicAnswers"],Me),a}function a_(o,t,l){const a={},r=u(t,["systemInstruction"]);l!==void 0&&r!=null&&c(l,["systemInstruction"],pt(r));const f=u(t,["temperature"]);f!=null&&c(a,["temperature"],f);const h=u(t,["topP"]);h!=null&&c(a,["topP"],h);const g=u(t,["topK"]);g!=null&&c(a,["topK"],g);const y=u(t,["candidateCount"]);y!=null&&c(a,["candidateCount"],y);const m=u(t,["maxOutputTokens"]);m!=null&&c(a,["maxOutputTokens"],m);const v=u(t,["stopSequences"]);v!=null&&c(a,["stopSequences"],v);const E=u(t,["responseLogprobs"]);E!=null&&c(a,["responseLogprobs"],E);const _=u(t,["logprobs"]);_!=null&&c(a,["logprobs"],_);const C=u(t,["presencePenalty"]);C!=null&&c(a,["presencePenalty"],C);const D=u(t,["frequencyPenalty"]);D!=null&&c(a,["frequencyPenalty"],D);const H=u(t,["seed"]);H!=null&&c(a,["seed"],H);const U=u(t,["responseMimeType"]);U!=null&&c(a,["responseMimeType"],U);const P=u(t,["responseSchema"]);P!=null&&c(a,["responseSchema"],Qu(P));const K=u(t,["responseJsonSchema"]);K!=null&&c(a,["responseJsonSchema"],K);const O=u(t,["routingConfig"]);O!=null&&c(a,["routingConfig"],O);const $=u(t,["modelSelectionConfig"]);$!=null&&c(a,["modelConfig"],$);const Y=u(t,["safetySettings"]);if(l!==void 0&&Y!=null){let k=Y;Array.isArray(k)&&(k=k.map(J=>J)),c(l,["safetySettings"],k)}const te=u(t,["tools"]);if(l!==void 0&&te!=null){let k=mi(te);Array.isArray(k)&&(k=k.map(J=>Eg(pi(J)))),c(l,["tools"],k)}const W=u(t,["toolConfig"]);l!==void 0&&W!=null&&c(l,["toolConfig"],W);const Se=u(t,["labels"]);l!==void 0&&Se!=null&&c(l,["labels"],Se);const j=u(t,["cachedContent"]);l!==void 0&&j!=null&&c(l,["cachedContent"],Nn(o,j));const pe=u(t,["responseModalities"]);pe!=null&&c(a,["responseModalities"],pe);const be=u(t,["mediaResolution"]);be!=null&&c(a,["mediaResolution"],be);const Me=u(t,["speechConfig"]);Me!=null&&c(a,["speechConfig"],$u(Me));const Ee=u(t,["audioTimestamp"]);Ee!=null&&c(a,["audioTimestamp"],Ee);const ke=u(t,["thinkingConfig"]);ke!=null&&c(a,["thinkingConfig"],ke);const Xe=u(t,["imageConfig"]);if(Xe!=null&&c(a,["imageConfig"],U_(Xe)),u(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return a}function Rm(o,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Le(o,a));const r=u(t,["contents"]);if(r!=null){let h=Wt(r);Array.isArray(h)&&(h=h.map(g=>Qa(g))),c(l,["contents"],h)}const f=u(t,["config"]);return f!=null&&c(l,["generationConfig"],l_(o,f,l)),l}function Mm(o,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Le(o,a));const r=u(t,["contents"]);if(r!=null){let h=Wt(r);Array.isArray(h)&&(h=h.map(g=>g)),c(l,["contents"],h)}const f=u(t,["config"]);return f!=null&&c(l,["generationConfig"],a_(o,f,l)),l}function Im(o){const t={},l=u(o,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(o,["candidates"]);if(a!=null){let y=a;Array.isArray(y)&&(y=y.map(m=>wT(m))),c(t,["candidates"],y)}const r=u(o,["modelVersion"]);r!=null&&c(t,["modelVersion"],r);const f=u(o,["promptFeedback"]);f!=null&&c(t,["promptFeedback"],f);const h=u(o,["responseId"]);h!=null&&c(t,["responseId"],h);const g=u(o,["usageMetadata"]);return g!=null&&c(t,["usageMetadata"],g),t}function Dm(o){const t={},l=u(o,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(o,["candidates"]);if(a!=null){let m=a;Array.isArray(m)&&(m=m.map(v=>v)),c(t,["candidates"],m)}const r=u(o,["createTime"]);r!=null&&c(t,["createTime"],r);const f=u(o,["modelVersion"]);f!=null&&c(t,["modelVersion"],f);const h=u(o,["promptFeedback"]);h!=null&&c(t,["promptFeedback"],h);const g=u(o,["responseId"]);g!=null&&c(t,["responseId"],g);const y=u(o,["usageMetadata"]);return y!=null&&c(t,["usageMetadata"],y),t}function s_(o,t){const l={};if(u(o,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(o,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const a=u(o,["numberOfImages"]);t!==void 0&&a!=null&&c(t,["parameters","sampleCount"],a);const r=u(o,["aspectRatio"]);t!==void 0&&r!=null&&c(t,["parameters","aspectRatio"],r);const f=u(o,["guidanceScale"]);if(t!==void 0&&f!=null&&c(t,["parameters","guidanceScale"],f),u(o,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const h=u(o,["safetyFilterLevel"]);t!==void 0&&h!=null&&c(t,["parameters","safetySetting"],h);const g=u(o,["personGeneration"]);t!==void 0&&g!=null&&c(t,["parameters","personGeneration"],g);const y=u(o,["includeSafetyAttributes"]);t!==void 0&&y!=null&&c(t,["parameters","includeSafetyAttributes"],y);const m=u(o,["includeRaiReason"]);t!==void 0&&m!=null&&c(t,["parameters","includeRaiReason"],m);const v=u(o,["language"]);t!==void 0&&v!=null&&c(t,["parameters","language"],v);const E=u(o,["outputMimeType"]);t!==void 0&&E!=null&&c(t,["parameters","outputOptions","mimeType"],E);const _=u(o,["outputCompressionQuality"]);if(t!==void 0&&_!=null&&c(t,["parameters","outputOptions","compressionQuality"],_),u(o,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(u(o,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const C=u(o,["imageSize"]);if(t!==void 0&&C!=null&&c(t,["parameters","sampleImageSize"],C),u(o,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return l}function r_(o,t){const l={},a=u(o,["outputGcsUri"]);t!==void 0&&a!=null&&c(t,["parameters","storageUri"],a);const r=u(o,["negativePrompt"]);t!==void 0&&r!=null&&c(t,["parameters","negativePrompt"],r);const f=u(o,["numberOfImages"]);t!==void 0&&f!=null&&c(t,["parameters","sampleCount"],f);const h=u(o,["aspectRatio"]);t!==void 0&&h!=null&&c(t,["parameters","aspectRatio"],h);const g=u(o,["guidanceScale"]);t!==void 0&&g!=null&&c(t,["parameters","guidanceScale"],g);const y=u(o,["seed"]);t!==void 0&&y!=null&&c(t,["parameters","seed"],y);const m=u(o,["safetyFilterLevel"]);t!==void 0&&m!=null&&c(t,["parameters","safetySetting"],m);const v=u(o,["personGeneration"]);t!==void 0&&v!=null&&c(t,["parameters","personGeneration"],v);const E=u(o,["includeSafetyAttributes"]);t!==void 0&&E!=null&&c(t,["parameters","includeSafetyAttributes"],E);const _=u(o,["includeRaiReason"]);t!==void 0&&_!=null&&c(t,["parameters","includeRaiReason"],_);const C=u(o,["language"]);t!==void 0&&C!=null&&c(t,["parameters","language"],C);const D=u(o,["outputMimeType"]);t!==void 0&&D!=null&&c(t,["parameters","outputOptions","mimeType"],D);const H=u(o,["outputCompressionQuality"]);t!==void 0&&H!=null&&c(t,["parameters","outputOptions","compressionQuality"],H);const U=u(o,["addWatermark"]);t!==void 0&&U!=null&&c(t,["parameters","addWatermark"],U);const P=u(o,["labels"]);t!==void 0&&P!=null&&c(t,["labels"],P);const K=u(o,["imageSize"]);t!==void 0&&K!=null&&c(t,["parameters","sampleImageSize"],K);const O=u(o,["enhancePrompt"]);return t!==void 0&&O!=null&&c(t,["parameters","enhancePrompt"],O),l}function u_(o,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Le(o,a));const r=u(t,["prompt"]);r!=null&&c(l,["instances[0]","prompt"],r);const f=u(t,["config"]);return f!=null&&s_(f,l),l}function c_(o,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Le(o,a));const r=u(t,["prompt"]);r!=null&&c(l,["instances[0]","prompt"],r);const f=u(t,["config"]);return f!=null&&r_(f,l),l}function f_(o){const t={},l=u(o,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(o,["predictions"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(h=>x_(h))),c(t,["generatedImages"],f)}const r=u(o,["positivePromptSafetyAttributes"]);return r!=null&&c(t,["positivePromptSafetyAttributes"],vg(r)),t}function d_(o){const t={},l=u(o,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(o,["predictions"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(h=>$a(h))),c(t,["generatedImages"],f)}const r=u(o,["positivePromptSafetyAttributes"]);return r!=null&&c(t,["positivePromptSafetyAttributes"],Sg(r)),t}function h_(o,t){const l={},a=u(o,["numberOfVideos"]);if(t!==void 0&&a!=null&&c(t,["parameters","sampleCount"],a),u(o,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(o,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const r=u(o,["durationSeconds"]);if(t!==void 0&&r!=null&&c(t,["parameters","durationSeconds"],r),u(o,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const f=u(o,["aspectRatio"]);t!==void 0&&f!=null&&c(t,["parameters","aspectRatio"],f);const h=u(o,["resolution"]);t!==void 0&&h!=null&&c(t,["parameters","resolution"],h);const g=u(o,["personGeneration"]);if(t!==void 0&&g!=null&&c(t,["parameters","personGeneration"],g),u(o,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const y=u(o,["negativePrompt"]);t!==void 0&&y!=null&&c(t,["parameters","negativePrompt"],y);const m=u(o,["enhancePrompt"]);if(t!==void 0&&m!=null&&c(t,["parameters","enhancePrompt"],m),u(o,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const v=u(o,["lastFrame"]);t!==void 0&&v!=null&&c(t,["instances[0]","lastFrame"],Za(v));const E=u(o,["referenceImages"]);if(t!==void 0&&E!=null){let _=E;Array.isArray(_)&&(_=_.map(C=>mx(C))),c(t,["instances[0]","referenceImages"],_)}if(u(o,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(u(o,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return l}function p_(o,t){const l={},a=u(o,["numberOfVideos"]);t!==void 0&&a!=null&&c(t,["parameters","sampleCount"],a);const r=u(o,["outputGcsUri"]);t!==void 0&&r!=null&&c(t,["parameters","storageUri"],r);const f=u(o,["fps"]);t!==void 0&&f!=null&&c(t,["parameters","fps"],f);const h=u(o,["durationSeconds"]);t!==void 0&&h!=null&&c(t,["parameters","durationSeconds"],h);const g=u(o,["seed"]);t!==void 0&&g!=null&&c(t,["parameters","seed"],g);const y=u(o,["aspectRatio"]);t!==void 0&&y!=null&&c(t,["parameters","aspectRatio"],y);const m=u(o,["resolution"]);t!==void 0&&m!=null&&c(t,["parameters","resolution"],m);const v=u(o,["personGeneration"]);t!==void 0&&v!=null&&c(t,["parameters","personGeneration"],v);const E=u(o,["pubsubTopic"]);t!==void 0&&E!=null&&c(t,["parameters","pubsubTopic"],E);const _=u(o,["negativePrompt"]);t!==void 0&&_!=null&&c(t,["parameters","negativePrompt"],_);const C=u(o,["enhancePrompt"]);t!==void 0&&C!=null&&c(t,["parameters","enhancePrompt"],C);const D=u(o,["generateAudio"]);t!==void 0&&D!=null&&c(t,["parameters","generateAudio"],D);const H=u(o,["lastFrame"]);t!==void 0&&H!=null&&c(t,["instances[0]","lastFrame"],en(H));const U=u(o,["referenceImages"]);if(t!==void 0&&U!=null){let O=U;Array.isArray(O)&&(O=O.map($=>gx($))),c(t,["instances[0]","referenceImages"],O)}const P=u(o,["mask"]);t!==void 0&&P!=null&&c(t,["instances[0]","mask"],px(P));const K=u(o,["compressionQuality"]);return t!==void 0&&K!=null&&c(t,["parameters","compressionQuality"],K),l}function m_(o){const t={},l=u(o,["name"]);l!=null&&c(t,["name"],l);const a=u(o,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(o,["done"]);r!=null&&c(t,["done"],r);const f=u(o,["error"]);f!=null&&c(t,["error"],f);const h=u(o,["response","generateVideoResponse"]);return h!=null&&c(t,["response"],S_(h)),t}function g_(o){const t={},l=u(o,["name"]);l!=null&&c(t,["name"],l);const a=u(o,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(o,["done"]);r!=null&&c(t,["done"],r);const f=u(o,["error"]);f!=null&&c(t,["error"],f);const h=u(o,["response"]);return h!=null&&c(t,["response"],E_(h)),t}function y_(o,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Le(o,a));const r=u(t,["prompt"]);r!=null&&c(l,["instances[0]","prompt"],r);const f=u(t,["image"]);f!=null&&c(l,["instances[0]","image"],Za(f));const h=u(t,["video"]);h!=null&&c(l,["instances[0]","video"],Tg(h));const g=u(t,["source"]);g!=null&&T_(g,l);const y=u(t,["config"]);return y!=null&&h_(y,l),l}function v_(o,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Le(o,a));const r=u(t,["prompt"]);r!=null&&c(l,["instances[0]","prompt"],r);const f=u(t,["image"]);f!=null&&c(l,["instances[0]","image"],en(f));const h=u(t,["video"]);h!=null&&c(l,["instances[0]","video"],_g(h));const g=u(t,["source"]);g!=null&&__(g,l);const y=u(t,["config"]);return y!=null&&p_(y,l),l}function S_(o){const t={},l=u(o,["generatedSamples"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(h=>A_(h))),c(t,["generatedVideos"],f)}const a=u(o,["raiMediaFilteredCount"]);a!=null&&c(t,["raiMediaFilteredCount"],a);const r=u(o,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function E_(o){const t={},l=u(o,["videos"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(h=>b_(h))),c(t,["generatedVideos"],f)}const a=u(o,["raiMediaFilteredCount"]);a!=null&&c(t,["raiMediaFilteredCount"],a);const r=u(o,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function T_(o,t){const l={},a=u(o,["prompt"]);t!==void 0&&a!=null&&c(t,["instances[0]","prompt"],a);const r=u(o,["image"]);t!==void 0&&r!=null&&c(t,["instances[0]","image"],Za(r));const f=u(o,["video"]);return t!==void 0&&f!=null&&c(t,["instances[0]","video"],Tg(f)),l}function __(o,t){const l={},a=u(o,["prompt"]);t!==void 0&&a!=null&&c(t,["instances[0]","prompt"],a);const r=u(o,["image"]);t!==void 0&&r!=null&&c(t,["instances[0]","image"],en(r));const f=u(o,["video"]);return t!==void 0&&f!=null&&c(t,["instances[0]","video"],_g(f)),l}function x_(o){const t={},l=u(o,["_self"]);l!=null&&c(t,["image"],L_(l));const a=u(o,["raiFilteredReason"]);a!=null&&c(t,["raiFilteredReason"],a);const r=u(o,["_self"]);return r!=null&&c(t,["safetyAttributes"],vg(r)),t}function $a(o){const t={},l=u(o,["_self"]);l!=null&&c(t,["image"],yg(l));const a=u(o,["raiFilteredReason"]);a!=null&&c(t,["raiFilteredReason"],a);const r=u(o,["_self"]);r!=null&&c(t,["safetyAttributes"],Sg(r));const f=u(o,["prompt"]);return f!=null&&c(t,["enhancedPrompt"],f),t}function C_(o){const t={},l=u(o,["_self"]);l!=null&&c(t,["mask"],yg(l));const a=u(o,["labels"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(f=>f)),c(t,["labels"],r)}return t}function A_(o){const t={},l=u(o,["video"]);return l!=null&&c(t,["video"],dx(l)),t}function b_(o){const t={},l=u(o,["_self"]);return l!=null&&c(t,["video"],hx(l)),t}function N_(o){const t={},l=u(o,["modelSelectionConfig"]);l!=null&&c(t,["modelConfig"],l);const a=u(o,["responseJsonSchema"]);a!=null&&c(t,["responseJsonSchema"],a);const r=u(o,["audioTimestamp"]);r!=null&&c(t,["audioTimestamp"],r);const f=u(o,["candidateCount"]);f!=null&&c(t,["candidateCount"],f);const h=u(o,["enableAffectiveDialog"]);h!=null&&c(t,["enableAffectiveDialog"],h);const g=u(o,["frequencyPenalty"]);g!=null&&c(t,["frequencyPenalty"],g);const y=u(o,["logprobs"]);y!=null&&c(t,["logprobs"],y);const m=u(o,["maxOutputTokens"]);m!=null&&c(t,["maxOutputTokens"],m);const v=u(o,["mediaResolution"]);v!=null&&c(t,["mediaResolution"],v);const E=u(o,["presencePenalty"]);E!=null&&c(t,["presencePenalty"],E);const _=u(o,["responseLogprobs"]);_!=null&&c(t,["responseLogprobs"],_);const C=u(o,["responseMimeType"]);C!=null&&c(t,["responseMimeType"],C);const D=u(o,["responseModalities"]);D!=null&&c(t,["responseModalities"],D);const H=u(o,["responseSchema"]);H!=null&&c(t,["responseSchema"],H);const U=u(o,["routingConfig"]);U!=null&&c(t,["routingConfig"],U);const P=u(o,["seed"]);P!=null&&c(t,["seed"],P);const K=u(o,["speechConfig"]);K!=null&&c(t,["speechConfig"],K);const O=u(o,["stopSequences"]);O!=null&&c(t,["stopSequences"],O);const $=u(o,["temperature"]);$!=null&&c(t,["temperature"],$);const Y=u(o,["thinkingConfig"]);Y!=null&&c(t,["thinkingConfig"],Y);const te=u(o,["topK"]);te!=null&&c(t,["topK"],te);const W=u(o,["topP"]);if(W!=null&&c(t,["topP"],W),u(o,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function w_(o,t){const l={},a=u(t,["model"]);return a!=null&&c(l,["_url","name"],Le(o,a)),l}function R_(o,t){const l={},a=u(t,["model"]);return a!=null&&c(l,["_url","name"],Le(o,a)),l}function M_(o){const t={};if(u(o,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(o,["enableWidget"]);return l!=null&&c(t,["enableWidget"],l),t}function I_(o){const t={};if(u(o,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(o,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(o,["timeRangeFilter"]);return l!=null&&c(t,["timeRangeFilter"],l),t}function D_(o){const t={},l=u(o,["aspectRatio"]);l!=null&&c(t,["aspectRatio"],l);const a=u(o,["imageSize"]);if(a!=null&&c(t,["imageSize"],a),u(o,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(u(o,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(o,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function U_(o){const t={},l=u(o,["aspectRatio"]);l!=null&&c(t,["aspectRatio"],l);const a=u(o,["imageSize"]);a!=null&&c(t,["imageSize"],a);const r=u(o,["personGeneration"]);r!=null&&c(t,["personGeneration"],r);const f=u(o,["outputMimeType"]);f!=null&&c(t,["imageOutputOptions","mimeType"],f);const h=u(o,["outputCompressionQuality"]);return h!=null&&c(t,["imageOutputOptions","compressionQuality"],h),t}function L_(o){const t={},l=u(o,["bytesBase64Encoded"]);l!=null&&c(t,["imageBytes"],to(l));const a=u(o,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function yg(o){const t={},l=u(o,["gcsUri"]);l!=null&&c(t,["gcsUri"],l);const a=u(o,["bytesBase64Encoded"]);a!=null&&c(t,["imageBytes"],to(a));const r=u(o,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}function Za(o){const t={};if(u(o,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const l=u(o,["imageBytes"]);l!=null&&c(t,["bytesBase64Encoded"],to(l));const a=u(o,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function en(o){const t={},l=u(o,["gcsUri"]);l!=null&&c(t,["gcsUri"],l);const a=u(o,["imageBytes"]);a!=null&&c(t,["bytesBase64Encoded"],to(a));const r=u(o,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}function k_(o,t,l){const a={},r=u(t,["pageSize"]);l!==void 0&&r!=null&&c(l,["_query","pageSize"],r);const f=u(t,["pageToken"]);l!==void 0&&f!=null&&c(l,["_query","pageToken"],f);const h=u(t,["filter"]);l!==void 0&&h!=null&&c(l,["_query","filter"],h);const g=u(t,["queryBase"]);return l!==void 0&&g!=null&&c(l,["_url","models_url"],cg(o,g)),a}function H_(o,t,l){const a={},r=u(t,["pageSize"]);l!==void 0&&r!=null&&c(l,["_query","pageSize"],r);const f=u(t,["pageToken"]);l!==void 0&&f!=null&&c(l,["_query","pageToken"],f);const h=u(t,["filter"]);l!==void 0&&h!=null&&c(l,["_query","filter"],h);const g=u(t,["queryBase"]);return l!==void 0&&g!=null&&c(l,["_url","models_url"],cg(o,g)),a}function G_(o,t){const l={},a=u(t,["config"]);return a!=null&&k_(o,a,l),l}function V_(o,t){const l={},a=u(t,["config"]);return a!=null&&H_(o,a,l),l}function z_(o){const t={},l=u(o,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(o,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(o,["_self"]);if(r!=null){let f=fg(r);Array.isArray(f)&&(f=f.map(h=>Hu(h))),c(t,["models"],f)}return t}function q_(o){const t={},l=u(o,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(o,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(o,["_self"]);if(r!=null){let f=fg(r);Array.isArray(f)&&(f=f.map(h=>Gu(h))),c(t,["models"],f)}return t}function B_(o){const t={},l=u(o,["maskMode"]);l!=null&&c(t,["maskMode"],l);const a=u(o,["segmentationClasses"]);a!=null&&c(t,["maskClasses"],a);const r=u(o,["maskDilation"]);return r!=null&&c(t,["dilation"],r),t}function Hu(o){const t={},l=u(o,["name"]);l!=null&&c(t,["name"],l);const a=u(o,["displayName"]);a!=null&&c(t,["displayName"],a);const r=u(o,["description"]);r!=null&&c(t,["description"],r);const f=u(o,["version"]);f!=null&&c(t,["version"],f);const h=u(o,["_self"]);h!=null&&c(t,["tunedModelInfo"],ox(h));const g=u(o,["inputTokenLimit"]);g!=null&&c(t,["inputTokenLimit"],g);const y=u(o,["outputTokenLimit"]);y!=null&&c(t,["outputTokenLimit"],y);const m=u(o,["supportedGenerationMethods"]);m!=null&&c(t,["supportedActions"],m);const v=u(o,["temperature"]);v!=null&&c(t,["temperature"],v);const E=u(o,["maxTemperature"]);E!=null&&c(t,["maxTemperature"],E);const _=u(o,["topP"]);_!=null&&c(t,["topP"],_);const C=u(o,["topK"]);C!=null&&c(t,["topK"],C);const D=u(o,["thinking"]);return D!=null&&c(t,["thinking"],D),t}function Gu(o){const t={},l=u(o,["name"]);l!=null&&c(t,["name"],l);const a=u(o,["displayName"]);a!=null&&c(t,["displayName"],a);const r=u(o,["description"]);r!=null&&c(t,["description"],r);const f=u(o,["versionId"]);f!=null&&c(t,["version"],f);const h=u(o,["deployedModels"]);if(h!=null){let E=h;Array.isArray(E)&&(E=E.map(_=>e_(_))),c(t,["endpoints"],E)}const g=u(o,["labels"]);g!=null&&c(t,["labels"],g);const y=u(o,["_self"]);y!=null&&c(t,["tunedModelInfo"],ix(y));const m=u(o,["defaultCheckpointId"]);m!=null&&c(t,["defaultCheckpointId"],m);const v=u(o,["checkpoints"]);if(v!=null){let E=v;Array.isArray(E)&&(E=E.map(_=>_)),c(t,["checkpoints"],E)}return t}function P_(o){const t={},l=u(o,["mediaResolution"]);l!=null&&c(t,["mediaResolution"],l);const a=u(o,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(o,["executableCode"]);r!=null&&c(t,["executableCode"],r);const f=u(o,["fileData"]);f!=null&&c(t,["fileData"],t_(f));const h=u(o,["functionCall"]);h!=null&&c(t,["functionCall"],n_(h));const g=u(o,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const y=u(o,["inlineData"]);y!=null&&c(t,["inlineData"],NT(y));const m=u(o,["text"]);m!=null&&c(t,["text"],m);const v=u(o,["thought"]);v!=null&&c(t,["thought"],v);const E=u(o,["thoughtSignature"]);E!=null&&c(t,["thoughtSignature"],E);const _=u(o,["videoMetadata"]);return _!=null&&c(t,["videoMetadata"],_),t}function O_(o){const t={},l=u(o,["productImage"]);return l!=null&&c(t,["image"],en(l)),t}function F_(o,t){const l={},a=u(o,["numberOfImages"]);t!==void 0&&a!=null&&c(t,["parameters","sampleCount"],a);const r=u(o,["baseSteps"]);t!==void 0&&r!=null&&c(t,["parameters","baseSteps"],r);const f=u(o,["outputGcsUri"]);t!==void 0&&f!=null&&c(t,["parameters","storageUri"],f);const h=u(o,["seed"]);t!==void 0&&h!=null&&c(t,["parameters","seed"],h);const g=u(o,["safetyFilterLevel"]);t!==void 0&&g!=null&&c(t,["parameters","safetySetting"],g);const y=u(o,["personGeneration"]);t!==void 0&&y!=null&&c(t,["parameters","personGeneration"],y);const m=u(o,["addWatermark"]);t!==void 0&&m!=null&&c(t,["parameters","addWatermark"],m);const v=u(o,["outputMimeType"]);t!==void 0&&v!=null&&c(t,["parameters","outputOptions","mimeType"],v);const E=u(o,["outputCompressionQuality"]);t!==void 0&&E!=null&&c(t,["parameters","outputOptions","compressionQuality"],E);const _=u(o,["enhancePrompt"]);t!==void 0&&_!=null&&c(t,["parameters","enhancePrompt"],_);const C=u(o,["labels"]);return t!==void 0&&C!=null&&c(t,["labels"],C),l}function J_(o,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Le(o,a));const r=u(t,["source"]);r!=null&&W_(r,l);const f=u(t,["config"]);return f!=null&&F_(f,l),l}function Y_(o){const t={},l=u(o,["predictions"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(r=>$a(r))),c(t,["generatedImages"],a)}return t}function W_(o,t){const l={},a=u(o,["prompt"]);t!==void 0&&a!=null&&c(t,["instances[0]","prompt"],a);const r=u(o,["personImage"]);t!==void 0&&r!=null&&c(t,["instances[0]","personImage","image"],en(r));const f=u(o,["productImages"]);if(t!==void 0&&f!=null){let h=f;Array.isArray(h)&&(h=h.map(g=>O_(g))),c(t,["instances[0]","productImages"],h)}return l}function K_(o){const t={},l=u(o,["referenceImage"]);l!=null&&c(t,["referenceImage"],en(l));const a=u(o,["referenceId"]);a!=null&&c(t,["referenceId"],a);const r=u(o,["referenceType"]);r!=null&&c(t,["referenceType"],r);const f=u(o,["maskImageConfig"]);f!=null&&c(t,["maskImageConfig"],B_(f));const h=u(o,["controlImageConfig"]);h!=null&&c(t,["controlImageConfig"],LT(h));const g=u(o,["styleImageConfig"]);g!=null&&c(t,["styleImageConfig"],g);const y=u(o,["subjectImageConfig"]);return y!=null&&c(t,["subjectImageConfig"],y),t}function vg(o){const t={},l=u(o,["safetyAttributes","categories"]);l!=null&&c(t,["categories"],l);const a=u(o,["safetyAttributes","scores"]);a!=null&&c(t,["scores"],a);const r=u(o,["contentType"]);return r!=null&&c(t,["contentType"],r),t}function Sg(o){const t={},l=u(o,["safetyAttributes","categories"]);l!=null&&c(t,["categories"],l);const a=u(o,["safetyAttributes","scores"]);a!=null&&c(t,["scores"],a);const r=u(o,["contentType"]);return r!=null&&c(t,["contentType"],r),t}function X_(o){const t={},l=u(o,["category"]);if(l!=null&&c(t,["category"],l),u(o,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const a=u(o,["threshold"]);return a!=null&&c(t,["threshold"],a),t}function Q_(o){const t={},l=u(o,["image"]);return l!=null&&c(t,["image"],en(l)),t}function $_(o,t){const l={},a=u(o,["mode"]);t!==void 0&&a!=null&&c(t,["parameters","mode"],a);const r=u(o,["maxPredictions"]);t!==void 0&&r!=null&&c(t,["parameters","maxPredictions"],r);const f=u(o,["confidenceThreshold"]);t!==void 0&&f!=null&&c(t,["parameters","confidenceThreshold"],f);const h=u(o,["maskDilation"]);t!==void 0&&h!=null&&c(t,["parameters","maskDilation"],h);const g=u(o,["binaryColorThreshold"]);t!==void 0&&g!=null&&c(t,["parameters","binaryColorThreshold"],g);const y=u(o,["labels"]);return t!==void 0&&y!=null&&c(t,["labels"],y),l}function Z_(o,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Le(o,a));const r=u(t,["source"]);r!=null&&ex(r,l);const f=u(t,["config"]);return f!=null&&$_(f,l),l}function j_(o){const t={},l=u(o,["predictions"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(r=>C_(r))),c(t,["generatedMasks"],a)}return t}function ex(o,t){const l={},a=u(o,["prompt"]);t!==void 0&&a!=null&&c(t,["instances[0]","prompt"],a);const r=u(o,["image"]);t!==void 0&&r!=null&&c(t,["instances[0]","image"],en(r));const f=u(o,["scribbleImage"]);return t!==void 0&&f!=null&&c(t,["instances[0]","scribble"],Q_(f)),l}function tx(o){const t={},l=u(o,["retrievalConfig"]);l!=null&&c(t,["retrievalConfig"],l);const a=u(o,["functionCallingConfig"]);return a!=null&&c(t,["functionCallingConfig"],o_(a)),t}function nx(o){const t={};if(u(o,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=u(o,["computerUse"]);l!=null&&c(t,["computerUse"],l);const a=u(o,["fileSearch"]);a!=null&&c(t,["fileSearch"],a);const r=u(o,["codeExecution"]);if(r!=null&&c(t,["codeExecution"],r),u(o,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=u(o,["functionDeclarations"]);if(f!=null){let v=f;Array.isArray(v)&&(v=v.map(E=>E)),c(t,["functionDeclarations"],v)}const h=u(o,["googleMaps"]);h!=null&&c(t,["googleMaps"],M_(h));const g=u(o,["googleSearch"]);g!=null&&c(t,["googleSearch"],I_(g));const y=u(o,["googleSearchRetrieval"]);y!=null&&c(t,["googleSearchRetrieval"],y);const m=u(o,["urlContext"]);return m!=null&&c(t,["urlContext"],m),t}function Eg(o){const t={},l=u(o,["retrieval"]);l!=null&&c(t,["retrieval"],l);const a=u(o,["computerUse"]);if(a!=null&&c(t,["computerUse"],a),u(o,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=u(o,["codeExecution"]);r!=null&&c(t,["codeExecution"],r);const f=u(o,["enterpriseWebSearch"]);f!=null&&c(t,["enterpriseWebSearch"],f);const h=u(o,["functionDeclarations"]);if(h!=null){let E=h;Array.isArray(E)&&(E=E.map(_=>i_(_))),c(t,["functionDeclarations"],E)}const g=u(o,["googleMaps"]);g!=null&&c(t,["googleMaps"],g);const y=u(o,["googleSearch"]);y!=null&&c(t,["googleSearch"],y);const m=u(o,["googleSearchRetrieval"]);m!=null&&c(t,["googleSearchRetrieval"],m);const v=u(o,["urlContext"]);return v!=null&&c(t,["urlContext"],v),t}function ox(o){const t={},l=u(o,["baseModel"]);l!=null&&c(t,["baseModel"],l);const a=u(o,["createTime"]);a!=null&&c(t,["createTime"],a);const r=u(o,["updateTime"]);return r!=null&&c(t,["updateTime"],r),t}function ix(o){const t={},l=u(o,["labels","google-vertex-llm-tuning-base-model-id"]);l!=null&&c(t,["baseModel"],l);const a=u(o,["createTime"]);a!=null&&c(t,["createTime"],a);const r=u(o,["updateTime"]);return r!=null&&c(t,["updateTime"],r),t}function lx(o,t){const l={},a=u(o,["displayName"]);t!==void 0&&a!=null&&c(t,["displayName"],a);const r=u(o,["description"]);t!==void 0&&r!=null&&c(t,["description"],r);const f=u(o,["defaultCheckpointId"]);return t!==void 0&&f!=null&&c(t,["defaultCheckpointId"],f),l}function ax(o,t){const l={},a=u(o,["displayName"]);t!==void 0&&a!=null&&c(t,["displayName"],a);const r=u(o,["description"]);t!==void 0&&r!=null&&c(t,["description"],r);const f=u(o,["defaultCheckpointId"]);return t!==void 0&&f!=null&&c(t,["defaultCheckpointId"],f),l}function sx(o,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","name"],Le(o,a));const r=u(t,["config"]);return r!=null&&lx(r,l),l}function rx(o,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Le(o,a));const r=u(t,["config"]);return r!=null&&ax(r,l),l}function ux(o,t){const l={},a=u(o,["outputGcsUri"]);t!==void 0&&a!=null&&c(t,["parameters","storageUri"],a);const r=u(o,["safetyFilterLevel"]);t!==void 0&&r!=null&&c(t,["parameters","safetySetting"],r);const f=u(o,["personGeneration"]);t!==void 0&&f!=null&&c(t,["parameters","personGeneration"],f);const h=u(o,["includeRaiReason"]);t!==void 0&&h!=null&&c(t,["parameters","includeRaiReason"],h);const g=u(o,["outputMimeType"]);t!==void 0&&g!=null&&c(t,["parameters","outputOptions","mimeType"],g);const y=u(o,["outputCompressionQuality"]);t!==void 0&&y!=null&&c(t,["parameters","outputOptions","compressionQuality"],y);const m=u(o,["enhanceInputImage"]);t!==void 0&&m!=null&&c(t,["parameters","upscaleConfig","enhanceInputImage"],m);const v=u(o,["imagePreservationFactor"]);t!==void 0&&v!=null&&c(t,["parameters","upscaleConfig","imagePreservationFactor"],v);const E=u(o,["labels"]);t!==void 0&&E!=null&&c(t,["labels"],E);const _=u(o,["numberOfImages"]);t!==void 0&&_!=null&&c(t,["parameters","sampleCount"],_);const C=u(o,["mode"]);return t!==void 0&&C!=null&&c(t,["parameters","mode"],C),l}function cx(o,t){const l={},a=u(t,["model"]);a!=null&&c(l,["_url","model"],Le(o,a));const r=u(t,["image"]);r!=null&&c(l,["instances[0]","image"],en(r));const f=u(t,["upscaleFactor"]);f!=null&&c(l,["parameters","upscaleConfig","upscaleFactor"],f);const h=u(t,["config"]);return h!=null&&ux(h,l),l}function fx(o){const t={},l=u(o,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(o,["predictions"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(f=>$a(f))),c(t,["generatedImages"],r)}return t}function dx(o){const t={},l=u(o,["uri"]);l!=null&&c(t,["uri"],l);const a=u(o,["encodedVideo"]);a!=null&&c(t,["videoBytes"],to(a));const r=u(o,["encoding"]);return r!=null&&c(t,["mimeType"],r),t}function hx(o){const t={},l=u(o,["gcsUri"]);l!=null&&c(t,["uri"],l);const a=u(o,["bytesBase64Encoded"]);a!=null&&c(t,["videoBytes"],to(a));const r=u(o,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}function px(o){const t={},l=u(o,["image"]);l!=null&&c(t,["_self"],en(l));const a=u(o,["maskMode"]);return a!=null&&c(t,["maskMode"],a),t}function mx(o){const t={},l=u(o,["image"]);l!=null&&c(t,["image"],Za(l));const a=u(o,["referenceType"]);return a!=null&&c(t,["referenceType"],a),t}function gx(o){const t={},l=u(o,["image"]);l!=null&&c(t,["image"],en(l));const a=u(o,["referenceType"]);return a!=null&&c(t,["referenceType"],a),t}function Tg(o){const t={},l=u(o,["uri"]);l!=null&&c(t,["uri"],l);const a=u(o,["videoBytes"]);a!=null&&c(t,["encodedVideo"],to(a));const r=u(o,["mimeType"]);return r!=null&&c(t,["encoding"],r),t}function _g(o){const t={},l=u(o,["uri"]);l!=null&&c(t,["gcsUri"],l);const a=u(o,["videoBytes"]);a!=null&&c(t,["bytesBase64Encoded"],to(a));const r=u(o,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yx(o,t){const l={},a=u(o,["displayName"]);return t!==void 0&&a!=null&&c(t,["displayName"],a),l}function vx(o){const t={},l=u(o,["config"]);return l!=null&&yx(l,t),t}function Sx(o,t){const l={},a=u(o,["force"]);return t!==void 0&&a!=null&&c(t,["_query","force"],a),l}function Ex(o){const t={},l=u(o,["name"]);l!=null&&c(t,["_url","name"],l);const a=u(o,["config"]);return a!=null&&Sx(a,t),t}function Tx(o){const t={},l=u(o,["name"]);return l!=null&&c(t,["_url","name"],l),t}function _x(o,t){const l={},a=u(o,["customMetadata"]);if(t!==void 0&&a!=null){let f=a;Array.isArray(f)&&(f=f.map(h=>h)),c(t,["customMetadata"],f)}const r=u(o,["chunkingConfig"]);return t!==void 0&&r!=null&&c(t,["chunkingConfig"],r),l}function xx(o){const t={},l=u(o,["name"]);l!=null&&c(t,["name"],l);const a=u(o,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(o,["done"]);r!=null&&c(t,["done"],r);const f=u(o,["error"]);f!=null&&c(t,["error"],f);const h=u(o,["response"]);return h!=null&&c(t,["response"],Ax(h)),t}function Cx(o){const t={},l=u(o,["fileSearchStoreName"]);l!=null&&c(t,["_url","file_search_store_name"],l);const a=u(o,["fileName"]);a!=null&&c(t,["fileName"],a);const r=u(o,["config"]);return r!=null&&_x(r,t),t}function Ax(o){const t={},l=u(o,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(o,["parent"]);a!=null&&c(t,["parent"],a);const r=u(o,["documentName"]);return r!=null&&c(t,["documentName"],r),t}function bx(o,t){const l={},a=u(o,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(o,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),l}function Nx(o){const t={},l=u(o,["config"]);return l!=null&&bx(l,t),t}function wx(o){const t={},l=u(o,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(o,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(o,["fileSearchStores"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(h=>h)),c(t,["fileSearchStores"],f)}return t}function xg(o,t){const l={},a=u(o,["mimeType"]);t!==void 0&&a!=null&&c(t,["mimeType"],a);const r=u(o,["displayName"]);t!==void 0&&r!=null&&c(t,["displayName"],r);const f=u(o,["customMetadata"]);if(t!==void 0&&f!=null){let g=f;Array.isArray(g)&&(g=g.map(y=>y)),c(t,["customMetadata"],g)}const h=u(o,["chunkingConfig"]);return t!==void 0&&h!=null&&c(t,["chunkingConfig"],h),l}function Rx(o){const t={},l=u(o,["fileSearchStoreName"]);l!=null&&c(t,["_url","file_search_store_name"],l);const a=u(o,["config"]);return a!=null&&xg(a,t),t}function Mx(o){const t={},l=u(o,["sdkHttpResponse"]);return l!=null&&c(t,["sdkHttpResponse"],l),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ix="Content-Type",Dx="X-Server-Timeout",Ux="User-Agent",Vu="x-goog-api-client",Lx="1.36.0",kx=`google-genai-sdk/${Lx}`,Hx="v1beta1",Gx="v1beta";class Vx{constructor(t){var l,a;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=(l=this.clientOptions.apiVersion)!==null&&l!==void 0?l:Hx,r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=(a=this.clientOptions.apiVersion)!==null&&a!==void 0?a:Gx,r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,t.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const t=new Headers;return await this.clientOptions.auth.addAuthHeaders(t),t}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const a=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&a.push(t.apiVersion),a.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),l=new URL(t);return l.protocol=l.protocol=="http:"?"ws":"wss",l.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,l,a){const r=[this.getRequestUrlInternal(l)];return a&&r.push(this.getBaseResourcePath()),t!==""&&r.push(t),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(t){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let l=this.clientOptions.httpOptions;t.httpOptions&&(l=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const a=this.shouldPrependVertexProjectPath(t),r=this.constructUrl(t.path,l,a);if(t.queryParams)for(const[h,g]of Object.entries(t.queryParams))r.searchParams.append(h,String(g));let f={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else f.body=t.body;return f=await this.includeExtraHttpOptionsToRequestInit(f,l,r.toString(),t.abortSignal),this.unaryApiCall(r,f,t.httpMethod)}patchHttpOptions(t,l){const a=JSON.parse(JSON.stringify(t));for(const[r,f]of Object.entries(l))typeof f=="object"?a[r]=Object.assign(Object.assign({},a[r]),f):f!==void 0&&(a[r]=f);return a}async requestStream(t){let l=this.clientOptions.httpOptions;t.httpOptions&&(l=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const a=this.shouldPrependVertexProjectPath(t),r=this.constructUrl(t.path,l,a);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let f={};return f.body=t.body,f=await this.includeExtraHttpOptionsToRequestInit(f,l,r.toString(),t.abortSignal),this.streamApiCall(r,f,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,l,a,r){if(l&&l.timeout||r){const f=new AbortController,h=f.signal;if(l.timeout&&(l==null?void 0:l.timeout)>0){const g=setTimeout(()=>f.abort(),l.timeout);g&&typeof g.unref=="function"&&g.unref()}r&&r.addEventListener("abort",()=>{f.abort()}),t.signal=h}return l&&l.extraBody!==null&&zx(t,l.extraBody),t.headers=await this.getHeadersInternal(l,a),t}async unaryApiCall(t,l,a){return this.apiCall(t.toString(),Object.assign(Object.assign({},l),{method:a})).then(async r=>(await Um(r),new Uu(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(t,l,a){return this.apiCall(t.toString(),Object.assign(Object.assign({},l),{method:a})).then(async r=>(await Um(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(t){return Zt(this,arguments,function*(){var a;const r=(a=t==null?void 0:t.body)===null||a===void 0?void 0:a.getReader(),f=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let h="";const g="data:",y=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:m,value:v}=yield de(r.read());if(m){if(h.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const E=f.decode(v,{stream:!0});try{const D=JSON.parse(E);if("error"in D){const H=JSON.parse(JSON.stringify(D.error)),U=H.status,P=H.code,K=`got status: ${U}. ${JSON.stringify(D)}`;if(P>=400&&P<600)throw new Xa({message:K,status:P})}}catch(D){if(D.name==="ApiError")throw D}h+=E;let _=-1,C=0;for(;;){_=-1,C=0;for(const U of y){const P=h.indexOf(U);P!==-1&&(_===-1||P<_)&&(_=P,C=U.length)}if(_===-1)break;const D=h.substring(0,_);h=h.substring(_+C);const H=D.trim();if(H.startsWith(g)){const U=H.substring(g.length).trim();try{const P=new Response(U,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield de(new Uu(P))}catch(P){throw new Error(`exception parsing stream chunk ${U}. ${P}`)}}}}}finally{r.releaseLock()}})}async apiCall(t,l){return fetch(t,l).catch(a=>{throw new Error(`exception ${a} sending request`)})}getDefaultHeaders(){const t={},l=kx+" "+this.clientOptions.userAgentExtra;return t[Ux]=l,t[Vu]=l,t[Ix]="application/json",t}async getHeadersInternal(t,l){const a=new Headers;if(t&&t.headers){for(const[r,f]of Object.entries(t.headers))a.append(r,f);t.timeout&&t.timeout>0&&a.append(Dx,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(a,l),a}getFileName(t){var l;let a="";return typeof t=="string"&&(a=t.replace(/[/\\]+$/,""),a=(l=a.split(/[/\\]/).pop())!==null&&l!==void 0?l:""),a}async uploadFile(t,l){var a;const r={};l!=null&&(r.mimeType=l.mimeType,r.name=l.name,r.displayName=l.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const f=this.clientOptions.uploader,h=await f.stat(t);r.sizeBytes=String(h.size);const g=(a=l==null?void 0:l.mimeType)!==null&&a!==void 0?a:h.type;if(g===void 0||g==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=g;const y={file:r},m=this.getFileName(t),v=Z("upload/v1beta/files",y._url),E=await this.fetchUploadUrl(v,r.sizeBytes,r.mimeType,m,y,l==null?void 0:l.httpOptions);return f.upload(t,E,this)}async uploadFileToFileSearchStore(t,l,a){var r;const f=this.clientOptions.uploader,h=await f.stat(l),g=String(h.size),y=(r=a==null?void 0:a.mimeType)!==null&&r!==void 0?r:h.type;if(y===void 0||y==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const m=`upload/v1beta/${t}:uploadToFileSearchStore`,v=this.getFileName(l),E={};a!=null&&xg(a,E);const _=await this.fetchUploadUrl(m,g,y,v,E,a==null?void 0:a.httpOptions);return f.uploadToFileSearchStore(l,_,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,l,a,r,f,h){var g;let y={};h?y=h:y={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${l}`,"X-Goog-Upload-Header-Content-Type":`${a}`},r?{"X-Goog-Upload-File-Name":r}:{})};const m=await this.request({path:t,body:JSON.stringify(f),httpMethod:"POST",httpOptions:y});if(!m||!(m!=null&&m.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const v=(g=m==null?void 0:m.headers)===null||g===void 0?void 0:g["x-goog-upload-url"];if(v===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return v}}async function Um(o){var t;if(o===void 0)throw new Error("response is undefined");if(!o.ok){const l=o.status;let a;!((t=o.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?a=await o.json():a={error:{message:await o.text(),code:o.status,status:o.statusText}};const r=JSON.stringify(a);throw l>=400&&l<600?new Xa({message:r,status:l}):new Error(r)}}function zx(o,t){if(!t||Object.keys(t).length===0)return;if(o.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let l={};if(typeof o.body=="string"&&o.body.length>0)try{const f=JSON.parse(o.body);if(typeof f=="object"&&f!==null&&!Array.isArray(f))l=f;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function a(f,h){const g=Object.assign({},f);for(const y in h)if(Object.prototype.hasOwnProperty.call(h,y)){const m=h[y],v=g[y];m&&typeof m=="object"&&!Array.isArray(m)&&v&&typeof v=="object"&&!Array.isArray(v)?g[y]=a(v,m):(v&&m&&typeof v!=typeof m&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${y}". Original type: ${typeof v}, New type: ${typeof m}. Overwriting.`),g[y]=m)}return g}const r=a(l,t);o.body=JSON.stringify(r)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const qx="mcp_used/unknown";let Bx=!1;function Cg(o){for(const t of o)if(Px(t)||typeof t=="object"&&"inputSchema"in t)return!0;return Bx}function Ag(o){var t;const l=(t=o[Vu])!==null&&t!==void 0?t:"";o[Vu]=(l+` ${qx}`).trimStart()}function Px(o){return o!==null&&typeof o=="object"&&o instanceof ju}function Ox(o){return Zt(this,arguments,function*(l,a=100){let r,f=0;for(;f<a;){const h=yield de(l.listTools({cursor:r}));for(const g of h.tools)yield yield de(g),f++;if(!h.nextCursor)break;r=h.nextCursor}})}class ju{constructor(t=[],l){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=l}static create(t,l){return new ju(t,l)}async initialize(){var t,l,a,r;if(this.mcpTools.length>0)return;const f={},h=[];for(const v of this.mcpClients)try{for(var g=!0,y=(l=void 0,jt(Ox(v))),m;m=await y.next(),t=m.done,!t;g=!0){r=m.value,g=!1;const E=r;h.push(E);const _=E.name;if(f[_])throw new Error(`Duplicate function name ${_} found in MCP tools. Please ensure function names are unique.`);f[_]=v}}catch(E){l={error:E}}finally{try{!g&&!t&&(a=y.return)&&await a.call(y)}finally{if(l)throw l.error}}this.mcpTools=h,this.functionNameToMcpClient=f}async tool(){return await this.initialize(),ES(this.mcpTools,this.config)}async callTool(t){await this.initialize();const l=[];for(const a of t)if(a.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[a.name];let f;this.config.timeout&&(f={timeout:this.config.timeout});const h=await r.callTool({name:a.name,arguments:a.args},void 0,f);l.push({functionResponse:{name:a.name,response:h.isError?{error:h}:h}})}return l}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function Fx(o,t,l){const a=new dS;let r;l.data instanceof Blob?r=JSON.parse(await l.data.text()):r=JSON.parse(l.data),Object.assign(a,r),t(a)}class Jx{constructor(t,l,a){this.apiClient=t,this.auth=l,this.webSocketFactory=a}async connect(t){var l,a;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion(),h=Kx(this.apiClient.getDefaultHeaders()),g=this.apiClient.getApiKey(),y=`${r}/ws/google.ai.generativelanguage.${f}.GenerativeService.BidiGenerateMusic?key=${g}`;let m=()=>{};const v=new Promise(O=>{m=O}),E=t.callbacks,_=function(){m({})},C=this.apiClient,D={onopen:_,onmessage:O=>{Fx(C,E.onmessage,O)},onerror:(l=E==null?void 0:E.onerror)!==null&&l!==void 0?l:function(O){},onclose:(a=E==null?void 0:E.onclose)!==null&&a!==void 0?a:function(O){}},H=this.webSocketFactory.create(y,Wx(h),D);H.connect(),await v;const K={setup:{model:Le(this.apiClient,t.model)}};return H.send(JSON.stringify(K)),new Yx(H,this.apiClient)}}class Yx{constructor(t,l){this.conn=t,this.apiClient=l}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const l=yT(t);this.conn.send(JSON.stringify({clientContent:l}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const l=gT(t);this.conn.send(JSON.stringify(l))}sendPlaybackControl(t){const l={playbackControl:t};this.conn.send(JSON.stringify(l))}play(){this.sendPlaybackControl(ci.PLAY)}pause(){this.sendPlaybackControl(ci.PAUSE)}stop(){this.sendPlaybackControl(ci.STOP)}resetContext(){this.sendPlaybackControl(ci.RESET_CONTEXT)}close(){this.conn.close()}}function Wx(o){const t={};return o.forEach((l,a)=>{t[a]=l}),t}function Kx(o){const t=new Headers;for(const[l,a]of Object.entries(o))t.append(l,a);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Xx="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function Qx(o,t,l){const a=new fS;let r;l.data instanceof Blob?r=await l.data.text():l.data instanceof ArrayBuffer?r=new TextDecoder().decode(l.data):r=l.data;const f=JSON.parse(r);if(o.isVertexAI()){const h=ET(f);Object.assign(a,h)}else Object.assign(a,f);t(a)}class $x{constructor(t,l,a){this.apiClient=t,this.auth=l,this.webSocketFactory=a,this.music=new Jx(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var l,a,r,f,h,g;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const y=this.apiClient.getWebsocketBaseUrl(),m=this.apiClient.getApiVersion();let v;const E=this.apiClient.getHeaders();t.config&&t.config.tools&&Cg(t.config.tools)&&Ag(E);const _=tC(E);if(this.apiClient.isVertexAI())v=`${y}/ws/google.cloud.aiplatform.${m}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(_,v);else{const j=this.apiClient.getApiKey();let pe="BidiGenerateContent",be="key";j!=null&&j.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),m!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),pe="BidiGenerateContentConstrained",be="access_token"),v=`${y}/ws/google.ai.generativelanguage.${m}.GenerativeService.${pe}?${be}=${j}`}let C=()=>{};const D=new Promise(j=>{C=j}),H=t.callbacks,U=function(){var j;(j=H==null?void 0:H.onopen)===null||j===void 0||j.call(H),C({})},P=this.apiClient,K={onopen:U,onmessage:j=>{Qx(P,H.onmessage,j)},onerror:(l=H==null?void 0:H.onerror)!==null&&l!==void 0?l:function(j){},onclose:(a=H==null?void 0:H.onclose)!==null&&a!==void 0?a:function(j){}},O=this.webSocketFactory.create(v,eC(_),K);O.connect(),await D;let $=Le(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&$.startsWith("publishers/")){const j=this.apiClient.getProject(),pe=this.apiClient.getLocation();$=`projects/${j}/locations/${pe}/`+$}let Y={};this.apiClient.isVertexAI()&&((r=t.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[Oa.AUDIO]}:t.config.responseModalities=[Oa.AUDIO]),!((f=t.config)===null||f===void 0)&&f.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const te=(g=(h=t.config)===null||h===void 0?void 0:h.tools)!==null&&g!==void 0?g:[],W=[];for(const j of te)if(this.isCallableTool(j)){const pe=j;W.push(await pe.tool())}else W.push(j);W.length>0&&(t.config.tools=W);const Se={model:$,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?Y=mT(this.apiClient,Se):Y=pT(this.apiClient,Se),delete Y.config,O.send(JSON.stringify(Y)),new jx(O,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const Zx={turnComplete:!0};class jx{constructor(t,l){this.conn=t,this.apiClient=l}tLiveClientContent(t,l){if(l.turns!==null&&l.turns!==void 0){let a=[];try{a=Wt(l.turns),t.isVertexAI()||(a=a.map(r=>Qa(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof l.turns}'`)}return{clientContent:{turns:a,turnComplete:l.turnComplete}}}return{clientContent:{turnComplete:l.turnComplete}}}tLiveClienttToolResponse(t,l){let a=[];if(l.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(l.functionResponses)?a=l.functionResponses:a=[l.functionResponses],a.length===0)throw new Error("functionResponses is required.");for(const f of a){if(typeof f!="object"||f===null||!("name"in f)||!("response"in f))throw new Error(`Could not parse function response, type '${typeof f}'.`);if(!t.isVertexAI()&&!("id"in f))throw new Error(Xx)}return{toolResponse:{functionResponses:a}}}sendClientContent(t){t=Object.assign(Object.assign({},Zx),t);const l=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(l))}sendRealtimeInput(t){let l={};this.apiClient.isVertexAI()?l={realtimeInput:ST(t)}:l={realtimeInput:vT(t)},this.conn.send(JSON.stringify(l))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const l=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(l))}close(){this.conn.close()}}function eC(o){const t={};return o.forEach((l,a)=>{t[a]=l}),t}function tC(o){const t=new Headers;for(const[l,a]of Object.entries(o))t.append(l,a);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Lm=10;function km(o){var t,l,a;if(!((t=o==null?void 0:o.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let r=!1;for(const h of(l=o==null?void 0:o.tools)!==null&&l!==void 0?l:[])if(hi(h)){r=!0;break}if(!r)return!0;const f=(a=o==null?void 0:o.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls;return f&&(f<0||!Number.isInteger(f))||f==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",f),!0):!1}function hi(o){return"callTool"in o&&typeof o.callTool=="function"}function nC(o){var t,l,a;return(a=(l=(t=o.config)===null||t===void 0?void 0:t.tools)===null||l===void 0?void 0:l.some(r=>hi(r)))!==null&&a!==void 0?a:!1}function Hm(o){var t;const l=[];return!((t=o==null?void 0:o.config)===null||t===void 0)&&t.tools&&o.config.tools.forEach((a,r)=>{if(hi(a))return;const f=a;f.functionDeclarations&&f.functionDeclarations.length>0&&l.push(r)}),l}function Gm(o){var t;return!(!((t=o==null?void 0:o.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class oC extends bn{constructor(t){super(),this.apiClient=t,this.generateContent=async l=>{var a,r,f,h,g;const y=await this.processParamsMaybeAddMcpUsage(l);if(this.maybeMoveToResponseJsonSchem(l),!nC(l)||km(l.config))return await this.generateContentInternal(y);const m=Hm(l);if(m.length>0){const H=m.map(U=>`tools[${U}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${H}.`)}let v,E;const _=Wt(y.contents),C=(f=(r=(a=y.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&f!==void 0?f:Lm;let D=0;for(;D<C&&(v=await this.generateContentInternal(y),!(!v.functionCalls||v.functionCalls.length===0));){const H=v.candidates[0].content,U=[];for(const P of(g=(h=l.config)===null||h===void 0?void 0:h.tools)!==null&&g!==void 0?g:[])if(hi(P)){const O=await P.callTool(v.functionCalls);U.push(...O)}D++,E={role:"user",parts:U},y.contents=Wt(y.contents),y.contents.push(H),y.contents.push(E),Gm(y.config)&&(_.push(H),_.push(E))}return Gm(y.config)&&(v.automaticFunctionCallingHistory=_),v},this.generateContentStream=async l=>{var a,r,f,h,g;if(this.maybeMoveToResponseJsonSchem(l),km(l.config)){const E=await this.processParamsMaybeAddMcpUsage(l);return await this.generateContentStreamInternal(E)}const y=Hm(l);if(y.length>0){const E=y.map(_=>`tools[${_}]`).join(", ");throw new Error(`Incompatible tools found at ${E}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const m=(f=(r=(a=l==null?void 0:l.config)===null||a===void 0?void 0:a.toolConfig)===null||r===void 0?void 0:r.functionCallingConfig)===null||f===void 0?void 0:f.streamFunctionCallArguments,v=(g=(h=l==null?void 0:l.config)===null||h===void 0?void 0:h.automaticFunctionCalling)===null||g===void 0?void 0:g.disable;if(m&&!v)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(l)},this.generateImages=async l=>await this.generateImagesInternal(l).then(a=>{var r;let f;const h=[];if(a!=null&&a.generatedImages)for(const y of a.generatedImages)y&&(y!=null&&y.safetyAttributes)&&((r=y==null?void 0:y.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?f=y==null?void 0:y.safetyAttributes:h.push(y);let g;return f?g={generatedImages:h,positivePromptSafetyAttributes:f,sdkHttpResponse:a.sdkHttpResponse}:g={generatedImages:h,sdkHttpResponse:a.sdkHttpResponse},g}),this.list=async l=>{var a;const h={config:Object.assign(Object.assign({},{queryBase:!0}),l==null?void 0:l.config)};if(this.apiClient.isVertexAI()&&!h.config.queryBase){if(!((a=h.config)===null||a===void 0)&&a.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");h.config.filter="labels.tune-type:*"}return new xo(An.PAGED_ITEM_MODELS,g=>this.listInternal(g),await this.listInternal(h),h)},this.editImage=async l=>{const a={model:l.model,prompt:l.prompt,referenceImages:[],config:l.config};return l.referenceImages&&l.referenceImages&&(a.referenceImages=l.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(a)},this.upscaleImage=async l=>{let a={numberOfImages:1,mode:"upscale"};l.config&&(a=Object.assign(Object.assign({},a),l.config));const r={model:l.model,image:l.image,upscaleFactor:l.upscaleFactor,config:a};return await this.upscaleImageInternal(r)},this.generateVideos=async l=>{var a,r,f,h,g,y;if((l.prompt||l.image||l.video)&&l.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((a=l.video)===null||a===void 0)&&a.uri&&(!((r=l.video)===null||r===void 0)&&r.videoBytes)?l.video={uri:l.video.uri,mimeType:l.video.mimeType}:!((h=(f=l.source)===null||f===void 0?void 0:f.video)===null||h===void 0)&&h.uri&&(!((y=(g=l.source)===null||g===void 0?void 0:g.video)===null||y===void 0)&&y.videoBytes)&&(l.source.video={uri:l.source.video.uri,mimeType:l.source.video.mimeType})),await this.generateVideosInternal(l)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var l,a,r;const f=(l=t.config)===null||l===void 0?void 0:l.tools;if(!f)return t;const h=await Promise.all(f.map(async y=>hi(y)?await y.tool():y)),g={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:h})};if(g.config.tools=h,t.config&&t.config.tools&&Cg(t.config.tools)){const y=(r=(a=t.config.httpOptions)===null||a===void 0?void 0:a.headers)!==null&&r!==void 0?r:{};let m=Object.assign({},y);Object.keys(m).length===0&&(m=this.apiClient.getDefaultHeaders()),Ag(m),g.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:m})}return g}async initAfcToolsMap(t){var l,a,r;const f=new Map;for(const h of(a=(l=t.config)===null||l===void 0?void 0:l.tools)!==null&&a!==void 0?a:[])if(hi(h)){const g=h,y=await g.tool();for(const m of(r=y.functionDeclarations)!==null&&r!==void 0?r:[]){if(!m.name)throw new Error("Function declaration name is required.");if(f.has(m.name))throw new Error(`Duplicate tool declaration name: ${m.name}`);f.set(m.name,g)}}return f}async processAfcStream(t){var l,a,r;const f=(r=(a=(l=t.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&r!==void 0?r:Lm;let h=!1,g=0;const y=await this.initAfcToolsMap(t);return(function(m,v,E){return Zt(this,arguments,function*(){for(var _,C,D,H,U,P;g<f;){h&&(g++,h=!1);const Y=yield de(m.processParamsMaybeAddMcpUsage(E)),te=yield de(m.generateContentStreamInternal(Y)),W=[],Se=[];try{for(var K=!0,O=(C=void 0,jt(te)),$;$=yield de(O.next()),_=$.done,!_;K=!0){H=$.value,K=!1;const j=H;if(yield yield de(j),j.candidates&&(!((U=j.candidates[0])===null||U===void 0)&&U.content)){Se.push(j.candidates[0].content);for(const pe of(P=j.candidates[0].content.parts)!==null&&P!==void 0?P:[])if(g<f&&pe.functionCall){if(!pe.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(pe.functionCall.name)){const be=yield de(v.get(pe.functionCall.name).callTool([pe.functionCall]));W.push(...be)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${pe.functionCall.name}`)}}}}catch(j){C={error:j}}finally{try{!K&&!_&&(D=O.return)&&(yield de(D.call(O)))}finally{if(C)throw C.error}}if(W.length>0){h=!0;const j=new ml;j.candidates=[{content:{role:"user",parts:W}}],yield yield de(j);const pe=[];pe.push(...Se),pe.push({role:"user",parts:W});const be=Wt(E.contents).concat(pe);E.contents=be}else break}})})(this,y,t)}async generateContentInternal(t){var l,a,r,f;let h,g="",y={};if(this.apiClient.isVertexAI()){const m=Mm(this.apiClient,t);return g=Z("{model}:generateContent",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),h.then(v=>{const E=Dm(v),_=new ml;return Object.assign(_,E),_})}else{const m=Rm(this.apiClient,t);return g=Z("{model}:generateContent",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),h.then(v=>{const E=Im(v),_=new ml;return Object.assign(_,E),_})}}async generateContentStreamInternal(t){var l,a,r,f;let h,g="",y={};if(this.apiClient.isVertexAI()){const m=Mm(this.apiClient,t);return g=Z("{model}:streamGenerateContent?alt=sse",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.requestStream({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}),h.then(function(E){return Zt(this,arguments,function*(){var _,C,D,H;try{for(var U=!0,P=jt(E),K;K=yield de(P.next()),_=K.done,!_;U=!0){H=K.value,U=!1;const O=H,$=Dm(yield de(O.json()));$.sdkHttpResponse={headers:O.headers};const Y=new ml;Object.assign(Y,$),yield yield de(Y)}}catch(O){C={error:O}}finally{try{!U&&!_&&(D=P.return)&&(yield de(D.call(P)))}finally{if(C)throw C.error}}})})}else{const m=Rm(this.apiClient,t);return g=Z("{model}:streamGenerateContent?alt=sse",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.requestStream({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}),h.then(function(E){return Zt(this,arguments,function*(){var _,C,D,H;try{for(var U=!0,P=jt(E),K;K=yield de(P.next()),_=K.done,!_;U=!0){H=K.value,U=!1;const O=H,$=Im(yield de(O.json()));$.sdkHttpResponse={headers:O.headers};const Y=new ml;Object.assign(Y,$),yield yield de(Y)}}catch(O){C={error:O}}finally{try{!U&&!_&&(D=P.return)&&(yield de(D.call(P)))}finally{if(C)throw C.error}}})})}}async embedContent(t){var l,a,r,f;let h,g="",y={};if(this.apiClient.isVertexAI()){const m=$T(this.apiClient,t);return g=Z("{model}:predict",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),h.then(v=>{const E=jT(v),_=new dm;return Object.assign(_,E),_})}else{const m=QT(this.apiClient,t);return g=Z("{model}:batchEmbedContents",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),h.then(v=>{const E=ZT(v),_=new dm;return Object.assign(_,E),_})}}async generateImagesInternal(t){var l,a,r,f;let h,g="",y={};if(this.apiClient.isVertexAI()){const m=c_(this.apiClient,t);return g=Z("{model}:predict",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),h.then(v=>{const E=d_(v),_=new hm;return Object.assign(_,E),_})}else{const m=u_(this.apiClient,t);return g=Z("{model}:predict",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),h.then(v=>{const E=f_(v),_=new hm;return Object.assign(_,E),_})}}async editImageInternal(t){var l,a;let r,f="",h={};if(this.apiClient.isVertexAI()){const g=YT(this.apiClient,t);return f=Z("{model}:predict",g._url),h=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const m=WT(y),v=new eS;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var l,a;let r,f="",h={};if(this.apiClient.isVertexAI()){const g=cx(this.apiClient,t);return f=Z("{model}:predict",g._url),h=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const m=fx(y),v=new tS;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var l,a;let r,f="",h={};if(this.apiClient.isVertexAI()){const g=J_(this.apiClient,t);return f=Z("{model}:predict",g._url),h=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const m=Y_(y),v=new nS;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var l,a;let r,f="",h={};if(this.apiClient.isVertexAI()){const g=Z_(this.apiClient,t);return f=Z("{model}:predict",g._url),h=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const m=j_(y),v=new oS;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var l,a,r,f;let h,g="",y={};if(this.apiClient.isVertexAI()){const m=R_(this.apiClient,t);return g=Z("{name}",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),h.then(v=>Gu(v))}else{const m=w_(this.apiClient,t);return g=Z("{name}",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),h.then(v=>Hu(v))}}async listInternal(t){var l,a,r,f;let h,g="",y={};if(this.apiClient.isVertexAI()){const m=V_(this.apiClient,t);return g=Z("{models_url}",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),h.then(v=>{const E=q_(v),_=new pm;return Object.assign(_,E),_})}else{const m=G_(this.apiClient,t);return g=Z("{models_url}",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),h.then(v=>{const E=z_(v),_=new pm;return Object.assign(_,E),_})}}async update(t){var l,a,r,f;let h,g="",y={};if(this.apiClient.isVertexAI()){const m=rx(this.apiClient,t);return g=Z("{model}",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),h.then(v=>Gu(v))}else{const m=sx(this.apiClient,t);return g=Z("{name}",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),h.then(v=>Hu(v))}}async delete(t){var l,a,r,f;let h,g="",y={};if(this.apiClient.isVertexAI()){const m=PT(this.apiClient,t);return g=Z("{name}",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),h.then(v=>{const E=FT(v),_=new mm;return Object.assign(_,E),_})}else{const m=BT(this.apiClient,t);return g=Z("{name}",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),h.then(v=>{const E=OT(v),_=new mm;return Object.assign(_,E),_})}}async countTokens(t){var l,a,r,f;let h,g="",y={};if(this.apiClient.isVertexAI()){const m=VT(this.apiClient,t);return g=Z("{model}:countTokens",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),h.then(v=>{const E=qT(v),_=new gm;return Object.assign(_,E),_})}else{const m=GT(this.apiClient,t);return g=Z("{model}:countTokens",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),h.then(v=>{const E=zT(v),_=new gm;return Object.assign(_,E),_})}}async computeTokens(t){var l,a;let r,f="",h={};if(this.apiClient.isVertexAI()){const g=MT(this.apiClient,t);return f=Z("{model}:computeTokens",g._url),h=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const m=IT(y),v=new iS;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var l,a,r,f;let h,g="",y={};if(this.apiClient.isVertexAI()){const m=v_(this.apiClient,t);return g=Z("{model}:predictLongRunning",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),h.then(v=>{const E=g_(v),_=new Fa;return Object.assign(_,E),_})}else{const m=y_(this.apiClient,t);return g=Z("{model}:predictLongRunning",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),h.then(v=>{const E=m_(v),_=new Fa;return Object.assign(_,E),_})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class iC extends bn{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const l=t.operation,a=t.config;if(l.name===void 0||l.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=l.name.split("/operations/")[0];let f;a&&"httpOptions"in a&&(f=a.httpOptions);const h=await this.fetchPredictVideosOperationInternal({operationName:l.name,resourceName:r,config:{httpOptions:f}});return l._fromAPIResponse({apiResponse:h,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:l.name,config:a});return l._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async get(t){const l=t.operation,a=t.config;if(l.name===void 0||l.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=l.name.split("/operations/")[0];let f;a&&"httpOptions"in a&&(f=a.httpOptions);const h=await this.fetchPredictVideosOperationInternal({operationName:l.name,resourceName:r,config:{httpOptions:f}});return l._fromAPIResponse({apiResponse:h,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:l.name,config:a});return l._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async getVideosOperationInternal(t){var l,a,r,f;let h,g="",y={};if(this.apiClient.isVertexAI()){const m=Kv(t);return g=Z("{operationName}",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),h}else{const m=Wv(t);return g=Z("{operationName}",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),h}}async fetchPredictVideosOperationInternal(t){var l,a;let r,f="",h={};if(this.apiClient.isVertexAI()){const g=qv(t);return f=Z("{resourceName}:fetchPredictOperation",g._url),h=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lC(o){const t={},l=u(o,["data"]);if(l!=null&&c(t,["data"],l),u(o,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(o,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function aC(o){const t={},l=u(o,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(f=>mC(f))),c(t,["parts"],r)}const a=u(o,["role"]);return a!=null&&c(t,["role"],a),t}function sC(o,t,l){const a={},r=u(t,["expireTime"]);l!==void 0&&r!=null&&c(l,["expireTime"],r);const f=u(t,["newSessionExpireTime"]);l!==void 0&&f!=null&&c(l,["newSessionExpireTime"],f);const h=u(t,["uses"]);l!==void 0&&h!=null&&c(l,["uses"],h);const g=u(t,["liveConnectConstraints"]);l!==void 0&&g!=null&&c(l,["bidiGenerateContentSetup"],pC(o,g));const y=u(t,["lockAdditionalFields"]);return l!==void 0&&y!=null&&c(l,["fieldMask"],y),a}function rC(o,t){const l={},a=u(t,["config"]);return a!=null&&c(l,["config"],sC(o,a,l)),l}function uC(o){const t={};if(u(o,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(o,["fileUri"]);l!=null&&c(t,["fileUri"],l);const a=u(o,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function cC(o){const t={},l=u(o,["id"]);l!=null&&c(t,["id"],l);const a=u(o,["args"]);a!=null&&c(t,["args"],a);const r=u(o,["name"]);if(r!=null&&c(t,["name"],r),u(o,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(o,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function fC(o){const t={};if(u(o,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(o,["enableWidget"]);return l!=null&&c(t,["enableWidget"],l),t}function dC(o){const t={};if(u(o,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(o,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(o,["timeRangeFilter"]);return l!=null&&c(t,["timeRangeFilter"],l),t}function hC(o,t){const l={},a=u(o,["generationConfig"]);t!==void 0&&a!=null&&c(t,["setup","generationConfig"],a);const r=u(o,["responseModalities"]);t!==void 0&&r!=null&&c(t,["setup","generationConfig","responseModalities"],r);const f=u(o,["temperature"]);t!==void 0&&f!=null&&c(t,["setup","generationConfig","temperature"],f);const h=u(o,["topP"]);t!==void 0&&h!=null&&c(t,["setup","generationConfig","topP"],h);const g=u(o,["topK"]);t!==void 0&&g!=null&&c(t,["setup","generationConfig","topK"],g);const y=u(o,["maxOutputTokens"]);t!==void 0&&y!=null&&c(t,["setup","generationConfig","maxOutputTokens"],y);const m=u(o,["mediaResolution"]);t!==void 0&&m!=null&&c(t,["setup","generationConfig","mediaResolution"],m);const v=u(o,["seed"]);t!==void 0&&v!=null&&c(t,["setup","generationConfig","seed"],v);const E=u(o,["speechConfig"]);t!==void 0&&E!=null&&c(t,["setup","generationConfig","speechConfig"],Zu(E));const _=u(o,["thinkingConfig"]);t!==void 0&&_!=null&&c(t,["setup","generationConfig","thinkingConfig"],_);const C=u(o,["enableAffectiveDialog"]);t!==void 0&&C!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],C);const D=u(o,["systemInstruction"]);t!==void 0&&D!=null&&c(t,["setup","systemInstruction"],aC(pt(D)));const H=u(o,["tools"]);if(t!==void 0&&H!=null){let te=mi(H);Array.isArray(te)&&(te=te.map(W=>yC(pi(W)))),c(t,["setup","tools"],te)}const U=u(o,["sessionResumption"]);t!==void 0&&U!=null&&c(t,["setup","sessionResumption"],gC(U));const P=u(o,["inputAudioTranscription"]);t!==void 0&&P!=null&&c(t,["setup","inputAudioTranscription"],P);const K=u(o,["outputAudioTranscription"]);t!==void 0&&K!=null&&c(t,["setup","outputAudioTranscription"],K);const O=u(o,["realtimeInputConfig"]);t!==void 0&&O!=null&&c(t,["setup","realtimeInputConfig"],O);const $=u(o,["contextWindowCompression"]);t!==void 0&&$!=null&&c(t,["setup","contextWindowCompression"],$);const Y=u(o,["proactivity"]);if(t!==void 0&&Y!=null&&c(t,["setup","proactivity"],Y),u(o,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return l}function pC(o,t){const l={},a=u(t,["model"]);a!=null&&c(l,["setup","model"],Le(o,a));const r=u(t,["config"]);return r!=null&&c(l,["config"],hC(r,l)),l}function mC(o){const t={},l=u(o,["mediaResolution"]);l!=null&&c(t,["mediaResolution"],l);const a=u(o,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(o,["executableCode"]);r!=null&&c(t,["executableCode"],r);const f=u(o,["fileData"]);f!=null&&c(t,["fileData"],uC(f));const h=u(o,["functionCall"]);h!=null&&c(t,["functionCall"],cC(h));const g=u(o,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const y=u(o,["inlineData"]);y!=null&&c(t,["inlineData"],lC(y));const m=u(o,["text"]);m!=null&&c(t,["text"],m);const v=u(o,["thought"]);v!=null&&c(t,["thought"],v);const E=u(o,["thoughtSignature"]);E!=null&&c(t,["thoughtSignature"],E);const _=u(o,["videoMetadata"]);return _!=null&&c(t,["videoMetadata"],_),t}function gC(o){const t={},l=u(o,["handle"]);if(l!=null&&c(t,["handle"],l),u(o,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function yC(o){const t={};if(u(o,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=u(o,["computerUse"]);l!=null&&c(t,["computerUse"],l);const a=u(o,["fileSearch"]);a!=null&&c(t,["fileSearch"],a);const r=u(o,["codeExecution"]);if(r!=null&&c(t,["codeExecution"],r),u(o,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=u(o,["functionDeclarations"]);if(f!=null){let v=f;Array.isArray(v)&&(v=v.map(E=>E)),c(t,["functionDeclarations"],v)}const h=u(o,["googleMaps"]);h!=null&&c(t,["googleMaps"],fC(h));const g=u(o,["googleSearch"]);g!=null&&c(t,["googleSearch"],dC(g));const y=u(o,["googleSearchRetrieval"]);y!=null&&c(t,["googleSearchRetrieval"],y);const m=u(o,["urlContext"]);return m!=null&&c(t,["urlContext"],m),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vC(o){const t=[];for(const l in o)if(Object.prototype.hasOwnProperty.call(o,l)){const a=o[l];if(typeof a=="object"&&a!=null&&Object.keys(a).length>0){const r=Object.keys(a).map(f=>`${l}.${f}`);t.push(...r)}else t.push(l)}return t.join(",")}function SC(o,t){let l=null;const a=o.bidiGenerateContentSetup;if(typeof a=="object"&&a!==null&&"setup"in a){const f=a.setup;typeof f=="object"&&f!==null?(o.bidiGenerateContentSetup=f,l=f):delete o.bidiGenerateContentSetup}else a!==void 0&&delete o.bidiGenerateContentSetup;const r=o.fieldMask;if(l){const f=vC(l);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)f?o.fieldMask=f:delete o.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const h=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let g=[];r.length>0&&(g=r.map(m=>h.includes(m)?`generationConfig.${m}`:m));const y=[];f&&y.push(f),g.length>0&&y.push(...g),y.length>0?o.fieldMask=y.join(","):delete o.fieldMask}else delete o.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?o.fieldMask=r.join(","):delete o.fieldMask;return o}class EC extends bn{constructor(t){super(),this.apiClient=t}async create(t){var l,a;let r,f="",h={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const g=rC(this.apiClient,t);f=Z("auth_tokens",g._url),h=g._query,delete g.config,delete g._url,delete g._query;const y=SC(g,t.config);return r=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),r.then(m=>m)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function TC(o,t){const l={},a=u(o,["force"]);return t!==void 0&&a!=null&&c(t,["_query","force"],a),l}function _C(o){const t={},l=u(o,["name"]);l!=null&&c(t,["_url","name"],l);const a=u(o,["config"]);return a!=null&&TC(a,t),t}function xC(o){const t={},l=u(o,["name"]);return l!=null&&c(t,["_url","name"],l),t}function CC(o,t){const l={},a=u(o,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(o,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),l}function AC(o){const t={},l=u(o,["parent"]);l!=null&&c(t,["_url","parent"],l);const a=u(o,["config"]);return a!=null&&CC(a,t),t}function bC(o){const t={},l=u(o,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const a=u(o,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(o,["documents"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(h=>h)),c(t,["documents"],f)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class NC extends bn{constructor(t){super(),this.apiClient=t,this.list=async l=>new xo(An.PAGED_ITEM_DOCUMENTS,a=>this.listInternal({parent:l.parent,config:a.config}),await this.listInternal(l),l)}async get(t){var l,a;let r,f="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=xC(t);return f=Z("{name}",g._url),h=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(t){var l,a;let r="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=_C(t);r=Z("{name}",h._url),f=h._query,delete h._url,delete h._query,await this.apiClient.request({path:r,queryParams:f,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(t){var l,a;let r,f="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=AC(t);return f=Z("{parent}/documents",g._url),h=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const m=bC(y),v=new lS;return Object.assign(v,m),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class wC extends bn{constructor(t,l=new NC(t)){super(),this.apiClient=t,this.documents=l,this.list=async(a={})=>new xo(An.PAGED_ITEM_FILE_SEARCH_STORES,r=>this.listInternal(r),await this.listInternal(a),a)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var l,a;let r,f="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=vx(t);return f=Z("fileSearchStores",g._url),h=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async get(t){var l,a;let r,f="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=Tx(t);return f=Z("{name}",g._url),h=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(t){var l,a;let r="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=Ex(t);r=Z("{name}",h._url),f=h._query,delete h._url,delete h._query,await this.apiClient.request({path:r,queryParams:f,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(t){var l,a;let r,f="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=Nx(t);return f=Z("fileSearchStores",g._url),h=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const m=wx(y),v=new aS;return Object.assign(v,m),v})}}async uploadToFileSearchStoreInternal(t){var l,a;let r,f="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=Rx(t);return f=Z("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",g._url),h=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const m=Mx(y),v=new sS;return Object.assign(v,m),v})}}async importFile(t){var l,a;let r,f="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=Cx(t);return f=Z("{file_search_store_name}:importFile",g._url),h=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const m=xx(y),v=new Wu;return Object.assign(v,m),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let bg=function(){const{crypto:o}=globalThis;if(o!=null&&o.randomUUID)return bg=o.randomUUID.bind(o),o.randomUUID();const t=new Uint8Array(1),l=o?()=>o.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,a=>(+a^l()&15>>+a/4).toString(16))};const RC=()=>bg();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zu(o){return typeof o=="object"&&o!==null&&("name"in o&&o.name==="AbortError"||"message"in o&&String(o.message).includes("FetchRequestCanceledException"))}const qu=o=>{if(o instanceof Error)return o;if(typeof o=="object"&&o!==null){try{if(Object.prototype.toString.call(o)==="[object Error]"){const t=new Error(o.message,o.cause?{cause:o.cause}:{});return o.stack&&(t.stack=o.stack),o.cause&&!t.cause&&(t.cause=o.cause),o.name&&(t.name=o.name),t}}catch{}try{return new Error(JSON.stringify(o))}catch{}}return new Error(o)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Kt extends Error{}class vt extends Kt{constructor(t,l,a,r){super(`${vt.makeMessage(t,l,a)}`),this.status=t,this.headers=r,this.error=l}static makeMessage(t,l,a){const r=l!=null&&l.message?typeof l.message=="string"?l.message:JSON.stringify(l.message):l?JSON.stringify(l):a;return t&&r?`${t} ${r}`:t?`${t} status code (no body)`:r||"(no status code or body)"}static generate(t,l,a,r){if(!t||!r)return new ja({message:a,cause:qu(l)});const f=l;return t===400?new wg(t,f,a,r):t===401?new Rg(t,f,a,r):t===403?new Mg(t,f,a,r):t===404?new Ig(t,f,a,r):t===409?new Dg(t,f,a,r):t===422?new Ug(t,f,a,r):t===429?new Lg(t,f,a,r):t>=500?new kg(t,f,a,r):new vt(t,f,a,r)}}class Bu extends vt{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class ja extends vt{constructor({message:t,cause:l}){super(void 0,void 0,t||"Connection error.",void 0),l&&(this.cause=l)}}class Ng extends ja{constructor({message:t}={}){super({message:t??"Request timed out."})}}class wg extends vt{}class Rg extends vt{}class Mg extends vt{}class Ig extends vt{}class Dg extends vt{}class Ug extends vt{}class Lg extends vt{}class kg extends vt{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const MC=/^[a-z][a-z0-9+.-]*:/i,IC=o=>MC.test(o);let Pu=o=>(Pu=Array.isArray,Pu(o));const DC=Pu;let UC=DC;const Vm=UC;function LC(o){if(!o)return!0;for(const t in o)return!1;return!0}function kC(o,t){return Object.prototype.hasOwnProperty.call(o,t)}const HC=(o,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new Kt(`${o} must be an integer`);if(t<0)throw new Kt(`${o} must be a positive integer`);return t},GC=o=>{try{return JSON.parse(o)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const VC=o=>new Promise(t=>setTimeout(t,o));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ui="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zC(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const qC=()=>{var o,t,l,a,r;const f=zC();if(f==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ui,"X-Stainless-OS":qm(Deno.build.os),"X-Stainless-Arch":zm(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(t=(o=Deno.version)===null||o===void 0?void 0:o.deno)!==null&&t!==void 0?t:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ui,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(f==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ui,"X-Stainless-OS":qm((l=globalThis.process.platform)!==null&&l!==void 0?l:"unknown"),"X-Stainless-Arch":zm((a=globalThis.process.arch)!==null&&a!==void 0?a:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(r=globalThis.process.version)!==null&&r!==void 0?r:"unknown"};const h=BC();return h?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ui,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${h.browser}`,"X-Stainless-Runtime-Version":h.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ui,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function BC(){if(typeof navigator>"u"||!navigator)return null;const o=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:l}of o){const a=l.exec(navigator.userAgent);if(a){const r=a[1]||0,f=a[2]||0,h=a[3]||0;return{browser:t,version:`${r}.${f}.${h}`}}}return null}const zm=o=>o==="x32"?"x32":o==="x86_64"||o==="x64"?"x64":o==="arm"?"arm":o==="aarch64"||o==="arm64"?"arm64":o?`other:${o}`:"unknown",qm=o=>(o=o.toLowerCase(),o.includes("ios")?"iOS":o==="android"?"Android":o==="darwin"?"MacOS":o==="win32"?"Windows":o==="freebsd"?"FreeBSD":o==="openbsd"?"OpenBSD":o==="linux"?"Linux":o?`Other:${o}`:"Unknown");let Ha;const PC=()=>Ha??(Ha=qC());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function OC(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function Hg(...o){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...o)}function FC(o){let t=Symbol.asyncIterator in o?o[Symbol.asyncIterator]():o[Symbol.iterator]();return Hg({start(){},async pull(l){const{done:a,value:r}=await t.next();a?l.close():l.enqueue(r)},async cancel(){var l;await((l=t.return)===null||l===void 0?void 0:l.call(t))}})}function Gg(o){if(o[Symbol.asyncIterator])return o;const t=o.getReader();return{async next(){try{const l=await t.read();return l!=null&&l.done&&t.releaseLock(),l}catch(l){throw t.releaseLock(),l}},async return(){const l=t.cancel();return t.releaseLock(),await l,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function JC(o){var t,l;if(o===null||typeof o!="object")return;if(o[Symbol.asyncIterator]){await((l=(t=o[Symbol.asyncIterator]()).return)===null||l===void 0?void 0:l.call(t));return}const a=o.getReader(),r=a.cancel();a.releaseLock(),await r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const YC=({headers:o,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Vg=()=>{var o;if(typeof File>"u"){const{process:t}=globalThis,l=typeof((o=t==null?void 0:t.versions)===null||o===void 0?void 0:o.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(l?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function bu(o,t,l){return Vg(),new File(o,t??"unknown_file",l)}function WC(o){return(typeof o=="object"&&o!==null&&("name"in o&&o.name&&String(o.name)||"url"in o&&o.url&&String(o.url)||"filename"in o&&o.filename&&String(o.filename)||"path"in o&&o.path&&String(o.path))||"").split(/[\\/]/).pop()||void 0}const KC=o=>o!=null&&typeof o=="object"&&typeof o[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const zg=o=>o!=null&&typeof o=="object"&&typeof o.size=="number"&&typeof o.type=="string"&&typeof o.text=="function"&&typeof o.slice=="function"&&typeof o.arrayBuffer=="function",XC=o=>o!=null&&typeof o=="object"&&typeof o.name=="string"&&typeof o.lastModified=="number"&&zg(o),QC=o=>o!=null&&typeof o=="object"&&typeof o.url=="string"&&typeof o.blob=="function";async function $C(o,t,l){if(Vg(),o=await o,XC(o))return o instanceof File?o:bu([await o.arrayBuffer()],o.name);if(QC(o)){const r=await o.blob();return t||(t=new URL(o.url).pathname.split(/[\\/]/).pop()),bu(await Ou(r),t,l)}const a=await Ou(o);if(t||(t=WC(o)),!(l!=null&&l.type)){const r=a.find(f=>typeof f=="object"&&"type"in f&&f.type);typeof r=="string"&&(l=Object.assign(Object.assign({},l),{type:r}))}return bu(a,t,l)}async function Ou(o){var t,l,a,r,f;let h=[];if(typeof o=="string"||ArrayBuffer.isView(o)||o instanceof ArrayBuffer)h.push(o);else if(zg(o))h.push(o instanceof Blob?o:await o.arrayBuffer());else if(KC(o))try{for(var g=!0,y=jt(o),m;m=await y.next(),t=m.done,!t;g=!0){r=m.value,g=!1;const v=r;h.push(...await Ou(v))}}catch(v){l={error:v}}finally{try{!g&&!t&&(a=y.return)&&await a.call(y)}finally{if(l)throw l.error}}else{const v=(f=o==null?void 0:o.constructor)===null||f===void 0?void 0:f.name;throw new Error(`Unexpected data type: ${typeof o}${v?`; constructor: ${v}`:""}${ZC(o)}`)}return h}function ZC(o){return typeof o!="object"||o===null?"":`; props: [${Object.getOwnPropertyNames(o).map(l=>`"${l}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class qg{constructor(t){this._client=t}}qg._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Bg(o){return o.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const Bm=Object.freeze(Object.create(null)),jC=(o=Bg)=>(function(l,...a){if(l.length===1)return l[0];let r=!1;const f=[],h=l.reduce((v,E,_)=>{var C,D,H;/[?#]/.test(E)&&(r=!0);const U=a[_];let P=(r?encodeURIComponent:o)(""+U);return _!==a.length&&(U==null||typeof U=="object"&&U.toString===((H=Object.getPrototypeOf((D=Object.getPrototypeOf((C=U.hasOwnProperty)!==null&&C!==void 0?C:Bm))!==null&&D!==void 0?D:Bm))===null||H===void 0?void 0:H.toString))&&(P=U+"",f.push({start:v.length+E.length,length:P.length,error:`Value of type ${Object.prototype.toString.call(U).slice(8,-1)} is not a valid path parameter`})),v+E+(_===a.length?"":P)},""),g=h.split(/[?#]/,1)[0],y=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let m;for(;(m=y.exec(g))!==null;)f.push({start:m.index,length:m[0].length,error:`Value "${m[0]}" can't be safely passed as a path parameter`});if(f.sort((v,E)=>v.start-E.start),f.length>0){let v=0;const E=f.reduce((_,C)=>{const D=" ".repeat(C.start-v),H="^".repeat(C.length);return v=C.start+C.length,_+D+H},"");throw new Kt(`Path parameters result in path with invalid segments:
${f.map(_=>_.error).join(`
`)}
${h}
${E}`)}return h}),Ga=jC(Bg);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Pg extends qg{create(t,l){var a;const{api_version:r=this._client.apiVersion}=t,f=Ya(t,["api_version"]);if("model"in f&&"agent_config"in f)throw new Kt("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in f&&"generation_config"in f)throw new Kt("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Ga`/${r}/interactions`,Object.assign(Object.assign({body:f},l),{stream:(a=t.stream)!==null&&a!==void 0?a:!1}))}delete(t,l={},a){const{api_version:r=this._client.apiVersion}=l??{};return this._client.delete(Ga`/${r}/interactions/${t}`,a)}cancel(t,l={},a){const{api_version:r=this._client.apiVersion}=l??{};return this._client.post(Ga`/${r}/interactions/${t}/cancel`,a)}get(t,l={},a){var r;const f=l??{},{api_version:h=this._client.apiVersion}=f,g=Ya(f,["api_version"]);return this._client.get(Ga`/${h}/interactions/${t}`,Object.assign(Object.assign({query:g},a),{stream:(r=l==null?void 0:l.stream)!==null&&r!==void 0?r:!1}))}}Pg._key=Object.freeze(["interactions"]);class Og extends Pg{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function eA(o){let t=0;for(const r of o)t+=r.length;const l=new Uint8Array(t);let a=0;for(const r of o)l.set(r,a),a+=r.length;return l}let Va;function ec(o){let t;return(Va??(t=new globalThis.TextEncoder,Va=t.encode.bind(t)))(o)}let za;function Pm(o){let t;return(za??(t=new globalThis.TextDecoder,za=t.decode.bind(t)))(o)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class es{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(t){if(t==null)return[];const l=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?ec(t):t;this.buffer=eA([this.buffer,l]);const a=[];let r;for(;(r=tA(this.buffer,this.carriageReturnIndex))!=null;){if(r.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=r.index;continue}if(this.carriageReturnIndex!=null&&(r.index!==this.carriageReturnIndex+1||r.carriage)){a.push(Pm(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const f=this.carriageReturnIndex!==null?r.preceding-1:r.preceding,h=Pm(this.buffer.subarray(0,f));a.push(h),this.buffer=this.buffer.subarray(r.index),this.carriageReturnIndex=null}return a}flush(){return this.buffer.length?this.decode(`
`):[]}}es.NEWLINE_CHARS=new Set([`
`,"\r"]);es.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function tA(o,t){for(let r=t??0;r<o.length;r++){if(o[r]===10)return{preceding:r,index:r+1,carriage:!1};if(o[r]===13)return{preceding:r,index:r+1,carriage:!0}}return null}function nA(o){for(let a=0;a<o.length-1;a++){if(o[a]===10&&o[a+1]===10||o[a]===13&&o[a+1]===13)return a+2;if(o[a]===13&&o[a+1]===10&&a+3<o.length&&o[a+2]===13&&o[a+3]===10)return a+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Wa={off:0,error:200,warn:300,info:400,debug:500},Om=(o,t,l)=>{if(o){if(kC(Wa,o))return o;yt(l).warn(`${t} was set to ${JSON.stringify(o)}, expected one of ${JSON.stringify(Object.keys(Wa))}`)}};function vl(){}function qa(o,t,l){return!t||Wa[o]>Wa[l]?vl:t[o].bind(t)}const oA={error:vl,warn:vl,info:vl,debug:vl};let Fm=new WeakMap;function yt(o){var t;const l=o.logger,a=(t=o.logLevel)!==null&&t!==void 0?t:"off";if(!l)return oA;const r=Fm.get(l);if(r&&r[0]===a)return r[1];const f={error:qa("error",l,a),warn:qa("warn",l,a),info:qa("info",l,a),debug:qa("debug",l,a)};return Fm.set(l,[a,f]),f}const _o=o=>(o.options&&(o.options=Object.assign({},o.options),delete o.options.headers),o.headers&&(o.headers=Object.fromEntries((o.headers instanceof Headers?[...o.headers]:Object.entries(o.headers)).map(([t,l])=>[t,t.toLowerCase()==="x-goog-api-key"||t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":l]))),"retryOfRequestLogID"in o&&(o.retryOfRequestLogID&&(o.retryOf=o.retryOfRequestLogID),delete o.retryOfRequestLogID),o);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fi{constructor(t,l,a){this.iterator=t,this.controller=l,this.client=a}static fromSSEResponse(t,l,a){let r=!1;const f=a?yt(a):console;function h(){return Zt(this,arguments,function*(){var y,m,v,E;if(r)throw new Kt("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let _=!1;try{try{for(var C=!0,D=jt(iA(t,l)),H;H=yield de(D.next()),y=H.done,!y;C=!0){E=H.value,C=!1;const U=E;if(!_)if(U.data.startsWith("[DONE]")){_=!0;continue}else try{yield yield de(JSON.parse(U.data))}catch(P){throw f.error("Could not parse message into JSON:",U.data),f.error("From chunk:",U.raw),P}}}catch(U){m={error:U}}finally{try{!C&&!y&&(v=D.return)&&(yield de(v.call(D)))}finally{if(m)throw m.error}}_=!0}catch(U){if(zu(U))return yield de(void 0);throw U}finally{_||l.abort()}})}return new fi(h,l,a)}static fromReadableStream(t,l,a){let r=!1;function f(){return Zt(this,arguments,function*(){var y,m,v,E;const _=new es,C=Gg(t);try{for(var D=!0,H=jt(C),U;U=yield de(H.next()),y=U.done,!y;D=!0){E=U.value,D=!1;const P=E;for(const K of _.decode(P))yield yield de(K)}}catch(P){m={error:P}}finally{try{!D&&!y&&(v=H.return)&&(yield de(v.call(H)))}finally{if(m)throw m.error}}for(const P of _.flush())yield yield de(P)})}function h(){return Zt(this,arguments,function*(){var y,m,v,E;if(r)throw new Kt("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let _=!1;try{try{for(var C=!0,D=jt(f()),H;H=yield de(D.next()),y=H.done,!y;C=!0){E=H.value,C=!1;const U=E;_||U&&(yield yield de(JSON.parse(U)))}}catch(U){m={error:U}}finally{try{!C&&!y&&(v=D.return)&&(yield de(v.call(D)))}finally{if(m)throw m.error}}_=!0}catch(U){if(zu(U))return yield de(void 0);throw U}finally{_||l.abort()}})}return new fi(h,l,a)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],l=[],a=this.iterator(),r=f=>({next:()=>{if(f.length===0){const h=a.next();t.push(h),l.push(h)}return f.shift()}});return[new fi(()=>r(t),this.controller,this.client),new fi(()=>r(l),this.controller,this.client)]}toReadableStream(){const t=this;let l;return Hg({async start(){l=t[Symbol.asyncIterator]()},async pull(a){try{const{value:r,done:f}=await l.next();if(f)return a.close();const h=ec(JSON.stringify(r)+`
`);a.enqueue(h)}catch(r){a.error(r)}},async cancel(){var a;await((a=l.return)===null||a===void 0?void 0:a.call(l))}})}}function iA(o,t){return Zt(this,arguments,function*(){var a,r,f,h;if(!o.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Kt("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Kt("Attempted to iterate over a response with no body");const g=new aA,y=new es,m=Gg(o.body);try{for(var v=!0,E=jt(lA(m)),_;_=yield de(E.next()),a=_.done,!a;v=!0){h=_.value,v=!1;const C=h;for(const D of y.decode(C)){const H=g.decode(D);H&&(yield yield de(H))}}}catch(C){r={error:C}}finally{try{!v&&!a&&(f=E.return)&&(yield de(f.call(E)))}finally{if(r)throw r.error}}for(const C of y.flush()){const D=g.decode(C);D&&(yield yield de(D))}})}function lA(o){return Zt(this,arguments,function*(){var l,a,r,f;let h=new Uint8Array;try{for(var g=!0,y=jt(o),m;m=yield de(y.next()),l=m.done,!l;g=!0){f=m.value,g=!1;const v=f;if(v==null)continue;const E=v instanceof ArrayBuffer?new Uint8Array(v):typeof v=="string"?ec(v):v;let _=new Uint8Array(h.length+E.length);_.set(h),_.set(E,h.length),h=_;let C;for(;(C=nA(h))!==-1;)yield yield de(h.slice(0,C)),h=h.slice(C)}}catch(v){a={error:v}}finally{try{!g&&!l&&(r=y.return)&&(yield de(r.call(y)))}finally{if(a)throw a.error}}h.length>0&&(yield yield de(h))})}class aA{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const f={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],f}if(this.chunks.push(t),t.startsWith(":"))return null;let[l,a,r]=sA(t,":");return r.startsWith(" ")&&(r=r.substring(1)),l==="event"?this.event=r:l==="data"&&this.data.push(r),null}}function sA(o,t){const l=o.indexOf(t);return l!==-1?[o.substring(0,l),t,o.substring(l+t.length)]:[o,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function rA(o,t){const{response:l,requestLogID:a,retryOfRequestLogID:r,startTime:f}=t,h=await(async()=>{var g;if(t.options.stream)return yt(o).debug("response",l.status,l.url,l.headers,l.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(l,t.controller,o):fi.fromSSEResponse(l,t.controller,o);if(l.status===204)return null;if(t.options.__binaryResponse)return l;const y=l.headers.get("content-type"),m=(g=y==null?void 0:y.split(";")[0])===null||g===void 0?void 0:g.trim();return(m==null?void 0:m.includes("application/json"))||(m==null?void 0:m.endsWith("+json"))?await l.json():await l.text()})();return yt(o).debug(`[${a}] response parsed`,_o({retryOfRequestLogID:r,url:l.url,status:l.status,body:h,durationMs:Date.now()-f})),h}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class tc extends Promise{constructor(t,l,a=rA){super(r=>{r(null)}),this.responsePromise=l,this.parseResponse=a,this.client=t}_thenUnwrap(t){return new tc(this.client,this.responsePromise,async(l,a)=>t(await this.parseResponse(l,a),a))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,l]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:l}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(this.client,t))),this.parsedPromise}then(t,l){return this.parse().then(t,l)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Fg=Symbol("brand.privateNullableHeaders");function*uA(o){if(!o)return;if(Fg in o){const{values:a,nulls:r}=o;yield*a.entries();for(const f of r)yield[f,null];return}let t=!1,l;o instanceof Headers?l=o.entries():Vm(o)?l=o:(t=!0,l=Object.entries(o??{}));for(let a of l){const r=a[0];if(typeof r!="string")throw new TypeError("expected header name to be a string");const f=Vm(a[1])?a[1]:[a[1]];let h=!1;for(const g of f)g!==void 0&&(t&&!h&&(h=!0,yield[r,null]),yield[r,g])}}const gl=o=>{const t=new Headers,l=new Set;for(const a of o){const r=new Set;for(const[f,h]of uA(a)){const g=f.toLowerCase();r.has(g)||(t.delete(f),r.add(g)),h===null?(t.delete(f),l.add(g)):(t.append(f,h),l.delete(g))}}return{[Fg]:!0,values:t,nulls:l}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Nu=o=>{var t,l,a,r,f,h;if(typeof globalThis.process<"u")return(a=(l=(t=Lv)===null||t===void 0?void 0:t[o])===null||l===void 0?void 0:l.trim())!==null&&a!==void 0?a:void 0;if(typeof globalThis.Deno<"u")return(h=(f=(r=globalThis.Deno.env)===null||r===void 0?void 0:r.get)===null||f===void 0?void 0:f.call(r,o))===null||h===void 0?void 0:h.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Jg;class ts{constructor(t){var l,a,r,f,h,g,y,{baseURL:m=Nu("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:v=(l=Nu("GEMINI_API_KEY"))!==null&&l!==void 0?l:null,apiVersion:E="v1beta"}=t,_=Ya(t,["baseURL","apiKey","apiVersion"]);const C=Object.assign(Object.assign({apiKey:v,apiVersion:E},_),{baseURL:m||"https://generativelanguage.googleapis.com"});this.baseURL=C.baseURL,this.timeout=(a=C.timeout)!==null&&a!==void 0?a:ts.DEFAULT_TIMEOUT,this.logger=(r=C.logger)!==null&&r!==void 0?r:console;const D="warn";this.logLevel=D,this.logLevel=(h=(f=Om(C.logLevel,"ClientOptions.logLevel",this))!==null&&f!==void 0?f:Om(Nu("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&h!==void 0?h:D,this.fetchOptions=C.fetchOptions,this.maxRetries=(g=C.maxRetries)!==null&&g!==void 0?g:2,this.fetch=(y=C.fetch)!==null&&y!==void 0?y:OC(),this.encoder=YC,this._options=C,this.apiKey=v,this.apiVersion=E,this.clientAdapter=C.clientAdapter}withOptions(t){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),t))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:l}){if(!(t.has("authorization")||t.has("x-goog-api-key"))&&!(this.apiKey&&t.get("x-goog-api-key"))&&!l.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(t){const l=gl([t.headers]);if(!(l.values.has("authorization")||l.values.has("x-goog-api-key"))){if(this.apiKey)return gl([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return gl([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(t){return Object.entries(t).filter(([l,a])=>typeof a<"u").map(([l,a])=>{if(typeof a=="string"||typeof a=="number"||typeof a=="boolean")return`${encodeURIComponent(l)}=${encodeURIComponent(a)}`;if(a===null)return`${encodeURIComponent(l)}=`;throw new Kt(`Cannot stringify type ${typeof a}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${ui}`}defaultIdempotencyKey(){return`stainless-node-retry-${RC()}`}makeStatusError(t,l,a,r){return vt.generate(t,l,a,r)}buildURL(t,l,a){const r=!this.baseURLOverridden()&&a||this.baseURL,f=IC(t)?new URL(t):new URL(r+(r.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),h=this.defaultQuery();return LC(h)||(l=Object.assign(Object.assign({},h),l)),typeof l=="object"&&l&&!Array.isArray(l)&&(f.search=this.stringifyQuery(l)),f.toString()}async prepareOptions(t){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!t.path.startsWith(`/${this.apiVersion}/projects/`)){const l=t.path.slice(this.apiVersion.length+1);t.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${l}`}}async prepareRequest(t,{url:l,options:a}){}get(t,l){return this.methodRequest("get",t,l)}post(t,l){return this.methodRequest("post",t,l)}patch(t,l){return this.methodRequest("patch",t,l)}put(t,l){return this.methodRequest("put",t,l)}delete(t,l){return this.methodRequest("delete",t,l)}methodRequest(t,l,a){return this.request(Promise.resolve(a).then(r=>Object.assign({method:t,path:l},r)))}request(t,l=null){return new tc(this,this.makeRequest(t,l,void 0))}async makeRequest(t,l,a){var r,f,h;const g=await t,y=(r=g.maxRetries)!==null&&r!==void 0?r:this.maxRetries;l==null&&(l=y),await this.prepareOptions(g);const{req:m,url:v,timeout:E}=await this.buildRequest(g,{retryCount:y-l});await this.prepareRequest(m,{url:v,options:g});const _="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),C=a===void 0?"":`, retryOf: ${a}`,D=Date.now();if(yt(this).debug(`[${_}] sending request`,_o({retryOfRequestLogID:a,method:g.method,url:v,options:g,headers:m.headers})),!((f=g.signal)===null||f===void 0)&&f.aborted)throw new Bu;const H=new AbortController,U=await this.fetchWithTimeout(v,m,E,H).catch(qu),P=Date.now();if(U instanceof globalThis.Error){const O=`retrying, ${l} attempts remaining`;if(!((h=g.signal)===null||h===void 0)&&h.aborted)throw new Bu;const $=zu(U)||/timed? ?out/i.test(String(U)+("cause"in U?String(U.cause):""));if(l)return yt(this).info(`[${_}] connection ${$?"timed out":"failed"} - ${O}`),yt(this).debug(`[${_}] connection ${$?"timed out":"failed"} (${O})`,_o({retryOfRequestLogID:a,url:v,durationMs:P-D,message:U.message})),this.retryRequest(g,l,a??_);throw yt(this).info(`[${_}] connection ${$?"timed out":"failed"} - error; no more retries left`),yt(this).debug(`[${_}] connection ${$?"timed out":"failed"} (error; no more retries left)`,_o({retryOfRequestLogID:a,url:v,durationMs:P-D,message:U.message})),$?new Ng:new ja({cause:U})}const K=`[${_}${C}] ${m.method} ${v} ${U.ok?"succeeded":"failed"} with status ${U.status} in ${P-D}ms`;if(!U.ok){const O=await this.shouldRetry(U);if(l&&O){const j=`retrying, ${l} attempts remaining`;return await JC(U.body),yt(this).info(`${K} - ${j}`),yt(this).debug(`[${_}] response error (${j})`,_o({retryOfRequestLogID:a,url:U.url,status:U.status,headers:U.headers,durationMs:P-D})),this.retryRequest(g,l,a??_,U.headers)}const $=O?"error; no more retries left":"error; not retryable";yt(this).info(`${K} - ${$}`);const Y=await U.text().catch(j=>qu(j).message),te=GC(Y),W=te?void 0:Y;throw yt(this).debug(`[${_}] response error (${$})`,_o({retryOfRequestLogID:a,url:U.url,status:U.status,headers:U.headers,message:W,durationMs:Date.now()-D})),this.makeStatusError(U.status,te,W,U.headers)}return yt(this).info(K),yt(this).debug(`[${_}] response start`,_o({retryOfRequestLogID:a,url:U.url,status:U.status,headers:U.headers,durationMs:P-D})),{response:U,options:g,controller:H,requestLogID:_,retryOfRequestLogID:a,startTime:D}}async fetchWithTimeout(t,l,a,r){const f=l||{},{signal:h,method:g}=f,y=Ya(f,["signal","method"]);h&&h.addEventListener("abort",()=>r.abort());const m=setTimeout(()=>r.abort(),a),v=globalThis.ReadableStream&&y.body instanceof globalThis.ReadableStream||typeof y.body=="object"&&y.body!==null&&Symbol.asyncIterator in y.body,E=Object.assign(Object.assign(Object.assign({signal:r.signal},v?{duplex:"half"}:{}),{method:"GET"}),y);g&&(E.method=g.toUpperCase());try{return await this.fetch.call(void 0,t,E)}finally{clearTimeout(m)}}async shouldRetry(t){const l=t.headers.get("x-should-retry");return l==="true"?!0:l==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,l,a,r){var f;let h;const g=r==null?void 0:r.get("retry-after-ms");if(g){const m=parseFloat(g);Number.isNaN(m)||(h=m)}const y=r==null?void 0:r.get("retry-after");if(y&&!h){const m=parseFloat(y);Number.isNaN(m)?h=Date.parse(y)-Date.now():h=m*1e3}if(!(h&&0<=h&&h<60*1e3)){const m=(f=t.maxRetries)!==null&&f!==void 0?f:this.maxRetries;h=this.calculateDefaultRetryTimeoutMillis(l,m)}return await VC(h),this.makeRequest(t,l-1,a)}calculateDefaultRetryTimeoutMillis(t,l){const f=l-t,h=Math.min(.5*Math.pow(2,f),8),g=1-Math.random()*.25;return h*g*1e3}async buildRequest(t,{retryCount:l=0}={}){var a,r,f;const h=Object.assign({},t),{method:g,path:y,query:m,defaultBaseURL:v}=h,E=this.buildURL(y,m,v);"timeout"in h&&HC("timeout",h.timeout),h.timeout=(a=h.timeout)!==null&&a!==void 0?a:this.timeout;const{bodyHeaders:_,body:C}=this.buildBody({options:h}),D=await this.buildHeaders({options:t,method:g,bodyHeaders:_,retryCount:l});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:g,headers:D},h.signal&&{signal:h.signal}),globalThis.ReadableStream&&C instanceof globalThis.ReadableStream&&{duplex:"half"}),C&&{body:C}),(r=this.fetchOptions)!==null&&r!==void 0?r:{}),(f=h.fetchOptions)!==null&&f!==void 0?f:{}),url:E,timeout:h.timeout}}async buildHeaders({options:t,method:l,bodyHeaders:a,retryCount:r}){let f={};this.idempotencyHeader&&l!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),f[this.idempotencyHeader]=t.idempotencyKey);const h=await this.authHeaders(t);let g=gl([f,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(r)},t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{}),PC()),this._options.defaultHeaders,a,t.headers,h]);return this.validateHeaders(g),g.values}buildBody({options:{body:t,headers:l}}){if(!t)return{bodyHeaders:void 0,body:void 0};const a=gl([l]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&a.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:FC(t)}:this.encoder({body:t,headers:a})}}ts.DEFAULT_TIMEOUT=6e4;class st extends ts{constructor(){super(...arguments),this.interactions=new Og(this)}}Jg=st;st.GeminiNextGenAPIClient=Jg;st.GeminiNextGenAPIClientError=Kt;st.APIError=vt;st.APIConnectionError=ja;st.APIConnectionTimeoutError=Ng;st.APIUserAbortError=Bu;st.NotFoundError=Ig;st.ConflictError=Dg;st.RateLimitError=Lg;st.BadRequestError=wg;st.AuthenticationError=Rg;st.InternalServerError=kg;st.PermissionDeniedError=Mg;st.UnprocessableEntityError=Ug;st.toFile=$C;st.Interactions=Og;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cA(o,t){const l={},a=u(o,["name"]);return a!=null&&c(l,["_url","name"],a),l}function fA(o,t){const l={},a=u(o,["name"]);return a!=null&&c(l,["_url","name"],a),l}function dA(o,t){const l={},a=u(o,["sdkHttpResponse"]);return a!=null&&c(l,["sdkHttpResponse"],a),l}function hA(o,t){const l={},a=u(o,["sdkHttpResponse"]);return a!=null&&c(l,["sdkHttpResponse"],a),l}function pA(o,t,l){const a={};if(u(o,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=u(o,["tunedModelDisplayName"]);if(t!==void 0&&r!=null&&c(t,["displayName"],r),u(o,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const f=u(o,["epochCount"]);t!==void 0&&f!=null&&c(t,["tuningTask","hyperparameters","epochCount"],f);const h=u(o,["learningRateMultiplier"]);if(h!=null&&c(a,["tuningTask","hyperparameters","learningRateMultiplier"],h),u(o,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(u(o,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(u(o,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const g=u(o,["batchSize"]);t!==void 0&&g!=null&&c(t,["tuningTask","hyperparameters","batchSize"],g);const y=u(o,["learningRate"]);if(t!==void 0&&y!=null&&c(t,["tuningTask","hyperparameters","learningRate"],y),u(o,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(u(o,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return a}function mA(o,t,l){const a={};let r=u(l,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const C=u(o,["validationDataset"]);t!==void 0&&C!=null&&c(t,["supervisedTuningSpec"],Jm(C))}else if(r==="PREFERENCE_TUNING"){const C=u(o,["validationDataset"]);t!==void 0&&C!=null&&c(t,["preferenceOptimizationSpec"],Jm(C))}const f=u(o,["tunedModelDisplayName"]);t!==void 0&&f!=null&&c(t,["tunedModelDisplayName"],f);const h=u(o,["description"]);t!==void 0&&h!=null&&c(t,["description"],h);let g=u(l,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const C=u(o,["epochCount"]);t!==void 0&&C!=null&&c(t,["supervisedTuningSpec","hyperParameters","epochCount"],C)}else if(g==="PREFERENCE_TUNING"){const C=u(o,["epochCount"]);t!==void 0&&C!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],C)}let y=u(l,["config","method"]);if(y===void 0&&(y="SUPERVISED_FINE_TUNING"),y==="SUPERVISED_FINE_TUNING"){const C=u(o,["learningRateMultiplier"]);t!==void 0&&C!=null&&c(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],C)}else if(y==="PREFERENCE_TUNING"){const C=u(o,["learningRateMultiplier"]);t!==void 0&&C!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],C)}let m=u(l,["config","method"]);if(m===void 0&&(m="SUPERVISED_FINE_TUNING"),m==="SUPERVISED_FINE_TUNING"){const C=u(o,["exportLastCheckpointOnly"]);t!==void 0&&C!=null&&c(t,["supervisedTuningSpec","exportLastCheckpointOnly"],C)}else if(m==="PREFERENCE_TUNING"){const C=u(o,["exportLastCheckpointOnly"]);t!==void 0&&C!=null&&c(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],C)}let v=u(l,["config","method"]);if(v===void 0&&(v="SUPERVISED_FINE_TUNING"),v==="SUPERVISED_FINE_TUNING"){const C=u(o,["adapterSize"]);t!==void 0&&C!=null&&c(t,["supervisedTuningSpec","hyperParameters","adapterSize"],C)}else if(v==="PREFERENCE_TUNING"){const C=u(o,["adapterSize"]);t!==void 0&&C!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],C)}if(u(o,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(u(o,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const E=u(o,["labels"]);t!==void 0&&E!=null&&c(t,["labels"],E);const _=u(o,["beta"]);return t!==void 0&&_!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","beta"],_),a}function gA(o,t){const l={},a=u(o,["baseModel"]);a!=null&&c(l,["baseModel"],a);const r=u(o,["preTunedModel"]);r!=null&&c(l,["preTunedModel"],r);const f=u(o,["trainingDataset"]);f!=null&&NA(f);const h=u(o,["config"]);return h!=null&&pA(h,l),l}function yA(o,t){const l={},a=u(o,["baseModel"]);a!=null&&c(l,["baseModel"],a);const r=u(o,["preTunedModel"]);r!=null&&c(l,["preTunedModel"],r);const f=u(o,["trainingDataset"]);f!=null&&wA(f,l,t);const h=u(o,["config"]);return h!=null&&mA(h,l,t),l}function vA(o,t){const l={},a=u(o,["name"]);return a!=null&&c(l,["_url","name"],a),l}function SA(o,t){const l={},a=u(o,["name"]);return a!=null&&c(l,["_url","name"],a),l}function EA(o,t,l){const a={},r=u(o,["pageSize"]);t!==void 0&&r!=null&&c(t,["_query","pageSize"],r);const f=u(o,["pageToken"]);t!==void 0&&f!=null&&c(t,["_query","pageToken"],f);const h=u(o,["filter"]);return t!==void 0&&h!=null&&c(t,["_query","filter"],h),a}function TA(o,t,l){const a={},r=u(o,["pageSize"]);t!==void 0&&r!=null&&c(t,["_query","pageSize"],r);const f=u(o,["pageToken"]);t!==void 0&&f!=null&&c(t,["_query","pageToken"],f);const h=u(o,["filter"]);return t!==void 0&&h!=null&&c(t,["_query","filter"],h),a}function _A(o,t){const l={},a=u(o,["config"]);return a!=null&&EA(a,l),l}function xA(o,t){const l={},a=u(o,["config"]);return a!=null&&TA(a,l),l}function CA(o,t){const l={},a=u(o,["sdkHttpResponse"]);a!=null&&c(l,["sdkHttpResponse"],a);const r=u(o,["nextPageToken"]);r!=null&&c(l,["nextPageToken"],r);const f=u(o,["tunedModels"]);if(f!=null){let h=f;Array.isArray(h)&&(h=h.map(g=>Yg(g))),c(l,["tuningJobs"],h)}return l}function AA(o,t){const l={},a=u(o,["sdkHttpResponse"]);a!=null&&c(l,["sdkHttpResponse"],a);const r=u(o,["nextPageToken"]);r!=null&&c(l,["nextPageToken"],r);const f=u(o,["tuningJobs"]);if(f!=null){let h=f;Array.isArray(h)&&(h=h.map(g=>Fu(g))),c(l,["tuningJobs"],h)}return l}function bA(o,t){const l={},a=u(o,["name"]);a!=null&&c(l,["model"],a);const r=u(o,["name"]);return r!=null&&c(l,["endpoint"],r),l}function NA(o,t){const l={};if(u(o,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(o,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const a=u(o,["examples"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(f=>f)),c(l,["examples","examples"],r)}return l}function wA(o,t,l){const a={};let r=u(l,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const h=u(o,["gcsUri"]);t!==void 0&&h!=null&&c(t,["supervisedTuningSpec","trainingDatasetUri"],h)}else if(r==="PREFERENCE_TUNING"){const h=u(o,["gcsUri"]);t!==void 0&&h!=null&&c(t,["preferenceOptimizationSpec","trainingDatasetUri"],h)}let f=u(l,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const h=u(o,["vertexDatasetResource"]);t!==void 0&&h!=null&&c(t,["supervisedTuningSpec","trainingDatasetUri"],h)}else if(f==="PREFERENCE_TUNING"){const h=u(o,["vertexDatasetResource"]);t!==void 0&&h!=null&&c(t,["preferenceOptimizationSpec","trainingDatasetUri"],h)}if(u(o,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return a}function Yg(o,t){const l={},a=u(o,["sdkHttpResponse"]);a!=null&&c(l,["sdkHttpResponse"],a);const r=u(o,["name"]);r!=null&&c(l,["name"],r);const f=u(o,["state"]);f!=null&&c(l,["state"],rg(f));const h=u(o,["createTime"]);h!=null&&c(l,["createTime"],h);const g=u(o,["tuningTask","startTime"]);g!=null&&c(l,["startTime"],g);const y=u(o,["tuningTask","completeTime"]);y!=null&&c(l,["endTime"],y);const m=u(o,["updateTime"]);m!=null&&c(l,["updateTime"],m);const v=u(o,["description"]);v!=null&&c(l,["description"],v);const E=u(o,["baseModel"]);E!=null&&c(l,["baseModel"],E);const _=u(o,["_self"]);return _!=null&&c(l,["tunedModel"],bA(_)),l}function Fu(o,t){const l={},a=u(o,["sdkHttpResponse"]);a!=null&&c(l,["sdkHttpResponse"],a);const r=u(o,["name"]);r!=null&&c(l,["name"],r);const f=u(o,["state"]);f!=null&&c(l,["state"],rg(f));const h=u(o,["createTime"]);h!=null&&c(l,["createTime"],h);const g=u(o,["startTime"]);g!=null&&c(l,["startTime"],g);const y=u(o,["endTime"]);y!=null&&c(l,["endTime"],y);const m=u(o,["updateTime"]);m!=null&&c(l,["updateTime"],m);const v=u(o,["error"]);v!=null&&c(l,["error"],v);const E=u(o,["description"]);E!=null&&c(l,["description"],E);const _=u(o,["baseModel"]);_!=null&&c(l,["baseModel"],_);const C=u(o,["tunedModel"]);C!=null&&c(l,["tunedModel"],C);const D=u(o,["preTunedModel"]);D!=null&&c(l,["preTunedModel"],D);const H=u(o,["supervisedTuningSpec"]);H!=null&&c(l,["supervisedTuningSpec"],H);const U=u(o,["preferenceOptimizationSpec"]);U!=null&&c(l,["preferenceOptimizationSpec"],U);const P=u(o,["tuningDataStats"]);P!=null&&c(l,["tuningDataStats"],P);const K=u(o,["encryptionSpec"]);K!=null&&c(l,["encryptionSpec"],K);const O=u(o,["partnerModelTuningSpec"]);O!=null&&c(l,["partnerModelTuningSpec"],O);const $=u(o,["customBaseModel"]);$!=null&&c(l,["customBaseModel"],$);const Y=u(o,["experiment"]);Y!=null&&c(l,["experiment"],Y);const te=u(o,["labels"]);te!=null&&c(l,["labels"],te);const W=u(o,["outputUri"]);W!=null&&c(l,["outputUri"],W);const Se=u(o,["pipelineJob"]);Se!=null&&c(l,["pipelineJob"],Se);const j=u(o,["serviceAccount"]);j!=null&&c(l,["serviceAccount"],j);const pe=u(o,["tunedModelDisplayName"]);pe!=null&&c(l,["tunedModelDisplayName"],pe);const be=u(o,["veoTuningSpec"]);return be!=null&&c(l,["veoTuningSpec"],be),l}function RA(o,t){const l={},a=u(o,["sdkHttpResponse"]);a!=null&&c(l,["sdkHttpResponse"],a);const r=u(o,["name"]);r!=null&&c(l,["name"],r);const f=u(o,["metadata"]);f!=null&&c(l,["metadata"],f);const h=u(o,["done"]);h!=null&&c(l,["done"],h);const g=u(o,["error"]);return g!=null&&c(l,["error"],g),l}function Jm(o,t){const l={},a=u(o,["gcsUri"]);a!=null&&c(l,["validationDatasetUri"],a);const r=u(o,["vertexDatasetResource"]);return r!=null&&c(l,["validationDatasetUri"],r),l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class MA extends bn{constructor(t){super(),this.apiClient=t,this.list=async(l={})=>new xo(An.PAGED_ITEM_TUNING_JOBS,a=>this.listInternal(a),await this.listInternal(l),l),this.get=async l=>await this.getInternal(l),this.tune=async l=>{var a;if(this.apiClient.isVertexAI())if(l.baseModel.startsWith("projects/")){const r={tunedModelName:l.baseModel};!((a=l.config)===null||a===void 0)&&a.preTunedModelCheckpointId&&(r.checkpointId=l.config.preTunedModelCheckpointId);const f=Object.assign(Object.assign({},l),{preTunedModel:r});return f.baseModel=void 0,await this.tuneInternal(f)}else{const r=Object.assign({},l);return await this.tuneInternal(r)}else{const r=Object.assign({},l),f=await this.tuneMldevInternal(r);let h="";return f.metadata!==void 0&&f.metadata.tunedModel!==void 0?h=f.metadata.tunedModel:f.name!==void 0&&f.name.includes("/operations/")&&(h=f.name.split("/operations/")[0]),{name:h,state:Du.JOB_STATE_QUEUED}}}}async getInternal(t){var l,a,r,f;let h,g="",y={};if(this.apiClient.isVertexAI()){const m=SA(t);return g=Z("{name}",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),h.then(v=>Fu(v))}else{const m=vA(t);return g=Z("{name}",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),h.then(v=>Yg(v))}}async listInternal(t){var l,a,r,f;let h,g="",y={};if(this.apiClient.isVertexAI()){const m=xA(t);return g=Z("tuningJobs",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),h.then(v=>{const E=AA(v),_=new ym;return Object.assign(_,E),_})}else{const m=_A(t);return g=Z("tunedModels",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),h.then(v=>{const E=CA(v),_=new ym;return Object.assign(_,E),_})}}async cancel(t){var l,a,r,f;let h,g="",y={};if(this.apiClient.isVertexAI()){const m=fA(t);return g=Z("{name}:cancel",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),h.then(v=>{const E=hA(v),_=new vm;return Object.assign(_,E),_})}else{const m=cA(t);return g=Z("{name}:cancel",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(E=>{const _=E;return _.sdkHttpResponse={headers:v.headers},_})),h.then(v=>{const E=dA(v),_=new vm;return Object.assign(_,E),_})}}async tuneInternal(t){var l,a;let r,f="",h={};if(this.apiClient.isVertexAI()){const g=yA(t,t);return f=Z("tuningJobs",g._url),h=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>Fu(y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var l,a;let r,f="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=gA(t);return f=Z("tunedModels",g._url),h=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>RA(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class IA{async download(t,l){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const DA=1024*1024*8,UA=3,LA=1e3,kA=2,Ka="x-goog-upload-status";async function HA(o,t,l){var a;const r=await Wg(o,t,l),f=await(r==null?void 0:r.json());if(((a=r==null?void 0:r.headers)===null||a===void 0?void 0:a[Ka])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return f.file}async function GA(o,t,l){var a;const r=await Wg(o,t,l),f=await(r==null?void 0:r.json());if(((a=r==null?void 0:r.headers)===null||a===void 0?void 0:a[Ka])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const h=ng(f),g=new Ku;return Object.assign(g,h),g}async function Wg(o,t,l){var a,r;let f=0,h=0,g=new Uu(new Response),y="upload";for(f=o.size;h<f;){const m=Math.min(DA,f-h),v=o.slice(h,h+m);h+m>=f&&(y+=", finalize");let E=0,_=LA;for(;E<UA&&(g=await l.request({path:"",body:v,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":String(h),"Content-Length":String(m)}}}),!(!((a=g==null?void 0:g.headers)===null||a===void 0)&&a[Ka]));)E++,await zA(_),_=_*kA;if(h+=m,((r=g==null?void 0:g.headers)===null||r===void 0?void 0:r[Ka])!=="active")break;if(f<=h)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return g}async function VA(o){return{size:o.size,type:o.type}}function zA(o){return new Promise(t=>setTimeout(t,o))}class qA{async upload(t,l,a){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await HA(t,l,a)}async uploadToFileSearchStore(t,l,a){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await GA(t,l,a)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await VA(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class BA{create(t,l,a){return new PA(t,l,a)}}class PA{constructor(t,l,a){this.url=t,this.headers=l,this.callbacks=a}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ym="x-goog-api-key";class OA{constructor(t){this.apiKey=t}async addAuthHeaders(t,l){if(t.get(Ym)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(Ym,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const FA="gl-node/";class ns{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const t=this.httpOptions;t!=null&&t.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const l=new st({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:t==null?void 0:t.timeout});return this._interactions=l.interactions,this._interactions}constructor(t){var l;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(l=t.vertexai)!==null&&l!==void 0?l:!1,this.apiKey=t.apiKey;const a=Vv(t.httpOptions,t.vertexai,void 0,void 0);a&&(t.httpOptions?t.httpOptions.baseUrl=a:t.httpOptions={baseUrl:a}),this.apiVersion=t.apiVersion,this.httpOptions=t.httpOptions;const r=new OA(this.apiKey);this.apiClient=new Vx({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:FA+"web",uploader:new qA,downloader:new IA}),this.models=new oC(this.apiClient),this.live=new $x(this.apiClient,r,new BA),this.batches=new hE(this.apiClient),this.chats=new KE(this.models,this.apiClient),this.caches=new JE(this.apiClient),this.files=new iT(this.apiClient),this.operations=new iC(this.apiClient),this.authTokens=new EC(this.apiClient),this.tunings=new MA(this.apiClient),this.fileSearchStores=new wC(this.apiClient)}}const JA=10,YA=(o,t)=>{const l=Math.max(0,t-JA+1);return o.slice(l,t+1).map(a=>`${a.sender}: ${a.text}`).join(`
`)},WA=async(o,t,l,a,r="English")=>{const h=await new ns({apiKey:o}).models.generateContent({model:t,contents:`Analyze this ${r} learner's sentence: "${l}" within the context of this conversation: "${a}". Provide a detailed linguistic analysis.`,config:{systemInstruction:`You are an expert ${r} language coach helping a ${r} learner practice small talk. Analyze the learner's sentence for grammar, naturalness, and small talk effectiveness in ${r}. 
      Return JSON format. 
      - grammarErrors: Detail any mistakes or awkward phrasing.
      - grammarScore: A score from 1 (poor) to 10 (perfect).
      - naturalnessRating: Evaluate how native-like this expression sounds. Consider: (1) Would a native speaker use these exact words/phrases in casual conversation? (2) Does it use natural, idiomatic expressions rather than textbook language? (3) Is the vocabulary choice what a native speaker would naturally pick? Note: Natural hesitation markers (um, uh, well, like) are acceptable and can make speech more authentic - don't penalize appropriate use of fillers.
      - naturalnessScore: A score from 1 (very textbook/unnatural) to 10 (sounds exactly like a native speaker in casual conversation).
      - improvement: Provide a more native-like, idiomatic way to express the same idea in ${r}. Show how a native speaker would naturally say this in casual small talk.
      - extensions: Suggest what the LEARNER could say next to keep the conversation going in ${r}. Provide 2-3 specific follow-up options the learner can use, such as: a follow-up question to show interest, a related comment or personal experience to share, or a way to expand or redirect the topic. Do NOT suggest how the conversation partner (ChatGPT) would reply. Focus only on what the LEARNER should say.
      - isNatural: true if no changes needed, false otherwise.`,responseMimeType:"application/json",responseSchema:{type:fe.OBJECT,properties:{grammarErrors:{type:fe.STRING},grammarScore:{type:fe.NUMBER},naturalnessRating:{type:fe.STRING},naturalnessScore:{type:fe.NUMBER},improvement:{type:fe.STRING},extensions:{type:fe.STRING},isNatural:{type:fe.BOOLEAN}},required:["grammarErrors","grammarScore","naturalnessRating","naturalnessScore","improvement","extensions","isNatural"]}}});return JSON.parse(h.text)},KA=async(o,t,l,a,r="English")=>{if(a.length===0)return[];const f=new ns({apiKey:o}),h=a.map(m=>({id:m.id,text:m.text,context:YA(l,m.index)})),g=await f.models.generateContent({model:t,contents:`Analyze the following ${r} learner sentences. Each has its own context. Return an array of analysis objects, one for each message, keyed by "id".

Messages to analyze:
${JSON.stringify(h,null,2)}`,config:{systemInstruction:`You are an expert ${r} language coach helping a ${r} learner practice small talk. For EACH message provided, analyze for grammar, naturalness, and small talk effectiveness in ${r}.
      Return a JSON array where each object has:
      - id: The message id provided.
      - grammarErrors: Detail any mistakes or awkward phrasing.
      - grammarScore: A score from 1 (poor) to 10 (perfect).
      - naturalnessRating: Evaluate how native-like this expression sounds. Consider: (1) Would a native speaker use these exact words/phrases in casual conversation? (2) Does it use natural, idiomatic expressions rather than textbook language? (3) Is the vocabulary choice what a native speaker would naturally pick? Note: Natural hesitation markers (um, uh, well, like) are acceptable and can make speech more authentic - don't penalize appropriate use of fillers.
      - naturalnessScore: A score from 1 (very textbook/unnatural) to 10 (sounds exactly like a native speaker in casual conversation).
      - improvement: Provide a more native-like, idiomatic way to express the same idea in ${r}. Show how a native speaker would naturally say this in casual small talk.
      - extensions: Suggest what the LEARNER could say next to keep the conversation going in ${r}. Provide 2-3 specific follow-up options the learner can use, such as: a follow-up question to show interest, a related comment or personal experience to share, or a way to expand or redirect the topic. Do NOT suggest how the conversation partner (ChatGPT) would reply. Focus only on what the LEARNER should say.
      - isNatural: true if no changes needed, false otherwise.`,responseMimeType:"application/json",responseSchema:{type:fe.ARRAY,items:{type:fe.OBJECT,properties:{id:{type:fe.STRING},grammarErrors:{type:fe.STRING},grammarScore:{type:fe.NUMBER},naturalnessRating:{type:fe.STRING},naturalnessScore:{type:fe.NUMBER},improvement:{type:fe.STRING},extensions:{type:fe.STRING},isNatural:{type:fe.BOOLEAN}},required:["id","grammarErrors","grammarScore","naturalnessRating","naturalnessScore","improvement","extensions","isNatural"]}}}});return JSON.parse(g.text).map(m=>({messageId:m.id,analysis:{grammarErrors:m.grammarErrors,grammarScore:m.grammarScore,naturalnessRating:m.naturalnessRating,naturalnessScore:m.naturalnessScore,improvement:m.improvement,extensions:m.extensions,isNatural:m.isNatural}}))},XA=async(o,t,l,a="English")=>{const f=await new ns({apiKey:o}).models.generateContent({model:t,contents:`Summarize the overall ${a} performance, provide advanced vocabulary, and create a 3-5 word title for this conversation:

${l}`,config:{systemInstruction:`You are a professional linguist and ${a} coach. 
      Evaluate ONLY the learner's performance in ${a}. Ignore the conversation partner's messages (assume they are from ChatGPT or a native speaker). 
      Focus exclusively on analyzing the learner's grammar, clarity, and conversation flow. 
      Provide 8-10 specific vocabulary items in ${a} that would help the LEARNER improve.
      Also generate a short descriptive title (3-5 words) that captures the topic.
      Return JSON format.
      - title: A short string title.
      - grammarPerformance: Overall grammar summary of the LEARNER's messages only.
      - grammarScore: A score from 1 (poor) to 10 (perfect) for the LEARNER.
      - clarityEvaluation: Clarity analysis of the LEARNER's expression.
      - clarityScore: A score from 1 (unclear) to 10 (crystal clear) for the LEARNER.
      - flowAnalysis: Flow analysis of how well the LEARNER maintained conversation momentum.
      - flowScore: A score from 1 (choppy/disconnected) to 10 (smooth/natural) for the LEARNER.
      - keySuggestions: Array of improvement points for the LEARNER.
      - suggestedVocabulary: Array of {phrase, reason, example} to help the LEARNER.`,responseMimeType:"application/json",responseSchema:{type:fe.OBJECT,properties:{title:{type:fe.STRING},grammarPerformance:{type:fe.STRING},grammarScore:{type:fe.NUMBER},clarityEvaluation:{type:fe.STRING},clarityScore:{type:fe.NUMBER},flowAnalysis:{type:fe.STRING},flowScore:{type:fe.NUMBER},keySuggestions:{type:fe.ARRAY,items:{type:fe.STRING}},suggestedVocabulary:{type:fe.ARRAY,items:{type:fe.OBJECT,properties:{phrase:{type:fe.STRING},reason:{type:fe.STRING},example:{type:fe.STRING}},required:["phrase","reason","example"]}}},required:["title","grammarPerformance","grammarScore","clarityEvaluation","clarityScore","flowAnalysis","flowScore","keySuggestions","suggestedVocabulary"]}}}),h=JSON.parse(f.text),{title:g,...y}=h;return{summary:y,title:g}},QA=async(o,t,l,a,r,f)=>{const h=new ns({apiKey:o});let g="";a==="A"?g="Beginner level - use simple, everyday vocabulary only":a==="B"?g="Intermediate level - can include common expressions and slightly more varied vocabulary":g="Advanced level - can include a wider range of natural expressions, but still focus on everyday conversation";const y=await h.models.generateContent({model:t,contents:`Generate a small talk cheat sheet for the topic: "${l}"

User's preferred direction: ${f||"general conversation"}
Language: ${r}
${g}

Provide helpful vocabulary and sentences the learner can actually use in this conversation.`,config:{systemInstruction:`You are a helpful language coach preparing a learner for a small talk practice session.
      Generate practical vocabulary and sentences they can use.
      
      Return JSON with:
      - vocabulary: An array of 10-15 useful words or short phrases (2-4 words max each). These should be relevant to the topic and the user's preferred direction. Match the difficulty to the level.
      - sentences: An array of 5-10 ready-to-use sentences. Prefer statements over questions (about 4:1 ratio). These should feel natural and conversational, not textbook-like.
      
      Make the content practical and immediately usable in real conversation.`,responseMimeType:"application/json",responseSchema:{type:fe.OBJECT,properties:{vocabulary:{type:fe.ARRAY,items:{type:fe.STRING}},sentences:{type:fe.ARRAY,items:{type:fe.STRING}}},required:["vocabulary","sentences"]}}});return JSON.parse(y.text)},$A=({content:o,topic:t,userContext:l,isLoading:a=!1,onClose:r})=>T.jsx("div",{className:"fixed inset-0 z-[110] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-in fade-in duration-200",children:T.jsxs("div",{className:"bg-white w-full max-w-2xl rounded-2xl shadow-2xl overflow-hidden flex flex-col max-h-[85vh] animate-in zoom-in-95 duration-200",children:[T.jsxs("div",{className:"p-6 bg-gradient-to-r from-amber-500 to-orange-600 text-white flex justify-between items-center flex-shrink-0",children:[T.jsxs("div",{children:[T.jsx("h2",{className:"text-xl font-bold flex items-center gap-2",children:" Cheat Sheet"}),T.jsxs("p",{className:"text-amber-100 text-sm mt-1 truncate max-w-md",children:[t,l&&T.jsxs("span",{className:"opacity-75",children:["  ",l]})]})]}),T.jsx("button",{onClick:r,className:"p-2 hover:bg-white/10 rounded-full transition-colors",children:T.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),T.jsx("div",{className:"p-6 overflow-y-auto space-y-6 custom-scrollbar",children:a?T.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[T.jsx("div",{className:"w-10 h-10 border-4 border-amber-200 border-t-amber-500 rounded-full animate-spin mb-4"}),T.jsx("p",{className:"text-gray-500 text-sm",children:"Generating your cheat sheet..."})]}):T.jsxs(T.Fragment,{children:[T.jsxs("section",{className:"space-y-3",children:[T.jsxs("h3",{className:"text-sm font-bold text-gray-600 uppercase tracking-widest flex items-center gap-2",children:[T.jsx("span",{className:"text-lg",children:""}),"Useful Vocabulary"]}),T.jsx("div",{className:"flex flex-wrap gap-2",children:o.vocabulary.map((f,h)=>T.jsx("span",{className:"px-3 py-1.5 bg-amber-50 text-amber-800 rounded-full text-sm font-medium border border-amber-200 hover:bg-amber-100 transition-colors",children:f},h))})]}),T.jsxs("section",{className:"space-y-3 pt-4 border-t border-gray-100",children:[T.jsxs("h3",{className:"text-sm font-bold text-gray-600 uppercase tracking-widest flex items-center gap-2",children:[T.jsx("span",{className:"text-lg",children:""}),"Ready-to-Use Sentences"]}),T.jsx("div",{className:"space-y-2",children:o.sentences.map((f,h)=>T.jsxs("div",{className:"p-3 bg-gray-50 rounded-xl border border-gray-100 text-gray-700 text-sm leading-relaxed hover:bg-gray-100 transition-colors",children:[T.jsxs("span",{className:"text-amber-500 font-bold mr-2",children:[h+1,"."]}),f]},h))})]})]})}),T.jsxs("div",{className:"p-4 border-t border-gray-100 bg-gray-50 flex justify-between items-center flex-shrink-0",children:[T.jsx("p",{className:"text-xs text-gray-400",children:"Use these to keep the conversation flowing!"}),T.jsx("button",{onClick:r,className:"px-5 py-2 bg-gray-800 text-white font-semibold rounded-xl hover:bg-gray-900 transition-all shadow-md active:scale-95 text-sm",children:"Got it!"})]})]})}),ZA=["A","B","C"],wu={A:{bg:"bg-green-500",hover:"hover:bg-green-600",text:"text-white"},B:{bg:"bg-amber-500",hover:"hover:bg-amber-600",text:"text-white"},C:{bg:"bg-purple-500",hover:"hover:bg-purple-600",text:"text-white"}},Wm=[{value:"curious",label:"Curious & Engaging",prompt:"Ask thoughtful follow-up questions, show genuine interest in my answers."},{value:"supportive",label:"Supportive & Encouraging",prompt:"Be warm and encouraging, give gentle positive feedback."},{value:"talkative",label:"Talkative & Expressive",prompt:"Share your own thoughts and experiences too, make it a two-way conversation."},{value:"brief",label:"Brief & Direct",prompt:"Keep responses concise and to the point."}],Km=[{id:"INTJ",label:"INTJ  Architect"},{id:"INTP",label:"INTP  Logician"},{id:"ENTJ",label:"ENTJ  Commander"},{id:"ENTP",label:"ENTP  Debater"},{id:"INFJ",label:"INFJ  Advocate"},{id:"INFP",label:"INFP  Mediator"},{id:"ENFJ",label:"ENFJ  Protagonist"},{id:"ENFP",label:"ENFP  Campaigner"},{id:"ISTJ",label:"ISTJ  Logistician"},{id:"ISFJ",label:"ISFJ  Defender"},{id:"ESTJ",label:"ESTJ  Executive"},{id:"ESFJ",label:"ESFJ  Consul"},{id:"ISTP",label:"ISTP  Virtuoso"},{id:"ISFP",label:"ISFP  Adventurer"},{id:"ESTP",label:"ESTP  Entrepreneur"},{id:"ESFP",label:"ESFP  Entertainer"}],Xm=[{id:"Aries",label:"Aries "},{id:"Taurus",label:"Taurus "},{id:"Gemini",label:"Gemini "},{id:"Cancer",label:"Cancer "},{id:"Leo",label:"Leo "},{id:"Virgo",label:"Virgo "},{id:"Libra",label:"Libra "},{id:"Scorpio",label:"Scorpio "},{id:"Sagittarius",label:"Sagittarius "},{id:"Capricorn",label:"Capricorn "},{id:"Aquarius",label:"Aquarius "},{id:"Pisces",label:"Pisces "}],jA=({onClose:o,language:t,apiKey:l,model:a,customLanguages:r,onAddCustomLanguage:f})=>{const[h,g]=oe.useState(null),[y,m]=oe.useState(null),[v,E]=oe.useState("curious"),[_,C]=oe.useState(t||"English"),[D,H]=oe.useState(!1),[U,P]=oe.useState(!1),[K,O]=oe.useState("ENFP"),[$,Y]=oe.useState(!1),[te,W]=oe.useState("Leo"),[Se,j]=oe.useState(!1),[pe,be]=oe.useState(""),[Me,Ee]=oe.useState(null),[ke,Xe]=oe.useState(null),[k,J]=oe.useState(!1),[le,Ne]=oe.useState(!1),[Ie,b]=oe.useState(null);oe.useEffect(()=>{Xe(null),Ee(null),be(""),b(null)},[h]);const q=()=>{j(!0)},X=async(F=!1)=>{if(!l||!a||!h||!y)return;const ae=F?Me||"":pe;j(!1),Ne(!0),b(null),J(!0);try{const ue=await QA(l,a,h,y,_,ae);Xe(ue),Ee(ae)}catch(ue){b((ue==null?void 0:ue.message)||"Failed to generate cheat sheet"),J(!1)}finally{Ne(!1)}},Q=F=>{m(F),g(hp(F))},ce=()=>{y&&g(hp(y))},me=()=>{const F=Wm.find(nt=>nt.value===v),ae=(F==null?void 0:F.prompt)||"";let ue="";if(U||$){const nt=[];if(U){const bt=Km.find(wn=>wn.id===K);nt.push(`${(bt==null?void 0:bt.label)||K} personality`)}if($){const bt=Xm.find(wn=>wn.id===te);nt.push(`${(bt==null?void 0:bt.label)||te} energy`)}ue=` Roleplay with a ${nt.join(" and ")} vibe.`}let Ye="";return y==="A"?Ye=`
Language Level: Beginner-friendly
- Keep sentences simple and clear
- Use everyday vocabulary only
- Speak at a comfortable pace
- Ask straightforward questions
- Be encouraging and patient`:y==="B"?Ye=`
Language Level: Intermediate (can use A-B range)
- Use natural, everyday expressions
- You may ask for opinions or descriptions
- Keep it conversational and friendly
- Introduce common phrases natives actually use
- Still prioritize clarity over complexity`:y==="C"&&(Ye=`
Language Level: Advanced (can use A-C range)
- Use natural, authentic daily conversation style
- Feel free to use idioms or expressions if they fit naturally
- Engage in genuine discussion, not academic language
- The goal is fluent, real-world conversation
- Don't artificially make things difficult - keep it natural`),`Let's practice ${_||"English"} small talk. Topic: "${h}"
${Ye}
Style: ${ae}${ue}

When I say "let's start", ask me this question in a casual, friendly way in ${_||"English"}. Keep the conversation natural and interactive. Adjust your language complexity to match the difficulty level above.`};return T.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/60 backdrop-blur-md animate-in fade-in duration-200",children:T.jsxs("div",{className:"bg-white w-full max-w-lg rounded-2xl shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200 max-h-[90vh] flex flex-col",children:[T.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center flex-shrink-0",children:[T.jsx("h2",{className:"text-xl font-bold text-gray-800",children:" Small Talk Topic"}),T.jsx("button",{onClick:o,className:"p-2 hover:bg-gray-100 rounded-full",children:T.jsx("svg",{className:"w-5 h-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),T.jsxs("div",{className:"p-6 space-y-5 overflow-y-auto",children:[T.jsxs("div",{className:"space-y-3",children:[T.jsx("p",{className:"text-sm font-semibold text-gray-600 uppercase tracking-wider",children:"Select Difficulty Level"}),T.jsx("div",{className:"flex gap-3",children:ZA.map(F=>T.jsxs("button",{onClick:()=>Q(F),className:`
                    flex-1 py-4 rounded-xl font-bold text-lg transition-all active:scale-95 shadow-md
                    ${wu[F].bg} ${wu[F].hover} ${wu[F].text}
                    ${y===F?"ring-4 ring-offset-2 ring-gray-300":""}
                  `,children:[T.jsx("div",{className:"text-2xl",children:F}),T.jsx("div",{className:"text-xs opacity-80 mt-1",children:Uv(F)})]},F))})]}),h&&T.jsxs("div",{className:"space-y-4 animate-in slide-in-from-bottom-4 duration-300",children:[T.jsxs("div",{className:"space-y-2",children:[T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsx("p",{className:"text-sm font-semibold text-gray-600 uppercase tracking-wider",children:"Your Topic"}),T.jsxs("button",{onClick:ce,className:"flex items-center gap-1 text-xs text-blue-600 hover:text-blue-700 font-medium",children:[T.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Another Topic"]})]}),T.jsx("div",{className:"p-4 bg-gradient-to-br from-blue-50 to-indigo-50 rounded-xl border border-blue-100",children:T.jsx("input",{type:"text",value:h,onChange:F=>g(F.target.value),className:"w-full text-lg text-gray-800 leading-relaxed font-medium bg-transparent border-none outline-none focus:ring-0 p-0",placeholder:"Enter your topic..."})})]}),T.jsxs("div",{className:"space-y-2",children:[T.jsx("p",{className:"text-sm font-semibold text-gray-600 uppercase tracking-wider",children:"Conversation Style"}),T.jsx("select",{value:v,onChange:F=>E(F.target.value),className:"w-full px-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none text-sm",children:Wm.map(F=>T.jsx("option",{value:F.value,children:F.label},F.value))})]}),T.jsxs("div",{className:"space-y-2",children:[T.jsx("p",{className:"text-sm font-semibold text-gray-600 uppercase tracking-wider",children:"Practice Language"}),T.jsxs("select",{value:["English","Japanese","Spanish",...r||[]].includes(_)?_:"Other",onChange:F=>{F.target.value!=="Other"?(C(F.target.value),H(!1)):(C(""),H(!1))},className:"w-full px-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none text-sm",children:[T.jsx("option",{value:"English",children:"English"}),T.jsx("option",{value:"Japanese",children:"Japanese"}),T.jsx("option",{value:"Spanish",children:"Spanish"}),(r||[]).map(F=>T.jsx("option",{value:F,children:F},F)),T.jsx("option",{value:"Other",children:"Other..."})]}),!["English","Japanese","Spanish",...r||[]].includes(_)&&T.jsxs("div",{className:"flex gap-2 items-center",children:[T.jsx("input",{type:"text",value:_,onChange:F=>C(F.target.value),placeholder:"Enter language name (e.g., German, French)",className:"flex-1 px-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none text-sm"}),f&&T.jsxs("label",{className:"flex items-center gap-1 text-[10px] text-gray-500 whitespace-nowrap cursor-pointer",children:[T.jsx("input",{type:"checkbox",checked:D,onChange:F=>H(F.target.checked),className:"w-3.5 h-3.5 rounded border-gray-300 text-blue-600"}),"Save"]})]})]}),T.jsxs("div",{className:"space-y-2 p-3 bg-gradient-to-r from-pink-50 to-purple-50 rounded-xl border border-pink-100",children:[T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx("span",{className:"text-xs font-bold text-purple-600 uppercase tracking-wider",children:" Fun Experiment"}),T.jsx("span",{className:"text-[10px] text-purple-400 bg-purple-100 px-2 py-0.5 rounded-full",children:"Just for fun!"})]}),T.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-2",children:[T.jsxs("div",{className:"space-y-1",children:[T.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[T.jsx("input",{type:"checkbox",checked:U,onChange:F=>P(F.target.checked),className:"w-4 h-4 rounded border-gray-300 text-purple-600 focus:ring-purple-500"}),T.jsx("span",{className:"text-xs font-medium text-gray-700",children:"MBTI Vibe"})]}),U&&T.jsx("select",{value:K,onChange:F=>O(F.target.value),className:"w-full px-2 py-1.5 bg-white border border-purple-200 rounded-lg text-xs focus:ring-2 focus:ring-purple-500",children:Km.map(F=>T.jsx("option",{value:F.id,children:F.label},F.id))})]}),T.jsxs("div",{className:"space-y-1",children:[T.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[T.jsx("input",{type:"checkbox",checked:$,onChange:F=>Y(F.target.checked),className:"w-4 h-4 rounded border-gray-300 text-purple-600 focus:ring-purple-500"}),T.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Star Sign"})]}),$&&T.jsx("select",{value:te,onChange:F=>W(F.target.value),className:"w-full px-2 py-1.5 bg-white border border-purple-200 rounded-lg text-xs focus:ring-2 focus:ring-purple-500",children:Xm.map(F=>T.jsx("option",{value:F.id,children:F.label},F.id))})]})]})]}),T.jsxs("div",{className:"flex gap-2",children:[T.jsxs("a",{href:`https://chatgpt.com/?prompt=${encodeURIComponent(me())}`,target:"_blank",rel:"noopener noreferrer",onClick:()=>{D&&_.trim()&&f&&(f(_.trim()),H(!1))},className:"flex-1 flex items-center justify-center gap-2 py-3 bg-gradient-to-r from-teal-500 to-emerald-500 text-white font-bold rounded-xl hover:from-teal-600 hover:to-emerald-600 transition-all shadow-md active:scale-95",children:[T.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{d:"M22.282 9.821a5.985 5.985 0 0 0-.516-4.91 6.046 6.046 0 0 0-6.51-2.9A6.065 6.065 0 0 0 4.981 4.18a5.985 5.985 0 0 0-3.998 2.9 6.046 6.046 0 0 0 .743 7.097 5.98 5.98 0 0 0 .51 4.911 6.051 6.051 0 0 0 6.515 2.9A5.985 5.985 0 0 0 13.26 24a6.056 6.056 0 0 0 5.772-4.206 5.99 5.99 0 0 0 3.997-2.9 6.056 6.056 0 0 0-.747-7.073zM13.26 22.43a4.476 4.476 0 0 1-2.876-1.04l.141-.081 4.779-2.758a.795.795 0 0 0 .392-.681v-6.737l2.02 1.168a.071.071 0 0 1 .038.052v5.583a4.504 4.504 0 0 1-4.494 4.494zM3.6 18.304a4.47 4.47 0 0 1-.535-3.014l.142.085 4.783 2.759a.771.771 0 0 0 .78 0l5.843-3.369v2.332a.08.08 0 0 1-.033.062L9.74 19.95a4.5 4.5 0 0 1-6.14-1.646zM2.34 7.896a4.485 4.485 0 0 1 2.366-1.973V11.6a.766.766 0 0 0 .388.676l5.815 3.355-2.02 1.168a.076.076 0 0 1-.071 0l-4.83-2.786A4.504 4.504 0 0 1 2.34 7.896zm16.597 3.855l-5.833-3.387L15.119 7.2a.076.076 0 0 1 .071 0l4.83 2.791a4.494 4.494 0 0 1-.676 8.105v-5.678a.79.79 0 0 0-.407-.667zm2.01-3.023l-.141-.085-4.774-2.782a.776.776 0 0 0-.785 0L9.409 9.23V6.897a.066.066 0 0 1 .028-.061l4.83-2.787a4.5 4.5 0 0 1 6.68 4.66zm-12.64 4.135l-2.02-1.164a.08.08 0 0 1-.038-.057V6.075a4.5 4.5 0 0 1 7.375-3.453l-.142.08L8.704 5.46a.795.795 0 0 0-.393.681zm1.097-2.365l2.602-1.5 2.607 1.5v2.999l-2.597 1.5-2.607-1.5z"})}),"Chat with ChatGPT"]}),l&&T.jsx("button",{onClick:q,className:"px-4 py-3 bg-gradient-to-r from-amber-500 to-orange-500 text-white font-bold rounded-xl hover:from-amber-600 hover:to-orange-600 transition-all shadow-md active:scale-95",title:"Get vocabulary and sentences to help you",children:""})]}),T.jsx("p",{className:"text-[10px] text-gray-400 text-center",children:` Send the message first, click Voice Mode, then say "let's start" to begin!`})]}),Se&&T.jsx("div",{className:"fixed inset-0 z-[120] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:T.jsxs("div",{className:"bg-white w-full max-w-md rounded-2xl shadow-2xl p-6 space-y-4 animate-in zoom-in-95",children:[T.jsx("h3",{className:"text-lg font-bold text-gray-800",children:" Cheat Sheet Preferences"}),T.jsx("p",{className:"text-sm text-gray-500",children:"What direction would you like to take this conversation?"}),T.jsx("input",{type:"text",value:pe,onChange:F=>be(F.target.value),placeholder:"e.g., coffee, travel, work...",className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-amber-500 focus:border-transparent outline-none",autoFocus:!0}),T.jsxs("div",{className:"flex gap-2",children:[Me&&ke&&T.jsxs("button",{onClick:()=>{j(!1),J(!0)},className:"flex-1 py-2.5 bg-gray-100 text-gray-700 font-medium rounded-xl hover:bg-gray-200 transition-all text-sm",children:['Use last: "',Me||"general",'"']}),T.jsx("button",{onClick:()=>X(!1),className:"flex-1 py-2.5 bg-amber-500 text-white font-bold rounded-xl hover:bg-amber-600 transition-all",children:"Generate"})]}),T.jsx("button",{onClick:()=>j(!1),className:"w-full py-2 text-gray-400 hover:text-gray-600 text-sm",children:"Cancel"})]})}),k&&(ke||le)&&T.jsx($A,{content:ke||{vocabulary:[],sentences:[]},topic:h||"",userContext:Me||pe,isLoading:le,onClose:()=>J(!1)}),Ie&&T.jsx("div",{className:"p-3 bg-red-50 text-red-700 rounded-xl text-sm",children:Ie}),!h&&T.jsxs("div",{className:"p-8 text-center text-gray-400",children:[T.jsx("div",{className:"text-4xl mb-2",children:""}),T.jsx("p",{className:"text-sm",children:"Click a level button above to get a random topic"})]})]}),T.jsx("div",{className:"p-4 bg-gray-50 border-t border-gray-100 flex-shrink-0",children:T.jsxs("div",{className:"flex justify-center gap-6 text-xs text-gray-500",children:[T.jsxs("span",{children:[T.jsx("span",{className:"inline-block w-3 h-3 rounded bg-green-500 mr-1"})," A: Simple"]}),T.jsxs("span",{children:[T.jsx("span",{className:"inline-block w-3 h-3 rounded bg-amber-500 mr-1"})," B: Opinions"]}),T.jsxs("span",{children:[T.jsx("span",{className:"inline-block w-3 h-3 rounded bg-purple-500 mr-1"})," C: Abstract"]})]})})]})})},eb=({onExportTXT:o,onExportPDF:t,disabled:l=!1})=>{const[a,r]=oe.useState(!1),f=oe.useRef(null);oe.useEffect(()=>{const m=v=>{f.current&&!f.current.contains(v.target)&&r(!1)};return document.addEventListener("mousedown",m),()=>document.removeEventListener("mousedown",m)},[]);const h=()=>{l||r(!a)},g=()=>{o(),r(!1)},y=()=>{t(),r(!1)};return T.jsxs("div",{className:"relative",ref:f,children:[T.jsxs("button",{onClick:h,disabled:l,"aria-label":"Export",className:`
                    flex items-center space-x-1.5 px-3 py-2 bg-gray-100 text-gray-700 font-bold rounded-lg
                    hover:bg-gray-200 transition-colors text-xs
                    disabled:opacity-50 disabled:cursor-not-allowed
                `,children:[T.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),T.jsx("span",{className:"hidden sm:inline",children:"Export"}),T.jsx("svg",{className:`w-3 h-3 transition-transform ${a?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})]}),a&&T.jsxs("div",{className:"absolute top-full right-0 mt-1 bg-white border border-gray-200 rounded-xl shadow-lg overflow-hidden z-50 min-w-[100px] animate-in fade-in slide-in-from-top-2 duration-150",children:[T.jsxs("button",{onClick:g,"aria-label":"Export as TXT",className:"w-full flex items-center space-x-2 px-4 py-2.5 hover:bg-gray-50 transition-colors text-left",children:[T.jsx("svg",{className:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),T.jsx("span",{className:"text-xs font-semibold text-gray-700",children:"TXT"})]}),T.jsxs("button",{onClick:y,"aria-label":"Export as PDF",className:"w-full flex items-center space-x-2 px-4 py-2.5 hover:bg-gray-50 transition-colors text-left border-t border-gray-100",children:[T.jsxs("svg",{className:"w-4 h-4 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"}),T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 17h6M9 13h6"})]}),T.jsx("span",{className:"text-xs font-semibold text-gray-700",children:"PDF"})]})]})]})},Ru=[{id:"step-1",title:"Welcome to Gab Guide",description:"Gab Guide is a conversation analysis tool that helps you improve your spoken expression in language learning. Paste your chat history and let AI analyze your grammar and naturalness!",imagePlaceholder:"/gab-guide/tutorial/step-1.png"},{id:"step-2",title:"Paste Your Conversation",description:'Paste your conversation in the input box on the homepage. Use the format [Name]: "Message content", and the system will automatically parse each message.',imagePlaceholder:"/gab-guide/tutorial/step-2.png"},{id:"step-3",title:"Select Analysis Language",description:"Choose the language you want to analyze (English, Japanese, Spanish, or others). This will affect the feedback language used by the AI analysis.",imagePlaceholder:"/gab-guide/tutorial/step-3.png"},{id:"step-4",title:"Analyze Messages",description:'Click on any of "your messages" (blue bubbles), and AI will analyze grammar score, naturalness score, and provide improvement suggestions.',imagePlaceholder:"/gab-guide/tutorial/step-4.png"},{id:"step-5",title:"Analyze All & Summarize",description:'Use "Analyze All" to analyze all messages at once, or click "Summarize" to generate an overall conversation summary and learning suggestions.',imagePlaceholder:"/gab-guide/tutorial/step-5.png"},{id:"step-6",title:"Export Your Results",description:"Click the Export button and choose to export as TXT plain text or PDF format to save your learning results!",imagePlaceholder:"/gab-guide/tutorial/step-6.png"}],tb=({onClose:o})=>{const[t,l]=oe.useState(0),a=Ru.length,r=t===a-1,f=t===0,h=oe.useCallback(()=>{r||l(v=>v+1)},[r]),g=oe.useCallback(()=>{f||l(v=>v-1)},[f]),y=v=>{l(v)};oe.useEffect(()=>{const v=E=>{E.key==="Escape"?o():E.key==="ArrowRight"?h():E.key==="ArrowLeft"&&g()};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[o,h,g]);const m=Ru[t];return T.jsx("div",{className:"fixed inset-0 z-[110] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-in fade-in duration-200",children:T.jsxs("div",{className:"bg-white w-full max-w-lg rounded-2xl shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200",children:[T.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-100",children:[T.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"Tutorial"}),T.jsx("button",{onClick:o,"aria-label":"Close",className:"p-1.5 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:T.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),T.jsxs("div",{className:"px-6 py-8",children:[m.imagePlaceholder?T.jsx("div",{className:"w-full h-64 bg-gray-50 rounded-xl mb-6 overflow-hidden border border-gray-200",children:T.jsx("img",{src:m.imagePlaceholder,alt:m.title,className:"w-full h-full object-contain",onError:v=>{const E=v.target;E.style.display="none";const _=E.parentElement;_&&(_.className="w-full h-64 bg-gradient-to-br from-blue-50 to-indigo-100 rounded-xl mb-6 flex items-center justify-center border border-blue-100",_.innerHTML=`
                                            <div class="text-center text-blue-400">
                                                <svg class="w-12 h-12 mx-auto mb-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z" />
                                                </svg>
                                                <span class="text-xs font-medium">Image not found</span>
                                            </div>
                                        `)}})}):T.jsx("div",{className:"w-full h-64 bg-gradient-to-br from-blue-50 to-indigo-100 rounded-xl mb-6 flex items-center justify-center border border-blue-100",children:T.jsxs("div",{className:"text-center text-blue-400",children:[T.jsx("svg",{className:"w-12 h-12 mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),T.jsx("span",{className:"text-xs font-medium",children:"No image"})]})}),T.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:m.title}),T.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:m.description})]}),T.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-100",children:[T.jsx("div",{className:"flex justify-center space-x-2 mb-4",children:Ru.map((v,E)=>T.jsx("button",{"data-testid":"step-dot",onClick:()=>y(E),className:`
                                    w-2.5 h-2.5 rounded-full transition-all
                                    ${E===t?"bg-blue-600 scale-110":"bg-gray-300 hover:bg-gray-400"}
                                `,"aria-label":`Go to step ${E+1}`},E))}),T.jsxs("div",{className:"flex justify-between",children:[T.jsx("button",{onClick:g,disabled:f,"aria-label":"Previous",className:"px-4 py-2 text-gray-600 font-semibold rounded-xl hover:bg-gray-100 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:" Previous"}),r?T.jsx("button",{onClick:o,"aria-label":"Done",className:"px-6 py-2 bg-blue-600 text-white font-semibold rounded-xl hover:bg-blue-700 transition-colors shadow-sm",children:"Done "}):T.jsx("button",{onClick:h,"aria-label":"Next",className:"px-6 py-2 bg-blue-600 text-white font-semibold rounded-xl hover:bg-blue-700 transition-colors shadow-sm",children:"Next "})]})]})]})})},nb=o=>{if(!o.trim())return[];const t=o.split(`
`).filter(f=>f.trim().length>0),l=[];let a="",r="user";return t.forEach((f,h)=>{const g=f.match(/^\[(.*?)\](?:\s*\((.*?)\))?:\s*(.*)/);if(g){a=g[1];const y=a.toLowerCase();r=y.includes("chatgpt")||y.includes("ai")?"assistant":"user";let m=g[3].trim();m.startsWith('"')&&m.endsWith('"')&&(m=m.slice(1,-1)),m.startsWith('"')&&m.endsWith('"')&&(m=m.slice(1,-1)),l.push({id:`msg-${Date.now()}-${h}`,sender:a,role:r,text:m,timestamp:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})}else if(l.length>0){let y=f.trim();y.startsWith('"')&&y.endsWith('"')&&(y=y.slice(1,-1)),l[l.length-1].text+=`
`+y}}),l},ob={Afrikaans:"AF",Albanian:"SQ",Amharic:"AM",Arabic:"AR",Armenian:"HY",Azerbaijani:"AZ",Basque:"EU",Belarusian:"BE",Bengali:"BN",Bosnian:"BS",Bulgarian:"BG",Catalan:"CA",Chinese:"ZH",Croatian:"HR",Czech:"CS",Danish:"DA",Dutch:"NL",English:"EN",Estonian:"ET",Filipino:"TL",Finnish:"FI",French:"FR",Galician:"GL",Georgian:"KA",German:"DE",Greek:"EL",Gujarati:"GU",Hebrew:"HE",Hindi:"HI",Hungarian:"HU",Icelandic:"IS",Indonesian:"ID",Irish:"GA",Italian:"IT",Japanese:"JA",Kannada:"KN",Kazakh:"KK",Khmer:"KM",Korean:"KO",Kurdish:"KU",Lao:"LO",Latvian:"LV",Lithuanian:"LT",Macedonian:"MK",Malay:"MS",Malayalam:"ML",Marathi:"MR",Mongolian:"MN",Nepali:"NE",Norwegian:"NO",Persian:"FA",Polish:"PL",Portuguese:"PT",Punjabi:"PA",Romanian:"RO",Russian:"RU",Serbian:"SR",Sinhala:"SI",Slovak:"SK",Slovenian:"SL",Spanish:"ES",Swahili:"SW",Swedish:"SV",Tamil:"TA",Telugu:"TE",Thai:"TH",Turkish:"TR",Ukrainian:"UK",Urdu:"UR",Uzbek:"UZ",Vietnamese:"VI",Welsh:"CY",Yiddish:"YI",Zulu:"ZU"},ib={EN:"#3B82F6",JA:"#EF4444",ES:"#F59E0B",ZH:"#10B981",FR:"#8B5CF6",DE:"#EC4899",KO:"#14B8A6",PT:"#22C55E",IT:"#06B6D4",RU:"#6366F1",AR:"#84CC16",HI:"#F97316"},lb="#6B7280",Qm=o=>{if(!o)return"EN";const t=o.trim();return ob[t]||t.substring(0,2).toUpperCase()},ab=o=>ib[o]||lb,Mu="gab_guide_conversations",$m="gab_guide_settings",Zm="gab_guide_default_language",jm={apiKey:"",model:Cn.GEMINI_3_FLASH_PREVIEW,colorByScoring:eo.AFTER_READ,customLanguages:[],showConversationScores:!1},sb=()=>{const[o,t]=oe.useState(()=>{const V=localStorage.getItem(Mu);return V?JSON.parse(V):[]}),[l,a]=oe.useState(()=>{const V=localStorage.getItem($m);if(V){const re=JSON.parse(V);return{...jm,...re}}return jm}),[r,f]=oe.useState(null),[h,g]=oe.useState(""),[y,m]=oe.useState(null),[v,E]=oe.useState(null),[_,C]=oe.useState(at.IDLE),[D,H]=oe.useState(!1),[U,P]=oe.useState(!1),[K,O]=oe.useState(!1),[$,Y]=oe.useState(!1),[te,W]=oe.useState(!1),[Se,j]=oe.useState(!1),[pe,be]=oe.useState(!1),[Me,Ee]=oe.useState(!1),[ke,Xe]=oe.useState(new Set),[k,J]=oe.useState(null),[le,Ne]=oe.useState(!1),[Ie,b]=oe.useState(!1),[q,X]=oe.useState(null),[Q,ce]=oe.useState(()=>localStorage.getItem(Zm)||"English"),[me,F]=oe.useState(!1),ae=o.find(V=>V.id===r),ue=(ae==null?void 0:ae.messages)||[],Ye=(ae==null?void 0:ae.summary)||null;oe.useEffect(()=>{localStorage.setItem(Mu,JSON.stringify(o))},[o]),oe.useEffect(()=>{localStorage.setItem($m,JSON.stringify(l))},[l]),oe.useEffect(()=>{localStorage.setItem(Zm,Q)},[Q]);const nt=oe.useCallback(V=>{r&&t(re=>re.map(Re=>Re.id===r?{...Re,...V,updatedAt:Date.now()}:Re))},[r]),bt=()=>{const V=`conv-${Date.now()}`,re={id:V,title:"New Conversation",createdAt:Date.now(),updatedAt:Date.now(),messages:[],summary:null};t(Re=>[re,...Re]),f(V),g(""),E(null),C(at.IDLE),W(!1),Ee(!1)},wn=()=>{const V=nb(h);if(V.length!==0){if(r)nt({messages:[...ue,...V]});else{const re=`conv-${Date.now()}`,Re={id:re,title:"Imported Chat",createdAt:Date.now(),updatedAt:Date.now(),messages:V,summary:null,language:Q};t(Te=>[Re,...Te]),f(re)}if(me&&Q.trim()){const re=Q.trim();["English","Japanese","Spanish",...l.customLanguages].includes(re)||a(Te=>({...Te,customLanguages:[...Te.customLanguages,re]})),F(!1)}g("")}},Ht=()=>l.apiKey?!0:(Y(!0),!1),yi=async V=>{if(!(V.role!=="user"||!Ht()||Me)){if(m(V.id),V.analysis){E(V.analysis),C(at.SUCCESS),nt({messages:ue.map(re=>re.id===V.id?{...re,viewed:!0}:re)});return}C(at.LOADING),E(null);try{const re=ue.findIndex(ye=>ye.id===V.id),Re=ue.slice(Math.max(0,re-9),re+1).map(ye=>`${ye.sender}: ${ye.text}`).join(`
`),Te=await WA(l.apiKey,l.model,V.text,Re,(ae==null?void 0:ae.language)||"English");nt({messages:ue.map(ye=>ye.id===V.id?{...ye,analysis:Te,viewed:!0}:ye)}),E(Te),C(at.SUCCESS)}catch(re){console.error(re);const Re=(re==null?void 0:re.message)||"An unexpected error occurred during analysis.";X(Re),C(at.ERROR)}}},vi=V=>{Xe(re=>{const Re=new Set(re);return Re.has(V)?Re.delete(V):Re.add(V),Re})},os=V=>{nt({messages:ue.map(re=>re.id===V?{...re,excluded:!re.excluded}:re)})},Sl=()=>{if(ke.size===0)return;const V=ue.filter(re=>!ke.has(re.id));nt({messages:V}),Ee(!1),Xe(new Set),Ne(!1)},Si=async()=>{if(!(K||ue.length===0||!Ht())){O(!0);try{const V=ue.map((ye,no)=>({...ye,index:no})).filter(ye=>ye.role==="user"&&!ye.analysis&&!ye.excluded);if(V.length===0){O(!1);return}const re=await KA(l.apiKey,l.model,ue,V.map(ye=>({id:ye.id,text:ye.text,index:ye.index})),(ae==null?void 0:ae.language)||"English"),Re=new Map(re.map(ye=>[ye.messageId,ye.analysis])),Te=ue.map(ye=>{const no=Re.get(ye.id);return no?{...ye,analysis:no}:ye});nt({messages:Te})}catch(V){console.error(V),X((V==null?void 0:V.message)||"An unexpected error occurred during batch analysis.")}O(!1)}},Co=async()=>{if(ue.length===0||!Ht())return null;if(Ye)return H(!0),Ye;P(!0);try{const re=ue.filter(ye=>!ye.excluded).map(ye=>`${ye.sender}: ${ye.text}`).join(`
`),{summary:Re,title:Te}=await XA(l.apiKey,l.model,re,(ae==null?void 0:ae.language)||"English");return nt({summary:Re,title:Te}),H(!0),Re}catch(V){return console.error(V),X((V==null?void 0:V.message)||"An unexpected error occurred while generating summary."),null}finally{P(!1)}},Ei=async()=>{if(!Ht())return;let V=Ye;if(V||(V=await Co()),!V)return;const re=window.open("","_blank");if(!re)return;const Re=`
      <html>
        <head>
          <title>Gab Guide - Report: ${ae==null?void 0:ae.title}</title>
          <script src="https://cdn.tailwindcss.com"><\/script>
          <style>
            @media print { .no-print { display: none; } body { background: white; } .page-break { page-break-after: always; } }
          </style>
        </head>
        <body class="bg-gray-50 p-8">
          <div class="max-w-4xl mx-auto bg-white p-10 shadow-lg rounded-xl border border-gray-100">
            <div class="flex justify-between items-center mb-10 pb-6 border-b-2 border-blue-600">
              <div>
                <h1 class="text-3xl font-black text-gray-900">Gab Guide Report</h1>
                <p class="text-gray-500 font-medium">Session: ${ae==null?void 0:ae.title}</p>
              </div>
              <div class="text-right text-sm text-gray-400">
                Generated: ${new Date().toLocaleDateString()}<br/>
                ${new Date().toLocaleTimeString()}
              </div>
            </div>

            <section class="mb-12">
              <h2 class="text-xl font-bold text-blue-700 mb-6 uppercase tracking-widest border-l-4 border-blue-600 pl-4">Overall Performance</h2>
              <div class="grid grid-cols-2 gap-8 mb-8">
                <div class="p-5 bg-blue-50 rounded-xl border border-blue-100">
                  <h3 class="text-xs font-black text-blue-800 uppercase mb-2">Grammar</h3>
                  <p class="text-gray-700 text-sm leading-relaxed">${V.grammarPerformance}</p>
                </div>
                <div class="p-5 bg-indigo-50 rounded-xl border border-indigo-100">
                  <h3 class="text-xs font-black text-indigo-800 uppercase mb-2">Clarity</h3>
                  <p class="text-gray-700 text-sm leading-relaxed">${V.clarityEvaluation}</p>
                </div>
              </div>
              <div class="p-5 bg-gray-50 rounded-xl mb-8 border border-gray-200">
                <h3 class="text-xs font-black text-gray-800 uppercase mb-2">Flow</h3>
                <p class="text-gray-700 text-sm leading-relaxed">${V.flowAnalysis}</p>
              </div>
              <div>
                <h3 class="text-sm font-bold text-gray-800 mb-4">Strategic Tips:</h3>
                <ul class="space-y-3">
                  ${V.keySuggestions.map(Te=>`
                    <li class="flex items-start text-sm text-gray-700">
                      <span class="text-blue-600 font-bold mr-2"></span> ${Te}
                    </li>
                  `).join("")}
                </ul>
              </div>
            </section>

            <section class="mb-12">
              <h2 class="text-xl font-bold text-indigo-700 mb-6 uppercase tracking-widest border-l-4 border-indigo-600 pl-4">Vocabulary Boosters</h2>
              <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                ${V.suggestedVocabulary.map(Te=>`
                  <div class="bg-gray-50 p-4 rounded-xl border border-gray-100">
                    <div class="font-bold text-indigo-700 text-base mb-1">${Te.phrase}</div>
                    <p class="text-[10px] text-gray-500 mb-2 italic">${Te.reason}</p>
                    <p class="text-xs text-indigo-900 border-t border-indigo-50 pt-2"><span class="font-bold">Ex:</span> "${Te.example}"</p>
                  </div>
                `).join("")}
              </div>
            </section>

            <div class="page-break"></div>

            <section>
              <h2 class="text-xl font-bold text-blue-700 mb-6 uppercase tracking-widest border-l-4 border-blue-600 pl-4">Analysis Details</h2>
              <div class="space-y-8">
                ${ue.map(Te=>`
                  <div class="pb-6 border-b border-gray-100 last:border-0">
                    <div class="flex items-center mb-2">
                      <span class="font-black text-xs uppercase tracking-tighter ${Te.role==="user"?"text-blue-600":"text-gray-500"}">${Te.sender}</span>
                      <span class="mx-2 text-gray-300"></span>
                      <span class="text-[10px] text-gray-400 font-mono">${Te.timestamp}</span>
                    </div>
                    <p class="text-gray-800 text-sm bg-gray-50 p-3 rounded-lg border border-gray-100 italic mb-4">"${Te.text}"</p>
                    ${Te.analysis?`
                      <div class="ml-6 border-l-2 border-amber-200 pl-4 space-y-4">
                        <div class="flex gap-4">
                          <div class="px-3 py-1 bg-green-50 text-green-700 rounded text-xs font-bold border border-green-100">Score: ${Te.analysis.grammarScore}/10</div>
                          <div class="px-3 py-1 bg-blue-50 text-blue-700 rounded text-xs font-bold border border-blue-100">Naturalness: ${Te.analysis.naturalnessScore}/10</div>
                        </div>
                        <div>
                          <p class="text-xs font-black text-gray-500 uppercase mb-1">Correction:</p>
                          <p class="text-sm text-blue-800 font-semibold bg-blue-50 p-2 rounded border border-blue-100">"${Te.analysis.improvement}"</p>
                        </div>
                      </div>
                    `:""}
                  </div>
                `).join("")}
              </div>
            </section>
            
            <div class="mt-12 pt-6 border-t border-gray-100 text-center text-[10px] text-gray-400 uppercase tracking-widest no-print">
              End of Gab Guide Report
              <button onclick="window.print()" class="block mx-auto mt-4 px-6 py-2 bg-blue-600 text-white rounded-lg font-bold hover:bg-blue-700 transition-colors">Print to PDF</button>
            </div>
          </div>
        </body>
      </html>
    `;re.document.write(Re),re.document.close()},is=()=>{let V=`GAB GUIDE SESSION: ${(ae==null?void 0:ae.title)||"Export"}
`;V+=`========================================

`,Ye&&(V+=`PERFORMANCE SUMMARY
`,V+=`-------------------
`,V+=`Grammar: ${Ye.grammarPerformance}
`,V+=`Clarity: ${Ye.clarityEvaluation}
`,V+=`Flow: ${Ye.flowAnalysis}

`,V+=`VOCABULARY BOOSTERS
`,Ye.suggestedVocabulary.forEach(ye=>{V+=`- ${ye.phrase} (${ye.reason}): "${ye.example}"
`}),V+=`
`),V+=`CONVERSATION DETAILS
`,V+=`--------------------
`,ue.forEach(ye=>{V+=`[${ye.sender}]: ${ye.text}
`,ye.analysis&&(V+=`  Correction: ${ye.analysis.improvement}
`),V+=`
`});const re=new Blob([V],{type:"text/plain"}),Re=URL.createObjectURL(re),Te=document.createElement("a");Te.href=Re,Te.download=`gab_guide_${(ae==null?void 0:ae.title.replace(/\s+/g,"_"))||"export"}.txt`,document.body.appendChild(Te),Te.click(),document.body.removeChild(Te),URL.revokeObjectURL(Re)},ls=()=>{k&&(t(V=>V.filter(re=>re.id!==k)),r===k&&(f(null),E(null),C(at.IDLE)),J(null))},mt=()=>{t([]),E(null),C(at.IDLE),f(null),localStorage.removeItem(Mu),b(!1)};return T.jsxs("div",{className:"flex flex-col h-screen max-h-screen bg-gray-50 overflow-hidden",children:[T.jsxs("header",{className:"bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between shadow-sm z-10",children:[T.jsxs("div",{className:"flex items-center space-x-3",children:[T.jsx("button",{onClick:()=>W(!te),className:"p-2 hover:bg-gray-100 rounded-lg lg:hidden",children:T.jsx("svg",{className:"w-6 h-6 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})})}),T.jsx("div",{className:"flex-shrink-0",children:T.jsx("img",{src:"/gab-guide/logo.png",alt:"Gab Guide Logo",className:"w-10 h-10 rounded-xl shadow-sm"})}),T.jsxs("div",{className:"hidden sm:block",children:[T.jsx("h1",{className:"text-xl font-bold text-gray-900 leading-tight",children:"Gab Guide"}),T.jsx("p",{className:"text-xs text-gray-500 font-medium",children:"Small Talk, Big Changes"})]})]}),T.jsxs("div",{className:"flex items-center space-x-2",children:[ae&&ue.length>0&&T.jsx(T.Fragment,{children:Me?T.jsxs("div",{className:"flex items-center space-x-2 animate-in slide-in-from-top duration-300",children:[T.jsxs("span",{className:"text-xs font-bold text-blue-600 px-2 py-1 bg-blue-50 rounded-lg",children:[ke.size," Selected"]}),T.jsx("button",{onClick:()=>Ne(!0),disabled:ke.size===0,className:"flex items-center space-x-2 px-3 py-2 bg-red-50 text-red-600 font-bold rounded-lg hover:bg-red-100 transition-colors disabled:opacity-50 text-xs",children:"Delete Selected"}),T.jsx("button",{onClick:()=>{Ee(!1),Xe(new Set)},className:"flex items-center space-x-2 px-3 py-2 bg-gray-100 text-gray-700 font-bold rounded-lg hover:bg-gray-200 transition-colors text-xs",children:"Cancel"})]}):T.jsxs(T.Fragment,{children:[T.jsxs("button",{onClick:()=>Ee(!0),className:"flex items-center space-x-2 px-2 sm:px-3 py-2 text-gray-500 hover:text-gray-700 font-bold rounded-lg transition-colors text-xs border border-gray-100 bg-white",title:"Edit Chat",children:[T.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),T.jsx("span",{className:"hidden sm:inline",children:"Edit Chat"})]}),T.jsxs("button",{onClick:Si,disabled:K,className:"flex items-center space-x-2 px-2 sm:px-3 py-2 bg-gray-100 text-gray-700 font-bold rounded-lg hover:bg-gray-200 transition-colors disabled:opacity-50 text-xs",title:"Analyze All",children:[K?T.jsx("span",{className:"w-3 h-3 border-2 border-gray-700 border-t-transparent animate-spin rounded-full"}):T.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})}),T.jsx("span",{className:"hidden sm:inline",children:"Analyze All"})]}),T.jsxs("button",{onClick:Co,disabled:U,className:"flex items-center space-x-2 px-2 sm:px-3 py-2 bg-blue-50 text-blue-700 font-bold rounded-lg hover:bg-blue-100 transition-colors disabled:opacity-50 text-xs",title:Ye?"View Summary":"Summarize",children:[U?T.jsx("span",{className:"w-3 h-3 border-2 border-blue-700 border-t-transparent animate-spin rounded-full"}):T.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),T.jsx("span",{className:"hidden sm:inline",children:Ye?"View Summary":"Summarize"})]}),T.jsx(eb,{onExportTXT:is,onExportPDF:Ei}),T.jsx("button",{onClick:()=>b(!0),className:"hidden sm:flex p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-lg transition-all",title:"Clear All History",children:T.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})}),T.jsx("button",{onClick:()=>be(!0),className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-all",title:"Tutorial",children:T.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),T.jsx("button",{onClick:()=>Y(!0),className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-50 rounded-lg",title:"Settings",children:T.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})})]})]}),T.jsxs("main",{className:"flex-1 flex overflow-hidden relative",children:[T.jsx("aside",{className:`
            fixed inset-y-0 left-0 z-40 w-72 bg-white border-r border-gray-100 transform transition-transform duration-300 lg:relative lg:translate-x-0
            ${te?"translate-x-0":"-translate-x-full"}
          `,children:T.jsxs("div",{className:"h-full flex flex-col p-4 pt-[80px] lg:pt-4",children:[T.jsxs("button",{onClick:bt,className:"w-full flex items-center justify-center space-x-2 py-3 bg-blue-600 text-white font-bold rounded-xl hover:bg-blue-700 transition-all mb-3 shadow-md shadow-blue-100",children:[T.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})}),T.jsx("span",{children:"New Analysis"})]}),T.jsxs("button",{onClick:()=>j(!0),className:"w-full flex items-center justify-center space-x-2 py-3 bg-gradient-to-r from-purple-500 to-indigo-500 text-white font-bold rounded-xl hover:from-purple-600 hover:to-indigo-600 transition-all mb-6 shadow-md shadow-purple-100",children:[T.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),T.jsx("span",{children:"Topic Idea"})]}),T.jsxs("div",{className:"flex-1 overflow-y-auto space-y-2 custom-scrollbar",children:[T.jsx("h3",{className:"px-2 text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-2",children:"History"}),o.length===0&&T.jsx("div",{className:"p-4 text-center text-xs text-gray-400 italic",children:"No history yet"}),o.map(V=>T.jsxs("div",{onClick:()=>{f(V.id),W(!1),Ee(!1)},className:`
                    group flex items-center justify-between p-3 rounded-xl cursor-pointer transition-all
                    ${r===V.id?"bg-blue-50 border border-blue-100":"hover:bg-gray-50 border border-transparent"}
                  `,children:[T.jsxs("div",{className:"flex-1 min-w-0 mr-2",children:[T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx("p",{className:`text-sm font-semibold truncate ${r===V.id?"text-blue-700":"text-gray-700"}`,children:V.title}),V.language&&T.jsx("span",{className:"flex-shrink-0 px-1.5 py-0.5 text-[10px] font-bold rounded",style:{backgroundColor:ab(Qm(V.language)),color:"white",textShadow:"0 0 2px rgba(0,0,0,0.8), 0 0 2px rgba(0,0,0,0.8)"},children:Qm(V.language)})]}),T.jsx("p",{className:"text-[10px] text-gray-400",children:new Date(V.updatedAt).toLocaleDateString()}),l.showConversationScores&&V.summary&&T.jsxs("div",{className:"flex gap-0.5 mt-1",children:[T.jsx("div",{className:`w-3 h-1.5 rounded-sm ${Cu(V.summary.grammarScore)}`,title:`Grammar: ${V.summary.grammarScore}/10`}),T.jsx("div",{className:`w-3 h-1.5 rounded-sm ${Cu(V.summary.clarityScore)}`,title:`Clarity: ${V.summary.clarityScore}/10`}),T.jsx("div",{className:`w-3 h-1.5 rounded-sm ${Cu(V.summary.flowScore)}`,title:`Flow: ${V.summary.flowScore}/10`})]})]}),T.jsx("button",{onClick:re=>{re.stopPropagation(),J(V.id)},className:"p-1.5 text-gray-300 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-opacity",children:T.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]},V.id))]})]})}),te&&T.jsx("div",{onClick:()=>W(!1),className:"lg:hidden fixed inset-0 bg-black/20 z-30"}),T.jsx("div",{className:`flex-1 flex flex-col transition-all duration-300 ${_!==at.IDLE?"md:mr-[380px]":""}`,children:!ae||ue.length===0?T.jsx("div",{className:"flex-1 flex flex-col items-center justify-center p-8 text-center bg-gray-50",children:T.jsx("div",{className:"max-w-md w-full animate-in fade-in zoom-in duration-500",children:T.jsxs("div",{className:"bg-white p-8 rounded-3xl shadow-xl border border-gray-100 mb-6",children:[T.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Ready to Guide Your Gab?"}),T.jsx("p",{className:"text-gray-500 mb-8 text-sm leading-relaxed",children:"Paste your chat history to start your linguistic analysis journey."}),T.jsx("textarea",{value:h,onChange:V=>g(V.target.value),placeholder:`[Steven]: "Hi there!"
[Coach]: "Hello Steven, how are you?"`,className:"w-full h-48 p-4 text-sm bg-gray-50 border border-gray-200 rounded-2xl focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all font-mono"}),T.jsxs("div",{className:"mt-4 space-y-2",children:[T.jsx("label",{className:"text-xs font-bold text-gray-600 block",children:"Analysis Language"}),T.jsxs("select",{value:["English","Japanese","Spanish",...l.customLanguages].includes(Q)?Q:"Other",onChange:V=>{V.target.value!=="Other"?(ce(V.target.value),F(!1)):(ce(""),F(!1))},className:"w-full px-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none text-sm",children:[T.jsx("option",{value:"English",children:"English"}),T.jsx("option",{value:"Japanese",children:"Japanese"}),T.jsx("option",{value:"Spanish",children:"Spanish"}),l.customLanguages.map(V=>T.jsx("option",{value:V,children:V},V)),T.jsx("option",{value:"Other",children:"Other..."})]}),!["English","Japanese","Spanish",...l.customLanguages].includes(Q)&&T.jsxs("div",{className:"flex gap-2 items-center",children:[T.jsx("input",{type:"text",value:Q,onChange:V=>ce(V.target.value),placeholder:"Enter language name (e.g., German, French)",className:"flex-1 px-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none text-sm"}),T.jsxs("label",{className:"flex items-center gap-1 text-[10px] text-gray-500 whitespace-nowrap cursor-pointer",children:[T.jsx("input",{type:"checkbox",checked:me,onChange:V=>F(V.target.checked),className:"w-3.5 h-3.5 rounded border-gray-300 text-blue-600"}),"Save"]})]})]}),T.jsx("button",{onClick:wn,disabled:!h.trim(),className:"w-full mt-6 bg-blue-600 text-white font-bold py-3 rounded-xl hover:bg-blue-700 transition-all disabled:opacity-50 shadow-lg shadow-blue-100",children:"Load Transcript"})]})})}):T.jsx("div",{className:"flex-1 overflow-y-auto p-4 md:p-8 custom-scrollbar",children:T.jsxs("div",{className:"max-w-3xl mx-auto pb-20",children:[T.jsx("div",{className:"mb-8 flex items-center justify-between",children:T.jsx("input",{value:ae.title,onChange:V=>nt({title:V.target.value}),className:"text-xl font-bold text-gray-800 bg-transparent border-none outline-none focus:ring-2 focus:ring-blue-100 rounded px-2 -ml-2"})}),ue.map(V=>T.jsx(bv,{message:V,isSelected:y===V.id,isEditMode:Me,isChecked:ke.has(V.id),onToggleCheck:vi,onToggleExclude:os,onClick:yi,colorByScoring:l.colorByScoring},V.id))]})})}),T.jsx("aside",{className:`
            hidden md:block fixed right-0 top-[73px] bottom-0 w-[380px] z-20 transition-transform duration-300 transform
            ${_===at.IDLE?"translate-x-full":"translate-x-0"}
          `,children:T.jsx(fp,{state:_,analysis:v,onClose:()=>{C(at.IDLE),m(null)}})}),_!==at.IDLE&&T.jsx("div",{className:"md:hidden fixed inset-0 z-50 flex flex-col bg-white",children:T.jsx(fp,{state:_,analysis:v,onClose:()=>{C(at.IDLE),m(null)}})})]}),D&&T.jsx(wv,{summary:Ye,onClose:()=>H(!1)}),$&&T.jsx(Iv,{currentKey:l.apiKey,currentModel:l.model,currentColorByScoring:l.colorByScoring,currentCustomLanguages:l.customLanguages,currentShowConversationScores:l.showConversationScores,onSave:V=>{a({apiKey:V.key,model:V.model,colorByScoring:V.colorByScoring,customLanguages:V.customLanguages,showConversationScores:V.showConversationScores}),Y(!1)},onClose:()=>Y(!1)}),Se&&T.jsx(jA,{onClose:()=>j(!1),language:Q,apiKey:l.apiKey,model:l.model,customLanguages:l.customLanguages,onAddCustomLanguage:V=>{["English","Japanese","Spanish",...l.customLanguages].includes(V)||a(Re=>({...Re,customLanguages:[...Re.customLanguages,V]}))}}),pe&&T.jsx(tb,{onClose:()=>be(!1)}),k&&T.jsx(yl,{title:"Delete Conversation",message:"Are you sure you want to delete this conversation? This action cannot be undone.",confirmLabel:"Delete",confirmVariant:"danger",onConfirm:ls,onCancel:()=>J(null)}),le&&T.jsx(yl,{title:"Delete Messages",message:`Are you sure you want to delete ${ke.size} selected messages?`,confirmLabel:"Delete",confirmVariant:"danger",onConfirm:Sl,onCancel:()=>Ne(!1)}),Ie&&T.jsx(yl,{title:"Reset Everything",message:"Are you sure you want to clear your entire conversation history? This cannot be undone.",confirmLabel:"Clear All",confirmVariant:"danger",onConfirm:mt,onCancel:()=>b(!1)}),q&&T.jsx(yl,{title:"AI Analysis Error",message:q,confirmLabel:"Close",confirmVariant:"primary",onConfirm:()=>X(null),onCancel:()=>X(null)}),T.jsx("style",{children:`
        .custom-scrollbar::-webkit-scrollbar { width: 6px; }
        .custom-scrollbar::-webkit-scrollbar-track { background: transparent; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background: #e2e8f0; border-radius: 10px; }
      `})]})},Kg=document.getElementById("root");if(!Kg)throw new Error("Could not find root element to mount to");const rb=Cv.createRoot(Kg);rb.render(T.jsx(gv.StrictMode,{children:T.jsx(sb,{})}));
